<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>è®¡ç®—æœºå­¦ä¹ è®¡åˆ’(ç½®é¡¶)</title>
    <url>/2022/11/10/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%AD%A6%E4%B9%A0%E8%AE%A1%E5%88%92/</url>
    <content><![CDATA[<p>æ›¾ç»è¿™é‡Œæ˜¯ä¸€ä¸ªæš‘å‡çš„è®¡ç®—æœºæå‡è®¡åˆ’, ä½†æ˜¯ç°åœ¨æ¥çœ‹, è¿™ä¸ªæš‘å‡ç”šè‡³éƒ½æ²¡æœ‰æ—¶é—´æŠŠè¯¾å†…çš„çŸ¥è¯†å¤ä¹ å®Œ. è¿™ç¡®å®æ˜¯éå¸¸ç”Ÿè‰. è¿™ä¸ªè®¡åˆ’è¿˜æ˜¯éå¸¸é‡è¦, é¢„è®¡æ˜¯åŠå¹´ä¸€æ¬¡, ä¹Ÿå°±æ˜¯è¿™ä¸ªæ–‡ç« åŠå¹´ä¸€æ›´æ–°. æ—¢ç„¶å·²ç»é‡æ–°ç¡®ç«‹äº†æ ‡å‡†å°±å¾—é‡æ–°è§„åˆ’ä¸€ä¸‹.</p>
<span id="more"></span>
<h1 id="å¤§ä¸€"><a class="markdownIt-Anchor" href="#å¤§ä¸€"></a> å¤§ä¸€</h1>
<p>âœ…æ‘†çƒ‚</p>
<h1 id="å¤§äºŒä¸Šéœ€è¦è¯¾å¤–çš„ä¸œè¥¿å¯’å‡"><a class="markdownIt-Anchor" href="#å¤§äºŒä¸Šéœ€è¦è¯¾å¤–çš„ä¸œè¥¿å¯’å‡"></a> å¤§äºŒä¸Šéœ€è¦è¯¾å¤–çš„ä¸œè¥¿(å¯’å‡)</h1>
<p>âœ…ç†è§£é€å½»missing-semesterçš„è¯¾ç¨‹. æŠŠè¯¾ç¨‹é‡Œé¢çš„æ¯ä¸€ä¸ªç¬”è®°éƒ½å°½é‡çœ‹æ‡‚.<br />
âŒå¥½å¥½å­¦ä¹ (è‰)<br />
âŒçœ‹csapp(å·²æ”¹åŠ¨, æŠŠä¼˜å…ˆçº§æåˆ°luaä¹‹å‰.)<br />
âŒçœ‹luaçš„å®˜æ–¹æ–‡æ¡£. (Cè¯­è¨€å¤ä¹ )<br />
âœ…äº†è§£ä¸€ä¸‹rust</p>
<h1 id="å¤§äºŒä¸Šä¹‹åçš„å¯’å‡"><a class="markdownIt-Anchor" href="#å¤§äºŒä¸Šä¹‹åçš„å¯’å‡"></a> å¤§äºŒä¸Šä¹‹åçš„å¯’å‡</h1>
<p>æˆ‘ç°åœ¨çœ‹ç€ä»¥å‰çš„å®‰æ’, æˆ‘ä¼°è®¡æ˜¯å¾ˆéš¾å®Œæˆäº†, å› ä¸ºè€ƒè¯•åˆæ¨è¿Ÿäº†, åƒæ˜¯è¿™ç§æƒ…å†µå¯’å‡å°±å¾ˆéš¾å­¦åˆ°ä»€ä¹ˆæ–°ä¸œè¥¿äº†, å› ä¸ºè¦å·ç»©ç‚¹. æ‰€ä»¥ç›®æ ‡å˜ä¸€ä¸‹:</p>
<p>âŒå¥½å¥½å¤ä¹ å¤‡è€ƒ å°¤å…¶æ˜¯æ•°æ®ç»“æ„<br />
âŒäº†è§£ä¸€ä¸‹STLçš„ä½œç”¨ ä¸ºåé¢å¤šåˆ·LeetCodeé¢˜ç›®ä½œå‡†å¤‡<br />
âŒäº†è§£ä¸€ä¸‹python ä¼˜å…ˆçº§é«˜äºrust<br />
âœ…äº†è§£ä¸€ä¸‹rust</p>
<p>è¿™ä¸ªå¯’å‡å…¶å®è¿™äº›ä»»åŠ¡ä¹Ÿå¾ˆéš¾å®Œæˆ, å› ä¸ºè¿˜è¦è‚åŸç¥~~(æˆ‘è¶… åŸ!).~~</p>
<h1 id="å¤§äºŒä¸‹å’Œæš‘å‡"><a class="markdownIt-Anchor" href="#å¤§äºŒä¸‹å’Œæš‘å‡"></a> å¤§äºŒä¸‹å’Œæš‘å‡</h1>
<p>âŒä¸“å¿ƒç ”ç©¶ç®—æ³•<br />
âœ…å‡æœŸçœ‹æ“ä½œç³»ç»Ÿç›¸å…³ csapp</p>
<h1 id="å¤§ä¸‰ä¸Šå’Œå¯’å‡"><a class="markdownIt-Anchor" href="#å¤§ä¸‰ä¸Šå’Œå¯’å‡"></a> å¤§ä¸‰ä¸Šå’Œå¯’å‡</h1>
<p>ğŸš§ç ”ç©¶ç¼–è¯‘åŸç†å’Œè®¡ç®—æœºç½‘ç»œ ä¸¤é—¨è¯¾å¥½å¥½å­¦<br />
ğŸš§å­¦ä¹ ä¸€äº›C++æ–°æ ‡å‡†<br />
ğŸš§è¯»CSAPP</p>
]]></content>
      <tags>
        <tag>study</tag>
        <tag>flag</tag>
      </tags>
  </entry>
  <entry>
    <title>gdbä»æ— çŸ¥åˆ°èƒ½ç”¨</title>
    <url>/2023/10/14/gdb%E4%BB%8E%E6%97%A0%E7%9F%A5%E5%88%B0%E8%83%BD%E7%94%A8/</url>
    <content><![CDATA[<p>å¾ˆå¤šæ—¶å€™å°±åœ¨æƒ³, ç©¶ç«Ÿæ€ä¹ˆè°ƒè¯•æ‰æ˜¯ä¼˜é›…. vscodeæä¾›çš„è°ƒè¯•æ˜¯åŸºäºgdbçš„(å¦‚æœä½ ä½¿ç”¨C/C++çš„vscodeæ’ä»¶), å½“ç„¶ä¹Ÿæœ‰vsæä¾›çš„debugger, ä¹Ÿæœ‰ä½¿ç”¨codelldbçš„. é‚£ä¹ˆæˆ‘ä»¬è¿™æ¬¡æ¥çœ‹ä¸€çœ¼ç»ˆç«¯è°ƒè¯•ç¨‹åº. <span id="more"></span></p>
<h1 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h1>
<p>ä¸ºä»€ä¹ˆéœ€è¦åœ¨terminalé‡Œé¢æ¥ä½¿ç”¨gdbè°ƒè¯•. æœ€ç›´æ¥çš„å¥‘æœºå°±æ˜¯çœŸçš„ä¸æƒ³å†é…ç½®ç¯å¢ƒäº†. è€Œä¸”éœ€è¦ä¸€ä¸ªARMæ±‡ç¼–çš„è°ƒè¯•ç¯å¢ƒ. gdbé¦–å…ˆæ˜¯ä¸€ä¸ªcollection, å…¶å®åœ¨é…ç½®å¾ˆå¤šè°ƒè¯•ç¯å¢ƒçš„æ—¶å€™æ˜¯å¯ä»¥é€šè¿‡gdbè½»é‡çº§é…ç½®çš„, æ¯”å¦‚rust. ä½¿ç”¨rustcå¸¦ä¸Š-gå‚æ•°ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶å°±å¯ä»¥é€šè¿‡gdbè°ƒè¯•. é‚£ä¹ˆæˆ‘æœ€è¿‘éœ€è¦äº†è§£çš„ARMæ±‡ç¼–ä¹Ÿå¯ä»¥é€šè¿‡gdbæ­é…gccæ¥è°ƒè¯•. åŒ…æ‹¬C++ä¹Ÿå¯ä»¥. å…¶å®å¦‚æœä¼šgdbçš„è¯å°±ä¼šçœå»å¾ˆå¤šéº»çƒ¦.</p>
<h1 id="åŸºæœ¬æ“ä½œ"><a class="markdownIt-Anchor" href="#åŸºæœ¬æ“ä½œ"></a> åŸºæœ¬æ“ä½œ</h1>
<h2 id="breakpoint"><a class="markdownIt-Anchor" href="#breakpoint"></a> breakpoint</h2>
<p>è°ƒè¯•çš„è¯é¦–å…ˆæ˜¯æ‰“æ–­ç‚¹. æ‰“æ–­ç‚¹å¯ä»¥è¯´æ˜¯è°ƒè¯•çš„é¦–è¦æ“ä½œ. åœ¨gdbä¸­å¯ä»¥ä½¿ç”¨:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">break 10</span><br><span class="line">break main</span><br><span class="line">break filename:10</span><br><span class="line">break 20 if x == 42</span><br></pre></td></tr></table></figure>
<p>ç­‰å¤šç§å½¢å¼æ¥æ‰“æ–­ç‚¹. å½“ç„¶ä¹Ÿå¯ä»¥<strong>ä½¿ç”¨bæ¥ç®€å†™break</strong>. è¿™å…¶ä¸­æ¯”è¾ƒæƒŠå–œçš„å°±æ˜¯<code>break 20 if x == 42</code>, ä¾‹å¦‚æˆ‘ä»¬åœ¨å¾ªç¯é‡Œé¢, å‘ç°å½“ä¸‹æ ‡ä¸º4çš„æ—¶å€™å‡½æ•°å‡ºé—®é¢˜, æˆ‘ä»¬æƒ³ç›´æ¥è·³åˆ°è¿™ä¸ªå¾ªç¯, åˆ™å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼.</p>
<h2 id="runå’Œcontinue"><a class="markdownIt-Anchor" href="#runå’Œcontinue"></a> runå’Œcontinue</h2>
<p>ä½¿ç”¨runæˆ–è€…æ˜¯ç®€å†™ræ¥å¯åŠ¨è°ƒè¯•, å¦‚æœç¨‹åºéœ€è¦å‘½ä»¤è¡Œå‚æ•°, åˆ™éœ€è¦åœ¨runåé¢åŠ ä¸Šå‡ ä¸ªå‚æ•°.</p>
<p>è¿è¡Œåˆ°ä¸€ä¸ªæ–­ç‚¹ä¹‹å, ä½¿ç”¨continueæˆ–è€…æ˜¯cç»§ç»­è¿è¡Œ.</p>
<h2 id="stepå’Œnext"><a class="markdownIt-Anchor" href="#stepå’Œnext"></a> stepå’Œnext</h2>
<p>nextä¼šå‘ä¸‹ä¸€è¡Œ, stepæ˜¯æ­¥å…¥å‡½æ•°. å¯¹äºä¸€ä¸ªå‡½æ•°æ˜¯nextä¼šç›´æ¥æ‰§è¡Œä¸€æ•´è¡Œ. è¿™ä¸ªæ¯”è¾ƒå¸¸è§.</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªç‚¹, é»˜è®¤æƒ…å†µä¸‹stepä¼šè¿›å…¥ç³»ç»Ÿå‡½æ•°, ä¸ºäº†é¿å…è¿™ä¸€ç‚¹, å¯ä»¥ç¼–å†™gdbçš„é…ç½®æ–‡ä»¶.gdbinit.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">set step-mode on</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·é»˜è®¤æ­¥å…¥å°±ä¸ä¼šæ­¥å…¥ç³»ç»Ÿå‡½æ•°.</p>
<h2 id="finish"><a class="markdownIt-Anchor" href="#finish"></a> finish</h2>
<p>è·³å‡ºå‡½æ•°ç”¨çš„å‘½ä»¤.</p>
<h2 id="print"><a class="markdownIt-Anchor" href="#print"></a> print</h2>
<p>å¯ä»¥æ‰“å°ä¸€äº›å˜é‡. è¿™ä¸ªprintå¯ä»¥æ‰“å°æ•°ç»„çš„éƒ¨åˆ†å…ƒç´ . æ¯”å¦‚:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">print arr[1:2]</span><br></pre></td></tr></table></figure>
<h2 id="info"><a class="markdownIt-Anchor" href="#info"></a> info</h2>
<p>infoæ˜¯ç”¨æ¥æŸ¥çœ‹ä¿¡æ¯çš„, infoå¯ä»¥æŸ¥çœ‹ä¸€äº›å¸¸è§çš„ä¿¡æ¯, å¦‚æœè¿˜è®°å¾—çš„è¯vscodeè¾¹æ é‡Œé¢å°±æœ‰ä¸€äº›ä¿¡æ¯.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">info stack</span><br><span class="line">info threads</span><br><span class="line">info breakpoints</span><br><span class="line">info registers</span><br><span class="line">info locals</span><br><span class="line">info source source_file_name</span><br><span class="line">info functions function_name</span><br></pre></td></tr></table></figure>
<h2 id="watchå’Œdelete"><a class="markdownIt-Anchor" href="#watchå’Œdelete"></a> watchå’Œdelete</h2>
<p>å°±æ˜¯è°ƒè¯•æ—¶å€™å¸¸ç”¨çš„ç›‘è§†å™¨. watchå¯ä»¥æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼å•¥çš„, åœ¨è¡¨è¾¾å¼å€¼å‘ç”Ÿå˜åŒ–çš„åŒæ—¶ä¼šåœä¸‹æ¥. æœ‰ä¸€äº›ä¿¡æ¯.</p>
<p>deleteå¯ä»¥åˆ é™¤ç›‘è§†å€¼.</p>
]]></content>
      <tags>
        <tag>study</tag>
        <tag>cpp</tag>
      </tags>
  </entry>
  <entry>
    <title>CPPä¸­çš„container</title>
    <url>/2023/10/09/CPP%E4%B8%AD%E7%9A%84container/</url>
    <content><![CDATA[<p>å­¦ä¹ STLæ˜¯ä¸€ä¸ªå’Œè‰°éš¾çš„è¿‡ç¨‹, ä½†æ˜¯é‡Œé¢çš„å¾ˆå¤šå®¹å™¨å´åªéœ€è¦ç•¥å¾®äº†è§£å°±èƒ½å¤Ÿä½¿ç”¨. è¿™ç¯‡æ–‡ç« å°±æ¥è®°å½•ä¸€ä¸‹å¸¸è§çš„å®¹å™¨åŠå…¶ä½¿ç”¨. <span id="more"></span></p>
<h1 id="å†™åœ¨å‰é¢"><a class="markdownIt-Anchor" href="#å†™åœ¨å‰é¢"></a> å†™åœ¨å‰é¢</h1>
<p>å‚è€ƒæ–‡ç« æˆ–è€…æ˜¯æ¨èé˜…è¯»: <a href="https://en.cppreference.com/w/cpp/container">cppä¸­çš„container</a></p>
<p>åœ¨C++11ä¹‹å‰, C++ä¸­æœ‰æ‰€è°“çš„<code>sequence containers</code>å’Œ<code>associative containers</code>. sequence, å°±åƒå®ƒçš„è‹±æ–‡åŸæ„ä¸€æ ·, æ˜¯è¡¨ç¤ºä¸€ç³»åˆ—æ•°æ®. æ¯”å¦‚æ•°ç»„å…¶å®å°±æ˜¯ä¸€ç³»åˆ—æ•°æ®. ä¸‹é¢æˆ‘ä»¬å…ˆæ¥çœ‹sequence containerä¸­çš„array, vector, deque, forward_listä»¥åŠlist.</p>
<p>æœ¬ç¯‡æºä»£ç æ‘˜è‡ªllvmé¡¹ç›®çš„libcxx, libstdc++å®åœ¨æ˜¯å¤ªéš¾çœ‹äº†.</p>
<h1 id="sequence-containers"><a class="markdownIt-Anchor" href="#sequence-containers"></a> Sequence containers</h1>
<h2 id="arrayc11"><a class="markdownIt-Anchor" href="#arrayc11"></a> array(C++11)</h2>
<p>arrayæ˜¯C++11æ‰åŠ å…¥çš„æ–°å®¹å™¨, arrayå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªæ•°ç»„, è¿™ä¸ªæ•°ç»„å°±æ˜¯Cè¯­è¨€é‡Œé¢çš„æ•°ç»„, ç±»ä¼¼äº<code>int a[3]</code>è¿™æ ·çš„. ä¸åŒç‚¹åœ¨äºarrayå¯¹äºæ•°æ®çš„æ‰€æœ‰æ›´åŠ æ˜ç¡®.</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">3</span>];</span><br><span class="line">array&lt;<span class="type">int</span>,3&gt; a;</span><br></pre></td></tr></table></figure>
<p>åŸæ¥Cé£æ ¼çš„æ•°ç»„ä¸€ç›´å’ŒæŒ‡é’ˆæ··æ·†, Cé£æ ¼çš„æ•°ç»„åœ¨è®¾è®¡ä¼ å‚, æ‹·è´ç­‰å¤šç§æ“ä½œçš„æ—¶å€™å°±å¾ˆéš¾è¯´æ¸…æ¥š. ç°åœ¨aå°±æ˜¯ä¸€ä¸ªæ•´ä½“, ç±»å‹å°±æ˜¯array&lt;int,3&gt;, æ›´åŠ ç°ä»£.</p>
<p>å½“ç„¶è¿˜æœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„åŠŸèƒ½å°±æ˜¯æä¾›äº†è¿­ä»£å™¨. åœ¨C++çš„algorithmå¤´æ–‡ä»¶é‡Œé¢æä¾›çš„å¾ˆå¤šç®—æ³•éƒ½æ˜¯éœ€è¦æ¥å—è¿­ä»£å™¨, ä½†æ˜¯å¦‚æœä½¿ç”¨ä¼ ç»Ÿæ•°ç»„å°±æ²¡æ³•ä½¿ç”¨, æ¯”å¦‚å¸¸è§çš„sort, for_eachç­‰ç­‰. è€Œarrayå®ç°äº†ç±»ä¼¼äºvectorçš„begin(), end()ç­‰. å½“ç„¶å› ä¸ºæ”¯æŒè¿­ä»£å™¨å½“ç„¶ä¹Ÿæ”¯æŒranged based for loopçš„éå†.</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span>&amp;i: a)&#123;</span><br><span class="line">	cout&lt;&lt;a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å› ä¸ºåªæ˜¯ä¸€ä¸ªæ™®é€šçš„æ•°ç»„æ²¡ä»€ä¹ˆå¥½è¯´çš„, é‡Œé¢æœ‰ä¸€ä¸ªæ¯”è¾ƒå…³é”®å°±æ˜¯åœ¨è®¿é—®çš„æ—¶å€™å¯ä»¥ä½¿ç”¨at()æˆ–è€…æ˜¯operator[], å½“ç„¶è¿™ä¸€ç‚¹åœ¨åé¢å…¶ä»–sequence containerçš„æ—¶å€™ä¹Ÿæ˜¯åŒæ ·çš„. é‚£è¿™æ ·è®¿é—®æœ‰ä»€ä¹ˆå¥½å¤„å‘¢? å¥½å¤„å°±æ˜¯å¯ä»¥æŠ›å‡ºå¼‚å¸¸:</p>
<blockquote>
<p>Returns a reference to the element at specified location pos, with bounds checking.</p>
<p>If pos is not within the range of the container, an exception of type std::out_of_range is thrown.</p>
</blockquote>
<p>è¿™ä¹Ÿæ˜¯ä¸ºäº†è®©C++æ›´åŠ ç°ä»£ç»Ÿä¸€, è¶Šç•Œçš„æ—¶å€™æŠ›å‡ºå¼‚å¸¸ä¹Ÿèƒ½å¤Ÿç»™ç¼–ç¨‹äººå‘˜ä¸€äº›å¤„ç†çš„ç©ºé—´.</p>
<h2 id="vector"><a class="markdownIt-Anchor" href="#vector"></a> vector</h2>
<p>å¤šçœ‹<a href="https://en.cppreference.com/w/cpp/container/vector">cpprefer</a></p>
<p>è¿™ä½æ›´æ˜¯éå¸¸çš„å¸¸ç”¨, vectorä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„åŠ¨æ€æ•°ç»„, æˆ‘ä»¬å¯ä»¥ä¸æ–­åœ°å‘ä¸€æ®µè¿ç»­çš„ç©ºé—´åŠ å…¥æ•°æ®. ä¼ ç»Ÿæ•°ç»„åœ¨å­˜å…¥æ•°æ®ä¹‹åå°±æ²¡æœ‰åŠæ³•æ‰©å¤§äº†, ä½†æ˜¯vectorå¯ä»¥, å¯ä»¥é€šè¿‡å°¾éƒ¨æ’å…¥çš„æ–¹æ³•æ¥å‘å…¶ä¸­å¢åŠ æ•°æ®.(å½“ç„¶ä¹Ÿæœ‰insert()å®é™…ä¸Šæ’å…¥ä»»ä½•åœ°æ–¹)</p>
<p>åœ¨æ—¶é—´å¤æ‚åº¦æ–¹é¢:</p>
<blockquote>
<p>The complexity (efficiency) of common operations on vectors is as follows:</p>
<ul>
<li>Random access - constantÂ ğ“(1).</li>
<li>Insertion or removal of elements at the end - amortized constantÂ ğ“(1).</li>
<li>Insertion or removal of elements - linear in the distance to the end of the vectorÂ ğ“(n).</li>
</ul>
</blockquote>
<p>å¯ä»¥çœ‹è§ä»å°¾éƒ¨æ’å…¥æˆ–è€…æ˜¯åˆ é™¤å…ƒç´ æ˜¯å¾ˆè½»æ¾, æ—¶é—´å¤æ‚åº¦æ˜¯1, è€Œå…¶ä»–åœ°æ–¹çš„insertå’Œremove, åˆ™æ­£æ¯”äºå’Œå°¾éƒ¨çš„è·ç¦».</p>
<p>ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸‹cppreferenceå¦‚ä½•æè¿°å®ƒçš„å¸¸è§ä¸€äº›æˆå‘˜å‡½æ•°:</p>
<h3 id="capacity-size-shrink_to_fitå’Œreserve"><a class="markdownIt-Anchor" href="#capacity-size-shrink_to_fitå’Œreserve"></a> capacity(), size(), shrink_to_fit()å’Œreserve()</h3>
<p>æˆ‘æƒ³æŠŠè¿™ä¸¤ä¸ªæ”¾åœ¨æœ€å‰é¢æ¥è®². vectoræ—¢ç„¶è¢«ç§°ä¸ºåŠ¨æ€æ•°ç»„, é‚£é¦–å…ˆæ˜¯æ•°ç»„. ä¹Ÿå°±æ˜¯ç©ºé—´æ˜¯è¿ç»­çš„, ä¸æ˜¯ä¸æ˜¯åœ¨æ ˆä¸Šè¿ç»­è€Œæ˜¯å †ä¸Šä¸€ç‰‡è¿ç»­çš„ç©ºé—´. é‚£æ—¢ç„¶æ˜¯è¿ç»­çš„ç©ºé—´æ˜¯æ€ä¹ˆåšåˆ°åŠ¨æ€çš„å‘¢? åŸå› å°±æ˜¯capacity, æ–°å»ºä¸€ä¸ªvectorçš„æ—¶å€™éƒ½ä¼šæœ‰ä¸€ä¸ªcapacity, å³ä½¿é‡Œé¢æ²¡æœ‰ä»»ä½•å…ƒç´ . çœ‹ä¸‹é¢ä»£ç (ä»£ç æµ‹è¯•ç¯å¢ƒæ˜¯C++20 O2ä¼˜åŒ–):</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; test1&#123;&#125;;</span><br><span class="line">    cout &lt;&lt; test1.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line">    test1.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">    cout &lt;&lt; test1.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line">    test1.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">    cout &lt;&lt; test1.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line">    test1.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">    cout &lt;&lt; test1.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡º:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">0</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">4</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹è§capacityéšç€ä¸æ–­åœ°æ’å…¥å…ƒç´ æ˜¯ç¿»å€çš„, è€Œä¸”capacityæŒ‡çš„æ˜¯æœ€å¤§å®¹é‡, å³ä½¿popäº†, capacityä¹Ÿä¸ä¼šå˜.</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; test1&#123;&#125;;</span><br><span class="line">    cout &lt;&lt; test1.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line">    test1.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">    cout &lt;&lt; test1.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line">    test1.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">    cout &lt;&lt; test1.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line">    test1.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">    cout &lt;&lt; test1.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    test1.<span class="built_in">pop_back</span>();</span><br><span class="line">    test1.<span class="built_in">pop_back</span>();</span><br><span class="line">    test1.<span class="built_in">pop_back</span>();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;ç°åœ¨sizeå¤§å°æ˜¯%d, capacityå¤§å°æ˜¯%d\n&quot;</span>, (<span class="type">int</span>)test1.<span class="built_in">size</span>(),</span><br><span class="line">           (<span class="type">int</span>)test1.<span class="built_in">capacity</span>());</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡º:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">0</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">4</span><br><span class="line">ç°åœ¨sizeå¤§å°æ˜¯0, capacityå¤§å°æ˜¯4</span><br></pre></td></tr></table></figure>
<p>sizeæ˜¯é‡Œé¢å­˜å‚¨äº†å¤šå°‘ä¸ªå…ƒç´ , capacityæ˜¯vectorå®é™…å ç”¨çš„ç©ºé—´. å½“è¶…å‡ºcapacityçš„æ—¶å€™ä¼šç¿»å€capacity, å¹¶ä¸”æ‰¾ä¸€å—æ–°çš„å†…å­˜ç©ºé—´. é‚£è¿™ä¸ªè¿‡ç¨‹æ˜¯ä¸€ä¸ªç”³è¯·å†…å­˜çš„è¿‡ç¨‹, è¿™ä¸ªæ—¶å€™çš„æ•°ç»„è¶Šå¤§è¶Šè€—æ—¶é—´.</p>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ç»å¸¸ä¼šæœ‰ä¸€äº›é”™è¯¯äº§ç”Ÿ, ä¸€ä¸ªå¸¸è§çš„é”™è¯¯å°±æ˜¯å› ä¸ºå†…å­˜ä¸­å‡ºç°æ•°æ®è½¬ç§», å¿…é¡»ä¿è¯è¿­ä»£å™¨çš„æ—¶æ•ˆæ€§. å½“ç„¶ä¹ŸåŒ…æ‹¬æŒ‡é’ˆçš„æ—¶æ•ˆæ€§.</p>
<p>ä¸‹é¢ä»£ç ç”¨åˆ°äº†data()æˆå‘˜å‡½æ•°, è¯¦ç»†å¯ä»¥çœ‹<a href="https://en.cppreference.com/w/cpp/container/vector/data">cpprefer</a>, æ— è®ºå¦‚ä½•å°±æ˜¯è·å¾—åº•å±‚å†…å®¹çš„æŒ‡é’ˆ:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; test1&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;;</span><br><span class="line">    <span class="keyword">auto</span> p = test1.<span class="built_in">data</span>();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;è®¿é—®æŒ‡é’ˆæŒ‡å‘çš„ç¬¬ä¸€ä¸ªå€¼%d\n&quot;</span>, *p);</span><br><span class="line">    test1.<span class="built_in">push_back</span>(<span class="number">4</span>);</span><br><span class="line">    test1.<span class="built_in">push_back</span>(<span class="number">4</span>);</span><br><span class="line">    test1.<span class="built_in">push_back</span>(<span class="number">4</span>);</span><br><span class="line">    test1.<span class="built_in">push_back</span>(<span class="number">4</span>);</span><br><span class="line">    test1.<span class="built_in">push_back</span>(<span class="number">4</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;è®¿é—®æŒ‡é’ˆæŒ‡å‘çš„ç¬¬ä¸€ä¸ªå€¼%d\n&quot;</span>, *p);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºæ˜¯:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è®¿é—®æŒ‡é’ˆæŒ‡å‘çš„ç¬¬ä¸€ä¸ªå€¼1</span><br><span class="line">è®¿é—®æŒ‡é’ˆæŒ‡å‘çš„ç¬¬ä¸€ä¸ªå€¼1488999553</span><br></pre></td></tr></table></figure>
<p>é€ æˆè¿™ä¸ªé”™è¯¯çš„åŸå› æ˜¯vectorå·²ç»è½¬ç§»èµ°äº†, ä¸åœ¨åŸä½ç½®äº†. æ˜¯ä¸€ä¸ªéšè”½çš„é”™è¯¯. è€Œä¸”æ¯”è¾ƒç¦»è°±çš„æ˜¯G++å¹¶ä¸ä¼šå¯¹æ­¤åšä»»ä½•æç¤º. ä¸è¿‡ä½¿ç”¨g++è‡ªå¸¦çš„è¶Šç•Œæ£€æŸ¥å¯ä»¥æ£€æŸ¥å‡ºæ¥, ä½†æ˜¯è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå¼ºåˆ¶é€‰é¡¹:</p>
<p><code>g++ -fsanitize=address -fno-omit-frame-pointer -O2 -g mytest.cpp</code></p>
<p>é‚£ä¹ˆå†æ¥è€ƒè™‘reserve, ä¸æ˜¯reverse! reserveæ˜¯é¢„ç•™. å¦‚æœä¸€å¼€å§‹å°±çŸ¥é“capacityæ˜¯å¤§æ¦‚å¤šå°‘, ä¸å°±å¯ä»¥å‡å°‘å†…å­˜é‡åˆ†é…çš„æ¬¡æ•°å—? æˆ‘å¯ä»¥<code>vec.reserve(20)</code>ç›´æ¥æŠŠcapacityæ‹‰åˆ°20, è™½ç„¶size()è¿˜æ˜¯0.</p>
<p>shrink_to_fit()å°±æ˜¯å°†capacityç¼©å°åˆ°sizeé™„è¿‘, é‡Šæ”¾å¤šä½™çš„ç©ºé—´.</p>
<p>æ‰€ä»¥è¿™å››ä¸ªæ”¾åœ¨ä¸€èµ·è®².</p>
<h3 id="constructor"><a class="markdownIt-Anchor" href="#constructor"></a> constructor</h3>
<p>ä¸‹é¢æ¥è¯´è¯´æ„é€ å‡½æ•°çš„é—®é¢˜.</p>
<p>ä¸‹é¢åªè¯´ä¸€ä¸‹å¸¸ç”¨çš„æ„é€ å‡½æ•°. ä¸‹é¢å››ä¸ªæ˜¯æ¯”è¾ƒå¸¸ç”¨çš„.</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ‹·è´æ„é€ </span></span><br><span class="line"><span class="built_in">vector</span>( <span class="type">const</span> vector&amp; other );</span><br><span class="line"><span class="function"><span class="keyword">constexpr</span> <span class="title">vector</span><span class="params">( <span class="type">const</span> vector&amp; other )</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç§»åŠ¨æ„é€ </span></span><br><span class="line"><span class="built_in">vector</span>( vector&amp;&amp; other );</span><br><span class="line"><span class="built_in">vector</span>( vector&amp;&amp; other ) <span class="keyword">noexcept</span>;</span><br><span class="line"><span class="function"><span class="keyword">constexpr</span> <span class="title">vector</span><span class="params">( vector&amp;&amp; other )</span> <span class="keyword">noexcept</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç©ºæ„é€  é»˜è®¤</span></span><br><span class="line"><span class="built_in">vector</span>();</span><br><span class="line"><span class="built_in">vector</span>() <span class="built_in">noexcept</span>(<span class="built_in">noexcept</span>(<span class="built_in">Allocator</span>()));</span><br><span class="line"><span class="function"><span class="keyword">constexpr</span> <span class="title">vector</span><span class="params">()</span> <span class="title">noexcept</span><span class="params">(<span class="keyword">noexcept</span>(Allocator()))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// countä¸ªvalue</span></span><br><span class="line"><span class="function"><span class="keyword">explicit</span> <span class="title">vector</span><span class="params">( size_type count,</span></span></span><br><span class="line"><span class="params"><span class="function">                 <span class="type">const</span> T&amp; value = T(),</span></span></span><br><span class="line"><span class="params"><span class="function">                 <span class="type">const</span> Allocator&amp; alloc = Allocator() )</span></span>;</span><br><span class="line"><span class="built_in">vector</span>( size_type count,</span><br><span class="line">                 <span class="type">const</span> T&amp; value,</span><br><span class="line">                 <span class="type">const</span> Allocator&amp; alloc = <span class="built_in">Allocator</span>() );</span><br><span class="line"><span class="function"><span class="keyword">constexpr</span> <span class="title">vector</span><span class="params">( size_type count,</span></span></span><br><span class="line"><span class="params"><span class="function">                  <span class="type">const</span> T&amp; value,</span></span></span><br><span class="line"><span class="params"><span class="function">                  <span class="type">const</span> Allocator&amp; alloc = Allocator() )</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿­ä»£å™¨åˆå§‹åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt; <span class="keyword">class</span> InputIt &gt;</span></span><br><span class="line"><span class="function"><span class="title">vector</span><span class="params">( InputIt first, InputIt last,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="type">const</span> Allocator&amp; alloc = Allocator() )</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt; <span class="keyword">class</span> InputIt &gt;</span></span><br><span class="line"><span class="function"><span class="keyword">constexpr</span> <span class="title">vector</span><span class="params">( InputIt first, InputIt last,</span></span></span><br><span class="line"><span class="params"><span class="function">                  <span class="type">const</span> Allocator&amp; alloc = Allocator() )</span></span>;</span><br></pre></td></tr></table></figure>
<p>ç©ºæ„é€ å‡½æ•°å’Œæ‹·è´ä¸å¿…å¤šè¯´, ç§»åŠ¨æ„é€ å°±æ˜¯è¦æ¥å—ä¸€ä¸ªå³å€¼, é€šè¿‡å°†å‚æ•°çš„æ‰€æœ‰æ•°æ®ç§»åŠ¨ç»™è¦æ„é€ çš„å¯¹è±¡æ¥å®Œæˆ. è¿™æ˜¯C++11ä¸€ä¸ªå¾ˆé‡è¦çš„è¯é¢˜. å¯ä»¥äº†è§£ä¸€ä¸‹C++11çš„å³å€¼å¼•ç”¨.</p>
<p>ç„¶åä¸‹ä¸€ä¸ªå¾ˆå¸¸ç”¨çš„å°±æ˜¯ç”¨nä¸ªxæ¥åˆå§‹åŒ–.</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">test1</span><span class="params">(<span class="number">100</span>, <span class="number">1</span>)</span></span>; <span class="comment">// test1 = [1,1,1,...1](100ä¸ª)</span></span><br></pre></td></tr></table></figure>
<p>å€¼å¾—ä¸€æçš„æ˜¯C++11å¼•å…¥äº†æ‰€è°“çš„List-initializationåˆå§‹åŒ–æ–¹æ³•, ç®€ç§°å¤§æ‹¬å·åˆå§‹åŒ–. å¦‚æœæƒ³è¦åˆå§‹åŒ–vectorä¸º1 2 3 4ä¹Ÿå¯ä»¥è¿™æ ·å†™:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; test1&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br></pre></td></tr></table></figure>
<p>å®é™…ä¸Šæ˜¯ç”¨äº†å¦ä¸€ä¸ªä¸æ€ä¹ˆå¸¸è§çš„vectoråˆå§‹åŒ–å‡½æ•°. ä¸€å®šä¸è¦æ··æ·†:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">test1</span><span class="params">(<span class="number">100</span>, <span class="number">1</span>)</span></span>; <span class="comment">// 100ä¸ª1</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; test2&#123;<span class="number">100</span>, <span class="number">1</span>&#125;; <span class="comment">// å¤§å°ä¸º2 åˆ†åˆ«æ˜¯100å’Œ1</span></span><br></pre></td></tr></table></figure>
<p>æœ€åè¿˜æœ‰è¿­ä»£å™¨åˆå§‹åŒ–, æ¯”å¦‚æƒ³è¦æ‹·è´vec1çš„æ‰€æœ‰å…ƒç´ ä¹Ÿå¯ä»¥:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">vec2</span><span class="params">(vec1.begin(), vec1.end())</span></span>;</span><br></pre></td></tr></table></figure>
<p>åæ­£åªè¦æ˜¯è¿­ä»£å™¨ç±»å‹å°±å¯ä»¥, è¿­ä»£å™¨æœ¬èº«ä¹Ÿå¯ä»¥ä»»æ„ç§»åŠ¨, å¯ä»¥æ‹·è´æŸä¸€ä¸ªåŒºé—´ä¹Ÿèƒ½å¤Ÿåšåˆ°.</p>
<p>è¿™é‡Œå¯ä»¥è¿›ä¸€æ­¥ä½“ä¼šåˆ°, è¿­ä»£å™¨æ˜¯STLçš„ä¸€ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†. å®ƒèµ·åˆ°äº†ç»“åˆç®—æ³•å’Œå®¹å™¨çš„ä½œç”¨, ä¸çŸ¥é“æœ‰æ²¡æœ‰æ³¨æ„åˆ°è¿™é‡Œå¹¶æ²¡æœ‰é™å®šè¿­ä»£å™¨çš„æ¥å†, ä¹Ÿå°±æ˜¯è¯´, Listçš„è¿­ä»£å™¨èƒ½å¦ç”¨äºvecçš„æ„é€ å‡½æ•°å‘¢? ç­”æ¡ˆæ˜¯è‚¯å®šçš„.</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">    list&lt;<span class="type">int</span>&gt; lst1&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">vec1</span><span class="params">(lst1.begin(), lst1.end())</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span> &amp;i : vec1) &#123;</span><br><span class="line">        cout &lt;&lt; i &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡º:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td></tr></table></figure>
<p>è¿™å°±æ˜¯æ¯”æŒ‡é’ˆä¼˜è¶Šçš„åœ°æ–¹, è¿­ä»£å™¨å°±åƒæ˜¯èƒ¶æ°´ä¸€æ ·è¿æ¥ç€æ•´ä¸ªSTL.</p>
<h3 id="access"><a class="markdownIt-Anchor" href="#access"></a> access</h3>
<p>ä¸‹é¢æ¥çœ‹è®¿é—®vectorçš„æˆå‘˜å‡½æ•°.</p>
<p>data()æˆå‘˜å‡½æ•°å·²ç»å±•ç°è¿‡ä½œç”¨äº†, åœ¨ä¸Šé¢å¯ä»¥çœ‹åˆ°å¯ä»¥é€šè¿‡ä¼ ç»ŸCæŒ‡é’ˆè®¿é—®æ•°æ®. å½“ç„¶ä¹Ÿæ˜¯å¾ˆå±é™©çš„.</p>
<p>ä¸‹é¢æ¥çœ‹atå’Œoperator[].</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; vec1&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;;</span><br><span class="line">    cout &lt;&lt; vec1[<span class="number">3</span>] &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; vec1[<span class="number">4</span>] &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; vec1.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡º:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">0</span><br><span class="line">0</span><br><span class="line">3</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¾ç„¶æ˜¯é”™è¯¯çš„, é¦–å…ˆè¿™ä¸ªvec1æœ€å¤šåªæœ‰ä¸‰ä¸ªæ•°å­—, è¿™ä¸ªæ—¶å€™è®¿é—®ä¸‹æ ‡ä¸º3å°±æ˜¯æ˜¾ç„¶è¶Šç•Œäº†, æˆ‘è¿™è¾¹è¾“å‡ºæ˜¯0. å¯ä»¥çœ‹è§capacityç”šè‡³éƒ½æ˜¯3! ä¹Ÿå°±æ˜¯è¿™ä¸€ç‰‡ç©ºé—´æ ¹æœ¬å°±ä¸æ˜¯vector! cppreferå¦‚æ˜¯è¯´:</p>
<blockquote>
<p>Returns a reference to the element at specified locationÂ pos. No bounds checking is performed.</p>
</blockquote>
<p>ä¹Ÿå°±æ˜¯ä¸çŸ¥ä¸è§‰å°±è¶Šç•Œäº†. é‚£ä¹ˆatå°±æœ‰ä½œç”¨äº†:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; vec1&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;;</span><br><span class="line">    cout &lt;&lt; vec1.<span class="built_in">at</span>(<span class="number">3</span>) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; vec1.<span class="built_in">at</span>(<span class="number">4</span>) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; vec1.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡º:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">terminate called after throwing an instance of &#x27;std::out_of_range&#x27;</span><br><span class="line">  what():  vector::_M_range_check: __n (which is 3) &gt;= this-&gt;size() (which is 3)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ä¸ä»…æŠ¥å‡ºäº†è¶Šç•Œ<code>std::out_of_range</code>, è¿˜æŠ¥å‡ºæ›´å¤šæœ‰ç”¨çš„ä¿¡æ¯, sizeæ˜¯3, ä½ ä¸‹æ ‡ä¹Ÿæ˜¯3. è™½ç„¶æ²¡æœ‰æŠ¥å‡ºå…·ä½“çš„è¡Œæ•°, ä½†æ˜¯ä¹Ÿæ˜¯æ¯”åŸæ¥èƒ½å¤Ÿæ­£å¸¸ç¼–è¯‘è¿è¡Œå¥½å¤šäº†.</p>
<p>åœ¨referenceçš„accessç•Œé¢, è¿˜æœ‰front()å’Œback()ä¸¤ä¸ªæ–¹æ³•ç”¨äºè®¿é—®æœ€å‰é¢çš„æ•°æ®å’Œæœ€åé¢çš„æ•°æ®, å°±æ²¡æœ‰ä»€ä¹ˆåˆ«çš„æ³¨æ„ç‚¹.</p>
<h3 id="iterators"><a class="markdownIt-Anchor" href="#iterators"></a> iterators</h3>
<p>æˆå‘˜å‡½æ•°çœç•¥äº†æ‹¬å·!</p>
<p>begin, cbegin, end, cend, å››ä¸ªæˆå‘˜å‡½æ•°è¿”å›è¿­ä»£å™¨. beginå°±æ˜¯å¼€å§‹è¿­ä»£å™¨, endå°±æ˜¯ç»“å°¾è¿­ä»£å™¨, æ³¨æ„å·¦é—­å³å¼€, ä¹Ÿå°±æ˜¯beginè¿”å›çš„è¿­ä»£å™¨æ˜¯æŒ‡å‘å¤´å…ƒç´ çš„, è€ŒendæŒ‡å‘çš„å´æ˜¯å°¾å…ƒç´ è¿˜è¦å¾€åä¸€ä½, æ²¡æœ‰å…ƒç´ .</p>
<p>å·ä¸€ä¸ªreferçš„å›¾.<br />
<img src="https://upload.cppreference.com/mwiki/images/1/1b/range-begin-end.svg" alt="" /></p>
<p>cå¼€å¤´å°±æ˜¯const.</p>
<p>ç„¶åè¿˜æœ‰rbegin, rend, crbegin, crendç­‰è¿­ä»£å™¨. å°±æ˜¯åè¿‡æ¥è¿­ä»£.</p>
<p><img src="https://upload.cppreference.com/mwiki/images/3/39/range-rbegin-rend.svg" alt="" /></p>
<p>å†å·ä¸€ä¸ªå›¾.</p>
<h3 id="modifiers"><a class="markdownIt-Anchor" href="#modifiers"></a> modifiers</h3>
<p>clear()æ–¹æ³•, æ¸…é™¤æ‰€æœ‰size(), ä¸å½±å“capacity, æ¢å¥è¯æ¥è¯´å°±æ˜¯ä¸ä¼šé‡Šæ”¾vectoræŒç®¡çš„å†…å­˜.</p>
<p>insert(), ç›¸å½“æœ‰ç”¨çš„æˆå‘˜å‡½æ•°. æ•´ä¸ªinsertå‡½æ•°æœ‰äº”ä¸ªé‡è½½, éƒ½éå¸¸å¸¸ç”¨.</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åœ¨poså‰é¢æ’å…¥value</span></span><br><span class="line"><span class="function">iterator <span class="title">insert</span><span class="params">( const_iterator pos, <span class="type">const</span> T&amp; value )</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">constexpr</span> iterator <span class="title">insert</span><span class="params">( const_iterator pos, <span class="type">const</span> T&amp; value )</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨poså‰é¢æ’å…¥value</span></span><br><span class="line"><span class="function">iterator <span class="title">insert</span><span class="params">( const_iterator pos, T&amp;&amp; value )</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">constexpr</span> iterator <span class="title">insert</span><span class="params">( const_iterator pos, T&amp;&amp; value )</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// poså‰é¢æ’å…¥countä¸ªvalue</span></span><br><span class="line"><span class="function">iterator <span class="title">insert</span><span class="params">( const_iterator pos, size_type count, <span class="type">const</span> T&amp; value )</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">constexpr</span> iterator</span></span><br><span class="line"><span class="function">    <span class="title">insert</span><span class="params">( const_iterator pos, size_type count, <span class="type">const</span> T&amp; value )</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// poså‰é¢æ’å…¥[first, last)ä¹‹é—´çš„å…ƒç´ </span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt; <span class="keyword">class</span> InputIt &gt;</span></span><br><span class="line"><span class="function">iterator <span class="title">insert</span><span class="params">( const_iterator pos, InputIt first, InputIt last )</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt; <span class="keyword">class</span> InputIt &gt;</span></span><br><span class="line"><span class="function"><span class="keyword">constexpr</span> iterator <span class="title">insert</span><span class="params">( const_iterator pos, InputIt first, InputIt last )</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// poså‰é¢æ’å…¥initializer_list</span></span><br><span class="line"><span class="function">iterator <span class="title">insert</span><span class="params">( const_iterator pos, std::initializer_list&lt;T&gt; ilist )</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">constexpr</span> iterator <span class="title">insert</span><span class="params">( const_iterator pos,</span></span></span><br><span class="line"><span class="params"><span class="function">                           std::initializer_list&lt;T&gt; ilist )</span></span>;</span><br></pre></td></tr></table></figure>
<p>åœ¨cppreferenceé‡Œé¢ä¹Ÿæœ‰ç¤ºä¾‹ä»£ç , é‡Œé¢éƒ½æ˜¯ä½¿ç”¨æ„é€ å‡½æ•°çš„ä¾‹å­:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iterator&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(<span class="type">int</span> id, <span class="type">const</span> std::vector&lt;<span class="type">int</span>&gt;&amp; container)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; id &lt;&lt; <span class="string">&quot;. &quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> <span class="type">int</span> x : container)</span><br><span class="line">        std::cout &lt;&lt; x &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">c1</span><span class="params">(<span class="number">3</span>, <span class="number">100</span>)</span></span>;</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">1</span>, c1);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">auto</span> it = c1.<span class="built_in">begin</span>();</span><br><span class="line">    it = c1.<span class="built_in">insert</span>(it, <span class="number">200</span>);</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">2</span>, c1);</span><br><span class="line"> </span><br><span class="line">    c1.<span class="built_in">insert</span>(it, <span class="number">2</span>, <span class="number">300</span>);</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">3</span>, c1);</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// `it` no longer valid, get a new one:</span></span><br><span class="line">    it = c1.<span class="built_in">begin</span>();</span><br><span class="line"> </span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">c2</span><span class="params">(<span class="number">2</span>, <span class="number">400</span>)</span></span>;</span><br><span class="line">    c1.<span class="built_in">insert</span>(std::<span class="built_in">next</span>(it, <span class="number">2</span>), c2.<span class="built_in">begin</span>(), c2.<span class="built_in">end</span>());</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">4</span>, c1);</span><br><span class="line"> </span><br><span class="line">    <span class="type">int</span> arr[] = &#123;<span class="number">501</span>, <span class="number">502</span>, <span class="number">503</span>&#125;;</span><br><span class="line">    c1.<span class="built_in">insert</span>(c1.<span class="built_in">begin</span>(), arr, arr + std::<span class="built_in">size</span>(arr));</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">5</span>, c1);</span><br><span class="line"> </span><br><span class="line">    c1.<span class="built_in">insert</span>(c1.<span class="built_in">end</span>(), &#123;<span class="number">601</span>, <span class="number">602</span>, <span class="number">603</span>&#125;);</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">6</span>, c1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œä¸çŸ¥é“æœ‰æ²¡æœ‰äººæ„Ÿè§‰åˆ°ä¸€ä¸ªç–‘é—®, æ—¢ç„¶insertçš„ä¸€ä¸ªé‡è½½çš„ä¸€ä¸ªå‡½æ•°é‡Œé¢, æ¥å—çš„å‚æ•°ç±»å‹(å…¶ä¸­ä¸€ä¸ª)ä¸ºä»€ä¹ˆä¼šæ˜¯const T&amp;, insertçš„æ—¶å€™, vectorå†…éƒ¨å­˜çš„ä¸€ç›´å°±æ˜¯æŸä¸ªå…ƒç´ çš„å‰¯æœ¬è€Œä¸æ˜¯å¼•ç”¨æˆ–å…¶æœ¬èº«. å†™æˆå¼•ç”¨åªæ˜¯ä¸ºäº†æ–¹ä¾¿ä¼ å‚, è¿™æ ·ä¼ å‚çš„æ—¶å€™å¯ä»¥çœä¸‹ä¸€æ¬¡æ‹·è´.</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> _Tp, <span class="keyword">typename</span> _Alloc&gt;</span><br><span class="line">    <span class="keyword">typename</span> vector&lt;_Tp, _Alloc&gt;::iterator</span><br><span class="line">    vector&lt;_Tp, _Alloc&gt;::</span><br><span class="line"><span class="meta">#<span class="keyword">if</span> __cplusplus &gt;= 201103L</span></span><br><span class="line">    <span class="built_in">insert</span>(const_iterator __position, <span class="type">const</span> value_type&amp; __x)</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="built_in">insert</span>(iterator __position, <span class="type">const</span> value_type&amp; __x)</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="type">const</span> size_type __n = __position - <span class="built_in">begin</span>();</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>-&gt;_M_impl._M_finish != <span class="keyword">this</span>-&gt;_M_impl._M_end_of_storage)</span><br><span class="line">	<span class="keyword">if</span> (__position == <span class="built_in">end</span>())</span><br><span class="line">	  &#123;</span><br><span class="line">	    _GLIBCXX_ASAN_ANNOTATE_GROW(<span class="number">1</span>);</span><br><span class="line">	    _Alloc_traits::<span class="built_in">construct</span>(<span class="keyword">this</span>-&gt;_M_impl, <span class="keyword">this</span>-&gt;_M_impl._M_finish,</span><br><span class="line">				     __x);</span><br><span class="line">	    ++<span class="keyword">this</span>-&gt;_M_impl._M_finish;</span><br><span class="line">	    _GLIBCXX_ASAN_ANNOTATE_GREW(<span class="number">1</span>);</span><br><span class="line">	  &#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	  &#123;</span><br><span class="line"><span class="meta">#<span class="keyword">if</span> __cplusplus &gt;= 201103L</span></span><br><span class="line">	    <span class="type">const</span> <span class="keyword">auto</span> __pos = <span class="built_in">begin</span>() + (__position - <span class="built_in">cbegin</span>());</span><br><span class="line">	    <span class="comment">// __x could be an existing element of this vector, so make a</span></span><br><span class="line">	    <span class="comment">// copy of it before _M_insert_aux moves elements around.</span></span><br><span class="line">	    _Temporary_value __x_copy(<span class="keyword">this</span>, __x);</span><br><span class="line">	    _M_insert_aux(__pos, std::<span class="built_in">move</span>(__x_copy._M_val()));</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">	    _M_insert_aux(__position, __x);</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">	  &#125;</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> __cplusplus &gt;= 201103L</span></span><br><span class="line">	_M_realloc_insert(<span class="built_in">begin</span>() + (__position - <span class="built_in">cbegin</span>()), __x);</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">	_M_realloc_insert(__position, __x);</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">iterator</span>(<span class="keyword">this</span>-&gt;_M_impl._M_start + __n);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>åœ¨æºä»£ç ä¸­, è¿˜ç‰¹æ„æ³¨é‡Šäº†è¿™ä¸€ç‚¹. ç”šè‡³è¿™ä¸ªå‡½æ•°çœ‹ä¸Šå»å¾ˆä¹±, å› ä¸ºå„ä¸ªæ ‡å‡†éƒ½ä¸ä¸€æ ·.</p>
<h2 id="deque"><a class="markdownIt-Anchor" href="#deque"></a> deque</h2>
<p>double-ended queue. ä¹Ÿç»å¸¸ç¿»è¯‘æˆåŒç«¯é˜Ÿåˆ—. æˆ‘ä»¬è¿˜æ˜¯çœ‹æ—¶é—´å¤æ‚åº¦:</p>
<blockquote>
<p>The complexity (efficiency) of common operations on deques is as follows:</p>
<ul>
<li>Random access - constantÂ O(1).</li>
<li>Insertion or removal of elements at the end or beginning - constantÂ O(1).</li>
<li>Insertion or removal of elements - linearÂ O(n).</li>
</ul>
<p><code>std::deque</code>Â meets the requirements ofÂ Container,Â AllocatorAwareContainer,Â SequenceContainerÂ andÂ ReversibleContainer.</p>
</blockquote>
<p>éšæœºè®¿é—®æ—¶é—´å¤æ‚åº¦O(1), åœ¨å¤´éƒ¨å°¾éƒ¨éƒ½æ˜¯O(1), ä¸­é—´æ˜¯çº¿æ€§çš„.</p>
<p>å›é¡¾ä¸€ä¸‹vectorçš„, vectorå‡ ä¹å’Œè¿™ä¸ªå·®ä¸å¤š, ä¹Ÿæ˜¯éšæœºè®¿é—®O(1), ä¸­é—´æ’å…¥O(n), ä½†æ˜¯åªæ˜¯åœ¨æœ«å°¾æ’å…¥æ˜¯å¸¸æ•°å¤æ‚åº¦, å¤´éƒ¨æ’å…¥æ˜¯O(n). è¿™æ ·çœ‹æ¥å¥½åƒdequeå…¨é¢ä¼˜äºvector?</p>
<p>dequeçš„å†…å­˜åˆ†å¸ƒæ˜¯ä¸€ç³»åˆ—å›ºå®šé•¿åº¦çš„å†…å­˜å°å—, ç„¶åç»„åˆèµ·æ¥.</p>
<p><img src="https://pic.imgdb.cn/item/65274551c458853aefaf3969.png" alt="" /></p>
<p>ä»è¿™ä¸ªå›¾ä¹Ÿå¯ä»¥å¾ˆç›´è§‚åœ°çœ‹å‡ºæ¥, æ— è®ºæ˜¯åœ¨å¤´éƒ¨åˆ é™¤è¿˜æ˜¯åœ¨å°¾éƒ¨åˆ é™¤éƒ½æ˜¯å¸¸æ•°. ä¸»è¦æ˜¯åœ¨ä¸¤ç«¯é¢„ç•™ç©ºé—´, å…¶å®å¾ˆæœ‰é“¾è¡¨çš„ç‰¹è‰². ä¾‹å¦‚æˆ‘å¦‚æœåˆ é™¤ä¸€ä¸ªå…ƒç´ , åªéœ€è¦æŠŠbeginå¾€åæ‹¨ä¸€ä½.</p>
<p>å…¶å®å’Œé“¾è¡¨éå¸¸ç›¸ä¼¼, é‚£ä¹ˆè¿™ä¸ªå¤´å°¾æ—¶é—´å¤æ‚åº¦ä¸ºO(1)åè€Œä¸è¶³ä¸ºå¥‡, åè€Œéœ€è¦é—®é—®æ˜¯éšæœºè®¿é—®å¦‚ä½•åšåˆ°O(1)çš„.</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">_Tp</span>, <span class="keyword">class</span> <span class="title class_">_Allocator</span>&gt;</span><br><span class="line"><span class="keyword">inline</span></span><br><span class="line"><span class="keyword">typename</span> deque&lt;_Tp, _Allocator&gt;::reference</span><br><span class="line">deque&lt;_Tp, _Allocator&gt;::<span class="keyword">operator</span>[](size_type __i) _NOEXCEPT</span><br><span class="line">&#123;</span><br><span class="line">    size_type __p = __start_ + __i;</span><br><span class="line">    <span class="keyword">return</span> *(*(__map_.<span class="built_in">begin</span>() + __p / __block_size) + __p % __block_size);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢è®¿é—®ä¸‹æ ‡ä¸ºiçš„å†…å®¹, é¦–å…ˆå…ˆç®—å‡ºp, ç­‰äºstart+i. è¿™æ˜¯æˆ‘ä»¬å¸Œæœ›çš„ä½ç½®, ä½†æ˜¯å¦‚ä½•å¿«é€Ÿè·³è½¬å‘¢? å¦‚æœæ˜¯é“¾è¡¨, æ˜¯ä¸æ˜¯å°±å¾—ä¸æ–­åœ°å¾€åè·³è½¬, è¿­ä»£å™¨ä¸€ä½ä¸€ä½å¾€ånextå¾—åˆ°ç»“æœ. ä½†æ˜¯æˆ‘ä»¬æ³¨æ„è¿™é‡Œdequeçš„åšæ³•.</p>
<p>å…ˆé€šè¿‡map.begin()åŠ ä¸Š p/block_sizeè·å–å¯¹åº”chunkçš„è¿­ä»£å™¨. ä¾‹å¦‚åœ¨ä¸Šå›¾ä¸­æˆ‘ä»¬è®¿é—®ä¸‹æ ‡ä¸º6, å› ä¸ºä¸€ä¸ªå—æ˜¯5, æ‰€ä»¥éœ€è¦mapçš„è¿­ä»£å™¨å¾€å‰ä¸€ä½, æŒ‡å‘chunk1. ç„¶åå–ä½™å¾—åˆ°æ˜¯1, ä¹Ÿå°±æ˜¯è¯´<code>*(__map_.begin() + __p / __block_size)</code>å°±æ˜¯chunk1è¿™ä¸ªæ•°ç»„, æˆ–è€…è¯´æ˜¯å…¶é¦–åœ°å€. ç„¶åå†æ¥çœ‹, æœ€å¼€å§‹æ˜¯startæŒ‡å‘2, å› ä¸º<code>data[0]</code>æ˜¯æŒ‡å‘æ‰€åœ¨æ•°ç»„çš„ä¸‹æ ‡2, 2åŠ ä¸Š6ä¸º8, 8å–æ¨¡5æ˜¯3. ä¹Ÿå°±æ˜¯è¯´éœ€è¦è®¿é—®çš„å…ƒç´ æ˜¯åœ¨å½“å‰æ•°ç»„çš„ç¬¬ä¸‰ä½.</p>
<p>æ€»ç»“æ¥çœ‹. è®¿é—®çš„ä¸‹æ ‡iåŠ ä¸Šæœ€å¼€å§‹å…ƒç´ æ‰€åœ¨chunkçš„ä¸‹æ ‡startå…±åŒç»„æˆäº†ä¸€ä¸ªp, è¿™ä¸ªpå’Œchunk_sizeé™¤æ³•çš„éƒ¨åˆ†ç”¨æ¥è·³è½¬å—, å–æ¨¡çš„éƒ¨åˆ†ç”¨æ¥æ ‡è¯†å—ä¹Ÿå°±æ˜¯chunkæ•°ç»„çš„ä¸‹æ ‡.</p>
<p>ç›¸æ¯”è¾ƒè€Œè¨€, åŒæ ·éƒ½æ˜¯O(1)çš„random access, vectorçš„O(1)çœ‹ä¸Šå»è¿˜æ˜¯æ›´åŠ O(1)ä¸€äº›.</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">vector&lt;_Tp, _Allocator&gt;::<span class="keyword">operator</span>[](size_type __n) _NOEXCEPT</span><br><span class="line">&#123;</span><br><span class="line">    _LIBCPP_ASSERT_VALID_ELEMENT_ACCESS(__n &lt; <span class="built_in">size</span>(), <span class="string">&quot;vector[] index out of bounds&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>-&gt;__begin_[__n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é¢˜å¤–è¯: dequeåªæ˜¯è§„å®šäº†è¡Œä¸º, è‡³äºå…·ä½“å®ç°, è¿˜å¾—çœ‹å„ä¸ªç¼–è¯‘å™¨çš„å®ç°. è€Œä¸”è¿˜æœ‰ä¸ªå¾ˆæœ‰æ„æ€çš„ç‚¹å°±æ˜¯å¯¹äº<code>operator[]</code>çš„å®ç°, å¯ä»¥çœ‹è§libcxxé‡Œé¢æ˜¯æœ‰ä¸€ä¸ªå†…å­˜æ£€æŸ¥çš„, è€Œä¸‹é¢æ˜¯libstdc++çš„:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// libstdc++</span></span><br><span class="line">  _GLIBCXX_NODISCARD _GLIBCXX20_CONSTEXPR</span><br><span class="line">  reference</span><br><span class="line">  <span class="keyword">operator</span>[](size_type __n) _GLIBCXX_NOEXCEPT</span><br><span class="line">  &#123;</span><br><span class="line">__glibcxx_requires_subscript(__n);</span><br><span class="line"><span class="keyword">return</span> *(<span class="keyword">this</span>-&gt;_M_impl._M_start + __n);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>ä¼¼ä¹æ²¡æœ‰æ£€æŸ¥. æœ¬æ¥ä¸Šé¢è¯´è¿‡atæœ‰æ£€æŸ¥, ä½†æ˜¯libcxxä¼¼ä¹ä¸‹æ ‡è®¿é—®ä¹Ÿä¼šæ£€æŸ¥. è¿˜æ²¡æœ‰å®æµ‹clang++æ­é…libc++çš„æŠ¥é”™æƒ…å†µ.</p>
<p>dequeçš„æˆå‘˜å‡½æ•°æ²¡æœ‰ä»€ä¹ˆå¥½è¯´çš„. å’Œvectoræ¯”è¾ƒç±»ä¼¼.</p>
<h2 id="forward_listc11"><a class="markdownIt-Anchor" href="#forward_listc11"></a> forward_list(c++11)</h2>
<blockquote>
<p>std::forward_list is a container that supports fast insertion and removal of elements from anywhere in the container. Fast random access is not supported. It is implemented as a singly-linked list. Compared to std::list this container provides more space efficient storage when bidirectional iteration is not needed.</p>
</blockquote>
<p>è¿™ä¸€ä¸ªå°±ç•¥è¿‡, è¿™ä¸ªåªæ˜¯ä¸€ä¸ªæ›´åŠ &quot;more space efficient&quot;çš„list. ç”±C++11å¼•å…¥.</p>
<h2 id="list"><a class="markdownIt-Anchor" href="#list"></a> list</h2>
<p>å…¶å®STLçš„å¾ˆå¤šæˆå‘˜å‡½æ•°éƒ½å¤§å·®ä¸å·®, æ‰€ä»¥ä¸‹é¢åªè¯´æ˜ä¸€ä¸‹æ¯”è¾ƒæœ‰æ–°æ„çš„ä¸€äº›æˆå‘˜å‡½æ•°.</p>
<p>åœ¨operationä¸€æ é‡Œé¢, æœ‰ä¸€äº›å¾ˆæœ‰æ„æ€çš„å‡½æ•°.</p>
<h3 id="removeå’Œremove_if"><a class="markdownIt-Anchor" href="#removeå’Œremove_if"></a> remove()å’Œremove_if()</h3>
<p>å¯¹äºä¸€ä¸ªlist, removeå°±æ˜¯åˆ é™¤æ‰€æœ‰å’Œå‚æ•°ä¸€æ ·çš„å…ƒç´ å˜›, è¿™ä¸ªremove_ifå°±å¾ˆé…·ç‚«, å®ƒçš„å‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªlambdaè¡¨è¾¾å¼:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// referenceçš„ç¤ºä¾‹ä»£ç </span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::list&lt;<span class="type">int</span>&gt; l = &#123;<span class="number">1</span>, <span class="number">100</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">10</span>, <span class="number">1</span>, <span class="number">11</span>, <span class="number">-1</span>, <span class="number">12</span>&#125;;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">auto</span> count1 = l.<span class="built_in">remove</span>(<span class="number">1</span>);</span><br><span class="line">    std::cout &lt;&lt; count1 &lt;&lt; <span class="string">&quot; elements equal to 1 were removed\n&quot;</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">auto</span> count2 = l.<span class="built_in">remove_if</span>([](<span class="type">int</span> n)&#123; <span class="keyword">return</span> n &gt; <span class="number">10</span>; &#125;);</span><br><span class="line">    std::cout &lt;&lt; count2 &lt;&lt; <span class="string">&quot; elements greater than 10 were removed\n&quot;</span>;</span><br><span class="line"> </span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Finally, the list contains: &quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> n : l)</span><br><span class="line">        std::cout &lt;&lt; n &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥æ ¹æ®å‡½æ•°çš„è¦æ±‚æ¥åˆ é™¤å…ƒç´ . å…¶ä»–çš„å°±ä¸èµ˜è¿°äº†, æ¥ä¸‹æ¥ä¹Ÿæ˜¯é‡å¤´æˆ, associative container.</p>
<h1 id="associative-containers"><a class="markdownIt-Anchor" href="#associative-containers"></a> Associative containers</h1>
<h2 id="set"><a class="markdownIt-Anchor" href="#set"></a> set</h2>
<blockquote>
<p>std::set is an associative container that contains a sorted set of unique objects of type Key. Sorting is done using the key comparison function Compare. Search, removal, and insertion operations have logarithmic complexity. Sets are usually implemented as Redâ€“black trees.</p>
</blockquote>
<p>å¯¹äºsetæ¥è¯´, search, removal, insertionéƒ½å«æœ‰&quot;logarithmic complexity&quot;ä¹Ÿå°±æ˜¯O(logn)çš„å¤æ‚åº¦. è€Œä¸”ç»å¸¸ä½¿ç”¨çº¢é»‘æ ‘æ¥å®ç°.</p>
<p>æ‰€ä»¥ä¸å…¶è¯´å­¦ä¹ set, ä¸å¦‚è¯´éœ€è¦äº†è§£çº¢é»‘æ ‘çš„æ€§è´¨, ä¸ç„¶çš„è¯æ²¡æœ‰åŠæ³•èƒ½å¤Ÿäº†è§£æ—¶é—´å¤æ‚åº¦å’Œsetçš„ä¼˜ç¼ºç‚¹ä»ä½•è€Œæ¥.</p>
]]></content>
      <tags>
        <tag>study</tag>
        <tag>cpp</tag>
      </tags>
  </entry>
  <entry>
    <title>8086æ±‡ç¼–ä¸Šæœº</title>
    <url>/2023/09/20/8086%E6%B1%87%E7%BC%96%E4%B8%8A%E6%9C%BA/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>CPPä¸­çš„cinå’Œcoutè¿è¡Œç¼“æ…¢</title>
    <url>/2023/09/13/CPP%E4%B8%AD%E7%9A%84cin%E5%92%8Ccout%E8%BF%90%E8%A1%8C%E7%BC%93%E6%85%A2/</url>
    <content><![CDATA[<p>åœ¨æ˜¨å¤©é‡åˆ°äº†ä¸€ä¸ªå¯¹æ—¶é—´è¦æ±‚éå¸¸è‹›åˆ»çš„ä¸€ä¸ªé¢˜ç›®, å®¤å‹è¯´å®ƒæ€»æ˜¯è¶…æ—¶, è€Œä¸”è¶…å¾ˆå¤š, å¤§æ¦‚åœ¨åå‡ å€çš„æ°´å¹³, åæ¥å¯¹æ¯”äº†ä¸€ä¸‹æ ‡å‡†ç­”æ¡ˆå¹¶ä¸”æ§åˆ¶äº†ä¸€ä¸‹å˜é‡, å‘ç°æ˜¯cinå’Œcoutçš„é”…, é‚£ä¹ˆæˆ‘ä»¬ç°åœ¨å°±æ¥è®¨è®ºä¸€ä¸‹cinå’Œcoutå¯¹äºç¨‹åºçš„å½±å“.</p>
<span id="more"></span>
<h1 id="cinå’Œcoutå¾ˆæ…¢çš„åŸå› "><a class="markdownIt-Anchor" href="#cinå’Œcoutå¾ˆæ…¢çš„åŸå› "></a> cinå’Œcoutå¾ˆæ…¢çš„åŸå› </h1>
<h2 id="å‡½æ•°è°ƒç”¨"><a class="markdownIt-Anchor" href="#å‡½æ•°è°ƒç”¨"></a> å‡½æ•°è°ƒç”¨</h2>
<p>&lt;&lt;æ˜¯ä¸€ä¸ªå¾ˆå¤šé‡è½½çš„å‡½æ•°, å‡½æ•°è°ƒç”¨ä¼šæœ‰å¼€é”€.</p>
<h2 id="å’ŒprintfåŒæ­¥"><a class="markdownIt-Anchor" href="#å’ŒprintfåŒæ­¥"></a> å’ŒprintfåŒæ­¥</h2>
<p>å› ä¸ºcoutæ ¼å¼åŒ–å­—ç¬¦ä¸²å¹¶ä¸æ–¹ä¾¿, æ‰€ä»¥ä¸€èˆ¬å’Œprintfæ··ç”¨. æ··ç”¨å°±æœ‰è¿™ä¸ªæ‰€è°“åŒæ­¥é—®é¢˜.</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;str1\n&quot;</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;str2\n&quot;</span>);</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;str3\n&quot;</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;str4\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*è¾“å‡ºç»“æœ</span></span><br><span class="line"><span class="comment">str2</span></span><br><span class="line"><span class="comment">str4</span></span><br><span class="line"><span class="comment">str1</span></span><br><span class="line"><span class="comment">str3</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<p>ios::sync_with_stdio(false);ä½¿ç”¨è¿™ä¸€æ®µä»£ç å¯ä»¥è§£é™¤å’Œstdioçš„sync, å¯ä»¥åŠ å¿«é€Ÿåº¦, ä½†æ˜¯å°±ä¼šå’Œprintfä¹±åºæ‰§è¡Œ.</p>
<h2 id="endlé¢‘ç¹åˆ·æ–°ç¼“å†²åŒºå‡é€Ÿ"><a class="markdownIt-Anchor" href="#endlé¢‘ç¹åˆ·æ–°ç¼“å†²åŒºå‡é€Ÿ"></a> endlé¢‘ç¹åˆ·æ–°ç¼“å†²åŒºå‡é€Ÿ</h2>
<p>std::endlç›¸å½“äº<code>\n + std::flush</code>. é¢‘ç¹ä½¿ç”¨endlæ¢è¡Œä¼šåˆ·æ–°ç¼“å†²åŒº, å¯¼è‡´æ€§èƒ½é—®é¢˜.</p>
<h1 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h1>
<p>å®æˆ˜ä¸­, ä¸€èˆ¬å…ˆå…³é—­å’Œstdioçš„sync, ç„¶åendlå…¶å®æ˜¯ä¸€ä¸ªå¤§å¤´è€—æ—¶. å…¶å®å¾ˆå¤šæƒ…å†µä¸‹ä¸éœ€è¦è€ƒè™‘coutå¸¦æ¥çš„æ€§èƒ½é—®é¢˜.</p>
]]></content>
      <tags>
        <tag>study</tag>
        <tag>cpp</tag>
      </tags>
  </entry>
  <entry>
    <title>CPPä¸­çš„å³å€¼å¼•ç”¨</title>
    <url>/2023/09/04/CPP%E4%B8%AD%E7%9A%84%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/</url>
    <content><![CDATA[<p>æˆ‘å¯¹C++çœŸæ˜¯åˆçˆ±åˆæ¨, ä½†æ˜¯é™ä¸‹å¿ƒæ¥åˆä¸å¾—ä¸å­¦. æˆ‘è®¤ä¸ºç°åœ¨ä½œä¸ºä¸€ä¸ªè®¡ç®—æœºå­¦ç”Ÿ, C++å’ŒJAVAæ— è®ºå¦‚ä½•éƒ½è¦ç†Ÿæ‚‰äº†è§£ä¸€é—¨, è¿™é‡Œçš„äº†è§£å½“ç„¶å¹¶ä¸å•å•æ˜¯æŒ‡è¯­æ³•(è™½ç„¶è¯­æ³•ä¹Ÿéš¾å­¦æ˜ç™½), æ›´æ˜¯æœç´¢èƒ½åŠ›, è§£å†³é—®é¢˜èƒ½åŠ›, é˜…è¯»æŠ¥é”™èƒ½åŠ›å’Œé¡¹ç›®ç»éªŒçš„ç»¼åˆä½“ç°. å¥½å¥½studyC++ç½¢!<span id="more"></span></p>
<p><a href="https://en.cppreference.com/w/cpp/language/reference">å³å€¼å¼•ç”¨</a>, å§‹äºC++11, æ˜¯C++ä¸­ä¸€ä¸ªç›¸å½“å…³é”®çš„æ¦‚å¿µ. è™½ç„¶æ˜¯C++11, ä½†æ˜¯æœ¬æ–‡æ‰€æœ‰çš„ä»£ç ä¹Ÿéƒ½ä¼šåœ¨C++17ä¸‹é¢æµ‹è¯•ä¸€å›.</p>
<h1 id="ä¸ºä»€ä¹ˆéœ€è¦å³å€¼å¼•ç”¨"><a class="markdownIt-Anchor" href="#ä¸ºä»€ä¹ˆéœ€è¦å³å€¼å¼•ç”¨"></a> ä¸ºä»€ä¹ˆéœ€è¦å³å€¼å¼•ç”¨</h1>
<h2 id="å®ç°ç§»åŠ¨è¯­ä¹‰æ¥é¿å…æ‹·è´"><a class="markdownIt-Anchor" href="#å®ç°ç§»åŠ¨è¯­ä¹‰æ¥é¿å…æ‹·è´"></a> å®ç°ç§»åŠ¨è¯­ä¹‰æ¥é¿å…æ‹·è´</h2>
<p>æœ‰ä¸€ç¯‡æ–‡ç« å†™å¾—å¾ˆå¥½, å°±æ˜¯<a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2006/n2027.html#Move_Semantics">è¿™ä¸ª</a>. ä¸‹é¢æ˜¯ç¬¬ä¸€ä¸ªå¯ä»¥å‡å°‘æ‹·è´çš„å°ä¾‹å­. å¦‚æœæƒ³è¦äº¤æ¢ä¸¤ä¸ªå¯¹è±¡, é€šè¿‡ç§»åŠ¨è¯­ä¹‰, å¯ä»¥åœ¨ä¸å¤åˆ¶ç¬¬ä¸‰ä¸ªå¯¹è±¡çš„å‰æä¸‹é¢äº¤æ¢ä¸¤ä¸ªå¯¹è±¡.</p>
<blockquote>
<p>But, we didnâ€™t want to have any copies of a or b, we just wanted to swap them. Letâ€™s try again:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="built_in">swap</span>(T&amp; a, T&amp; b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function">T <span class="title">tmp</span><span class="params">(std::move(a))</span></span>;</span><br><span class="line">    a = std::<span class="built_in">move</span>(b);   </span><br><span class="line">    b = std::<span class="built_in">move</span>(tmp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>è¿™æ˜¯ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„åˆ©ç”¨å³å€¼çš„æ“ä½œ, æ€»å…±æœ‰ä¸‰ä¸ªæŒ‡é’ˆ, ç„¶åä¸¤ä»½èµ„æº, ä¹Ÿå°±æ˜¯äº¤æ¢è¿‡ç¨‹ä¸­è‡ªå§‹è‡³ç»ˆæ²¡æœ‰å‡ºç°ç¬¬ä¸‰ä¸ªèµ„æº. ä¹Ÿå°±æ˜¯<strong>å¯ä»¥å‡å°‘ä¸å¿…è¦çš„æ‹·è´</strong>.</p>
<p>è¿™æ˜¯ä¸€ä¸ªå³å€¼çš„å°åº”ç”¨, æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªæ›´åŠ æ˜æ˜¾çš„åº”ç”¨, ä¸‹é¢ä¸€æ®µä»£ç é€‰è‡ª &lt;ç°ä»£C++æ ¸å¿ƒç‰¹æ€§è§£æ&gt;, æˆ‘ä»¬åœ¨C++98ä¸‹é¢ç¼–è¯‘è¿è¡Œ, çœ‹ä¸€çœ‹åœ¨C++11, ä¹Ÿå°±æ˜¯å³å€¼æ‰€åœ¨çš„ç‰ˆæœ¬å‡ºæ¥ä¹‹å‰, ä¼šé‡åˆ°å“ªäº›å¯èƒ½çš„æ€§èƒ½ä¸Šçš„é—®é¢˜. å€¼å¾—æ³¨æ„çš„æ˜¯, æˆ‘ä»¬ä»…è€ƒè™‘<strong>è¯­ä¹‰ä¸Š</strong>çš„é—®é¢˜, æ‰€ä»¥<strong>å…³é—­è¿”å›å€¼ä¼˜åŒ–</strong>. è¿™æ ·æ‰èƒ½å¤Ÿå®éªŒå¾—åˆ°å®Œæ•´çš„ç¬¦åˆè¯­æ³•é¢„æœŸçš„ç»“æœ. ç¼–è¯‘å‘½ä»¤ä½¿ç”¨:<code>g++ -fno-elide-constructors -std=c++98 cpp11_2.cpp</code></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BigMemoryPool</span> &#123;</span><br><span class="line">   <span class="keyword">public</span>:</span><br><span class="line">    <span class="type">static</span> <span class="type">const</span> <span class="type">int</span> PoolSize = <span class="number">4096</span>;</span><br><span class="line">    <span class="built_in">BigMemoryPool</span>() : <span class="built_in">pool_</span>(<span class="keyword">new</span> <span class="type">char</span>[PoolSize]) &#123;&#125;</span><br><span class="line">    ~<span class="built_in">BigMemoryPool</span>() &#123;</span><br><span class="line">        <span class="keyword">if</span> (pool_ != <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="keyword">delete</span>[] pool_;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">BigMemoryPool</span>(<span class="type">const</span> BigMemoryPool&amp; other) : <span class="built_in">pool_</span>(<span class="keyword">new</span> <span class="type">char</span>[PoolSize]) &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;copy big memory pool.&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">        <span class="built_in">memcpy</span>(pool_, other.pool_, PoolSize);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span>:</span><br><span class="line">    <span class="type">char</span>* pool_;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function">BigMemoryPool <span class="title">get_pool</span><span class="params">(<span class="type">const</span> BigMemoryPool&amp; pool)</span> </span>&#123; <span class="keyword">return</span> pool; &#125;</span><br><span class="line"><span class="function">BigMemoryPool <span class="title">make_pool</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    BigMemoryPool pool;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">get_pool</span>(pool);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    BigMemoryPool my_pool = <span class="built_in">make_pool</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">copy big memory pool.</span><br><span class="line">copy big memory pool.</span><br><span class="line">copy big memory pool.</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹è§å‡ºç°äº†ä¸‰ä¸ªè¾“å‡º&quot;copy big memory pool&quot;, è¿™è¯´æ˜æˆ‘ä»¬æ‹·è´äº†ä¸€ä¸ªå¤§æ•°ç»„ä¸‰æ¬¡, è¿™å°±æ˜¯æ€§èƒ½ä¸Šçš„é—®é¢˜. æ¯”è¾ƒä¸¥é‡çš„æ˜¯æˆ‘ä»¬å¯ä»¥å‘ç°è¿™æ¬¡çš„æ‹·è´, å…¶å®æ˜¯ä¸€ç§æµªè´¹. æˆ‘ä»¬å¯ä»¥è€ƒè™‘ä¸€ä¸‹è¿™ä¸‰æ¬¡æ‹·è´åˆ†åˆ«æ˜¯åœ¨å“ªé‡Œå‘ç”Ÿçš„. è¿™ä¸‰æ¬¡copyå…¶å®åˆ†åˆ«å‘ç”Ÿåœ¨:</p>
<ol>
<li>get_poolè¿”å›ä¸´æ—¶å¯¹è±¡å¤åˆ¶</li>
<li>make_poolè¿”å›ä¸´æ—¶å¯¹è±¡å¤åˆ¶</li>
<li>mainå‡½æ•°ä¸­æ–°æ„é€ çš„my_poolè¿›è¡Œå¤åˆ¶æ„é€ å‡½æ•°</li>
</ol>
<p>è™½ç„¶ä¸Šè¿°ç»“æœæ˜¯åœ¨å…³é—­è¿”å›å€¼ä¼˜åŒ–æƒ…å†µä¸‹é¢è¿›è¡Œçš„, ä½†æ˜¯æ— è®ºæ€ä¹ˆè®², ä»<strong>è¯­ä¹‰ä¸Š</strong>æ¥è¯´, ä¸Šé¢è¿™ä¸ªä»£ç ç¡®å®æ€§èƒ½å¾ˆå·®, åªæ˜¯ç¼–è¯‘å™¨æ•‘äº†ä¸€æ‰‹ç½¢äº†, ä¹‹åæˆ‘ä»¬ä¼šåˆ†æä¸€ä¸‹ç¼–è¯‘å™¨å¦‚ä½•ä¼˜åŒ–çš„. åœ¨è¿™äº›ä¸ªæ‹·è´çš„è¿‡ç¨‹ä¸­, å®é™…ä¸Šæ˜¯ä¸å¿…è¦çš„æ‹·è´, é‚£ä¸ªæ‹·è´çš„æ¥æºå…¶å®é©¬ä¸Šå°±è¦ä½œåºŸäº†, ä¹Ÿå°±æ˜¯å®Œå…¨å¯ä»¥æŠŠé‚£ä¸ªèµ„æºç»§æ‰¿ç»™ç›®æ ‡, è¿™ä¸ªæ€æƒ³å°±æ˜¯<strong>ç§»åŠ¨è¯­ä¹‰</strong>. åœ¨C++11ä¹‹åæˆ‘ä»¬å¯ä»¥å®šä¹‰ç§»åŠ¨æ„é€ å‡½æ•°, ç¼–è¯‘å‘½ä»¤æ˜¯<code>g++ -fno-elide-constructors -std=c++11 cpp11_2.cpp</code>:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BigMemoryPool</span> &#123;</span><br><span class="line">   <span class="keyword">public</span>:</span><br><span class="line">    <span class="type">static</span> <span class="type">const</span> <span class="type">int</span> PoolSize = <span class="number">4096</span>;</span><br><span class="line">    <span class="built_in">BigMemoryPool</span>() : <span class="built_in">pool_</span>(<span class="keyword">new</span> <span class="type">char</span>[PoolSize]) &#123;&#125;</span><br><span class="line">    ~<span class="built_in">BigMemoryPool</span>() &#123;</span><br><span class="line">        <span class="keyword">if</span> (pool_ != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">delete</span>[] pool_;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ç§»åŠ¨æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">BigMemoryPool</span>(BigMemoryPool&amp;&amp; other) &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;move big memory pool.&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">        pool_ = other.pool_;</span><br><span class="line">        other.pool_ = <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">BigMemoryPool</span>(<span class="type">const</span> BigMemoryPool&amp; other) : <span class="built_in">pool_</span>(<span class="keyword">new</span> <span class="type">char</span>[PoolSize]) &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;copy big memory pool.&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">        <span class="built_in">memcpy</span>(pool_, other.pool_, PoolSize);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span>:</span><br><span class="line">    <span class="type">char</span>* pool_;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function">BigMemoryPool <span class="title">get_pool</span><span class="params">(<span class="type">const</span> BigMemoryPool&amp; pool)</span> </span>&#123; <span class="keyword">return</span> pool; &#125;</span><br><span class="line"><span class="function">BigMemoryPool <span class="title">make_pool</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    BigMemoryPool pool;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">get_pool</span>(pool);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    BigMemoryPool my_pool = <span class="built_in">make_pool</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//å…³é—­è¿”å›å€¼ä¼˜åŒ–çš„C++11</span><br><span class="line">copy big memory pool.</span><br><span class="line">move big memory pool.</span><br><span class="line">move big memory pool.</span><br><span class="line">//å…³é—­è¿”å›å€¼ä¼˜åŒ–çš„C++17</span><br><span class="line">copy big memory pool.</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·å°±åªæœ‰ä¸€æ¬¡copy. ç„¶åè§‚å¯Ÿæˆ‘ä»¬æ–°å»ºçš„ç§»åŠ¨æ„é€ å‡½æ•°å°±ä¼šå‘ç°, è¿™ä¸ªç§»åŠ¨æ„é€ å‡½æ•°çš„æ•ˆç‡ç¡®å®æ¯”æ‹·è´è¦é«˜å¤šäº†.  å› ä¸ºåªè®¾è®¡ä¸€ä¸ªæŒ‡é’ˆçš„å˜åŠ¨. è§‚å¯Ÿmoveå‡½æ•°çš„ç­¾å:<code>BigMemoryPool(BigMemoryPool&amp;&amp; other)</code>, è¿™é‡Œé¢å‡½æ•°çš„è¡Œå‚å°±æ˜¯ä¸€ä¸ªå³å€¼å¼•ç”¨. æˆ‘ä»¬å†æ¥å®¡è§†ä¸€ä¸‹å¸¸è§çš„ä¸€äº›æ“ä½œ:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">myclass a = b; //ç­‰åŒäº myclass a(b)è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°</span><br><span class="line">myclass&amp;&amp; a = std::move(b); //ç­‰åŒäºæœ‰ myclass a(b)è°ƒç”¨moveå‡½æ•°</span><br><span class="line">int a = 3;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¸Œæœ›ä»ä¸€ä¸ªbæ–°å»ºä¸€ä¸ªè·Ÿä»–æŒæ¡èµ„æºç›¸åŒçš„a, æˆ‘ä»¬å¦‚æœä½¿ç”¨ç¬¬ä¸€ç§æ–¹å¼å°±æ˜¯æŠŠbé‡Œé¢çš„å†…å®¹æ‹·è´ä¸€ä»½ç»™a, ç¬¬äºŒç§æ–¹æ³•å°±æ˜¯ç›´æ¥æŠŠbçš„èµ„æºmoveç»™a. å½“ç„¶è¿™ä¸ªè¯´æ³•ä¹Ÿä¸å°½å‡†ç¡®, å› ä¸ºç¬¬äºŒç§æ–¹æ³•æ˜¯è°ƒç”¨äº†ç§»åŠ¨æ„é€ å‡½æ•°, ä½ ç§»åŠ¨æ„é€ å‡½æ•°å¿…é¡»æ˜¯çœŸçš„åšäº†move. å½“ç„¶æˆ‘ä»¬ä»è¯­ä¹‰ä¸Šè®¨è®ºé—®é¢˜å°±å‡å®šæ‰€æœ‰å‡½æ•°éƒ½æ˜¯è§„èŒƒå†™æ³•, è€Œä¸”å‡å®šæ²¡æœ‰ç¼–è¯‘å™¨ä¼˜åŒ–.</p>
<p>ä¸‹é¢å°±æ˜¯int a = 3, è¿™ä¸ªå¼å­å…¶å®ä»è¯­ä¹‰ä¸Šæ¥çœ‹, å³ä¾§æ˜¯ä¸€ä¸ªintçš„å³å€¼, å·¦ä¾§æ˜¯ä¸€ä¸ªa, ä»è¯­æ³•ä¸Šæ¥çœ‹å€’æœ‰äº›æ— æ³•ç†è§£(è‰), å†™æˆ<code>int a(3)</code>å°±å¯ä»¥ç†è§£, ä½†æ˜¯<code>int a = 3</code>å°±æœ‰ç‚¹ä¸ç¬¦åˆä¸€è´¯çš„ç†è§£æ–¹å¼. æˆ–è€…å†™æˆ<code>int a = int(3)</code>. ä¸è¿‡è¿™éƒ½æ˜¯å’¬æ–‡åš¼å­—, æ¯•ç«Ÿåƒintè¿™ç§åŸºç¡€ç±»å‹æ— è®ºæ€ä¹ˆè¯´éƒ½ä¸ä¼šé‡åˆ°ä»€ä¹ˆå·¦å³å€¼çš„é—®é¢˜çš„, åªæ˜¯å¥½ç©å’Œæœ‰æ„æ€ç½¢äº†.</p>
<p>ä¸Šé¢æˆ‘ä»¬è®¨è®ºäº†ä¸€ä¸‹å³å€¼å¼•ç”¨ç»™C++å¸¦æ¥çš„æ€§èƒ½æå‡, ä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªé—®é¢˜æ²¡æœ‰è§£å†³. é‚£å°±æ˜¯æˆ‘ä»¬å…¶å®å¯ä»¥å‘ç°å¦‚æœä½¿ç”¨C++17æ ‡å‡†è€Œä¸”å…³é—­è¿”å›å€¼ä¼˜åŒ–, å±…ç„¶åªæœ‰ä¸€ä¸ª&quot;copy big memory pool&quot;. é¡ºå¸¦ä¸€æ, å¦‚æœä¸å…³é—­è¿”å›å€¼ä¼˜åŒ–, ä¹Ÿå°±æ˜¯ä¸åŠ <code>-fno-elide-constructors</code>, æ— è®ºæ˜¯03, 11, 17ä¸‰ä¸ªæ ‡å‡†çš„è¾“å‡ºéƒ½æ˜¯åŒæ ·çš„, éƒ½æ˜¯&quot;copy big memory pool.&quot; é¦–å…ˆè§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜, åœ¨é€šè¿‡flagå…³é—­RVOä¹‹å, ä¸ºä»€ä¹ˆC++17çš„è¾“å‡ºä»ç„¶åƒä¼˜åŒ–åä¸€æ ·? è¿™æ˜¯å› ä¸º<code>Prvalue semantics (&quot;guaranteed copy elision&quot;)</code>, <a href="https://en.cppreference.com/w/cpp/language/copy_elision">cppreferenceçš„å‚è€ƒ</a>. ä¹Ÿå°±æ˜¯è¿™åœ¨C++17çš„è§‚ç‚¹çœ‹æ¥ä¸ç®—æ˜¯ä¸€ç§ä¼˜åŒ–, è€Œæ˜¯ä¸€ä¸ªä»è¯­ä¹‰ä¸Šå°±èƒ½è§£é‡Šçš„ä¸œè¥¿, ä¹Ÿå°±æ˜¯ç›´æ¥è®©è¿™ä¸ªä¼˜åŒ–ä»è¯­ä¹‰ä¸Šèƒ½è§£é‡Šé€š.</p>
<blockquote>
<p>Note: This rule does not specify an optimization, and the Standard does not formally describe it as â€œcopy elisionâ€ (because nothing is being elided). Instead, the C++17 core language specification of <a href="https://en.cppreference.com/w/cpp/language/value_category">prvalues</a> and <a href="https://en.cppreference.com/w/cpp/language/implicit_conversion#Temporary_materialization">temporaries</a> is fundamentally different from that of earlier C++ revisions: there is no longer a temporary to copy/move from. Another way to describe C++17 mechanics is â€œunmaterialized value passingâ€ or â€œdeferred temporary materializationâ€: prvalues are returned and used without ever materializing a temporary.</p>
</blockquote>
<p>è€Œé’ˆå¯¹ç¬¬äºŒä¸ªé—®é¢˜, å®é™…ä¸Šç¼–è¯‘å™¨åœ¨C++11ä¹‹å‰å°±å·²ç»å¯ä»¥è¿›è¡Œç±»ä¼¼çš„ä¼˜åŒ–äº†, ä½†æ˜¯ç¨‹åºå‘˜æ— æ³•æ§åˆ¶. æˆ‘ä¼°è®¡è¿™ä¸ªä¼˜åŒ–ä¹Ÿåªèƒ½åº”å¯¹ç®€å•çš„æƒ…å†µ, æ¯•ç«Ÿä¸é ç¨‹åºå‘˜ç†æ¸…æ¥šå·¦å³å€¼è¯­ä¹‰å…‰é ç¼–è¯‘å™¨è¿˜æ˜¯å›°éš¾.</p>
<p><s>å…¶å®æŒ‰ç…§åŸè®¾å®šæœ¬æ¥è¿™é‡Œæœ‰ä¸€æ®µC++98(C++03)å¯¹äºä¼˜åŒ–çš„æ±‡ç¼–åˆ†æ, ä½†æ˜¯TMçœ‹ä¸æ‡‚, å°±ä¸æ·±ç©¶äº†. åæ­£è™½ç„¶C++98çš„æ—¶å€™æ²¡æœ‰å³å€¼è¿™ä¸ªè¯´æ³•, ä½†æ˜¯ç¼–è¯‘å™¨è¿›è¡Œäº†ç±»ä¼¼çš„ä¼˜åŒ–.</s></p>
<h2 id="å®Œç¾è½¬å‘"><a class="markdownIt-Anchor" href="#å®Œç¾è½¬å‘"></a> å®Œç¾è½¬å‘</h2>
<p>ç°åœ¨è®¾æƒ³è¿™æ ·ä¸€ä¸ªå‡½æ•°factory(), å®ƒè¦æ±‚èƒ½å¤Ÿå¯¹äºä¸€ä¸ªç±»å‹T, è¿”å›è¿™ä¸ªTç±»å‹çš„shared_ptr, å¹¶ä¸”åœ¨æ„é€ çš„åŒæ—¶è¿”å›. ä¹Ÿå°±æ˜¯, è¿™ä¸ªfactory()å°±å’Œç±»å‹Tçš„æ„é€ å‡½æ•°ä¸€æ ·, åªä¸è¿‡æ˜¯è¿”å›ä¸€ä¸ªå®ä¾‹çš„shared_ptr. å‡è®¾Tåªæœ‰ä¸€ä¸ªå‚æ•°, é‚£å¯èƒ½ä¼šè¿™æ ·å†™:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>, <span class="keyword">class</span> <span class="title class_">A1</span>&gt;</span><br><span class="line"><span class="function">std::shared_ptr&lt;T&gt;</span></span><br><span class="line"><span class="function"><span class="title">factory</span><span class="params">(<span class="type">const</span> A1&amp; a1)</span>   <span class="comment">// one argument version</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> std::<span class="built_in">shared_ptr</span>&lt;T&gt;(<span class="keyword">new</span> <span class="built_in">T</span>(a1));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·çœ‹ä¼¼ä¹æ˜¯å¯è¡Œçš„, å¯¹äºä¸€ä¸ªç±»å‹A, å¯ä»¥è¿™æ ·, <code>std::shared_ptr&lt;A&gt; tmp = factory&lt;A&gt;(3);</code></p>
<p>ä½†æ˜¯å‡å¦‚Açš„æ„é€ å‡½æ•°æ¥å—çš„å‚æ•°å½¢å¼æ˜¯ä¸€ä¸ªå¯å˜çš„å¼•ç”¨å‘¢? æˆ–è€…è¯´ä½ const&amp;å›ºç„¶èƒ½å¤Ÿæ¥å—æ— è®ºæ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼, ä½†æ˜¯ä¼ è¿›æ¥ä¹‹åå°±å˜æˆä¸å¯å˜å¼•ç”¨äº†, å‡å¦‚åç»­sè¿˜æƒ³ä¿®æ”¹å°±ä¸è¡Œäº†. é‚£å¯èƒ½ä¼šè¯´å†™ä¸¤ä¸ªä¸ä¹…è¡Œäº†, ä¸€ä¸ªæ¥æ”¶å³å€¼, ä¸€ä¸ªæ¥å—å·¦å€¼. ä½†æ˜¯è¿™åªæ˜¯ä¸€ä¸ªå‚æ•°çš„æƒ…å†µ, å¦‚æœæ„é€ å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°é‚£å°±æ˜¯éœ€è¦æ’åˆ—ç»„åˆ, ä¸‰ä¸ªå››ä¸ªå°±æ˜¯ç¾éš¾.</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>, <span class="keyword">class</span> <span class="title class_">A1</span>&gt;</span><br><span class="line"><span class="function">std::shared_ptr&lt;T&gt;</span></span><br><span class="line"><span class="function"><span class="title">factory</span><span class="params">(A1&amp;&amp; a1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> std::<span class="built_in">shared_ptr</span>&lt;T&gt;(<span class="keyword">new</span> <span class="built_in">T</span>(std::forward&lt;A1&gt;(a1)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡ŒåŸæ–‡ç« æŠŠå®ƒç§°ä¹‹ä¸º:</p>
<blockquote>
<p>Rvalue references offer a simple, scalable solution to this problem:</p>
</blockquote>
<p>ä½†æ˜¯å®é™…ä¸Šå°¤å…¶æ³¨æ„, è¿™é‡Œçš„A1&amp;&amp; a1, å¹¶ä¸æ˜¯ä¸€ä¸ªå³å€¼å¼•ç”¨. å¦‚æœæ˜¯ä¸€ä¸ªå³å€¼å¼•ç”¨çš„è¯, å²‚ä¸æ˜¯æ— æ³•æ¥å—å·¦å€¼äº†? è¿™æ˜¯ä¸€ç§è¡¨ç¤ºæ–¹æ³•, è¡¨ç¤ºå¦‚æœæ¥äº†ä¸€ä¸ªå·¦å€¼, a1å°±å˜æˆå·¦å€¼å¼•ç”¨, å¦‚æœæ˜¯ä¸€ä¸ªå³å€¼, é‚£å°±æ˜¯moveç»™a1.</p>
<p>é‚£ä¸‹é¢çš„<code>std::forward&lt;A1&gt;(a1)</code>æ˜¯ä»€ä¹ˆæ„æ€? å…¶å®<code>static_cast&lt;A1&amp;&amp;&gt;(a1)</code>å’Œè¿™ä¸ªæ˜¯ç­‰ä»·çš„. å¦‚æœa1æ˜¯å·¦å€¼, æ³¨æ„, è¿™é‡Œçš„å·¦å€¼å¿…é¡»æ˜¯int&amp;, æ‰èƒ½å®Œç¾è½¬å‘:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">foo</span><span class="params">(<span class="type">int</span>&amp; a)</span> </span>&#123; std::cout &lt;&lt; <span class="string">&quot;int&amp;&quot;</span> &lt;&lt; std::endl; &#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">foo</span><span class="params">(<span class="type">int</span>&amp;&amp; a)</span> </span>&#123; std::cout &lt;&lt; <span class="string">&quot;int&amp;&amp;&quot;</span> &lt;&lt; std::endl; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> x = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">foo</span>(std::forward&lt;<span class="type">int</span>&gt;(x));</span><br><span class="line">    <span class="built_in">foo</span>(std::forward&lt;<span class="type">int</span>&gt;(<span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;normal\n&quot;</span>;</span><br><span class="line">    <span class="built_in">foo</span>(x);</span><br><span class="line">    <span class="built_in">foo</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åè¾“å‡º:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>&amp;&amp;</span><br><span class="line"><span class="type">int</span>&amp;&amp;</span><br><span class="line">normal</span><br><span class="line"><span class="type">int</span>&amp;</span><br><span class="line"><span class="type">int</span>&amp;&amp;</span><br></pre></td></tr></table></figure>
<p>å“!? ä¸ºå•¥ä¸Šé¢ä¹Ÿæ˜¯ä¸¤ä¸ªå³å€¼? è¿™é‡Œæ—¶åˆ»æ³¨æ„, å®Œç¾è½¬å‘çš„ä¿ç•™å·¦å³å€¼å±æ€§ä¸­çš„ä¿ç•™å·¦å€¼å±æ€§æ˜¯<strong>å¼•ç”¨ç±»å‹</strong>. ä¸€å®šæ—¶åˆ»è®°ä½<code>forward&lt;T&gt;</code>å’Œ<code>static_cast&lt;T&amp;&amp;&gt;</code>ä½œç”¨å·®ä¸å¤š. å¦‚æœæ˜¯ä¸€ä¸ªT, å°±å˜æˆT&amp;&amp;, åªæœ‰T&amp;æ‰æ˜¯T&amp;, ç„¶åT&amp;&amp;å˜æˆT&amp;&amp;.</p>
<p>å³å€¼å¼•ç”¨å’Œå¼•ç”¨æŠ˜å å…±åŒå®Œæˆäº†è¿™ä¸ªç‰¹æ€§. åœ¨å®Œç¾è½¬å‘ä¸­å³å€¼çš„å¼•å…¥è®©æ¦‚å¿µæ›´åŠ æ¸…æ™°, ä½†æ˜¯åœ¨å‡½æ•°çš„å½¢å‚é‡Œé¢çš„T&amp;&amp;å¹¶ä¸æ˜¯å³å€¼å¼•ç”¨, è¿™ä¸ªå¿…é¡»æ³¨æ„.</p>
<h1 id="å€¼ç±»åˆ«"><a class="markdownIt-Anchor" href="#å€¼ç±»åˆ«"></a> å€¼ç±»åˆ«</h1>
<p><img src="https://i.stack.imgur.com/GNhBF.png" alt="" /></p>
<p>è¿™ä¸ªå›¾ç‰‡æ¥è‡ªäºstackoverflowçš„ä¸€ä¸ªå›ç­”, å€Ÿå…¶å›¾ç‰‡ä¸€ç”¨. è€Œå¯¹äºå„ä¸ªå€¼çš„å®šä¹‰, å¼•ç”¨N3092çš„åŸæ–‡:</p>
<blockquote>
<p>An lvalue (so called, historically, because lvalues could appear on the left-hand side of an assignment expression) designates a function or an object. [ Example: If E is an expression of pointer type, then *E is an lvalue expression referring to the object or function to which E points. As another example, the result of calling a function whose return type is an lvalue reference is an lvalue. â€” end example ]</p>
<p>An xvalue (an â€œeXpiringâ€ value) also refers to an object, usually near the end of its lifetime (so that its resources may be moved, for example). An xvalue is the result of certain kinds of expressions involving rvalue references (8.3.2). [ Example: The result of calling a function whose return type is an rvalue reference is an xvalue. â€” end example ]</p>
<p>A glvalue (â€œgeneralizedâ€ lvalue) is an lvalue or an xvalue.</p>
<p>An rvalue (so called, historically, because rvalues could appear on the right-hand side of an assignment expressions) is an xvalue, a temporary object (12.2) or subobject thereof, or a value that is not associated with an object.</p>
<p>A prvalue (â€œpureâ€ rvalue) is an rvalue that is not an xvalue. [ Example: The result of calling a function whose return type is not a reference is a prvalue. The value of a literal such as 12, 7.3e5, or true is also a prvalue. â€” end example ]</p>
</blockquote>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯, åœ¨æ ‡å‡†é‡Œé¢è¯¦ç»†æåˆ°äº†å…³äºå€¼è½¬æ¢éƒ¨åˆ†.</p>
<blockquote>
<p>Whenever a glvalue appears in a context where a prvalue is expected, the glvalue is converted to a prvalue; see 4.1, 4.2, and 4.3.</p>
</blockquote>
<p>å½“éœ€è¦ä¸€ä¸ªçº¯å³å€¼çš„æ—¶å€™, è€Œå‡ºç°äº†ä¸€ä¸ªæ³›å·¦å€¼, åˆ™ä¼šå‘ç”Ÿè½¬æ¢. è€Œè¿™ä¸‰ä¸ªè½¬æ¢4.1, 4.2, 4.3åˆ†åˆ«æ˜¯<code>Lvalue-to-rvalue convertion</code>, <code>Array-to-pointer convertion</code>, <code>Function-to-pointer convertion</code>. æœ€å¸¸è§çš„ç¬¬ä¸€ä¸ªè½¬æ¢, æ¯”å¦‚å¯¹äºèµ‹å€¼è¿ç®—ç¬¦, æœŸæœ›å³ä¾§æ˜¯ä¸€ä¸ªçº¯å³å€¼, ä½†æ˜¯å®é™…ä½¿ç”¨ä¹Ÿä¼šå‡ºç°<code>b=a</code>è¿™æ ·, è¿™ä¸ªæ—¶å€™å°±æ˜¯å‘ç”Ÿäº†ç¬¬ä¸€ç§è½¬æ¢.</p>
<p>æ‰¯è¿œäº†, å·¦å€¼å’Œçº¯å³å€¼æ˜¯æœ€å¥½ç†è§£çš„. åœ¨CPP11ä¹‹å‰, æˆ‘ä»¬å¸¸è¯´çš„å·¦å€¼å®é™…ä¸Šæ˜¯æ³›å·¦å€¼(glvalue), æˆ‘ä»¬è¯´çš„å³å€¼å®é™…ä¸Šæ˜¯çº¯å³å€¼(prvalue). æƒ³è¦ç†è§£CPP11çš„expresstionçš„åˆ†ç±», å…¶å…³é”®æ˜¯ç†è§£è¿™ä¸ªå¤šå‡ºæ¥çš„ä¸œè¥¿, å°†äº¡å€¼(eXpiring value).</p>
<blockquote>
<p>[ Note: An expression is an xvalue if it is:</p>
<p>â€” the result of calling a function, whether implicitly or explicitly, whose return type is an rvalue reference to object type,</p>
<p>â€” a cast to an rvalue reference to object type,</p>
<p>â€” a class member access expression designating a non-static data member in which the object expression is an xvalue, or</p>
<p>â€” a .* pointer-to-member expression in which the first operand is an xvalue and the second operand is a pointer to data member.</p>
<p>â€‹	In general, the effect of this rule is that named rvalue references are treated as lvalues and unnamed rvalue references to objects are treated as xvalues; rvalue references to functions are treated as lvalues whether named or not. â€” end note ]</p>
<p>[ Example:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">A</span> &#123;</span><br><span class="line">    <span class="type">int</span> m;</span><br><span class="line">&#125;;</span><br><span class="line">A&amp;&amp; <span class="keyword">operator</span>+(A, A);</span><br><span class="line"><span class="function">A&amp;&amp; <span class="title">f</span><span class="params">()</span></span>;</span><br><span class="line">A a;</span><br><span class="line">A&amp;&amp; ar = <span class="built_in">static_cast</span>&lt;A&amp;&amp;&gt;(a);</span><br></pre></td></tr></table></figure>
<p>The expressions f(), f().m, static_cast&lt;A&amp;&amp;&gt;(a), and a + a are xvalues. The expression ar is an lvalue. â€” end example ]</p>
</blockquote>
<p>è¿™æ˜¯n3092çš„åŸæ–‡.</p>
<p>ç¬¬ä¸€ç§æƒ…å†µå°±æ˜¯è¿”å›å³å€¼å¼•ç”¨çš„å‡½æ•°çš„å€¼. æ¯”å¦‚<code>T&amp;&amp; f()</code>, é‚£ä¹ˆè¿™é‡Œçš„f()çš„expressionç±»åˆ«å°±æ˜¯xvalue. (æ³¨æ„åŒºåˆ†typeå’Œexpression category, typeå°±æ˜¯int, doubleä¸€ç±», exression categoryå°±æ˜¯æ­£åœ¨è®¨è®ºçš„prvalue)</p>
<p>ç¬¬äºŒä¸ªæ˜¯static_cast&lt;T&amp;&amp;&gt;æ¥çš„.</p>
<p>ç¬¬ä¸‰ä¸ªæ˜¯ä¸€ä¸ªxvalueçš„æˆå‘˜ä»ç„¶æ˜¯xvalue. åé¢è¿˜æ¯”è¾ƒå®¹æ˜“çœ‹æ‡‚. åœ¨æ€»ç»“é‡Œé¢è¯´çš„æ›´æ¸…æ¥š, èµ·åçš„å³å€¼å¼•ç”¨å½“å·¦å€¼, æ²¡åçš„å½“å°†äº¡å€¼, å¯¹äºå‡½æ•°çš„å³å€¼å¼•ç”¨ä¸ç®¡æ€ä¹ˆæ ·éƒ½å½“å·¦å€¼.</p>
<p>è¿™é‡Œéœ€è¦åŒºåˆ†å‡½æ•°çš„è¿”å›å€¼å’Œå¯¹å‡½æ•°çš„å¼•ç”¨.</p>
<p>xvalueç©¶ç«Ÿæ˜¯ç”¨æ¥å¹²ä»€ä¹ˆçš„? ä¸ºä»€ä¹ˆè¦å¼•å…¥å®ƒ? xvalueæ ‡å¿—ç€, è¿™ä¸ªå˜é‡å·²ç»è¿›å…¥äº†ç”Ÿå‘½å‘¨æœŸæœ«æœŸ, å¯ä»¥æŠŠå®ƒçš„èµ„æºç§»åŠ¨. å®ƒæ˜¯ä¸€ç§æ ‡å¿—. å’Œå³å€¼ä¸åŒ, å°±åƒè¿™ä¸ªè¯­å¥<code>string&amp;&amp; a = string(&quot;wowo&quot;);</code>è¿™é‡Œå³ä¾§å°±ä¸æ˜¯ä¸€ä¸ªå°†äº¡å€¼, åªæ˜¯ä¸€ä¸ªç®€å•çš„ç”¨å³å€¼åˆå§‹åŒ–ä¸€ä¸ªå˜é‡. ä»è¯­æ³•è§„å®šä¸Šçœ‹, stringæ„é€ å‡½æ•°çš„è¿”å›å€¼æ˜¯stringè€Œä¸æ˜¯string&amp;&amp;, æ‰€ä»¥ä¸æ˜¯å°†äº¡å€¼. ä»è¯­ä¹‰ä¸Šæ¥ç†è§£, è¿™ä¸ªæ„é€ è¿‡ç¨‹å¹¶æ²¡æœ‰å˜é‡&quot;äº¡&quot;, è€Œè¯¸å¦‚std::move(x)è¿™æ ·çš„è¯­å¥æ˜¯æœ‰å¯èƒ½å¼•èµ·xçš„æ­»äº¡çš„, ä¾èµ–äºmoveå‡½æ•°çš„å…·ä½“å®ç°, moveä¹‹åæ²¡æœ‰åŠæ³•ä¿è¯xæ˜¯æœ‰æ•ˆçš„äº†. è€Œä¸”std::moveçš„è¿”å›å€¼æ­£æ˜¯ä¸€ä¸ªå³å€¼å¼•ç”¨.</p>
<h1 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h1>
<p>å¿½ç„¶è§‰å¾—å­¦ä¹ å·¦å³å€¼æ²¡æœ‰ä»€ä¹ˆç”¨.</p>
]]></content>
      <tags>
        <tag>study</tag>
        <tag>cpp</tag>
      </tags>
  </entry>
  <entry>
    <title>é‡æ–°å›åˆ°archç³»é‡ç½®ç‰ˆ</title>
    <url>/2023/06/18/%E9%87%8D%E6%96%B0%E5%9B%9E%E5%88%B0arch%E7%B3%BB%E9%87%8D%E7%BD%AE%E7%89%88/</url>
    <content><![CDATA[<p>ç°åœ¨æ˜¯2023å¹´çš„6æœˆä»½, æœ¬æ¥æ¶¦å›ubuntu, ä½†æ˜¯è§‰å¾—ä¸å¤Ÿåˆºæ¿€, ç°åœ¨å†æ¬¡å›åˆ°äº†endeavouros, äºæ˜¯æƒ³ç€é‡ç½®ä¸€ä¸‹è¿™ä¸€ç¯‡æ–‡ç« . é‡æ–°ç¼–æ’ä¸€ä¸‹ç»„ç»‡ç« èŠ‚. <span id="more"></span></p>
<h1 id="è¾“å…¥æ³•é—®é¢˜"><a class="markdownIt-Anchor" href="#è¾“å…¥æ³•é—®é¢˜"></a> è¾“å…¥æ³•é—®é¢˜</h1>
<p>æˆ‘è¿˜æ˜¯ä¸æƒ³æ¢</p>
<h1 id="æ˜¾å¡é©±åŠ¨é—®é¢˜"><a class="markdownIt-Anchor" href="#æ˜¾å¡é©±åŠ¨é—®é¢˜"></a> æ˜¾å¡é©±åŠ¨é—®é¢˜</h1>
<p>ä¸€ç›´ä»¥æ¥, archç³»å’ŒUbuntuç›¸å¯¹æ¯”ä¸€ç›´å·®ç‚¹æ„æ€. é¦–å…ˆæ˜¯archè‡ªå·±, è£…å®Œæ¡Œé¢åé…ç½®è¿‡äºéº»çƒ¦, æ˜¯åœ¨æ˜¯è®©äººéš¾ä»¥å¿å—. manjaroä¹Ÿä¸æ˜¯å¾ˆå¥½, çªå‡ºè¡¨ç°åœ¨é©±åŠ¨, å¯¹äºNå¡çš„é©±åŠ¨æ¯”archå®åœ¨æ˜¯å·®å¤ªå¤šäº†. ä½¿ç”¨manjaroç©MCä¼šç”»é¢æ’•è£‚, ç½ªé­ç¥¸é¦–è¿˜æ˜¯é‡‡å–äº†ä¸€ä¸ªhybridçš„æ˜¾å¡é©±åŠ¨æ–¹æ³•(å½“ç„¶è‡ª2023å¹´ä»¥æ¥æˆ‘ä¹Ÿæ²¡æœ‰å†å»è¯•manjaroäº†). è€Œä¸”manjaroæ¯•ç«Ÿä¸æ˜¯arch, åœ¨ä½¿ç”¨ä¸€äº›aurè½¯ä»¶æˆ–è€…æ˜¯GitHubçš„å¼€æºé¡¹ç›®è¿‡ç¨‹ä¸­, ä¸‡ä¸€å‡ºäº†é—®é¢˜, æœ‰æ—¶å€™æ²¡æ³•å¤ç°. æ¯•ç«Ÿauræ˜¯ç»™archç”¨çš„è€Œä¸æ˜¯ç»™manjaroç”¨çš„.</p>
<p>å¯¹äºä¸€äº›å¯¹archäº²ç¼˜æ¯”è¾ƒè¿‘çš„å‘è¡Œç‰ˆ, å¯¹äºNå¡çš„æ–¹æ¡ˆå°±å¥½å¾ˆå¤š, å¯¹äºç¬”è®°æœ¬çš„åŒæ˜¾å¡åˆ‡æ¢è¯•ç”¨<code>nvidia-prime</code>çš„æ–¹æ¡ˆ, ä¹Ÿå°±æ˜¯é»˜è®¤æ˜¯ä¸€ç§æ··åˆçš„æ¨¡å¼, å¦‚æœéœ€è¦ä½¿ç”¨ç‹¬æ˜¾, æ˜¾ç¤ºåœ°ç”¨<code>prime-run</code>. è™½ç„¶è¯´è¿™ä¸ªæ–¹æ¡ˆæ²¡æœ‰å½»åº•å…³é—­nvidiaçœç”µä½†æ˜¯æ¯•ç«Ÿæ˜¯å®˜æ–¹çš„æ–¹æ¡ˆ, æ¯”manjaroçš„è¦å¥½.</p>
<p>å½“ç„¶archwikiä¹Ÿæä¾›äº†ä¸€äº›å…¶ä»–çš„æ–¹æ¡ˆ, å…¶ä¸­æœ‰ä¸€äº›æ–¹æ¡ˆæ˜¯éœ€è¦æ‰‹åŠ¨åšä¸€äº›çœ‹ä¼¼å¾ˆå±é™©çš„æ“ä½œ, æ”¹ä¸€äº›å¹³æ—¶æˆ‘ä»æ¥ä¸ä¼šå»çœ‹çš„æ–‡ä»¶, å’Œå†…æ ¸ç›¸å…³. è¿™äº›æ–¹æ¡ˆç¡®å®å¾ˆå“äºº, æ¯•ç«Ÿå¦‚æœlinuxæ¡Œé¢æ²¡äº†è¿˜å¥½, kernel panicå¤„ç†èµ·æ¥å¯æ˜¯éº»çƒ¦å¤šäº†.</p>
<p>æ‰€ä»¥çœ‹æ¥çœ‹å», å¥½ç”¨çš„å…¶å®å°±ä¸€ä¸ªé¦–æ¨çš„, <code>optimus-manager</code>. è¿™åº”è¯¥æ˜¯ç®—ä¸€ä¸ªé¦–é€‰. ä½†æ˜¯è¿™ä¸ªä¹Ÿç¡®å®æœ‰ä¸€äº›å¼Šç«¯, é¦–å…ˆå°±æ˜¯å®ƒå·²ç»å¾ˆä¹…æ²¡æœ‰æ›´æ–°äº†(è™½ç„¶è¯´It works well so no maintainance is needed). è€Œä¸”optimusä¹Ÿéœ€è¦æ­é…ä¸€äº›å…¶ä»–çš„åŒ…æ¯”å¦‚è¯´bbswitchä¸€èµ·ä½¿ç”¨æ¥&quot;å»¶é•¿ç”µæ± ç»­èˆªæ—¶é—´&quot;. é…ç½®èµ·æ¥è¿˜æ˜¯éº»çƒ¦.</p>
<p><code>envycontrol</code>æ˜¯æœ€æ–°çš„, ä¹Ÿæ˜¯ç›®å‰æœ€ä¼˜çš„è§£. ä¹Ÿæ˜¯ç›®å‰æˆ‘æ­£åœ¨ä½¿ç”¨çš„, éå¸¸å¥½ç”¨, æ–¹ä¾¿ç¨‹åº¦ç›¸å½“äºUbuntué‡Œé¢çš„<code>prime-select</code>. æˆ‘ä¹Ÿåœ¨è¿‘æœŸé‡æ–°å›åˆ°äº†archå‘è¡Œç‰ˆ, ä¹Ÿæ˜¯ä»Šå¤©çš„ä¸»è§’: <strong>endeavoros</strong>.</p>
<p>å¦‚æœæ˜¯æƒ³è¦å®‰è£…xfceçš„ç‰ˆæœ¬é‚£æ²¡æœ‰ä»€ä¹ˆå¤§é—®é¢˜, ç›´æ¥å®‰è£…å°±è¡Œ, é»˜è®¤ä¸‹é¢å°±æ˜¯ç»™ä½ å®‰è£…xfceæ¡Œé¢. ä½†æ˜¯å¦‚æœä½ æƒ³å®‰è£…å…¶ä»–çš„æ¡Œé¢ç¯å¢ƒæ¯”å¦‚è¯´æˆ‘æœ€å–œæ¬¢çš„KDE, æˆ–è€…æ˜¯gnome. é‚£ä¹ˆå°±éœ€è¦å…ˆ<strong>æ¢æº</strong>. ä¿è¯pacmanä¸ä¼šæŠ¥ç½‘ç»œç›¸å…³çš„é”™è¯¯. è€Œä¸”å¦‚æœä¸æ¢æºçš„è¯å¾ˆæœ‰å¯èƒ½å®ƒä¼šç»™ä½ æŠ¥é”™, å°±è¯´è¿ä¸ä¸Šç½‘ç»œ, æ— æ³•ä½¿ç”¨onlineæ¨¡å¼, è€Œofflineåªæœ‰xfceè¿™ä¸€ç§æ¡Œé¢ç¯å¢ƒ. è”ç½‘äº†ä¹‹åçš„é€‰æ‹©æ˜¯ååˆ†ä¸°å¯Œçš„.</p>
<p>å…¶å®å’Œmanjaroç¡®å®å·®ä¸å¤ªå¤š, å¯ä»¥å‚çœ‹manjaroé‚£ä¸€ç¯‡æ–‡ç« . å…³äºUbuntuçš„é‚£ä¸€ç¯‡æ–‡ç« å†™çš„æ˜¯çœŸçš„è¯¦ç»†. åœ¨è¿›å…¥liveç¯å¢ƒçš„æ—¶å€™å¦‚æœé€‰æ‹©äº†nvidiaçš„é‚£ä¸ªé€‰æ‹©é¡¹, é‚£ä¹ˆåœ¨å®‰è£…å®Œæˆä¹‹ååº”è¯¥ä¼šæ˜¯è‡ªåŠ¨å®‰è£…çš„Nå¡é©±åŠ¨. ç„¶åå†æ­é…ä¸Šæœ€æ–°çš„envycontrol, ç®€ç›´æ˜¯å®Œç¾.</p>
<p>å¯ä»¥è¯´æµç•…åœ°ç”¨ä¸Šäº†archç³»ç®€ç›´æ˜¯èµ°ä¸Šäº†äººç”Ÿå·…å³°çš„æ„Ÿè§‰.</p>
<p><strong>é‚£ä¹ˆæ¥ä¸‹æ¥æ˜¯æˆ‘æ–°æ·»åŠ çš„å†…å®¹ä»¥åŠæ–°çš„æƒ³è¯´çš„è¯.</strong> å®é™…æƒ…å†µæ˜¯, envycontrolä¾èµ–äºç‰¹å®šç‰ˆæœ¬çš„python. åœ¨ä¸Šæ¬¡ç¦»å¼€archç³»çš„åŸå› å°±æ˜¯yay -Syyuçš„æ—¶å€™pythonä»3.10æ›´æ–°åˆ°äº†3.11, ç„¶åä¸€å¤§ç¥¨è½¯ä»¶é€šé€šå¯„äº†, æˆ‘çš„å¤‡ä»½ä¹Ÿæ¯”è¾ƒè€, æ‰€ä»¥ç›´æ¥æ”¾å¼ƒäº†. è¿™æ¬¡äº‹æ•…å†æ¬¡è®©äººè®¤è¯†åˆ°, ä¸€æ—¦ä¸€ä¸ªè½¯ä»¶æ˜¯éå®˜æ–¹çš„, ä¾èµ–ç¤¾åŒºçš„, å®ƒå°±å¾ˆå®¹æ˜“å‡ºäº†é—®é¢˜å¥½ä¹…æ²¡äººè§£å†³. æˆ‘ä¸çŸ¥é“ç°åœ¨è§£å†³æ²¡æœ‰ä½†æ˜¯, æˆ‘ç°åœ¨ä»ç„¶åœ¨ä½¿ç”¨å®˜æ–¹çš„<code>nvidia-prime</code>æ–¹æ¡ˆ, è™½ç„¶çœ‹ä¸Šå»å¥½åƒè€—ç”µ, ä½†æ˜¯æ›´åŠ å®‰å¿ƒ. aurçš„ç¤¾åŒºåŒ…éå¸¸å¤š, ä½†æ˜¯å¯èƒ½é—®é¢˜ä¹Ÿå¾ˆå¤š, å¾ˆå¤šæ—¶å€™å°±æ˜¯èƒ½å°‘è£…å‡ ä¸ªå°±å°‘è£…å‡ ä¸ª, å°½é‡è£…æœ‰å®˜æ–¹æ”¯æŒçš„, ä¸ç„¶ç”¨archå°±æ°¸è¿œåœ¨çœ‹issueå’Œä¿®bugçš„è·¯ä¸Š.</p>
<h1 id="pacmanåŒ…ç®¡ç†å™¨"><a class="markdownIt-Anchor" href="#pacmanåŒ…ç®¡ç†å™¨"></a> pacmanåŒ…ç®¡ç†å™¨</h1>
<p>å¯¹äºå®‰è£…, å¤šæ˜¯Så¼€å¤´. æ²¡æœ‰ä»€ä¹ˆç¨€å¥‡çš„åœ°æ–¹.</p>
<p><code>pacman -Rs package_name</code>: ç›¸æ¯”æ™®é€šçš„-R, è¿™ä¸ªä¼šremoveæ‰€æœ‰çš„dependencies.</p>
<p><code>pacman -Rn package_name</code>: prevent backup files of package.</p>
<p>æ˜¾ç„¶-Rsnæ˜¯æœªæ¥ç»å¸¸ç”¨çš„å‘½ä»¤äº†.</p>
<p><code>pacman -Syu</code>: æ›´æ–°æ•´ä¸ªç³»ç»Ÿ. å¦‚æœæ˜¯Syyu, å°±æ˜¯å¼ºåˆ¶é‡æ–°sync repo, å³ä½¿repoå·²ç»æŠ¥å‘Šå®ƒæ²¡æœ‰è¢«æ›´æ–°.</p>
<p>é™¤å¼€æ›´æ–°ä¸‹è½½å’Œå®‰è£…, æŸ¥è¯¢ä¹Ÿæ˜¯åŒ…ç®¡ç†å™¨é‡è¦çš„åŠŸèƒ½. éšç€å¯¹linuxç³»ç»Ÿä½¿ç”¨çš„æ·±å…¥, æŸ¥è¯¢å‘½ä»¤ç¡®å®ç”¨å¾—è¶Šæ¥è¶Šå¤š.</p>
<blockquote>
<p>Pacman queries the local package database with the <code>-Q</code> flag, the sync database with the <code>-S</code> flag and the files database with the <code>-F</code> flag. See <code>pacman -Q --help</code>, <code>pacman -S --help</code> and <code>pacman -F --help</code> for the respective suboptions of each flag.</p>
</blockquote>
<p><code>pacman -Ss string1 string2 ...</code>: åœ¨è¿œç«¯æœç´¢è¿™ä¸ªåŒ…çš„åå­—, åˆ—å‡ºæè¿°. è¿™ä¸ªæè¿°è¿˜æ˜¯æ¯”è¾ƒç®€ç•¥, ä½†æ˜¯å…³é”®æ˜¯å®ƒæ˜¾ç¤ºäº†æ¯ä¸ªåŒ…æ¥è‡ªäºå“ªä¸ªä»“åº“:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">âœ  ~ sudo pacman -Ss neovim     </span><br><span class="line">community/neovide 0.10.3-1</span><br><span class="line">    No Nonsense Neovim Client in Rust</span><br><span class="line">community/neovim 0.8.3-1 [installed]</span><br><span class="line">    Fork of Vim aiming to improve user experience, plugins, and GUIs</span><br><span class="line">...çœç•¥, ç±»ä¼¼è¿™ä¸€ç§æ˜¾ç¤ºä¿¡æ¯.</span><br></pre></td></tr></table></figure>
<p>å¦‚æœè§‰å¾—ä¿¡æ¯å¤ªå°‘, ä½¿ç”¨-SiæŸ¥çœ‹extensiveçš„ä¿¡æ¯.</p>
<p>å¯¹äºå·²ç»installçš„åŒ…, å¯ä»¥ä½¿ç”¨-Qé€‰é¡¹æ¥æŸ¥è¯¢:</p>
<p><code>pacman -Qs neovim</code></p>
<p>åŒæ ·çš„:</p>
<p><code>pacman -Qi neovim</code></p>
<p>å¦‚æœæƒ³è¦æŸ¥çœ‹ä¸€ä¸ªåŒ…å®‰è£…åœ¨å“ªäº›ç›®å½•, ä½¿ç”¨-Ql, è¿™æ ·ä¸€ä¸‹å­ç¡®å®è¾“å‡ºå¾ˆå¤šç›®å½•.</p>
<p>ç„¶åè¿˜æœ‰ä¸€ä¸ªç‰¹åˆ«ä¹çš„, å¯ä»¥çœ‹ä¸€ä¸ªæ–‡ä»¶æ˜¯è°åœ¨maintain:</p>
<p><code>pacman -Qo filepath</code></p>
<p>æˆ‘å°±æ˜¯é€šè¿‡è¿™ä¹ˆå‘½ä»¤éªŒè¯äº†<code>/etc/environment</code>è¿™ä¸ªæ–‡ä»¶æ˜¯å±äºå“ªä¸€ä¸ªåŒ…, åœ¨ç¾¤å‹çš„å¸®åŠ©ä¸‹ç¡®å®å­¦åˆ°äº†å¾ˆå¤š.</p>
]]></content>
      <tags>
        <tag>touchfish</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>é‡æ–°å›åˆ°archç³»</title>
    <url>/2023/03/09/%E9%87%8D%E6%96%B0%E5%9B%9E%E5%88%B0arch%E7%B3%BB/</url>
    <content><![CDATA[<p>ç°åœ¨æ˜¯2023å¹´çš„3æœˆä»½, Ubuntu23.04å³å°†å‘å¸ƒ, å¸¦æ¥ä¸€ä¸ªæ–°çš„æ›´åŠ ç²¾ç®€çš„é•œåƒ, å¹¶ä¸”å¸¦æ¥è®¸å¤šæ–°ç‰¹æ€§. ä½†æ˜¯æˆ‘å´å°è¯•å›åˆ°äº†endeavoros. <span id="more"></span></p>
<p>ä¸€ç›´ä»¥æ¥, archç³»å’ŒUbuntuç›¸å¯¹æ¯”ä¸€ç›´å·®ç‚¹æ„æ€. é¦–å…ˆæ˜¯archè‡ªå·±, è£…å®Œæ¡Œé¢åé…ç½®è¿‡äºéº»çƒ¦, æ˜¯åœ¨æ˜¯è®©äººéš¾ä»¥å¿å—. manjaroä¹Ÿä¸æ˜¯å¾ˆå¥½, çªå‡ºè¡¨ç°åœ¨é©±åŠ¨, å¯¹äºNå¡çš„é©±åŠ¨æ¯”archå®åœ¨æ˜¯å·®å¤ªå¤šäº†. ä½¿ç”¨manjaroç©MCä¼šç”»é¢æ’•è£‚, ç½ªé­ç¥¸é¦–è¿˜æ˜¯é‡‡å–äº†ä¸€ä¸ªhybridçš„æ˜¾å¡é©±åŠ¨æ–¹æ³•(å½“ç„¶è‡ª2023å¹´ä»¥æ¥æˆ‘ä¹Ÿæ²¡æœ‰å†å»è¯•manjaroäº†). è€Œä¸”manjaroæ¯•ç«Ÿä¸æ˜¯arch, åœ¨ä½¿ç”¨ä¸€äº›aurè½¯ä»¶æˆ–è€…æ˜¯GitHubçš„å¼€æºé¡¹ç›®è¿‡ç¨‹ä¸­, ä¸‡ä¸€å‡ºäº†é—®é¢˜, æœ‰æ—¶å€™æ²¡æ³•å¤ç°. æ¯•ç«Ÿauræ˜¯ç»™archç”¨çš„è€Œä¸æ˜¯ç»™manjaroç”¨çš„.</p>
<p>å¯¹äºä¸€äº›å¯¹archäº²ç¼˜æ¯”è¾ƒè¿‘çš„å‘è¡Œç‰ˆ, å¯¹äºNå¡çš„æ–¹æ¡ˆå°±å¥½å¾ˆå¤š, å¯¹äºç¬”è®°æœ¬çš„åŒæ˜¾å¡åˆ‡æ¢è¯•ç”¨<code>nvidia-prime</code>çš„æ–¹æ¡ˆ, ä¹Ÿå°±æ˜¯é»˜è®¤æ˜¯ä¸€ç§æ··åˆçš„æ¨¡å¼, å¦‚æœéœ€è¦ä½¿ç”¨ç‹¬æ˜¾, æ˜¾ç¤ºåœ°ç”¨<code>prime-run</code>. è™½ç„¶è¯´è¿™ä¸ªæ–¹æ¡ˆæ²¡æœ‰å½»åº•å…³é—­nvidiaçœç”µä½†æ˜¯æ¯•ç«Ÿæ˜¯å®˜æ–¹çš„æ–¹æ¡ˆ, æ¯”manjaroçš„è¦å¥½.</p>
<p>å½“ç„¶archwikiä¹Ÿæä¾›äº†ä¸€äº›å…¶ä»–çš„æ–¹æ¡ˆ, å…¶ä¸­æœ‰ä¸€äº›æ–¹æ¡ˆæ˜¯éœ€è¦æ‰‹åŠ¨åšä¸€äº›çœ‹ä¼¼å¾ˆå±é™©çš„æ“ä½œ, æ”¹ä¸€äº›å¹³æ—¶æˆ‘ä»æ¥ä¸ä¼šå»çœ‹çš„æ–‡ä»¶, å’Œå†…æ ¸ç›¸å…³. è¿™äº›æ–¹æ¡ˆç¡®å®å¾ˆå“äºº, æ¯•ç«Ÿå¦‚æœlinuxæ¡Œé¢æ²¡äº†è¿˜å¥½, kernel panicå¤„ç†èµ·æ¥å¯æ˜¯éº»çƒ¦å¤šäº†.</p>
<p>æ‰€ä»¥çœ‹æ¥çœ‹å», å¥½ç”¨çš„å…¶å®å°±ä¸€ä¸ªé¦–æ¨çš„, <code>optimus-manager</code>. è¿™åº”è¯¥æ˜¯ç®—ä¸€ä¸ªé¦–é€‰. ä½†æ˜¯è¿™ä¸ªä¹Ÿç¡®å®æœ‰ä¸€äº›å¼Šç«¯, é¦–å…ˆå°±æ˜¯å®ƒå·²ç»å¾ˆä¹…æ²¡æœ‰æ›´æ–°äº†(è™½ç„¶è¯´It works well so no maintainance is needed). è€Œä¸”optimusä¹Ÿéœ€è¦æ­é…ä¸€äº›å…¶ä»–çš„åŒ…æ¯”å¦‚è¯´bbswitchä¸€èµ·ä½¿ç”¨æ¥&quot;å»¶é•¿ç”µæ± ç»­èˆªæ—¶é—´&quot;. é…ç½®èµ·æ¥è¿˜æ˜¯éº»çƒ¦.</p>
<p><code>envycontrol</code>æ˜¯æœ€æ–°çš„, ä¹Ÿæ˜¯ç›®å‰æœ€ä¼˜çš„è§£. ä¹Ÿæ˜¯ç›®å‰æˆ‘æ­£åœ¨ä½¿ç”¨çš„, éå¸¸å¥½ç”¨, æ–¹ä¾¿ç¨‹åº¦ç›¸å½“äºUbuntué‡Œé¢çš„<code>prime-select</code>. æˆ‘ä¹Ÿåœ¨è¿‘æœŸé‡æ–°å›åˆ°äº†archå‘è¡Œç‰ˆ, ä¹Ÿæ˜¯ä»Šå¤©çš„ä¸»è§’: <strong>endeavoros</strong>.</p>
<p>å¦‚æœæ˜¯æƒ³è¦å®‰è£…xfceçš„ç‰ˆæœ¬é‚£æ²¡æœ‰ä»€ä¹ˆå¤§é—®é¢˜, ç›´æ¥å®‰è£…å°±è¡Œ, é»˜è®¤ä¸‹é¢å°±æ˜¯ç»™ä½ å®‰è£…xfceæ¡Œé¢. ä½†æ˜¯å¦‚æœä½ æƒ³å®‰è£…å…¶ä»–çš„æ¡Œé¢ç¯å¢ƒæ¯”å¦‚è¯´æˆ‘æœ€å–œæ¬¢çš„KDE, æˆ–è€…æ˜¯gnome. é‚£ä¹ˆå°±éœ€è¦å…ˆ<strong>æ¢æº</strong>. ä¿è¯pacmanä¸ä¼šæŠ¥ç½‘ç»œç›¸å…³çš„é”™è¯¯. è€Œä¸”å¦‚æœä¸æ¢æºçš„è¯å¾ˆæœ‰å¯èƒ½å®ƒä¼šç»™ä½ æŠ¥é”™, å°±è¯´è¿ä¸ä¸Šç½‘ç»œ, æ— æ³•ä½¿ç”¨onlineæ¨¡å¼, è€Œofflineåªæœ‰xfceè¿™ä¸€ç§æ¡Œé¢ç¯å¢ƒ. è”ç½‘äº†ä¹‹åçš„é€‰æ‹©æ˜¯ååˆ†ä¸°å¯Œçš„.</p>
<p>å…¶å®å’Œmanjaroç¡®å®å·®ä¸å¤ªå¤š, å¯ä»¥å‚çœ‹manjaroé‚£ä¸€ç¯‡æ–‡ç« . å…³äºUbuntuçš„é‚£ä¸€ç¯‡æ–‡ç« å†™çš„æ˜¯çœŸçš„è¯¦ç»†. åœ¨è¿›å…¥liveç¯å¢ƒçš„æ—¶å€™å¦‚æœé€‰æ‹©äº†nvidiaçš„é‚£ä¸ªé€‰æ‹©é¡¹, é‚£ä¹ˆåœ¨å®‰è£…å®Œæˆä¹‹ååº”è¯¥ä¼šæ˜¯è‡ªåŠ¨å®‰è£…çš„Nå¡é©±åŠ¨. ç„¶åå†æ­é…ä¸Šæœ€æ–°çš„envycontrol, ç®€ç›´æ˜¯å®Œç¾.</p>
<p>å¯ä»¥è¯´æµç•…åœ°ç”¨ä¸Šäº†archç³»ç®€ç›´æ˜¯èµ°ä¸Šäº†äººç”Ÿå·…å³°çš„æ„Ÿè§‰.</p>
<h1 id="pacmanåŒ…ç®¡ç†å™¨"><a class="markdownIt-Anchor" href="#pacmanåŒ…ç®¡ç†å™¨"></a> pacmanåŒ…ç®¡ç†å™¨</h1>
<p>å¯¹äºå®‰è£…, å¤šæ˜¯Så¼€å¤´. æ²¡æœ‰ä»€ä¹ˆç¨€å¥‡çš„åœ°æ–¹.</p>
<p><code>pacman -Rs package_name</code>: ç›¸æ¯”æ™®é€šçš„-R, è¿™ä¸ªä¼šremoveæ‰€æœ‰çš„dependencies.</p>
<p><code>pacman -Rn package_name</code>: prevent backup files of package.</p>
<p>æ˜¾ç„¶-Rsnæ˜¯æœªæ¥ç»å¸¸ç”¨çš„å‘½ä»¤äº†.</p>
<p><code>pacman -Syu</code>: æ›´æ–°æ•´ä¸ªç³»ç»Ÿ. å¦‚æœæ˜¯Syyu, å°±æ˜¯å¼ºåˆ¶é‡æ–°sync repo, å³ä½¿repoå·²ç»æŠ¥å‘Šå®ƒæ²¡æœ‰è¢«æ›´æ–°.</p>
<p>é™¤å¼€æ›´æ–°ä¸‹è½½å’Œå®‰è£…, æŸ¥è¯¢ä¹Ÿæ˜¯åŒ…ç®¡ç†å™¨é‡è¦çš„åŠŸèƒ½. éšç€å¯¹linuxç³»ç»Ÿä½¿ç”¨çš„æ·±å…¥, æŸ¥è¯¢å‘½ä»¤ç¡®å®ç”¨å¾—è¶Šæ¥è¶Šå¤š.</p>
<blockquote>
<p>Pacman queries the local package database with the <code>-Q</code> flag, the sync database with the <code>-S</code> flag and the files database with the <code>-F</code> flag. See <code>pacman -Q --help</code>, <code>pacman -S --help</code> and <code>pacman -F --help</code> for the respective suboptions of each flag.</p>
</blockquote>
<p><code>pacman -Ss string1 string2 ...</code>: åœ¨è¿œç«¯æœç´¢è¿™ä¸ªåŒ…çš„åå­—, åˆ—å‡ºæè¿°. è¿™ä¸ªæè¿°è¿˜æ˜¯æ¯”è¾ƒç®€ç•¥, ä½†æ˜¯å…³é”®æ˜¯å®ƒæ˜¾ç¤ºäº†æ¯ä¸ªåŒ…æ¥è‡ªäºå“ªä¸ªä»“åº“:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">âœ  ~ sudo pacman -Ss neovim     </span><br><span class="line">community/neovide 0.10.3-1</span><br><span class="line">    No Nonsense Neovim Client in Rust</span><br><span class="line">community/neovim 0.8.3-1 [installed]</span><br><span class="line">    Fork of Vim aiming to improve user experience, plugins, and GUIs</span><br><span class="line">...çœç•¥, ç±»ä¼¼è¿™ä¸€ç§æ˜¾ç¤ºä¿¡æ¯.</span><br></pre></td></tr></table></figure>
<p>å¦‚æœè§‰å¾—ä¿¡æ¯å¤ªå°‘, ä½¿ç”¨-SiæŸ¥çœ‹extensiveçš„ä¿¡æ¯.</p>
<p>å¯¹äºå·²ç»installçš„åŒ…, å¯ä»¥ä½¿ç”¨-Qé€‰é¡¹æ¥æŸ¥è¯¢:</p>
<p><code>pacman -Qs neovim</code></p>
<p>åŒæ ·çš„:</p>
<p><code>pacman -Qi neovim</code></p>
<p>å¦‚æœæƒ³è¦æŸ¥çœ‹ä¸€ä¸ªåŒ…å®‰è£…åœ¨å“ªäº›ç›®å½•, ä½¿ç”¨-Ql, è¿™æ ·ä¸€ä¸‹å­ç¡®å®è¾“å‡ºå¾ˆå¤šç›®å½•.</p>
<p>ç„¶åè¿˜æœ‰ä¸€ä¸ªç‰¹åˆ«ä¹çš„, å¯ä»¥çœ‹ä¸€ä¸ªæ–‡ä»¶æ˜¯è°åœ¨maintain:</p>
<p><code>pacman -Qo filepath</code></p>
<p>æˆ‘å°±æ˜¯é€šè¿‡è¿™ä¹ˆå‘½ä»¤éªŒè¯äº†<code>/etc/environment</code>è¿™ä¸ªæ–‡ä»¶æ˜¯å±äºå“ªä¸€ä¸ªåŒ…, åœ¨ç¾¤å‹çš„å¸®åŠ©ä¸‹ç¡®å®å­¦åˆ°äº†å¾ˆå¤š.</p>
]]></content>
      <tags>
        <tag>touchfish</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>å’Œæˆ‘ä¸€èµ·å†™makefile</title>
    <url>/2023/02/05/%E5%92%8C%E6%88%91%E4%B8%80%E8%B5%B7%E5%86%99makefile/</url>
    <content><![CDATA[<h1 id="å…³äº"><a class="markdownIt-Anchor" href="#å…³äº"></a> å…³äº</h1>
<p>æ–‡ç« å†…å®¹æ˜¯é™ˆçš“çš„è·Ÿæˆ‘ä¸€èµ·å†™ makefile. ä½†æ˜¯ç›®å‰èƒ½æ‰¾åˆ°çš„åŸç‰ˆå¥½åƒæ˜¯ csdn ä¸Šé¢çš„(æˆ‘ä¹Ÿæ²¡æœ‰å¥½å¥½æ‰¾), ä¸æ–¹ä¾¿å¤åˆ¶ä¸‹æ¥çœ‹.</p>
<p>è™½ç„¶æœ‰ä¸€ä¸ª PDF çš„é‡ç½®ç‰ˆ, ä½†æ˜¯æˆ‘è¿˜æ˜¯æ›´å–œæ¬¢æ–‡å­—å’Œ markdown.</p>
<p>åœ¨ GitHub ä¸Šé¢æœ‰ lewis1573 å¼€çš„é‡ç½®ç‰ˆ markdown ä»“åº“:<a href="https://github.com/lewis1573/write-makefile-with-me">ç‚¹æ­¤</a>, éå¸¸æ„Ÿè°¢ä»–çš„å·¥ä½œ! (å…¶å®å¦‚æœ GitHub ä¸Šé¢æ‰¾ä¸åˆ° markdown é‡ç½®ç‰ˆå¯èƒ½æˆ‘è‡ªå·±å°±è¦å‘äº†).</p>
<p>æ–‡ä¸­å¦‚æœæ˜¯æˆ‘è‡ªå·±çš„è¯„è®ºæˆ–è€…æ˜¯ç¬”è®°, ä¼šä½¿ç”¨å¼•ç”¨çš„å½¢å¼æ ‡å‡ºæ¥. åŒæ—¶æˆ‘ä¹Ÿä¼šå¯¹æ–‡ç« é‡Œé¢çš„å†…å®¹å†å¯¹ç…§ä¸€æ¬¡. çœ‹çœ‹æœ‰æ²¡æœ‰ä»€ä¹ˆé”™è¯¯. (å…¶å®é”™è¯¯å€’æ˜¯ä¸è‡³äº, ä¸»è¦æ˜¯æˆ‘ä¼šå†å°†markdownä¼˜åŒ–ä¸€ä¸‹, å› ä¸º$åœ¨å¾ˆå¤šmarkdownç¼–è¾‘å™¨é‡Œé¢ä¼šå’Œæ•°å­¦å…¬å¼è”ç³»åœ¨ä¸€èµ·, å¯¼è‡´æ˜¾ç¤ºå‡ºç°é—®é¢˜, æœ€åé’ˆå¯¹æ˜¾ç¤ºå‡ºç°é—®é¢˜çš„æƒ…å†µæˆ‘ä¼šå†ä¼˜åŒ–ä¸€ä¸‹.)</p>
<p>å¦‚æœæœ‰èƒ½åŠ›è¿˜æ˜¯æ¨èå»GitHubä¸Šé¢çœ‹åŸä½œè€…çš„Markdown. è™½ç„¶æ²¡æœ‰ç›®å½•å¥½åƒä¸æ–¹ä¾¿çœ‹, ä½†æ˜¯æ¯•ç«Ÿæ˜¯åŸä½œè€…, ä»–åšçš„æ›´åŠ ç»†è‡´, æˆ‘æ‘˜æŠ„ä¸‹æ¥å¯èƒ½ä¼šæœ‰æ ¼å¼é”™è¯¯çš„é—®é¢˜!</p>
<span id="more"></span>
<p><strong>éœ€è¦æ³¨æ„çš„æ˜¯, å› ä¸º tab å’Œç©ºæ ¼çš„é—®é¢˜çº ç¼ ä¸æ¸…, æ‰€ä»¥å¯¼è‡´ç½‘ä¸Šå¾ˆå¤šçš„ makefile æ˜¯æ²¡æœ‰åŠæ³•ç›´æ¥è¿è¡Œçš„.</strong> æ‰€ä»¥ä½œè€…ä¸ºäº†ä¿è¯ makefile èƒ½å¤Ÿè¿è¡Œ, æ˜¯ä½¿ç”¨äº† <code>.RECIPEPREFIX = &gt;</code> è¿™ä¸€å¥è¯. ä½¿ç”¨äº†è¿™ä¸ªå£°æ˜ä¹‹å, å¾€åçš„å‘½ä»¤å°±ä¸é€‚ç”¨ tab å¼€å¤´, è€Œæ˜¯ä½¿ç”¨ &gt; å¼€å¤´äº†. éå¸¸æœ‰æ„æ€.</p>
<h1 id="1-æ¦‚è¿°"><a class="markdownIt-Anchor" href="#1-æ¦‚è¿°"></a> 1 æ¦‚è¿°</h1>
<p>ä»€ä¹ˆæ˜¯makefileï¼Ÿæˆ–è®¸å¾ˆå¤šWindowsçš„ç¨‹åºå‘˜éƒ½ä¸çŸ¥é“è¿™ä¸ªä¸œè¥¿ï¼Œå› ä¸ºé‚£äº›Windowsçš„é›†æˆå¼€å‘ç¯å¢ƒï¼ˆintegrated developmentenvironmentï¼ŒIDEï¼‰éƒ½ä¸ºä½ åšäº†è¿™ä¸ªå·¥ä½œï¼Œä½†æˆ‘è§‰å¾—è¦ä½œä¸€ä¸ªå¥½çš„å’Œä¸“ä¸šçš„ç¨‹åºå‘˜ï¼Œmakefileè¿˜æ˜¯è¦æ‡‚ã€‚è¿™å°±å¥½åƒç°åœ¨æœ‰è¿™ä¹ˆå¤šçš„HTMLç¼–è¾‘å™¨ï¼Œä½†å¦‚æœä½ æƒ³æˆä¸ºä¸€ä¸ªä¸“ä¸šäººå£«ï¼Œä½ è¿˜æ˜¯è¦äº†è§£HTMLçš„æ ‡ç­¾çš„å«ä¹‰ã€‚ç‰¹åˆ«åœ¨Unixä¸‹çš„è½¯ä»¶ç¼–è¯‘ï¼Œä½ å°±ä¸èƒ½ä¸è‡ªå·±å†™makefileäº†ï¼Œä¼šä¸ä¼šå†™makefileï¼Œä»ä¸€ä¸ªä¾§é¢è¯´æ˜äº†ä¸€ä¸ªäººæ˜¯å¦å…·å¤‡å®Œæˆå¤§å‹å·¥ç¨‹çš„èƒ½åŠ›ã€‚</p>
<p>å› ä¸ºï¼Œmakefileå…³ç³»åˆ°äº†æ•´ä¸ªå·¥ç¨‹çš„ç¼–è¯‘è§„åˆ™ã€‚ä¸€ä¸ªå·¥ç¨‹ä¸­çš„æºæ–‡ä»¶ä¸è®¡å…¶æ•°ï¼Œå¹¶ä¸”æŒ‰ç±»å‹ã€åŠŸèƒ½ã€æ¨¡å—åˆ†åˆ«æ”¾åœ¨è‹¥å¹²ä¸ªç›®å½•ä¸­ï¼Œmakefileå®šä¹‰äº†ä¸€ç³»åˆ—çš„è§„åˆ™æ¥æŒ‡å®šï¼Œå“ªäº›æ–‡ä»¶éœ€è¦å…ˆç¼–è¯‘ï¼Œå“ªäº›æ–‡ä»¶éœ€è¦åç¼–è¯‘ï¼Œå“ªäº›æ–‡ä»¶éœ€è¦é‡æ–°ç¼–è¯‘ï¼Œç”šè‡³äºè¿›è¡Œæ›´å¤æ‚çš„åŠŸèƒ½æ“ä½œï¼Œå› ä¸ºmakefileå°±åƒä¸€ä¸ªShellè„šæœ¬ä¸€æ ·ï¼Œå…¶ä¸­ä¹Ÿå¯ä»¥æ‰§è¡Œæ“ä½œç³»ç»Ÿçš„å‘½ä»¤ã€‚</p>
<p>makefileå¸¦æ¥çš„å¥½å¤„å°±æ˜¯------â€œè‡ªåŠ¨åŒ–ç¼–è¯‘â€ï¼Œä¸€æ—¦å†™å¥½ï¼Œåªéœ€è¦ä¸€ä¸ªmakeå‘½ä»¤ï¼Œæ•´ä¸ªå·¥ç¨‹å®Œå…¨è‡ªåŠ¨ç¼–è¯‘ï¼Œæå¤§çš„æé«˜äº†è½¯ä»¶å¼€å‘çš„æ•ˆç‡ã€‚makeæ˜¯ä¸€ä¸ªå‘½ä»¤å·¥å…·ï¼Œæ˜¯ä¸€ä¸ªè§£é‡Šmakefileä¸­æŒ‡ä»¤çš„å‘½ä»¤å·¥å…·ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œå¤§å¤šæ•°çš„IDEéƒ½æœ‰è¿™ä¸ªå‘½ä»¤ï¼Œæ¯”å¦‚ï¼šDelphiçš„makeï¼ŒVisual C++çš„nmakeï¼ŒLinuxä¸‹GNUçš„makeã€‚å¯è§ï¼Œmakefileéƒ½æˆä¸ºäº†ä¸€ç§åœ¨å·¥ç¨‹æ–¹é¢çš„ç¼–è¯‘æ–¹æ³•ã€‚</p>
<p>ç°åœ¨è®²è¿°å¦‚ä½•å†™makefileçš„æ–‡ç« æ¯”è¾ƒå°‘ï¼Œè¿™æ˜¯æˆ‘æƒ³å†™è¿™ç¯‡æ–‡ç« çš„åŸå› ã€‚å½“ç„¶ï¼Œä¸åŒäº§å•†çš„makeå„ä¸ç›¸åŒï¼Œä¹Ÿæœ‰ä¸åŒçš„è¯­æ³•ï¼Œä½†å…¶æœ¬è´¨éƒ½æ˜¯åœ¨&quot;æ–‡ä»¶ä¾èµ–æ€§&quot;ä¸Šåšæ–‡ç« ï¼Œè¿™é‡Œï¼Œæˆ‘ä»…å¯¹GNUçš„makeè¿›è¡Œè®²è¿°ï¼Œæˆ‘çš„ç¯å¢ƒ æ˜¯RedHat Linux 8.0ï¼Œmakeçš„ç‰ˆæœ¬æ˜¯3.80ã€‚æ¯•ç«Ÿï¼Œè¿™ä¸ªmakeæ˜¯åº”ç”¨æœ€ä¸ºå¹¿æ³›çš„ï¼Œä¹Ÿæ˜¯ç”¨å¾—æœ€å¤šçš„ã€‚è€Œä¸”å…¶è¿˜æ˜¯æœ€éµå¾ªäºIEEE 1003.2-1992æ ‡å‡†çš„ï¼ˆPOSIX.2ï¼‰ã€‚</p>
<p>åœ¨è¿™ç¯‡æ–‡æ¡£ä¸­ï¼Œå°†ä»¥C/C++çš„æºç ä½œä¸ºåŸºç¡€ï¼Œæ‰€ä»¥å¿…ç„¶æ¶‰åŠä¸€äº›å…³äºC/C++çš„ç¼–è¯‘çš„çŸ¥è¯†ã€‚å…³äºè¿™æ–¹é¢çš„å†…å®¹ï¼Œè¿˜è¯·å„ä½æŸ¥çœ‹ç›¸å…³çš„ç¼–è¯‘å™¨çš„æ–‡æ¡£ã€‚è¿™é‡Œæ‰€é»˜è®¤çš„ç¼–è¯‘å™¨æ˜¯UNIXä¸‹çš„GCCå’ŒCCã€‚</p>
<h2 id="11-å…³äºç¨‹åºçš„ç¼–è¯‘å’Œé“¾æ¥"><a class="markdownIt-Anchor" href="#11-å…³äºç¨‹åºçš„ç¼–è¯‘å’Œé“¾æ¥"></a> 1.1 å…³äºç¨‹åºçš„ç¼–è¯‘å’Œé“¾æ¥</h2>
<p>åœ¨æ­¤ï¼Œæˆ‘æƒ³å¤šè¯´å…³äºç¨‹åºç¼–è¯‘çš„ä¸€äº›è§„èŒƒå’Œæ–¹æ³•ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ— è®ºæ˜¯Cè¿˜æ˜¯C++ï¼Œé¦–å…ˆè¦æŠŠæºæ–‡ä»¶ç¼–è¯‘æˆä¸­é—´ä»£ç æ–‡ä»¶ï¼Œåœ¨Windowsä¸‹ä¹Ÿå°±æ˜¯ <code>.obj</code> æ–‡ä»¶ï¼ŒUNIXä¸‹æ˜¯ <code>.o</code> æ–‡ä»¶ï¼Œå³Object Fileï¼Œè¿™ä¸ªåŠ¨ ä½œå«åšç¼–è¯‘ï¼ˆcompileï¼‰ã€‚ç„¶åå†æŠŠå¤§é‡çš„Object Fileåˆæˆæ‰§è¡Œæ–‡ä»¶ï¼Œè¿™ä¸ªåŠ¨ä½œå«ä½œé“¾æ¥ï¼ˆlinkï¼‰ã€‚</p>
<p>ç¼–è¯‘æ—¶ï¼Œç¼–è¯‘å™¨éœ€è¦çš„æ˜¯è¯­æ³•çš„æ­£ç¡®ï¼Œå‡½æ•°ä¸å˜é‡çš„å£°æ˜çš„æ­£ç¡®ã€‚å¯¹äºåè€…ï¼Œé€šå¸¸æ˜¯ä½ éœ€è¦å‘Šè¯‰ç¼–è¯‘å™¨å¤´æ–‡ä»¶çš„æ‰€åœ¨ä½ç½®ï¼ˆå¤´æ–‡ä»¶ä¸­åº”è¯¥åªæ˜¯å£°æ˜ï¼Œè€Œå®šä¹‰åº”è¯¥æ”¾åœ¨C/C++æ–‡ä»¶ä¸­ï¼‰ï¼Œåªè¦æ‰€æœ‰çš„è¯­æ³•æ­£ç¡®ï¼Œç¼–è¯‘å™¨å°±å¯ä»¥ç¼–è¯‘å‡ºä¸­é—´ç›®æ ‡æ–‡ä»¶ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ¯ä¸ªæºæ–‡ä»¶éƒ½åº”è¯¥å¯¹åº”äºä¸€ä¸ªä¸­é—´ç›®æ ‡æ–‡ä»¶ï¼ˆ<code>.o</code> æ–‡ä»¶æˆ– <code>.obj</code> æ–‡ä»¶ï¼‰ã€‚</p>
<p>é“¾æ¥æ—¶ï¼Œä¸»è¦æ˜¯é“¾æ¥å‡½æ•°å’Œå…¨å±€å˜é‡ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™äº›ä¸­é—´ç›®æ ‡æ–‡ä»¶ï¼ˆ<code>.o</code> æ–‡ä»¶æˆ– <code>.obj</code>æ–‡ä»¶ï¼‰æ¥é“¾æ¥æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚é“¾æ¥å™¨å¹¶ä¸ç®¡å‡½æ•°æ‰€åœ¨çš„æºæ–‡ä»¶ï¼Œåªç®¡å‡½æ•°çš„ä¸­é—´ç›®æ ‡æ–‡ä»¶ï¼ˆObject Fileï¼‰ï¼Œåœ¨å¤§å¤šæ•°æ—¶å€™ï¼Œç”±äºæºæ–‡ä»¶å¤ªå¤šï¼Œç¼–è¯‘ç”Ÿæˆçš„ä¸­é—´ç›®æ ‡æ–‡ä»¶å¤ªå¤šï¼Œè€Œåœ¨é“¾æ¥æ—¶éœ€è¦æ˜æ˜¾åœ°æŒ‡å‡ºä¸­é—´ç›®æ ‡æ–‡ä»¶åï¼Œè¿™å¯¹äºç¼–è¯‘å¾ˆä¸æ–¹ä¾¿ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬è¦ç»™ä¸­é—´ç›®æ ‡æ–‡ä»¶æ‰“ä¸ªåŒ…ï¼Œåœ¨Windowsä¸‹è¿™ç§åŒ…å«&quot;åº“æ–‡ä»¶&quot;ï¼ˆLibrary Fileï¼‰ï¼Œä¹Ÿå°±æ˜¯ <code>.lib</code> æ–‡ä»¶ï¼Œåœ¨UNIXä¸‹ï¼Œæ˜¯Archive Fileï¼Œä¹Ÿå°±æ˜¯ <code>.a</code> æ–‡ä»¶ã€‚</p>
<p>æ€»ç»“ä¸€ä¸‹ï¼Œæºæ–‡ä»¶é¦–å…ˆä¼šç”Ÿæˆä¸­é—´ç›®æ ‡æ–‡ä»¶ï¼Œå†ç”±ä¸­é—´ç›®æ ‡æ–‡ä»¶ç”Ÿæˆæ‰§è¡Œæ–‡ä»¶ã€‚åœ¨ç¼–è¯‘æ—¶ï¼Œç¼–è¯‘å™¨åªæ£€æµ‹ç¨‹åºè¯­æ³•å’Œå‡½æ•°ã€å˜é‡æ˜¯å¦è¢«å£°æ˜ã€‚å¦‚æœå‡½æ•°æœªè¢«å£°æ˜ï¼Œç¼–è¯‘å™¨ä¼šç»™å‡ºä¸€ä¸ªè­¦å‘Šï¼Œä½†å¯ä»¥ç”ŸæˆObject Fileã€‚ è€Œåœ¨é“¾æ¥ç¨‹åºæ—¶ï¼Œé“¾æ¥å™¨ä¼šåœ¨æ‰€æœ‰çš„Object Fileä¸­æ‰¾å¯»å‡½æ•°çš„å®ç°ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œé‚£åˆ°å°±ä¼šæŠ¥é“¾æ¥é”™è¯¯ç  ï¼ˆLinker Errorï¼‰ï¼Œåœ¨VCä¸‹ï¼Œè¿™ç§é”™è¯¯ä¸€èˆ¬æ˜¯ï¼š <code>Link 2001é”™è¯¯</code>ï¼Œæ„æ€è¯´æ˜¯è¯´ï¼Œé“¾æ¥å™¨æœªèƒ½æ‰¾åˆ° å‡½æ•°çš„å®ç°ã€‚ä½ éœ€è¦æŒ‡å®šå‡½æ•°çš„Object Fileã€‚</p>
<p>å¥½ï¼Œè¨€å½’æ­£ä¼ ï¼Œgnuçš„makeæœ‰è®¸å¤šçš„å†…å®¹ï¼Œé—²è¨€å°‘å™ã€‚</p>
<h1 id="makefileä»‹ç»"><a class="markdownIt-Anchor" href="#makefileä»‹ç»"></a> makefileä»‹ç»</h1>
<p>makeå‘½ä»¤æ‰§è¡Œæ—¶ï¼Œéœ€è¦ä¸€ä¸ªmakefileæ–‡ä»¶ï¼Œä»¥å‘Šè¯‰makeå‘½ä»¤éœ€è¦æ€ä¹ˆæ ·çš„å»ç¼–è¯‘å’Œé“¾æ¥ç¨‹åºã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªç¤ºä¾‹æ¥è¯´æ˜makefileçš„ä¹¦å†™è§„åˆ™ï¼Œä»¥ä¾¿ç»™å¤§å®¶ä¸€ä¸ªæ„Ÿæ€§è®¤è¯†ã€‚è¿™ä¸ªç¤ºä¾‹æ¥æºäºgnuçš„makeä½¿ç”¨æ‰‹å†Œï¼Œåœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬çš„å·¥ç¨‹æœ‰8ä¸ªcæ–‡ä»¶ï¼Œå’Œ3ä¸ªå¤´æ–‡ä»¶ï¼Œæˆ‘ä»¬è¦å†™ä¸€ä¸ªmakefileæ¥å‘Šè¯‰makeå‘½ä»¤å¦‚ä½•ç¼–è¯‘å’Œé“¾æ¥è¿™å‡ ä¸ªæ–‡ä»¶ã€‚æˆ‘ä»¬çš„è§„åˆ™æ˜¯ï¼š</p>
<ol>
<li>å¦‚æœè¿™ä¸ªå·¥ç¨‹æ²¡æœ‰ç¼–è¯‘è¿‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„æ‰€æœ‰cæ–‡ä»¶éƒ½è¦ç¼–è¯‘å¹¶è¢«é“¾æ¥ã€‚</li>
<li>å¦‚æœè¿™ä¸ªå·¥ç¨‹çš„æŸå‡ ä¸ªcæ–‡ä»¶è¢«ä¿®æ”¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªç¼–è¯‘è¢«ä¿®æ”¹çš„cæ–‡ä»¶ï¼Œå¹¶é“¾æ¥ç›®æ ‡ç¨‹åºã€‚</li>
<li>å¦‚æœè¿™ä¸ªå·¥ç¨‹çš„å¤´æ–‡ä»¶è¢«æ”¹å˜äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦ç¼–è¯‘å¼•ç”¨äº†è¿™å‡ ä¸ªå¤´æ–‡ä»¶çš„cæ–‡ä»¶ï¼Œå¹¶é“¾æ¥ç›®æ ‡ç¨‹åºã€‚</li>
</ol>
<p>åªè¦æˆ‘ä»¬çš„makefileå†™å¾—å¤Ÿå¥½ï¼Œæ‰€æœ‰çš„è¿™ä¸€åˆ‡ï¼Œæˆ‘ä»¬åªç”¨ä¸€ä¸ªmakeå‘½ä»¤å°±å¯ä»¥å®Œæˆï¼Œmakeå‘½ä»¤ä¼šè‡ªåŠ¨æ™ºèƒ½åœ°æ ¹æ®å½“å‰çš„æ–‡ä»¶ä¿®æ”¹çš„æƒ…å†µæ¥ç¡®å®šå“ªäº›æ–‡ä»¶éœ€è¦é‡ç¼–è¯‘ï¼Œä»è€Œè‡ªåŠ¨ç¼–è¯‘æ‰€éœ€è¦çš„æ–‡ä»¶å’Œé“¾æ¥ç›®æ ‡ç¨‹åºã€‚</p>
<h2 id="21-makefileçš„è§„åˆ™"><a class="markdownIt-Anchor" href="#21-makefileçš„è§„åˆ™"></a> 2.1 makefileçš„è§„åˆ™</h2>
<p>åœ¨è®²è¿°è¿™ä¸ªmakefileä¹‹å‰ï¼Œè¿˜æ˜¯è®©æˆ‘ä»¬å…ˆæ¥ç²—ç•¥åœ°çœ‹ä¸€çœ‹makefileçš„è§„åˆ™ã€‚</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">target ... : prerequisites ...</span><br><span class="line">&gt;  command</span><br><span class="line">&gt;  ...</span><br><span class="line">&gt;  ...</span><br></pre></td></tr></table></figure>
<p>target:<br />
å¯ä»¥æ˜¯ä¸€ä¸ªobject fileï¼ˆç›®æ ‡æ–‡ä»¶ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ‰§è¡Œæ–‡ä»¶ï¼Œè¿˜å¯ä»¥æ˜¯ä¸€ä¸ªæ ‡ç­¾ï¼ˆlabelï¼‰ã€‚å¯¹äºæ ‡ç­¾è¿™ç§ç‰¹æ€§ï¼Œåœ¨åç»­çš„&quot;ä¼ªç›®æ ‡&quot;ç« èŠ‚ä¸­ä¼šæœ‰å™è¿°ã€‚</p>
<p>prerequisites:<br />
ç”Ÿæˆè¯¥targetæ‰€ä¾èµ–çš„æ–‡ä»¶å’Œ/æˆ–target</p>
<p>command:<br />
è¯¥targetè¦æ‰§è¡Œçš„å‘½ä»¤ï¼ˆä»»æ„çš„shellå‘½ä»¤ï¼‰</p>
<p>è¿™æ˜¯ä¸€ä¸ªæ–‡ä»¶çš„ä¾èµ–å…³ç³»ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œtargetè¿™ä¸€ä¸ªæˆ–å¤šä¸ªçš„ç›®æ ‡æ–‡ä»¶ä¾èµ–äºprerequisitesä¸­çš„æ–‡ä»¶ï¼Œå…¶ç”Ÿæˆè§„åˆ™å®šä¹‰åœ¨commandä¸­ã€‚è¯´ç™½ä¸€ç‚¹å°±æ˜¯è¯´:</p>
<pre><code>prerequisitesä¸­å¦‚æœæœ‰ä¸€ä¸ªä»¥ä¸Šçš„æ–‡ä»¶æ¯”targetæ–‡ä»¶è¦æ–°çš„è¯ï¼Œcommandæ‰€å®šä¹‰çš„å‘½ä»¤å°±ä¼šè¢«æ‰§è¡Œã€‚
</code></pre>
<p>è¿™å°±æ˜¯makefileçš„è§„åˆ™ï¼Œä¹Ÿå°±æ˜¯makefileä¸­æœ€æ ¸å¿ƒçš„å†…å®¹ã€‚</p>
<p>è¯´åˆ°åº•ï¼Œmakefileçš„ä¸œè¥¿å°±æ˜¯è¿™æ ·ä¸€ç‚¹ï¼Œå¥½åƒæˆ‘çš„è¿™ç¯‡æ–‡æ¡£ä¹Ÿè¯¥ç»“æŸäº†ã€‚å‘µå‘µã€‚è¿˜ä¸å°½ç„¶ï¼Œè¿™æ˜¯makefileçš„ä¸»çº¿å’Œæ ¸å¿ƒï¼Œä½†è¦å†™å¥½ä¸€ä¸ªmakefileè¿˜ä¸å¤Ÿï¼Œæˆ‘ä¼šåœ¨åé¢ä¸€ç‚¹ä¸€ç‚¹åœ°ç»“åˆæˆ‘çš„å·¥ä½œç»éªŒç»™ä½ æ…¢æ…¢é“æ¥ã€‚å†…å®¹è¿˜å¤šç€å‘¢ã€‚ğŸ˜ƒ</p>
<h2 id="22-ä¸€ä¸ªç¤ºä¾‹"><a class="markdownIt-Anchor" href="#22-ä¸€ä¸ªç¤ºä¾‹"></a> 2.2 ä¸€ä¸ªç¤ºä¾‹</h2>
<p>æ­£å¦‚å‰é¢æ‰€è¯´ï¼Œå¦‚æœä¸€ä¸ªå·¥ç¨‹æœ‰3ä¸ªå¤´æ–‡ä»¶å’Œ8ä¸ªcæ–‡ä»¶ï¼Œä¸ºäº†å®Œæˆå‰é¢æ‰€è¿°çš„é‚£ä¸‰ä¸ªè§„åˆ™ï¼Œæˆ‘ä»¬çš„makefileåº”è¯¥æ˜¯ä¸‹é¢çš„è¿™ä¸ªæ ·å­çš„ã€‚</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">edit : main.o kbd.o command.o display.o \</span><br><span class="line">        insert.o search.o files.o utils.o</span><br><span class="line">&gt;  cc -o edit main.o kbd.o command.o display.o \</span><br><span class="line">        insert.o search.o files.o utils.o</span><br><span class="line"></span><br><span class="line">main.o : main.c defs.h</span><br><span class="line">&gt;  cc -c main.c</span><br><span class="line">kbd.o : kbd.c defs.h command.h</span><br><span class="line">&gt;  cc -c kbd.c</span><br><span class="line">command.o : command.c defs.h command.h</span><br><span class="line">&gt;  cc -c command.c</span><br><span class="line">display.o : display.c defs.h buffer.h</span><br><span class="line">&gt;  cc -c display.c</span><br><span class="line">insert.o : insert.c defs.h buffer.h</span><br><span class="line">&gt;  cc -c insert.c</span><br><span class="line">search.o : search.c defs.h buffer.h</span><br><span class="line">&gt;  cc -c search.c</span><br><span class="line">files.o : files.c defs.h buffer.h command.h</span><br><span class="line">&gt;  cc -c files.c</span><br><span class="line">utils.o : utils.c defs.h</span><br><span class="line">&gt;  cc -c utils.c</span><br><span class="line">clean :</span><br><span class="line">&gt;  rm edit main.o kbd.o command.o display.o \</span><br><span class="line">        insert.o search.o files.o utils.o</span><br></pre></td></tr></table></figure>
<p>åæ–œæ ï¼ˆ <code>\</code> ï¼‰æ˜¯æ¢è¡Œç¬¦çš„æ„æ€ã€‚è¿™æ ·æ¯”è¾ƒä¾¿äºmakefileçš„é˜…è¯»ã€‚æˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªå†…å®¹ä¿å­˜åœ¨åå­—ä¸º&quot;makefile&quot;æˆ–&quot;Makefile&quot;çš„æ–‡ä»¶ä¸­ï¼Œç„¶ååœ¨è¯¥ç›®å½•ä¸‹ç›´æ¥è¾“å…¥å‘½ä»¤ <code>make</code> å°±å¯ä»¥ç”Ÿæˆæ‰§è¡Œæ–‡ä»¶editã€‚å¦‚æœè¦åˆ é™¤æ‰§è¡Œæ–‡ä»¶å’Œæ‰€æœ‰çš„ä¸­é—´ç›®æ ‡æ–‡ä»¶ï¼Œé‚£ä¹ˆï¼Œåªè¦ç®€å•åœ°æ‰§è¡Œä¸€ä¸‹ <code>make clean</code> å°± å¯ä»¥äº†ã€‚</p>
<p>åœ¨è¿™ä¸ªmakefileä¸­ï¼Œç›®æ ‡æ–‡ä»¶ï¼ˆtargetï¼‰åŒ…å«ï¼šæ‰§è¡Œæ–‡ä»¶editå’Œä¸­é—´ç›®æ ‡æ–‡ä»¶ï¼ˆ <code>*.o</code> ï¼‰ï¼Œä¾èµ–æ–‡ ä»¶ï¼ˆprerequisitesï¼‰å°±æ˜¯å†’å·åé¢çš„é‚£äº› <code>.c</code> æ–‡ä»¶å’Œ <code>.h</code> æ–‡ä»¶ã€‚æ¯ä¸€ä¸ª <code>.o</code> æ–‡ä»¶éƒ½æœ‰ ä¸€ç»„ä¾èµ–æ–‡ä»¶ï¼Œè€Œè¿™äº› <code>.o</code> æ–‡ä»¶åˆæ˜¯æ‰§è¡Œæ–‡ä»¶ <code>edit</code> çš„ä¾èµ–æ–‡ä»¶ã€‚ä¾èµ–å…³ç³»çš„å®è´¨å°±æ˜¯è¯´æ˜äº†ç›®æ ‡æ–‡ä»¶æ˜¯ç”±å“ªäº›æ–‡ä»¶ç”Ÿæˆçš„ï¼Œæ¢è¨€ä¹‹ï¼Œç›®æ ‡æ–‡ä»¶æ˜¯å“ªäº›æ–‡ä»¶æ›´æ–°çš„ã€‚</p>
<p>åœ¨å®šä¹‰å¥½ä¾èµ–å…³ç³»åï¼Œåç»­çš„é‚£ä¸€è¡Œå®šä¹‰äº†å¦‚ä½•ç”Ÿæˆç›®æ ‡æ–‡ä»¶çš„æ“ä½œç³»ç»Ÿå‘½ä»¤ï¼Œä¸€å®šè¦ä»¥ä¸€ä¸ª <code>Tab</code> é”®ä½œä¸ºå¼€å¤´ã€‚è®°ä½ï¼Œmakeå¹¶ä¸ç®¡å‘½ä»¤æ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Œä»–åªç®¡æ‰§è¡Œæ‰€å®šä¹‰çš„å‘½ä»¤ã€‚makeä¼šæ¯”è¾ƒtargetsæ–‡ä»¶å’Œprerequisitesæ–‡ä»¶çš„ä¿®æ”¹æ—¥æœŸï¼Œå¦‚æœprerequisitesæ–‡ä»¶çš„æ—¥æœŸè¦æ¯”targetsæ–‡ä»¶çš„æ—¥æœŸè¦æ–°ï¼Œæˆ–è€…targetä¸å­˜åœ¨çš„è¯ï¼Œé‚£ä¹ˆï¼Œmakeå°±ä¼šæ‰§è¡Œåç»­å®šä¹‰çš„å‘½ä»¤ã€‚</p>
<p>è¿™é‡Œè¦è¯´æ˜ä¸€ç‚¹çš„æ˜¯ï¼Œ <code>clean</code> ä¸æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œå®ƒåªä¸è¿‡æ˜¯ä¸€ä¸ªåŠ¨ä½œåå­—ï¼Œæœ‰ç‚¹åƒcè¯­è¨€ä¸­çš„labelä¸€æ ·ï¼Œå…¶å†’å·åä»€ä¹ˆä¹Ÿæ²¡æœ‰ï¼Œé‚£ä¹ˆï¼Œmakeå°±ä¸ä¼šè‡ªåŠ¨å»æ‰¾å®ƒçš„ä¾èµ–æ€§ï¼Œä¹Ÿå°±ä¸ä¼šè‡ªåŠ¨æ‰§è¡Œå…¶åæ‰€å®šä¹‰çš„å‘½ä»¤ã€‚è¦æ‰§è¡Œå…¶åçš„å‘½ä»¤ï¼Œå°±è¦åœ¨makeå‘½ä»¤åæ˜æ˜¾å¾—æŒ‡å‡ºè¿™ä¸ªlabelçš„åå­—ã€‚è¿™æ ·çš„æ–¹æ³•éå¸¸æœ‰ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ªmakefileä¸­å®šä¹‰ä¸ç”¨çš„ç¼–è¯‘æˆ–æ˜¯å’Œç¼–è¯‘æ— å…³çš„å‘½ä»¤ï¼Œæ¯”å¦‚ç¨‹åºçš„æ‰“åŒ…ï¼Œç¨‹åºçš„å¤‡ä»½ï¼Œç­‰ç­‰ã€‚</p>
<h2 id="23-makeæ˜¯å¦‚ä½•å·¥ä½œçš„"><a class="markdownIt-Anchor" href="#23-makeæ˜¯å¦‚ä½•å·¥ä½œçš„"></a> 2.3 makeæ˜¯å¦‚ä½•å·¥ä½œçš„</h2>
<p>åœ¨é»˜è®¤çš„æ–¹å¼ä¸‹ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åªè¾“å…¥ <code>make</code> å‘½ä»¤ã€‚é‚£ä¹ˆï¼Œ</p>
<ol>
<li>makeä¼šåœ¨å½“å‰ç›®å½•ä¸‹æ‰¾åå­—å«&quot;Makefile&quot;æˆ–&quot;makefile&quot;çš„æ–‡ä»¶ã€‚</li>
<li>å¦‚æœæ‰¾åˆ°ï¼Œå®ƒä¼šæ‰¾æ–‡ä»¶ä¸­çš„ç¬¬ä¸€ä¸ªç›®æ ‡æ–‡ä»¶ï¼ˆtargetï¼‰ï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œä»–ä¼šæ‰¾åˆ°&quot;edit&quot;è¿™ä¸ªæ–‡ä»¶ï¼Œå¹¶æŠŠè¿™ä¸ªæ–‡ä»¶ä½œä¸ºæœ€ç»ˆçš„ç›®æ ‡æ–‡ä»¶ã€‚</li>
<li>å¦‚æœeditæ–‡ä»¶ä¸å­˜åœ¨ï¼Œæˆ–æ˜¯editæ‰€ä¾èµ–çš„åé¢çš„ <code>.o</code> æ–‡ä»¶çš„æ–‡ä»¶ä¿®æ”¹æ—¶é—´è¦æ¯” <code>edit</code> è¿™ä¸ªæ–‡ä»¶æ–°ï¼Œé‚£ä¹ˆï¼Œä»–å°±ä¼šæ‰§è¡Œåé¢æ‰€å®šä¹‰çš„å‘½ä»¤æ¥ç”Ÿæˆ <code>edit</code> è¿™ä¸ªæ–‡ä»¶ã€‚</li>
<li>å¦‚æœ <code>edit</code> æ‰€ä¾èµ–çš„ <code>.o</code> æ–‡ä»¶ä¹Ÿä¸å­˜åœ¨ï¼Œé‚£ä¹ˆmakeä¼šåœ¨å½“å‰æ–‡ä»¶ä¸­æ‰¾ç›®æ ‡ä¸º <code>.o</code> æ–‡ä»¶çš„ä¾èµ–æ€§ï¼Œå¦‚æœæ‰¾åˆ°åˆ™å†æ ¹æ®é‚£ä¸€ä¸ªè§„åˆ™ç”Ÿæˆ <code>.o</code> æ–‡ä»¶ã€‚ï¼ˆè¿™æœ‰ç‚¹åƒä¸€ä¸ªå †æ ˆçš„è¿‡ç¨‹ï¼‰</li>
<li>å½“ç„¶ï¼Œä½ çš„Cæ–‡ä»¶å’ŒHæ–‡ä»¶æ˜¯å­˜åœ¨çš„å•¦ï¼Œäºæ˜¯makeä¼šç”Ÿæˆ <code>.o</code> æ–‡ä»¶ï¼Œç„¶åå†ç”¨ <code>.o</code> æ–‡ä»¶ç”Ÿ æˆmakeçš„ç»ˆæä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯æ‰§è¡Œæ–‡ä»¶ <code>edit</code> äº†ã€‚</li>
</ol>
<p>è¿™å°±æ˜¯æ•´ä¸ªmakeçš„ä¾èµ–æ€§ï¼Œmakeä¼šä¸€å±‚åˆä¸€å±‚åœ°å»æ‰¾æ–‡ä»¶çš„ä¾èµ–å…³ç³»ï¼Œç›´åˆ°æœ€ç»ˆç¼–è¯‘å‡ºç¬¬ä¸€ä¸ªç›®æ ‡æ–‡ä»¶ã€‚åœ¨æ‰¾å¯»çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå‡ºç°é”™è¯¯ï¼Œæ¯”å¦‚æœ€åè¢«ä¾èµ–çš„æ–‡ä»¶æ‰¾ä¸åˆ°ï¼Œé‚£ä¹ˆmakeå°±ä¼šç›´æ¥é€€å‡ºï¼Œå¹¶æŠ¥é”™ï¼Œè€Œå¯¹äºæ‰€å®šä¹‰çš„å‘½ä»¤çš„é”™è¯¯ï¼Œæˆ–æ˜¯ç¼–è¯‘ä¸æˆåŠŸï¼Œmakeæ ¹æœ¬ä¸ç†ã€‚makeåªç®¡æ–‡ä»¶çš„ä¾èµ–æ€§ï¼Œå³ï¼Œå¦‚æœåœ¨æˆ‘æ‰¾äº†ä¾èµ–å…³ç³»ä¹‹åï¼Œå†’å·åé¢çš„æ–‡ä»¶è¿˜æ˜¯ä¸åœ¨ï¼Œé‚£ä¹ˆå¯¹ä¸èµ·ï¼Œæˆ‘å°±ä¸å·¥ä½œå•¦ã€‚</p>
<p>é€šè¿‡ä¸Šè¿°åˆ†æï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œåƒcleanè¿™ç§ï¼Œæ²¡æœ‰è¢«ç¬¬ä¸€ä¸ªç›®æ ‡æ–‡ä»¶ç›´æ¥æˆ–é—´æ¥å…³è”ï¼Œé‚£ä¹ˆå®ƒåé¢æ‰€å®šä¹‰çš„å‘½ä»¤å°†ä¸ä¼šè¢«è‡ªåŠ¨æ‰§è¡Œï¼Œä¸è¿‡ï¼Œæˆ‘ä»¬å¯ä»¥æ˜¾ç¤ºè¦makeæ‰§è¡Œã€‚å³å‘½ä»¤------ <code>make clean</code> ï¼Œä»¥æ­¤æ¥æ¸…é™¤æ‰€æœ‰ çš„ç›®æ ‡æ–‡ä»¶ï¼Œä»¥ä¾¿é‡ç¼–è¯‘ã€‚</p>
<p>äºæ˜¯åœ¨æˆ‘ä»¬ç¼–ç¨‹ä¸­ï¼Œå¦‚æœè¿™ä¸ªå·¥ç¨‹å·²è¢«ç¼–è¯‘è¿‡äº†ï¼Œå½“æˆ‘ä»¬ä¿®æ”¹äº†å…¶ä¸­ä¸€ä¸ªæºæ–‡ä»¶ï¼Œæ¯”å¦‚ <code>file.c</code> ï¼Œ é‚£ä¹ˆæ ¹æ®æˆ‘ä»¬çš„ä¾èµ–æ€§ï¼Œæˆ‘ä»¬çš„ç›®æ ‡ <code>file.o</code> ä¼šè¢«é‡ç¼–è¯‘ï¼ˆä¹Ÿå°±æ˜¯åœ¨è¿™ä¸ªä¾æ€§å…³ç³»åé¢æ‰€å®šä¹‰çš„å‘½ä»¤ï¼‰ï¼Œ äºæ˜¯ <code>file.o</code> çš„æ–‡ä»¶ä¹Ÿæ˜¯æœ€æ–°çš„å•¦ï¼Œäºæ˜¯ <code>file.o</code> çš„æ–‡ä»¶ä¿®æ”¹æ—¶é—´è¦æ¯” <code>edit</code> è¦æ–°ï¼Œæ‰€ä»¥ <code>edit</code> ä¹Ÿä¼šè¢«é‡æ–°é“¾æ¥äº†ï¼ˆè¯¦è§ <code>edit</code> ç›®æ ‡æ–‡ä»¶åå®šä¹‰çš„å‘½ä»¤ï¼‰ã€‚</p>
<p>è€Œå¦‚æœæˆ‘ä»¬æ”¹å˜äº† <code>command.h</code> ï¼Œé‚£ä¹ˆï¼Œ <code>kdb.o</code> ã€ <code>command.o</code> å’Œ <code>files.o</code> éƒ½ ä¼šè¢«é‡ç¼–è¯‘ï¼Œå¹¶ä¸”ï¼Œ <code>edit</code> ä¼šè¢«é‡é“¾æ¥ã€‚</p>
<h2 id="24-makefileä¸­ä½¿ç”¨å˜é‡"><a class="markdownIt-Anchor" href="#24-makefileä¸­ä½¿ç”¨å˜é‡"></a> 2.4 makefileä¸­ä½¿ç”¨å˜é‡</h2>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå…ˆè®©æˆ‘ä»¬çœ‹çœ‹editçš„è§„åˆ™ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">edit : main.o kbd.o command.o display.o \</span><br><span class="line">        insert.o search.o files.o utils.o</span><br><span class="line">&gt;  cc -o edit main.o kbd.o command.o display.o \</span><br><span class="line">        insert.o search.o files.o utils.o</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ° <code>.o</code> æ–‡ä»¶çš„å­—ç¬¦ä¸²è¢«é‡å¤äº†ä¸¤æ¬¡ï¼Œå¦‚æœæˆ‘ä»¬çš„å·¥ç¨‹éœ€è¦åŠ å…¥ä¸€ä¸ªæ–°çš„ <code>.o</code> æ–‡ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦åœ¨ä¸¤ä¸ªåœ°æ–¹åŠ ï¼ˆåº”è¯¥æ˜¯ä¸‰ä¸ªåœ°æ–¹ï¼Œè¿˜æœ‰ä¸€ä¸ªåœ°æ–¹åœ¨cleanä¸­ï¼‰ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬çš„makefileå¹¶ä¸å¤æ‚ï¼Œæ‰€ä»¥åœ¨ä¸¤ä¸ªåœ°æ–¹åŠ ä¹Ÿä¸ç´¯ï¼Œä½†å¦‚æœmakefileå˜å¾—å¤æ‚ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æœ‰å¯èƒ½ä¼šå¿˜æ‰ä¸€ä¸ªéœ€è¦åŠ å…¥çš„åœ°æ–¹ï¼Œè€Œå¯¼è‡´ç¼–è¯‘å¤±è´¥ã€‚æ‰€ä»¥ï¼Œä¸ºäº†makefileçš„æ˜“ç»´æŠ¤ï¼Œåœ¨makefileä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å˜é‡ã€‚makefileçš„å˜é‡ä¹Ÿå°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç†è§£æˆCè¯­è¨€ä¸­çš„å®å¯èƒ½ä¼šæ›´å¥½ã€‚</p>
<p>æ¯”å¦‚ï¼Œæˆ‘ä»¬å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œå« <code>objects</code> ï¼Œ <code>OBJECTS</code> ï¼Œ <code>objs</code> ï¼Œ <code>OBJS</code> ï¼Œ <code>obj</code> æˆ–æ˜¯ <code>OBJ</code> ï¼Œåæ­£ä¸ç®¡ä»€ä¹ˆå•¦ï¼Œåªè¦èƒ½å¤Ÿè¡¨ç¤ºobjæ–‡ä»¶å°±è¡Œäº†ã€‚æˆ‘ä»¬åœ¨makefileä¸€å¼€å§‹å°±è¿™æ ·å®šä¹‰ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">objects = main.o kbd.o command.o display.o \</span><br><span class="line">     insert.o search.o files.o utils.o</span><br></pre></td></tr></table></figure>
<p>äºæ˜¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾ˆæ–¹ä¾¿åœ°åœ¨æˆ‘ä»¬çš„makefileä¸­ä»¥ <code>$(objects)</code> çš„æ–¹å¼æ¥ä½¿ç”¨è¿™ä¸ªå˜é‡äº†ï¼Œäºæ˜¯ æˆ‘ä»¬çš„æ”¹è‰¯ç‰ˆmakefileå°±å˜æˆä¸‹é¢è¿™ä¸ªæ ·å­ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">objects = main.o kbd.o command.o display.o \</span><br><span class="line">    insert.o search.o files.o utils.o</span><br><span class="line"></span><br><span class="line">edit : <span class="variable">$(objects)</span></span><br><span class="line">&gt;  cc -o edit <span class="variable">$(objects)</span></span><br><span class="line">main.o : main.c defs.h</span><br><span class="line">&gt;  cc -c main.c</span><br><span class="line">kbd.o : kbd.c defs.h command.h</span><br><span class="line">&gt;  cc -c kbd.c</span><br><span class="line">command.o : command.c defs.h command.h</span><br><span class="line">&gt;  cc -c command.c</span><br><span class="line">display.o : display.c defs.h buffer.h</span><br><span class="line">&gt;  cc -c display.c</span><br><span class="line">insert.o : insert.c defs.h buffer.h</span><br><span class="line">&gt;  cc -c insert.c</span><br><span class="line">search.o : search.c defs.h buffer.h</span><br><span class="line">&gt;  cc -c search.c</span><br><span class="line">files.o : files.c defs.h buffer.h command.h</span><br><span class="line">&gt;  cc -c files.c</span><br><span class="line">utils.o : utils.c defs.h</span><br><span class="line">&gt;  cc -c utils.c</span><br><span class="line">clean :</span><br><span class="line">&gt;  rm edit <span class="variable">$(objects)</span></span><br></pre></td></tr></table></figure>
<p>äºæ˜¯å¦‚æœæœ‰æ–°çš„ <code>.o</code> æ–‡ä»¶åŠ å…¥ï¼Œæˆ‘ä»¬åªéœ€ç®€å•åœ°ä¿®æ”¹ä¸€ä¸‹ <code>objects</code> å˜é‡å°±å¯ä»¥äº†ã€‚</p>
<p>å…³äºå˜é‡æ›´å¤šçš„è¯é¢˜ï¼Œæˆ‘ä¼šåœ¨åç»­ç»™ä½ ä¸€ä¸€é“æ¥ã€‚</p>
<h2 id="25-è®©makeè‡ªåŠ¨æ¨å¯¼"><a class="markdownIt-Anchor" href="#25-è®©makeè‡ªåŠ¨æ¨å¯¼"></a> 2.5 è®©makeè‡ªåŠ¨æ¨å¯¼</h2>
<p>GNUçš„makeå¾ˆå¼ºå¤§ï¼Œå®ƒå¯ä»¥è‡ªåŠ¨æ¨å¯¼æ–‡ä»¶ä»¥åŠæ–‡ä»¶ä¾èµ–å…³ç³»åé¢çš„å‘½ä»¤ï¼Œäºæ˜¯æˆ‘ä»¬å°±æ²¡å¿…è¦å»åœ¨æ¯ä¸€ä¸ª <code>.o</code> æ–‡ä»¶åéƒ½å†™ä¸Šç±»ä¼¼çš„å‘½ä»¤ï¼Œå› ä¸ºï¼Œæˆ‘ä»¬çš„makeä¼šè‡ªåŠ¨è¯†åˆ«ï¼Œå¹¶è‡ªå·±æ¨å¯¼å‘½ä»¤ã€‚</p>
<p>åªè¦makeçœ‹åˆ°ä¸€ä¸ª <code>.o</code> æ–‡ä»¶ï¼Œå®ƒå°±ä¼šè‡ªåŠ¨çš„æŠŠ <code>.c</code> æ–‡ä»¶åŠ åœ¨ä¾èµ–å…³ç³»ä¸­ï¼Œå¦‚æœmakeæ‰¾åˆ°ä¸€ä¸ª <code>whatever.o</code> ï¼Œé‚£ä¹ˆ <code>whatever.c</code> å°±ä¼šæ˜¯ <code>whatever.o</code> çš„ä¾èµ–æ–‡ä»¶ã€‚å¹¶ä¸” <code>cc -c whatever.c</code> ä¹Ÿä¼šè¢«æ¨å¯¼å‡ºæ¥ï¼Œäºæ˜¯ï¼Œæˆ‘ä»¬çš„makefileå†ä¹Ÿä¸ç”¨å†™å¾—è¿™ä¹ˆå¤æ‚ã€‚æˆ‘ä»¬çš„æ–°makefileåˆå‡ºç‚‰äº†ã€‚</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">objects = main.o kbd.o command.o display.o \</span><br><span class="line">    insert.o search.o files.o utils.o</span><br><span class="line"></span><br><span class="line">edit : <span class="variable">$(objects)</span></span><br><span class="line">&gt;  cc -o edit <span class="variable">$(objects)</span></span><br><span class="line"></span><br><span class="line">main.o : defs.h</span><br><span class="line">kbd.o : defs.h command.h</span><br><span class="line">command.o : defs.h command.h</span><br><span class="line">display.o : defs.h buffer.h</span><br><span class="line">insert.o : defs.h buffer.h</span><br><span class="line">search.o : defs.h buffer.h</span><br><span class="line">files.o : defs.h buffer.h command.h</span><br><span class="line">utils.o : defs.h</span><br><span class="line"></span><br><span class="line">.PHONY : clean</span><br><span class="line">clean :</span><br><span class="line">&gt;  rm edit <span class="variable">$(objects)</span></span><br></pre></td></tr></table></figure>
<p>è¿™ç§æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯makeçš„&quot;éšæ™¦è§„åˆ™&quot;ã€‚ä¸Šé¢æ–‡ä»¶å†…å®¹ä¸­ï¼Œ <code>.PHONY</code> è¡¨ç¤º <code>clean</code> æ˜¯ä¸ªä¼ªç›®æ ‡ æ–‡ä»¶ã€‚</p>
<p>å…³äºæ›´ä¸ºè¯¦ç»†çš„&quot;éšæ™¦è§„åˆ™&quot;å’Œ&quot;ä¼ªç›®æ ‡æ–‡ä»¶&quot;ï¼Œæˆ‘ä¼šåœ¨åç»­ç»™ä½ ä¸€ä¸€é“æ¥ã€‚</p>
<h2 id="26-å¦ç±»é£æ ¼çš„makefiles"><a class="markdownIt-Anchor" href="#26-å¦ç±»é£æ ¼çš„makefiles"></a> 2.6 å¦ç±»é£æ ¼çš„makefiles</h2>
<p>æ—¢ç„¶æˆ‘ä»¬çš„makeå¯ä»¥è‡ªåŠ¨æ¨å¯¼å‘½ä»¤ï¼Œé‚£ä¹ˆæˆ‘çœ‹åˆ°é‚£å † <code>.o</code> å’Œ <code>.h</code> çš„ä¾èµ–å°±æœ‰ç‚¹ä¸çˆ½ï¼Œé‚£ä¹ˆå¤šçš„ é‡å¤çš„ <code>.h</code> ï¼Œèƒ½ä¸èƒ½æŠŠå…¶æ”¶æ‹¢èµ·æ¥ï¼Œå¥½å§ï¼Œæ²¡æœ‰é—®é¢˜ï¼Œè¿™ä¸ªå¯¹äºmakeæ¥è¯´å¾ˆå®¹æ˜“ï¼Œè°å«å®ƒæä¾›äº†è‡ªåŠ¨æ¨å¯¼å‘½ä»¤å’Œæ–‡ä»¶çš„åŠŸèƒ½å‘¢ï¼Ÿæ¥çœ‹çœ‹æœ€æ–°é£æ ¼çš„makefileå§ã€‚</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">objects = main.o kbd.o command.o display.o \</span><br><span class="line">    insert.o search.o files.o utils.o</span><br><span class="line"></span><br><span class="line">edit : <span class="variable">$(objects)</span></span><br><span class="line">&gt;  cc -o edit <span class="variable">$(objects)</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$(objects)</span> : defs.h</span><br><span class="line">kbd.o command.o files.o : command.h</span><br><span class="line">display.o insert.o search.o files.o : buffer.h</span><br><span class="line"></span><br><span class="line">.PHONY : clean</span><br><span class="line">clean :</span><br><span class="line">&gt;  rm edit <span class="variable">$(objects)</span></span><br></pre></td></tr></table></figure>
<p>è¿™ç§é£æ ¼ï¼Œè®©æˆ‘ä»¬çš„makefileå˜å¾—å¾ˆç®€å•ï¼Œä½†æˆ‘ä»¬çš„æ–‡ä»¶ä¾èµ–å…³ç³»å°±æ˜¾å¾—æœ‰ç‚¹å‡Œä¹±äº†ã€‚é±¼å’Œç†ŠæŒä¸å¯å…¼å¾—ã€‚è¿˜çœ‹ä½ çš„å–œå¥½äº†ã€‚æˆ‘æ˜¯ä¸å–œæ¬¢è¿™ç§é£æ ¼çš„ï¼Œä¸€æ˜¯æ–‡ä»¶çš„ä¾èµ–å…³ç³»çœ‹ä¸æ¸…æ¥šï¼ŒäºŒæ˜¯å¦‚æœæ–‡ä»¶ä¸€å¤šï¼Œè¦åŠ å…¥å‡ ä¸ªæ–°çš„ <code>.o</code> æ–‡ä»¶ï¼Œé‚£å°±ç†ä¸æ¸…æ¥šäº†ã€‚</p>
<h2 id="27-æ¸…ç©ºç›®æ ‡æ–‡ä»¶çš„è§„åˆ™"><a class="markdownIt-Anchor" href="#27-æ¸…ç©ºç›®æ ‡æ–‡ä»¶çš„è§„åˆ™"></a> 2.7 æ¸…ç©ºç›®æ ‡æ–‡ä»¶çš„è§„åˆ™</h2>
<p>æ¯ä¸ªMakefileä¸­éƒ½åº”è¯¥å†™ä¸€ä¸ªæ¸…ç©ºç›®æ ‡æ–‡ä»¶ï¼ˆ <code>.o</code> å’Œæ‰§è¡Œæ–‡ä»¶ï¼‰çš„è§„åˆ™ï¼Œè¿™ä¸ä»…ä¾¿äºé‡ç¼–è¯‘ï¼Œä¹Ÿå¾ˆåˆ©äºä¿æŒæ–‡ä»¶çš„æ¸…æ´ã€‚è¿™æ˜¯ä¸€ä¸ª&quot;ä¿®å…»&quot;ï¼ˆå‘µå‘µï¼Œè¿˜è®°å¾—æˆ‘çš„ã€Šç¼–ç¨‹ä¿®å…»ã€‹å—ï¼‰ã€‚ä¸€èˆ¬çš„é£æ ¼éƒ½æ˜¯ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">&gt;  rm edit <span class="variable">$(objects)</span></span><br></pre></td></tr></table></figure>
<p>æ›´ä¸ºç¨³å¥çš„åšæ³•æ˜¯ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">.PHONY : clean</span><br><span class="line">clean :</span><br><span class="line">&gt;  -rm edit <span class="variable">$(objects)</span></span><br></pre></td></tr></table></figure>
<p>å‰é¢è¯´è¿‡ï¼Œ <code>.PHONY</code> è¡¨ç¤º <code>clean</code> æ˜¯ä¸€ä¸ª&quot;ä¼ªç›®æ ‡&quot;ã€‚è€Œåœ¨ <code>rm</code> å‘½ä»¤å‰é¢åŠ äº†ä¸€ä¸ªå°å‡å·çš„æ„æ€å°±æ˜¯ï¼Œä¹Ÿè®¸æŸäº›æ–‡ä»¶å‡ºç°é—®é¢˜ï¼Œä½†ä¸è¦ç®¡ï¼Œç»§ç»­åšåé¢çš„äº‹ã€‚å½“ç„¶ï¼Œ <code>clean</code> çš„è§„åˆ™ä¸è¦æ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ï¼Œä¸ç„¶ï¼Œè¿™å°±ä¼šå˜æˆmakeçš„é»˜è®¤ç›®æ ‡ï¼Œç›¸ä¿¡è°ä¹Ÿä¸æ„¿æ„è¿™æ ·ã€‚ä¸æˆæ–‡çš„è§„çŸ©æ˜¯------â€œcleanä»æ¥éƒ½æ˜¯æ”¾åœ¨æ–‡ä»¶çš„æœ€åâ€ã€‚</p>
<p>ä¸Šé¢å°±æ˜¯ä¸€ä¸ªmakefileçš„æ¦‚è²Œï¼Œä¹Ÿæ˜¯makefileçš„åŸºç¡€ï¼Œä¸‹é¢è¿˜æœ‰å¾ˆå¤šmakefileçš„ç›¸å…³ç»†èŠ‚ï¼Œå‡†å¤‡å¥½äº†å—ï¼Ÿå‡†å¤‡å¥½äº†å°±æ¥ã€‚</p>
<h2 id="28-makefileé‡Œæœ‰ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#28-makefileé‡Œæœ‰ä»€ä¹ˆ"></a> 2.8 Makefileé‡Œæœ‰ä»€ä¹ˆï¼Ÿ</h2>
<p>Makefileé‡Œä¸»è¦åŒ…å«äº†äº”ä¸ªä¸œè¥¿ï¼šæ˜¾å¼è§„åˆ™ã€éšæ™¦è§„åˆ™ã€å˜é‡å®šä¹‰ã€æ–‡ä»¶æŒ‡ç¤ºå’Œæ³¨é‡Šã€‚</p>
<ol>
<li>æ˜¾å¼è§„åˆ™ã€‚æ˜¾å¼è§„åˆ™è¯´æ˜äº†å¦‚ä½•ç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ªç›®æ ‡æ–‡ä»¶ã€‚è¿™æ˜¯ç”±Makefileçš„ä¹¦å†™è€…æ˜æ˜¾æŒ‡å‡ºè¦ç”Ÿæˆçš„æ–‡ä»¶ã€æ–‡ä»¶çš„ä¾èµ–æ–‡ä»¶å’Œç”Ÿæˆçš„å‘½ä»¤ã€‚</li>
<li>éšæ™¦è§„åˆ™ã€‚ç”±äºæˆ‘ä»¬çš„makeæœ‰è‡ªåŠ¨æ¨å¯¼çš„åŠŸèƒ½ï¼Œæ‰€ä»¥éšæ™¦çš„è§„åˆ™å¯ä»¥è®©æˆ‘ä»¬æ¯”è¾ƒç®€ç•¥åœ°ä¹¦å†™Makefileï¼Œè¿™æ˜¯ç”±makeæ‰€æ”¯æŒçš„ã€‚</li>
<li>å˜é‡çš„å®šä¹‰ã€‚åœ¨Makefileä¸­æˆ‘ä»¬è¦å®šä¹‰ä¸€ç³»åˆ—çš„å˜é‡ï¼Œå˜é‡ä¸€èˆ¬éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªæœ‰ç‚¹åƒä½ Cè¯­è¨€ä¸­çš„å®ï¼Œå½“Makefileè¢«æ‰§è¡Œæ—¶ï¼Œå…¶ä¸­çš„å˜é‡éƒ½ä¼šè¢«æ‰©å±•åˆ°ç›¸åº”çš„å¼•ç”¨ä½ç½®ä¸Šã€‚</li>
<li>æ–‡ä»¶æŒ‡ç¤ºã€‚å…¶åŒ…æ‹¬äº†ä¸‰ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯åœ¨ä¸€ä¸ªMakefileä¸­å¼•ç”¨å¦ä¸€ä¸ªMakefileï¼Œå°±åƒCè¯­è¨€ä¸­çš„includeä¸€æ ·ï¼›å¦ä¸€ä¸ªæ˜¯æŒ‡æ ¹æ®æŸäº›æƒ…å†µæŒ‡å®šMakefileä¸­çš„æœ‰æ•ˆéƒ¨åˆ†ï¼Œå°±åƒCè¯­è¨€ä¸­çš„é¢„ç¼–è¯‘#ifä¸€æ ·ï¼›è¿˜æœ‰å°±æ˜¯å®šä¹‰ä¸€ä¸ªå¤šè¡Œçš„å‘½ä»¤ã€‚æœ‰å…³è¿™ä¸€éƒ¨åˆ†çš„å†…å®¹ï¼Œæˆ‘ä¼šåœ¨åç»­çš„éƒ¨åˆ†ä¸­è®²è¿°ã€‚</li>
<li>æ³¨é‡Šã€‚Makefileä¸­åªæœ‰è¡Œæ³¨é‡Šï¼Œå’ŒUNIXçš„Shellè„šæœ¬ä¸€æ ·ï¼Œå…¶æ³¨é‡Šæ˜¯ç”¨ <code>#</code> å­—ç¬¦ï¼Œè¿™ä¸ªå°± åƒC/C++ä¸­çš„ <code>//</code> ä¸€æ ·ã€‚å¦‚æœä½ è¦åœ¨ä½ çš„Makefileä¸­ä½¿ç”¨ <code>#</code> å­—ç¬¦ï¼Œå¯ä»¥ç”¨åæ–œæ è¿›è¡Œ è½¬ä¹‰ï¼Œå¦‚ï¼š <code>\#</code> ã€‚</li>
</ol>
<p>æœ€åï¼Œè¿˜å€¼å¾—ä¸€æçš„æ˜¯ï¼Œåœ¨Makefileä¸­çš„å‘½ä»¤ï¼Œå¿…é¡»è¦ä»¥ <code>Tab</code> é”®å¼€å§‹ã€‚</p>
<h2 id="29-makefileçš„æ–‡ä»¶å"><a class="markdownIt-Anchor" href="#29-makefileçš„æ–‡ä»¶å"></a> 2.9 Makefileçš„æ–‡ä»¶å</h2>
<p>é»˜è®¤çš„æƒ…å†µä¸‹ï¼Œmakeå‘½ä»¤ä¼šåœ¨å½“å‰ç›®å½•ä¸‹æŒ‰é¡ºåºæ‰¾å¯»æ–‡ä»¶åä¸º&quot;GNUmakefile&quot;ã€ â€œmakefileâ€ã€â€œMakefile&quot;çš„æ–‡ä»¶ï¼Œæ‰¾åˆ°äº†è§£é‡Šè¿™ä¸ªæ–‡ä»¶ã€‚åœ¨è¿™ä¸‰ä¸ªæ–‡ä»¶åä¸­ï¼Œæœ€å¥½ä½¿ç”¨&quot;Makefile&quot;è¿™ä¸ªæ–‡ä»¶åï¼Œå› ä¸ºï¼Œè¿™ä¸ªæ–‡ä»¶åç¬¬ä¸€ä¸ªå­—ç¬¦ä¸ºå¤§å†™ï¼Œè¿™æ ·æœ‰ä¸€ç§æ˜¾ç›®çš„æ„Ÿè§‰ã€‚æœ€å¥½ä¸è¦ç”¨&quot;GNUmakefileâ€ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯GNUçš„makeè¯†åˆ«çš„ã€‚æœ‰å¦å¤–ä¸€äº›makeåªå¯¹å…¨å°å†™çš„&quot;makefile&quot;æ–‡ä»¶åæ•æ„Ÿï¼Œä½†æ˜¯åŸºæœ¬ä¸Šæ¥è¯´ï¼Œå¤§å¤šæ•°çš„makeéƒ½æ”¯æŒ&quot;makefile&quot;å’Œ&quot;Makefile&quot;è¿™ä¸¤ç§é»˜è®¤æ–‡ä»¶åã€‚</p>
<p>å½“ç„¶ï¼Œä½ å¯ä»¥ä½¿ç”¨åˆ«çš„æ–‡ä»¶åæ¥ä¹¦å†™Makefileï¼Œæ¯”å¦‚ï¼šâ€œMake.Linuxâ€ï¼Œâ€œMake.Solarisâ€ï¼Œ&quot;Make.AIX&quot;ç­‰ï¼Œå¦‚æœè¦æŒ‡å®šç‰¹å®šçš„Makefileï¼Œä½ å¯ä»¥ä½¿ç”¨makeçš„ <code>-f</code> å’Œ <code>--file</code> å‚æ•°ï¼Œ å¦‚ï¼š <code>make -f Make.Linux</code> æˆ– <code>make --file Make.AIX</code> ã€‚</p>
<h2 id="210-å¼•ç”¨å…¶å®ƒçš„makefile"><a class="markdownIt-Anchor" href="#210-å¼•ç”¨å…¶å®ƒçš„makefile"></a> 2.10 å¼•ç”¨å…¶å®ƒçš„Makefile</h2>
<p>åœ¨Makefileä½¿ç”¨ <code>include</code> å…³é”®å­—å¯ä»¥æŠŠåˆ«çš„MakefileåŒ…å«è¿›æ¥ï¼Œè¿™å¾ˆåƒCè¯­è¨€çš„ <code>#include</code> ï¼Œè¢«åŒ…å«çš„æ–‡ä»¶ä¼šåŸæ¨¡åŸæ ·çš„æ”¾åœ¨å½“å‰æ–‡ä»¶çš„åŒ…å«ä½ç½®ã€‚ <code>include</code> çš„è¯­æ³•æ˜¯ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">include</span> &lt;filename&gt;</span><br></pre></td></tr></table></figure>
<p><code>filename</code> å¯ä»¥æ˜¯å½“å‰æ“ä½œç³»ç»ŸShellçš„æ–‡ä»¶æ¨¡å¼ï¼ˆå¯ä»¥åŒ…å«è·¯å¾„å’Œé€šé…ç¬¦ï¼‰ã€‚</p>
<p>åœ¨ <code>include</code> å‰é¢å¯ä»¥æœ‰ä¸€äº›ç©ºå­—ç¬¦ï¼Œä½†æ˜¯ç»ä¸èƒ½æ˜¯ <code>Tab</code> é”®å¼€å§‹ã€‚ <code>include</code> å’Œ <code>&lt;filename&gt;</code> å¯ä»¥ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªç©ºæ ¼éš”å¼€ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä½ æœ‰è¿™æ ·å‡ ä¸ªMakefileï¼š <code>a.mk</code> ã€ <code>b.mk</code> ã€ <code>c.mk</code> ï¼Œè¿˜æœ‰ä¸€ä¸ªæ–‡ä»¶å« <code>foo.make</code> ï¼Œä»¥åŠä¸€ä¸ªå˜é‡ <code>$(bar)</code><br />
ï¼Œå…¶åŒ…å« äº† <code>e.mk</code> å’Œ <code>f.mk</code> ï¼Œé‚£ä¹ˆï¼Œä¸‹é¢çš„è¯­å¥ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">include</span> foo.make *.mk <span class="variable">$(bar)</span></span><br></pre></td></tr></table></figure>
<p>ç­‰ä»·äºï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">include</span> foo.make a.mk b.mk c.mk e.mk f.mk</span><br></pre></td></tr></table></figure>
<p>makeå‘½ä»¤å¼€å§‹æ—¶ï¼Œä¼šæ‰¾å¯» <code>include</code> æ‰€æŒ‡å‡ºçš„å…¶å®ƒMakefileï¼Œå¹¶æŠŠå…¶å†…å®¹å®‰ç½®åœ¨å½“å‰çš„ä½ç½®ã€‚å°±å¥½ åƒC/C++çš„ <code>#include</code> æŒ‡ä»¤ä¸€æ ·ã€‚å¦‚æœæ–‡ä»¶éƒ½æ²¡æœ‰æŒ‡å®šç»å¯¹è·¯å¾„æˆ–æ˜¯ç›¸å¯¹è·¯å¾„çš„è¯ï¼Œmakeä¼šåœ¨å½“å‰ç›®å½•ä¸‹é¦–å…ˆå¯»æ‰¾ï¼Œå¦‚æœå½“å‰ç›®å½•ä¸‹æ²¡æœ‰æ‰¾åˆ°ï¼Œé‚£ä¹ˆï¼Œmakeè¿˜ä¼šåœ¨ä¸‹é¢çš„å‡ ä¸ªç›®å½•ä¸‹æ‰¾ï¼š</p>
<ol>
<li>å¦‚æœmakeæ‰§è¡Œæ—¶ï¼Œæœ‰ <code>-I</code> æˆ– <code>--include-dir</code> å‚æ•°ï¼Œé‚£ä¹ˆmakeå°±ä¼šåœ¨è¿™ä¸ªå‚æ•°æ‰€æŒ‡å®šçš„ç›® å½•ä¸‹å»å¯»æ‰¾ã€‚</li>
<li>å¦‚æœç›®å½• <code>&lt;prefix&gt;/include</code> ï¼ˆä¸€èˆ¬æ˜¯ï¼š <code>/usr/local/bin</code> æˆ– <code>/usr/include</code> ï¼‰å­˜åœ¨çš„è¯ï¼Œmakeä¹Ÿä¼šå»æ‰¾ã€‚</li>
</ol>
<p>å¦‚æœæœ‰æ–‡ä»¶æ²¡æœ‰æ‰¾åˆ°çš„è¯ï¼Œmakeä¼šç”Ÿæˆä¸€æ¡è­¦å‘Šä¿¡æ¯ï¼Œä½†ä¸ä¼šé©¬ä¸Šå‡ºç°è‡´å‘½é”™è¯¯ã€‚å®ƒä¼šç»§ç»­è½½å…¥å…¶å®ƒçš„æ–‡ä»¶ï¼Œä¸€æ—¦å®Œæˆmakefileçš„è¯»å–ï¼Œmakeä¼šå†é‡è¯•è¿™äº›æ²¡æœ‰æ‰¾åˆ°ï¼Œæˆ–æ˜¯ä¸èƒ½è¯»å–çš„æ–‡ä»¶ï¼Œå¦‚æœè¿˜æ˜¯ä¸è¡Œï¼Œmakeæ‰ä¼šå‡ºç°ä¸€æ¡è‡´å‘½ä¿¡æ¯ã€‚å¦‚æœä½ æƒ³è®©makeä¸ç†é‚£äº›æ— æ³•è¯»å–çš„æ–‡ä»¶ï¼Œè€Œç»§ç»­æ‰§è¡Œï¼Œä½ å¯ä»¥åœ¨includeå‰åŠ ä¸€ä¸ªå‡å·&quot;-&quot;ã€‚å¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">-include</span> &lt;filename&gt;</span><br></pre></td></tr></table></figure>
<p>å…¶è¡¨ç¤ºï¼Œæ— è®ºincludeè¿‡ç¨‹ä¸­å‡ºç°ä»€ä¹ˆé”™è¯¯ï¼Œéƒ½ä¸è¦æŠ¥é”™ç»§ç»­æ‰§è¡Œã€‚å’Œå…¶å®ƒç‰ˆæœ¬makeå…¼å®¹çš„ç›¸å…³å‘½ä»¤æ˜¯sincludeï¼Œå…¶ä½œç”¨å’Œè¿™ä¸€ä¸ªæ˜¯ä¸€æ ·çš„ã€‚</p>
<h2 id="211-ç¯å¢ƒå˜é‡makefiles"><a class="markdownIt-Anchor" href="#211-ç¯å¢ƒå˜é‡makefiles"></a> 2.11 ç¯å¢ƒå˜é‡MAKEFILES</h2>
<p>å¦‚æœä½ çš„å½“å‰ç¯å¢ƒä¸­å®šä¹‰äº†ç¯å¢ƒå˜é‡ <code>MAKEFILES</code> ï¼Œé‚£ä¹ˆï¼Œmakeä¼šæŠŠè¿™ä¸ªå˜é‡ä¸­çš„å€¼åšä¸€ä¸ªç±»ä¼¼äº <code>include</code> çš„åŠ¨ä½œã€‚è¿™ä¸ªå˜é‡ä¸­çš„å€¼æ˜¯å…¶å®ƒçš„Makefileï¼Œç”¨ç©ºæ ¼åˆ†éš”ã€‚åªæ˜¯ï¼Œå®ƒå’Œ <code>include</code> ä¸åŒçš„æ˜¯ï¼Œä»è¿™ä¸ªç¯å¢ƒå˜é‡ä¸­å¼•å…¥çš„Makefileçš„&quot;ç›®æ ‡&quot;ä¸ä¼šèµ·ä½œç”¨ï¼Œå¦‚æœç¯å¢ƒå˜é‡ä¸­å®šä¹‰çš„æ–‡ä»¶å‘ç°é”™è¯¯ï¼Œmakeä¹Ÿä¼šä¸ç†ã€‚</p>
<p>ä½†æ˜¯åœ¨è¿™é‡Œæˆ‘è¿˜æ˜¯å»ºè®®ä¸è¦ä½¿ç”¨è¿™ä¸ªç¯å¢ƒå˜é‡ï¼Œå› ä¸ºåªè¦è¿™ä¸ªå˜é‡ä¸€è¢«å®šä¹‰ï¼Œé‚£ä¹ˆå½“ä½ ä½¿ç”¨makeæ—¶ï¼Œæ‰€æœ‰çš„Makefileéƒ½ä¼šå—åˆ°å®ƒçš„å½±å“ï¼Œè¿™ç»ä¸æ˜¯ä½ æƒ³çœ‹åˆ°çš„ã€‚åœ¨è¿™é‡Œæè¿™ä¸ªäº‹ï¼Œåªæ˜¯ä¸ºäº†å‘Šè¯‰å¤§å®¶ï¼Œä¹Ÿè®¸æœ‰æ—¶å€™ä½ çš„Makefileå‡ºç°äº†æ€ªäº‹ï¼Œé‚£ä¹ˆä½ å¯ä»¥çœ‹çœ‹å½“å‰ç¯å¢ƒä¸­æœ‰æ²¡æœ‰å®šä¹‰è¿™ä¸ªå˜é‡ã€‚</p>
<h2 id="212-makeçš„å·¥ä½œæ–¹å¼"><a class="markdownIt-Anchor" href="#212-makeçš„å·¥ä½œæ–¹å¼"></a> 2.12 makeçš„å·¥ä½œæ–¹å¼</h2>
<p>GNUçš„makeå·¥ä½œæ—¶çš„æ‰§è¡Œæ­¥éª¤å¦‚ä¸‹ï¼šï¼ˆæƒ³æ¥å…¶å®ƒçš„makeä¹Ÿæ˜¯ç±»ä¼¼ï¼‰</p>
<ol>
<li>è¯»å…¥æ‰€æœ‰çš„Makefileã€‚</li>
<li>è¯»å…¥è¢«includeçš„å…¶å®ƒMakefileã€‚</li>
<li>åˆå§‹åŒ–æ–‡ä»¶ä¸­çš„å˜é‡ã€‚</li>
<li>æ¨å¯¼éšæ™¦è§„åˆ™ï¼Œå¹¶åˆ†ææ‰€æœ‰è§„åˆ™ã€‚</li>
<li>ä¸ºæ‰€æœ‰çš„ç›®æ ‡æ–‡ä»¶åˆ›å»ºä¾èµ–å…³ç³»é“¾ã€‚</li>
<li>æ ¹æ®ä¾èµ–å…³ç³»ï¼Œå†³å®šå“ªäº›ç›®æ ‡è¦é‡æ–°ç”Ÿæˆã€‚</li>
<li>æ‰§è¡Œç”Ÿæˆå‘½ä»¤ã€‚</li>
</ol>
<p>1-5æ­¥ä¸ºç¬¬ä¸€ä¸ªé˜¶æ®µï¼Œ6-7ä¸ºç¬¬äºŒä¸ªé˜¶æ®µã€‚ç¬¬ä¸€ä¸ªé˜¶æ®µä¸­ï¼Œå¦‚æœå®šä¹‰çš„å˜é‡è¢«ä½¿ç”¨äº†ï¼Œé‚£ä¹ˆï¼Œmakeä¼šæŠŠå…¶å±•å¼€åœ¨ä½¿ç”¨çš„ä½ç½®ã€‚ä½†makeå¹¶ä¸ä¼šå®Œå…¨é©¬ä¸Šå±•å¼€ï¼Œmakeä½¿ç”¨çš„æ˜¯æ‹–å»¶æˆ˜æœ¯ï¼Œå¦‚æœå˜é‡å‡ºç°åœ¨ä¾èµ–å…³ç³»çš„è§„åˆ™ä¸­ï¼Œé‚£ä¹ˆä»…å½“è¿™æ¡ä¾èµ–è¢«å†³å®šè¦ä½¿ç”¨äº†ï¼Œå˜é‡æ‰ä¼šåœ¨å…¶å†…éƒ¨å±•å¼€ã€‚</p>
<p>å½“ç„¶ï¼Œè¿™ä¸ªå·¥ä½œæ–¹å¼ä½ ä¸ä¸€å®šè¦æ¸…æ¥šï¼Œä½†æ˜¯çŸ¥é“è¿™ä¸ªæ–¹å¼ä½ ä¹Ÿä¼šå¯¹makeæ›´ä¸ºç†Ÿæ‚‰ã€‚æœ‰äº†è¿™ä¸ªåŸºç¡€ï¼Œåç»­éƒ¨åˆ†ä¹Ÿå°±å®¹æ˜“çœ‹æ‡‚äº†ã€‚</p>
<h1 id="3-ä¹¦å†™è§„åˆ™"><a class="markdownIt-Anchor" href="#3-ä¹¦å†™è§„åˆ™"></a> 3. ä¹¦å†™è§„åˆ™</h1>
<p>è§„åˆ™åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯ä¾èµ–å…³ç³»ï¼Œä¸€ä¸ªæ˜¯ç”Ÿæˆç›®æ ‡çš„æ–¹æ³•ã€‚</p>
<p>åœ¨Makefileä¸­ï¼Œè§„åˆ™çš„é¡ºåºæ˜¯å¾ˆé‡è¦çš„ï¼Œå› ä¸ºï¼ŒMakefileä¸­åªåº”è¯¥æœ‰ä¸€ä¸ªæœ€ç»ˆç›®æ ‡ï¼Œå…¶å®ƒçš„ç›®æ ‡éƒ½æ˜¯è¢«è¿™ä¸ªç›®æ ‡æ‰€è¿å¸¦å‡ºæ¥çš„ï¼Œæ‰€ä»¥ä¸€å®šè¦è®©makeçŸ¥é“ä½ çš„æœ€ç»ˆç›®æ ‡æ˜¯ä»€ä¹ˆã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå®šä¹‰åœ¨Makefileä¸­çš„ç›®æ ‡å¯èƒ½ä¼šæœ‰å¾ˆå¤šï¼Œä½†æ˜¯ç¬¬ä¸€æ¡è§„åˆ™ä¸­çš„ç›®æ ‡å°†è¢«ç¡®ç«‹ä¸ºæœ€ç»ˆçš„ç›®æ ‡ã€‚å¦‚æœç¬¬ä¸€æ¡è§„åˆ™ä¸­çš„ç›®æ ‡æœ‰å¾ˆå¤šä¸ªï¼Œé‚£ä¹ˆï¼Œç¬¬ä¸€ä¸ªç›®æ ‡ä¼šæˆä¸ºæœ€ç»ˆçš„ç›®æ ‡ã€‚makeæ‰€å®Œæˆçš„ä¹Ÿå°±æ˜¯è¿™ä¸ªç›®æ ‡ã€‚</p>
<p>å¥½äº†ï¼Œè¿˜æ˜¯è®©æˆ‘ä»¬æ¥çœ‹ä¸€çœ‹å¦‚ä½•ä¹¦å†™è§„åˆ™ã€‚</p>
<h2 id="31-è§„åˆ™ä¸¾ä¾‹"><a class="markdownIt-Anchor" href="#31-è§„åˆ™ä¸¾ä¾‹"></a> 3.1 è§„åˆ™ä¸¾ä¾‹</h2>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line"><span class="section">foo.o: foo.c defs.h       # fooæ¨¡å—</span></span><br><span class="line">&gt;  cc -c -g foo.c</span><br></pre></td></tr></table></figure>
<p>çœ‹åˆ°è¿™ä¸ªä¾‹å­ï¼Œå„ä½åº”è¯¥ä¸æ˜¯å¾ˆé™Œç”Ÿäº†ï¼Œå‰é¢ä¹Ÿå·²è¯´è¿‡ï¼Œ <code>foo.o</code> æ˜¯æˆ‘ä»¬çš„ç›®æ ‡ï¼Œ <code>foo.c</code> å’Œ <code>defs.h</code> æ˜¯ç›®æ ‡æ‰€ä¾èµ–çš„æºæ–‡ä»¶ï¼Œè€Œåªæœ‰ä¸€ä¸ªå‘½ä»¤ <code>cc -c -g foo.c</code> ï¼ˆä»¥Tabé”®å¼€å¤´ï¼‰ã€‚è¿™ä¸ª è§„åˆ™å‘Šè¯‰æˆ‘ä»¬ä¸¤ä»¶äº‹ï¼š</p>
<ol>
<li>æ–‡ä»¶çš„ä¾èµ–å…³ç³»ï¼Œ <code>foo.o</code> ä¾èµ–äº <code>foo.c</code> å’Œ <code>defs.h</code> çš„æ–‡ä»¶ï¼Œå¦‚æœ <code>foo.c</code> å’Œ <code>defs.h</code> çš„æ–‡ä»¶æ—¥æœŸè¦æ¯” <code>foo.o</code> æ–‡ä»¶æ—¥æœŸè¦æ–°ï¼Œæˆ–æ˜¯ <code>foo.o</code> ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆä¾èµ– å…³ç³»å‘ç”Ÿã€‚</li>
<li>ç”Ÿæˆæˆ–æ›´æ–° <code>foo.o</code> æ–‡ä»¶ï¼Œå°±æ˜¯é‚£ä¸ªccå‘½ä»¤ã€‚å®ƒè¯´æ˜äº†å¦‚ä½•ç”Ÿæˆ <code>foo.o</code> è¿™ä¸ªæ–‡ä»¶ã€‚ ï¼ˆå½“ç„¶ï¼Œfoo.cæ–‡ä»¶includeäº†defs.hæ–‡ä»¶ï¼‰</li>
</ol>
<h2 id="32-è§„åˆ™çš„è¯­æ³•"><a class="markdownIt-Anchor" href="#32-è§„åˆ™çš„è¯­æ³•"></a> 3.2 è§„åˆ™çš„è¯­æ³•</h2>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">targets : prerequisites</span><br><span class="line">&gt;  command</span><br><span class="line">&gt;  ...</span><br></pre></td></tr></table></figure>
<p>æˆ–æ˜¯è¿™æ ·ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">targets : prerequisites ; command</span><br><span class="line">&gt;  command</span><br><span class="line">&gt;  ...</span><br></pre></td></tr></table></figure>
<p>targetsæ˜¯æ–‡ä»¶åï¼Œä»¥ç©ºæ ¼åˆ†å¼€ï¼Œå¯ä»¥ä½¿ç”¨é€šé…ç¬¦ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬çš„ç›®æ ‡åŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œä½†ä¹Ÿæœ‰å¯èƒ½æ˜¯å¤šä¸ªæ–‡ä»¶ã€‚</p>
<p>commandæ˜¯å‘½ä»¤è¡Œï¼Œå¦‚æœå…¶ä¸ä¸&quot;target:prerequisites&quot;åœ¨ä¸€è¡Œï¼Œé‚£ä¹ˆï¼Œå¿…é¡»ä»¥ <code>Tab</code> é”®å¼€å¤´ï¼Œå¦‚æœå’Œprerequisitesåœ¨ä¸€è¡Œï¼Œé‚£ä¹ˆå¯ä»¥ç”¨åˆ†å·åšä¸ºåˆ†éš”ã€‚ï¼ˆè§ä¸Šï¼‰</p>
<p>prerequisitesä¹Ÿå°±æ˜¯ç›®æ ‡æ‰€ä¾èµ–çš„æ–‡ä»¶ï¼ˆæˆ–ä¾èµ–ç›®æ ‡ï¼‰ã€‚å¦‚æœå…¶ä¸­çš„æŸä¸ªæ–‡ä»¶è¦æ¯”ç›®æ ‡æ–‡ä»¶è¦æ–°ï¼Œé‚£ä¹ˆï¼Œç›®æ ‡å°±è¢«è®¤ä¸ºæ˜¯&quot;è¿‡æ—¶çš„&quot;ï¼Œè¢«è®¤ä¸ºæ˜¯éœ€è¦é‡ç”Ÿæˆçš„ã€‚è¿™ä¸ªåœ¨å‰é¢å·²ç»è®²è¿‡äº†ã€‚</p>
<p>å¦‚æœå‘½ä»¤å¤ªé•¿ï¼Œä½ å¯ä»¥ä½¿ç”¨åæ–œæ ï¼ˆ <code>\</code> ï¼‰ä½œä¸ºæ¢è¡Œç¬¦ã€‚makeå¯¹ä¸€è¡Œä¸Šæœ‰å¤šå°‘ä¸ªå­—ç¬¦æ²¡æœ‰é™åˆ¶ã€‚è§„åˆ™å‘Šè¯‰makeä¸¤ä»¶äº‹ï¼Œæ–‡ä»¶çš„ä¾èµ–å…³ç³»å’Œå¦‚ä½•ç”Ÿæˆç›®æ ‡æ–‡ä»¶ã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œmakeä¼šä»¥UNIXçš„æ ‡å‡†Shellï¼Œä¹Ÿå°±æ˜¯ <code>/bin/sh</code> æ¥æ‰§è¡Œå‘½ä»¤ã€‚</p>
<h2 id="33-åœ¨è§„åˆ™ä¸­ä½¿ç”¨é€šé…ç¬¦"><a class="markdownIt-Anchor" href="#33-åœ¨è§„åˆ™ä¸­ä½¿ç”¨é€šé…ç¬¦"></a> 3.3 åœ¨è§„åˆ™ä¸­ä½¿ç”¨é€šé…ç¬¦</h2>
<p>å¦‚æœæˆ‘ä»¬æƒ³å®šä¹‰ä¸€ç³»åˆ—æ¯”è¾ƒç±»ä¼¼çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬å¾ˆè‡ªç„¶åœ°å°±æƒ³èµ·ä½¿ç”¨é€šé…ç¬¦ã€‚makeæ”¯æŒä¸‰ä¸ªé€šé…ç¬¦ï¼š <code>*</code> ï¼Œ <code>?</code> å’Œ <code>~</code> ã€‚è¿™æ˜¯å’ŒUnixçš„B-Shellæ˜¯ç›¸åŒçš„ã€‚</p>
<p>æ³¢æµªå·ï¼ˆ <code>~</code> ï¼‰å­—ç¬¦åœ¨æ–‡ä»¶åä¸­ä¹Ÿæœ‰æ¯”è¾ƒç‰¹æ®Šçš„ç”¨é€”ã€‚å¦‚æœæ˜¯ <code>~/test</code> ï¼Œè¿™å°±è¡¨ç¤ºå½“å‰ç”¨æˆ· çš„ <code>$HOME</code> ç›®å½•ä¸‹çš„testç›®å½•ã€‚è€Œ <code>~hchen/test</code> åˆ™è¡¨ç¤ºç”¨æˆ·hchençš„å®¿ä¸»ç›®å½•ä¸‹çš„testç›®å½•ã€‚ï¼ˆè¿™äº›éƒ½æ˜¯Unixä¸‹çš„å°çŸ¥è¯†äº†ï¼Œmakeä¹Ÿæ”¯æŒï¼‰è€Œåœ¨Windowsæˆ–æ˜¯ MS-DOSä¸‹ï¼Œç”¨æˆ·æ²¡æœ‰å®¿ä¸»ç›®å½•ï¼Œé‚£ä¹ˆæ³¢æµªå·æ‰€æŒ‡çš„ç›®å½•åˆ™æ ¹æ®ç¯å¢ƒå˜é‡&quot;HOME&quot;è€Œå®šã€‚</p>
<p>é€šé…ç¬¦ä»£æ›¿äº†ä½ ä¸€ç³»åˆ—çš„æ–‡ä»¶ï¼Œå¦‚ <code>*.c</code> è¡¨ç¤ºæ‰€æœ‰åç¼€ä¸ºcçš„æ–‡ä»¶ã€‚ä¸€ä¸ªéœ€è¦æˆ‘ä»¬æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬çš„æ–‡ä»¶åä¸­æœ‰é€šé…ç¬¦ï¼Œå¦‚ï¼š <code>*</code> ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨è½¬ä¹‰å­—ç¬¦ <code>\</code> ï¼Œå¦‚ <code>\*</code> æ¥è¡¨ç¤ºçœŸå®çš„ <code>*</code> å­—ç¬¦ï¼Œè€Œä¸æ˜¯ä»»æ„é•¿åº¦çš„å­—ç¬¦ä¸²ã€‚</p>
<p>å¥½å§ï¼Œè¿˜æ˜¯å…ˆæ¥çœ‹å‡ ä¸ªä¾‹å­å§ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">&gt;  rm -f *.o</span><br></pre></td></tr></table></figure>
<p>å…¶å®åœ¨è¿™ä¸ªclean:åé¢å¯ä»¥åŠ ä¸Šä½ æƒ³åšçš„ä¸€äº›äº‹æƒ…ï¼Œå¦‚æœä½ æƒ³çœ‹åˆ°åœ¨ç¼–è¯‘å®Œåçœ‹çœ‹main.cçš„æºä»£ç ï¼Œä½ å¯ä»¥åœ¨åŠ ä¸Šcatè¿™ä¸ªå‘½ä»¤ï¼Œä¾‹å­å¦‚ä¸‹ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">&gt;  cat main.c</span><br><span class="line">&gt;  rm -f *.o</span><br></pre></td></tr></table></figure>
<p>å…¶ç»“æœä½ è¯•ä¸€ä¸‹å°±çŸ¥é“çš„ã€‚<br />
ä¸Šé¢è¿™ä¸ªä¾‹å­æˆ‘ä¸ä¸å¤šè¯´äº†ï¼Œè¿™æ˜¯æ“ä½œç³»ç»ŸShellæ‰€æ”¯æŒçš„é€šé…ç¬¦ã€‚è¿™æ˜¯åœ¨å‘½ä»¤ä¸­çš„é€šé…ç¬¦ã€‚</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line"><span class="section">print: *.c</span></span><br><span class="line">&gt;  lpr -p <span class="variable">$?</span></span><br><span class="line">&gt;  touch print</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢è¿™ä¸ªä¾‹å­è¯´æ˜äº†é€šé…ç¬¦ä¹Ÿå¯ä»¥åœ¨æˆ‘ä»¬çš„è§„åˆ™ä¸­ï¼Œç›®æ ‡printä¾èµ–äºæ‰€æœ‰çš„ <code>.c</code> æ–‡ä»¶ã€‚å…¶ä¸­çš„ <code>$?</code> æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–å˜é‡ï¼Œæˆ‘ä¼šåœ¨åé¢ç»™ä½ è®²è¿°ã€‚</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">objects = *.o</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢è¿™ä¸ªä¾‹å­ï¼Œè¡¨ç¤ºäº†é€šé…ç¬¦åŒæ ·å¯ä»¥ç”¨åœ¨å˜é‡ä¸­ã€‚å¹¶ä¸æ˜¯è¯´ <code>*.o</code> ä¼šå±•å¼€ï¼Œä¸ï¼objectsçš„å€¼å°±æ˜¯ <code>*.o</code> ã€‚Makefileä¸­çš„å˜é‡å…¶å®å°±æ˜¯C/C++ä¸­çš„å®ã€‚å¦‚æœä½ è¦è®©é€šé…ç¬¦åœ¨å˜é‡ä¸­å±•å¼€ï¼Œä¹Ÿå°±æ˜¯è®©objectsçš„å€¼æ˜¯æ‰€æœ‰ <code>.o</code> çš„æ–‡ä»¶åçš„é›†åˆï¼Œé‚£ä¹ˆï¼Œä½ å¯ä»¥è¿™æ ·ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">objects := <span class="variable">$(<span class="built_in">wildcard</span> *.o)</span></span><br></pre></td></tr></table></figure>
<p>å¦ç»™ä¸€ä¸ªå˜é‡ä½¿ç”¨é€šé…ç¬¦çš„ä¾‹å­ï¼š</p>
<ol>
<li>
<p>åˆ—å‡ºä¸€ç¡®å®šæ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰ <code>.c</code> æ–‡ä»¶ã€‚</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">objects := <span class="variable">$(<span class="built_in">wildcard</span> *.c)</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åˆ—å‡º(1)ä¸­æ‰€æœ‰æ–‡ä»¶å¯¹åº”çš„ <code>.o</code> æ–‡ä»¶ï¼Œåœ¨ï¼ˆ3ï¼‰ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒæ˜¯ç”±makeè‡ªåŠ¨ç¼–è¯‘å‡ºçš„:</p>
<pre><code>$(patsubst %.c,%.o,$(wildcard *.c))
</code></pre>
</li>
<li>
<p>ç”±(1)(2)ä¸¤æ­¥ï¼Œå¯å†™å‡ºç¼–è¯‘å¹¶é“¾æ¥æ‰€æœ‰ <code>.c</code> å’Œ <code>.o</code> æ–‡ä»¶</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">objects := <span class="variable">$(<span class="built_in">patsubst</span> %.c,%.o,$(<span class="built_in">wildcard</span> *.c)</span>)</span><br><span class="line">foo : <span class="variable">$(objects)</span></span><br><span class="line">&gt;  cc -o foo <span class="variable">$(objects)</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>è¿™ç§ç”¨æ³•ç”±å…³é”®å­—&quot;wildcard&quot;ï¼Œ&quot;patsubst&quot;æŒ‡å‡ºï¼Œå…³äºMakefileçš„å…³é”®å­—ï¼Œæˆ‘ä»¬å°†åœ¨åé¢è®¨è®ºã€‚</p>
<h2 id="34-æ–‡ä»¶æœå¯»"><a class="markdownIt-Anchor" href="#34-æ–‡ä»¶æœå¯»"></a> 3.4 æ–‡ä»¶æœå¯»</h2>
<p>åœ¨ä¸€äº›å¤§çš„å·¥ç¨‹ä¸­ï¼Œæœ‰å¤§é‡çš„æºæ–‡ä»¶ï¼Œæˆ‘ä»¬é€šå¸¸çš„åšæ³•æ˜¯æŠŠè¿™è®¸å¤šçš„æºæ–‡ä»¶åˆ†ç±»ï¼Œå¹¶å­˜æ”¾åœ¨ä¸åŒçš„ç›®å½•ä¸­ã€‚æ‰€ä»¥ï¼Œå½“makeéœ€è¦å»æ‰¾å¯»æ–‡ä»¶çš„ä¾èµ–å…³ç³»æ—¶ï¼Œä½ å¯ä»¥åœ¨æ–‡ä»¶å‰åŠ ä¸Šè·¯å¾„ï¼Œä½†æœ€å¥½çš„æ–¹æ³•æ˜¯æŠŠä¸€ä¸ªè·¯å¾„å‘Šè¯‰makeï¼Œè®©makeåœ¨è‡ªåŠ¨å»æ‰¾ã€‚</p>
<p>Makefileæ–‡ä»¶ä¸­çš„ç‰¹æ®Šå˜é‡ <code>VPATH</code> å°±æ˜¯å®Œæˆè¿™ä¸ªåŠŸèƒ½çš„ï¼Œå¦‚æœæ²¡æœ‰æŒ‡æ˜è¿™ä¸ªå˜é‡ï¼Œmakeåªä¼šåœ¨å½“å‰çš„ç›®å½•ä¸­å»æ‰¾å¯»ä¾èµ–æ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶ã€‚å¦‚æœå®šä¹‰äº†è¿™ä¸ªå˜é‡ï¼Œé‚£ä¹ˆï¼Œmakeå°±ä¼šåœ¨å½“å‰ç›®å½•æ‰¾ä¸åˆ°çš„æƒ…å†µä¸‹ï¼Œåˆ°æ‰€æŒ‡å®šçš„ç›®å½•ä¸­å»æ‰¾å¯»æ–‡ä»¶äº†ã€‚</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">VPATH = src:../headers</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„å®šä¹‰æŒ‡å®šä¸¤ä¸ªç›®å½•ï¼Œâ€œsrc&quot;å’Œâ€â€¦/headers&quot;ï¼Œmakeä¼šæŒ‰ç…§è¿™ä¸ªé¡ºåºè¿›è¡Œæœç´¢ã€‚ç›®å½•ç”±&quot;å†’å·&quot;åˆ†éš”ã€‚ï¼ˆå½“ç„¶ï¼Œå½“å‰ç›®å½•æ°¸è¿œæ˜¯æœ€é«˜ä¼˜å…ˆæœç´¢çš„åœ°æ–¹ï¼‰</p>
<p>å¦ä¸€ä¸ªè®¾ç½®æ–‡ä»¶æœç´¢è·¯å¾„çš„æ–¹æ³•æ˜¯ä½¿ç”¨makeçš„&quot;vpath&quot;å…³é”®å­—ï¼ˆæ³¨æ„ï¼Œå®ƒæ˜¯å…¨å°å†™çš„ï¼‰ï¼Œè¿™ä¸æ˜¯å˜é‡ï¼Œè¿™æ˜¯ä¸€ä¸ªmakeçš„å…³é”®å­—ï¼Œè¿™å’Œä¸Šé¢æåˆ°çš„é‚£ä¸ªVPATHå˜é‡å¾ˆç±»ä¼¼ï¼Œä½†æ˜¯å®ƒæ›´ä¸ºçµæ´»ã€‚å®ƒå¯ä»¥æŒ‡å®šä¸åŒçš„æ–‡ä»¶åœ¨ä¸åŒçš„æœç´¢ç›®å½•ä¸­ã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆçµæ´»çš„åŠŸèƒ½ã€‚å®ƒçš„ä½¿ç”¨æ–¹æ³•æœ‰ä¸‰ç§ï¼š</p>
<p><code>vpath &lt;pattern&gt; &lt;directories&gt;</code>:   ä¸ºç¬¦åˆæ¨¡å¼&lt;pattern&gt;çš„æ–‡ä»¶æŒ‡å®šæœç´¢ç›®å½•&lt;directories&gt;ã€‚</p>
<p><code>vpath &lt;pattern&gt;</code>:   æ¸…é™¤ç¬¦åˆæ¨¡å¼&lt;pattern&gt;çš„æ–‡ä»¶çš„æœç´¢ç›®å½•ã€‚</p>
<p><code>vpath</code>:   æ¸…é™¤æ‰€æœ‰å·²è¢«è®¾ç½®å¥½äº†çš„æ–‡ä»¶æœç´¢ç›®å½•ã€‚</p>
<p>vpathä½¿ç”¨æ–¹æ³•ä¸­çš„&lt;pattern&gt;éœ€è¦åŒ…å« <code>%</code> å­—ç¬¦ã€‚ <code>%</code> çš„æ„æ€æ˜¯åŒ¹é…é›¶æˆ–è‹¥å¹²å­—ç¬¦ï¼Œï¼ˆéœ€å¼•ç”¨ <code>%</code> ï¼Œä½¿ç”¨ <code>\</code> ï¼‰ä¾‹å¦‚ï¼Œ <code>%.h</code> è¡¨ç¤ºæ‰€æœ‰ä»¥ <code>.h</code> ç»“å°¾çš„æ–‡ä»¶ã€‚&lt;pattern&gt;æŒ‡å®šäº†è¦æœç´¢çš„æ–‡ä»¶é›†ï¼Œè€Œ  &lt;directories&gt;åˆ™æŒ‡å®šäº†&lt;pattern&gt;çš„æ–‡ä»¶é›†çš„æœç´¢çš„ç›®å½•ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">vpath</span> %.h ../headers</span><br></pre></td></tr></table></figure>
<p>è¯¥è¯­å¥è¡¨ç¤ºï¼Œè¦æ±‚makeåœ¨&quot;â€¦/headers&quot;ç›®å½•ä¸‹æœç´¢æ‰€æœ‰ä»¥ <code>.h</code> ç»“å°¾çš„æ–‡ä»¶ã€‚ï¼ˆå¦‚æœæŸæ–‡ä»¶åœ¨å½“å‰ç›® å½•æ²¡æœ‰æ‰¾åˆ°çš„è¯ï¼‰</p>
<p>æˆ‘ä»¬å¯ä»¥è¿ç»­åœ°ä½¿ç”¨vpathè¯­å¥ï¼Œä»¥æŒ‡å®šä¸åŒæœç´¢ç­–ç•¥ã€‚å¦‚æœè¿ç»­çš„vpathè¯­å¥ä¸­å‡ºç°äº†ç›¸åŒçš„&lt;pattern&gt;ï¼Œæˆ–æ˜¯è¢«é‡å¤äº†çš„&lt;pattern&gt;ï¼Œé‚£ä¹ˆï¼Œmakeä¼šæŒ‰ç…§vpathè¯­å¥çš„å…ˆåé¡ºåºæ¥æ‰§è¡Œæœç´¢ã€‚å¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">vpath</span> %.c foo</span><br><span class="line"><span class="keyword">vpath</span> %   blish</span><br><span class="line"><span class="keyword">vpath</span> %.c bar</span><br></pre></td></tr></table></figure>
<p>å…¶è¡¨ç¤º <code>.c</code> ç»“å°¾çš„æ–‡ä»¶ï¼Œå…ˆåœ¨&quot;foo&quot;ç›®å½•ï¼Œç„¶åæ˜¯&quot;blish&quot;ï¼Œæœ€åæ˜¯&quot;bar&quot;ç›®å½•ã€‚</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">vpath</span> %.c foo:bar</span><br><span class="line"><span class="keyword">vpath</span> %   blish</span><br></pre></td></tr></table></figure>
<p>è€Œä¸Šé¢çš„è¯­å¥åˆ™è¡¨ç¤º <code>.c</code> ç»“å°¾çš„æ–‡ä»¶ï¼Œå…ˆåœ¨&quot;foo&quot;ç›®å½•ï¼Œç„¶åæ˜¯&quot;bar&quot;ç›®å½•ï¼Œæœ€åæ‰æ˜¯&quot;blish&quot;ç›®å½•ã€‚</p>
<h2 id="35-ä¼ªç›®æ ‡"><a class="markdownIt-Anchor" href="#35-ä¼ªç›®æ ‡"></a> 3.5 ä¼ªç›®æ ‡</h2>
<p>æœ€æ—©å…ˆçš„ä¸€ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æåˆ°è¿‡ä¸€ä¸ª&quot;clean&quot;çš„ç›®æ ‡ï¼Œè¿™æ˜¯ä¸€ä¸ª&quot;ä¼ªç›®æ ‡&quot;ï¼Œ</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">&gt;  rm *.o temp</span><br></pre></td></tr></table></figure>
<p>æ­£åƒæˆ‘ä»¬å‰é¢ä¾‹å­ä¸­çš„&quot;clean&quot;ä¸€æ ·ï¼Œæ—¢ç„¶æˆ‘ä»¬ç”Ÿæˆäº†è®¸å¤šæ–‡ä»¶ç¼–è¯‘æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¹Ÿåº”è¯¥æä¾›ä¸€ä¸ªæ¸…é™¤å®ƒä»¬çš„&quot;ç›®æ ‡&quot;ä»¥å¤‡å®Œæ•´åœ°é‡ç¼–è¯‘è€Œç”¨ã€‚ ï¼ˆä»¥&quot;make clean&quot;æ¥ä½¿ç”¨è¯¥ç›®æ ‡ï¼‰</p>
<p>å› ä¸ºï¼Œæˆ‘ä»¬å¹¶ä¸ç”Ÿæˆ&quot;clean&quot;è¿™ä¸ªæ–‡ä»¶ã€‚&quot;ä¼ªç›®æ ‡&quot;å¹¶ä¸æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œåªæ˜¯ä¸€ä¸ªæ ‡ç­¾ï¼Œç”±äº&quot;ä¼ªç›®æ ‡&quot;ä¸æ˜¯æ–‡ä»¶ï¼Œæ‰€ä»¥makeæ— æ³•ç”Ÿæˆå®ƒçš„ä¾èµ–å…³ç³»å’Œå†³å®šå®ƒæ˜¯å¦è¦æ‰§è¡Œã€‚æˆ‘ä»¬åªæœ‰é€šè¿‡æ˜¾å¼åœ°æŒ‡æ˜è¿™ä¸ª&quot;ç›®æ ‡&quot;æ‰èƒ½è®©å…¶ç”Ÿæ•ˆã€‚å½“ç„¶ï¼Œ&quot;ä¼ªç›®æ ‡&quot;çš„å–åä¸èƒ½å’Œæ–‡ä»¶åé‡åï¼Œä¸ç„¶å…¶å°±å¤±å»äº†&quot;ä¼ªç›®æ ‡&quot;çš„æ„ä¹‰äº†ã€‚</p>
<p>å½“ç„¶ï¼Œä¸ºäº†é¿å…å’Œæ–‡ä»¶é‡åçš„è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªç‰¹æ®Šçš„æ ‡è®°&quot;.PHONY&quot;æ¥æ˜¾å¼åœ°æŒ‡æ˜ä¸€ä¸ªç›®æ ‡æ˜¯&quot;ä¼ªç›®æ ‡&quot;ï¼Œå‘makeè¯´æ˜ï¼Œä¸ç®¡æ˜¯å¦æœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œè¿™ä¸ªç›®æ ‡å°±æ˜¯&quot;ä¼ªç›®æ ‡&quot;ã€‚</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.PHONY : clean</span><br></pre></td></tr></table></figure>
<p>åªè¦æœ‰è¿™ä¸ªå£°æ˜ï¼Œä¸ç®¡æ˜¯å¦æœ‰&quot;clean&quot;æ–‡ä»¶ï¼Œè¦è¿è¡Œ&quot;clean&quot;è¿™ä¸ªç›®æ ‡ï¼Œåªæœ‰&quot;make clean&quot;è¿™æ ·ã€‚äºæ˜¯æ•´ ä¸ªè¿‡ç¨‹å¯ä»¥è¿™æ ·å†™ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">.PHONY : clean</span><br><span class="line">clean :</span><br><span class="line">&gt;  rm *.o temp</span><br></pre></td></tr></table></figure>
<p>ä¼ªç›®æ ‡ä¸€èˆ¬æ²¡æœ‰ä¾èµ–çš„æ–‡ä»¶ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸ºä¼ªç›®æ ‡æŒ‡å®šæ‰€ä¾èµ–çš„æ–‡ä»¶ã€‚ä¼ªç›®æ ‡åŒæ ·å¯ä»¥ä½œä¸º&quot;é»˜è®¤ç›®æ ‡&quot;ï¼Œåªè¦å°†å…¶æ”¾åœ¨ç¬¬ä¸€ä¸ªã€‚ä¸€ä¸ªç¤ºä¾‹å°±æ˜¯ï¼Œå¦‚æœä½ çš„Makefileéœ€è¦ä¸€å£æ°”ç”Ÿæˆè‹¥å¹²ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œä½†ä½ åªæƒ³ç®€å•åœ°æ•²ä¸€ä¸ªmakeå®Œäº‹ï¼Œå¹¶ä¸”ï¼Œæ‰€æœ‰çš„ç›®æ ‡æ–‡ä»¶éƒ½å†™åœ¨ä¸€ä¸ªMakefileä¸­ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨&quot;ä¼ªç›®æ ‡&quot;è¿™ä¸ªç‰¹æ€§ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">all : prog1 prog2 prog3</span><br><span class="line">.PHONY : all</span><br><span class="line"></span><br><span class="line">prog1 : prog1.o utils.o</span><br><span class="line">&gt;  cc -o prog1 prog1.o utils.o</span><br><span class="line"></span><br><span class="line">prog2 : prog2.o</span><br><span class="line">&gt;  cc -o prog2 prog2.o</span><br><span class="line"></span><br><span class="line">prog3 : prog3.o sort.o utils.o</span><br><span class="line">&gt;  cc -o prog3 prog3.o sort.o utils.o</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬çŸ¥é“ï¼ŒMakefileä¸­çš„ç¬¬ä¸€ä¸ªç›®æ ‡ä¼šè¢«ä½œä¸ºå…¶é»˜è®¤ç›®æ ‡ã€‚æˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ª&quot;all&quot;çš„ä¼ªç›®æ ‡ï¼Œå…¶ä¾èµ–äºå…¶å®ƒä¸‰ä¸ªç›®æ ‡ã€‚ç”±äºé»˜è®¤ç›®æ ‡çš„ç‰¹æ€§æ˜¯ï¼Œæ€»æ˜¯è¢«æ‰§è¡Œçš„ï¼Œä½†ç”±äº&quot;all&quot;åˆæ˜¯ä¸€ä¸ªä¼ªç›®æ ‡ï¼Œä¼ªç›®æ ‡åªæ˜¯ä¸€ä¸ªæ ‡ç­¾ä¸ä¼šç”Ÿæˆæ–‡ä»¶ï¼Œæ‰€ä»¥ä¸ä¼šæœ‰&quot;all&quot;æ–‡ä»¶äº§ç”Ÿã€‚äºæ˜¯ï¼Œå…¶å®ƒä¸‰ä¸ªç›®æ ‡çš„è§„åˆ™æ€»æ˜¯ä¼šè¢«å†³è®®ã€‚ä¹Ÿå°±è¾¾åˆ°äº†æˆ‘ä»¬ä¸€å£æ°”ç”Ÿæˆå¤šä¸ªç›®æ ‡çš„ç›®çš„ã€‚ <code>.PHONY : all</code>å£°æ˜äº†&quot;all&quot;è¿™ä¸ªç›®æ ‡ä¸º&quot;ä¼ªç›®æ ‡&quot;ã€‚ï¼ˆæ³¨ï¼šè¿™é‡Œçš„æ˜¾å¼ &quot;.PHONY : all&quot;ä¸å†™çš„è¯ä¸€èˆ¬æƒ…å†µä¹Ÿå¯ä»¥æ­£ç¡®çš„æ‰§è¡Œï¼Œè¿™æ ·makeå¯é€šè¿‡éšå¼è§„åˆ™æ¨å¯¼å‡ºï¼Œ â€œallâ€ æ˜¯ä¸€ä¸ªä¼ªç›®æ ‡ï¼Œæ‰§è¡Œmakeä¸ä¼šç”Ÿæˆ&quot;all&quot;æ–‡ä»¶ï¼Œè€Œæ‰§è¡Œåé¢çš„å¤šä¸ªç›®æ ‡ã€‚å»ºè®®ï¼šæ˜¾å¼å†™å‡ºæ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ã€‚ï¼‰</p>
<p>éšä¾¿æä¸€å¥ï¼Œä»ä¸Šé¢çš„ä¾‹å­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œç›®æ ‡ä¹Ÿå¯ä»¥æˆä¸ºä¾èµ–ã€‚æ‰€ä»¥ï¼Œä¼ªç›®æ ‡åŒæ ·ä¹Ÿå¯æˆä¸ºä¾èµ–ã€‚çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">.PHONY : cleanall cleanobj cleandiff</span><br><span class="line"></span><br><span class="line">cleanall : cleanobj cleandiff</span><br><span class="line">&gt;  rm program</span><br><span class="line"></span><br><span class="line">cleanobj :</span><br><span class="line">&gt;  rm *.o</span><br><span class="line"></span><br><span class="line">cleandiff :</span><br><span class="line">&gt;  rm *.diff</span><br></pre></td></tr></table></figure>
<p>&quot;make<br />
cleanall&quot;å°†æ¸…é™¤æ‰€æœ‰è¦è¢«æ¸…é™¤çš„æ–‡ä»¶ã€‚&quot;cleanobj&quot;å’Œ&quot;cleandiff&quot;è¿™ä¸¤ä¸ªä¼ªç›®æ ‡æœ‰ç‚¹åƒ&quot;å­ç¨‹åº&quot;çš„æ„æ€ã€‚æˆ‘ä»¬å¯ä»¥è¾“å…¥&quot;make clean all&quot;å’Œ&quot;make clean obj&quot;å’Œ&quot;make clean diff&quot;å‘½ä»¤æ¥è¾¾åˆ°æ¸…é™¤ä¸åŒç§ç±»æ–‡ä»¶çš„ç›®çš„ã€‚</p>
<h2 id="36-å¤šç›®æ ‡"><a class="markdownIt-Anchor" href="#36-å¤šç›®æ ‡"></a> 3.6 å¤šç›®æ ‡</h2>
<p>Makefileçš„è§„åˆ™ä¸­çš„ç›®æ ‡å¯ä»¥ä¸æ­¢ä¸€ä¸ªï¼Œå…¶æ”¯æŒå¤šç›®æ ‡ï¼Œæœ‰å¯èƒ½æˆ‘ä»¬çš„å¤šä¸ªç›®æ ‡åŒæ—¶ä¾èµ–äºä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”å…¶ç”Ÿæˆçš„å‘½ä»¤å¤§ä½“ç±»ä¼¼ã€‚äºæ˜¯æˆ‘ä»¬å°±èƒ½æŠŠå…¶åˆå¹¶èµ·æ¥ã€‚å½“ç„¶ï¼Œå¤šä¸ªç›®æ ‡çš„ç”Ÿæˆè§„åˆ™çš„æ‰§è¡Œå‘½ä»¤ä¸æ˜¯åŒä¸€ä¸ªï¼Œè¿™å¯èƒ½ä¼šç»™æˆ‘ä»¬å¸¦æ¥éº»çƒ¦ï¼Œä¸è¿‡å¥½åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªè‡ªåŠ¨åŒ–å˜é‡ <code>$@</code> ï¼ˆå…³äºè‡ªåŠ¨åŒ–å˜é‡ï¼Œå°†åœ¨åé¢è®²è¿°ï¼‰ï¼Œè¿™ä¸ªå˜é‡è¡¨ç¤ºç€ç›®å‰è§„åˆ™ä¸­æ‰€æœ‰çš„ç›®æ ‡çš„é›†åˆï¼Œè¿™æ ·è¯´å¯èƒ½å¾ˆæŠ½è±¡ï¼Œè¿˜æ˜¯çœ‹ä¸€ä¸ªä¾‹å­å§ã€‚</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">bigoutput littleoutput : text.g</span><br><span class="line">&gt;  generate text.g -<span class="variable">$(<span class="built_in">subst</span> output,,<span class="variable">$@</span>)</span> &gt; <span class="variable">$@</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°è§„åˆ™ç­‰ä»·äºï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">bigoutput : text.g</span><br><span class="line">&gt;  generate text.g -big &gt; bigoutput</span><br><span class="line">littleoutput : text.g</span><br><span class="line">&gt;  generate text.g -little &gt; littleoutput</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ï¼Œ <code>-$(subst output,,$@)</code> ä¸­çš„ <code>$</code> è¡¨ç¤ºæ‰§è¡Œä¸€ä¸ªMakefileçš„å‡½æ•°ï¼Œå‡½æ•°åä¸ºsubstï¼Œåé¢çš„ä¸ºå‚æ•°ã€‚å…³äºå‡½æ•°ï¼Œå°†åœ¨åé¢è®²è¿°ã€‚è¿™é‡Œçš„è¿™ä¸ªå‡½æ•°æ˜¯æ›¿æ¢å­—ç¬¦ä¸²çš„æ„æ€ï¼Œ<code>$@</code> è¡¨ç¤ºç›®æ ‡çš„ é›†åˆï¼Œå°±åƒä¸€ä¸ªæ•°ç»„ï¼Œ <code>$@</code> ä¾æ¬¡å–å‡ºç›®æ ‡ï¼Œå¹¶æ‰§äºå‘½ä»¤ã€‚</p>
<h2 id="37-é™æ€æ¨¡å¼"><a class="markdownIt-Anchor" href="#37-é™æ€æ¨¡å¼"></a> 3.7 é™æ€æ¨¡å¼</h2>
<p>é™æ€æ¨¡å¼å¯ä»¥æ›´åŠ å®¹æ˜“åœ°å®šä¹‰å¤šç›®æ ‡çš„è§„åˆ™ï¼Œå¯ä»¥è®©æˆ‘ä»¬çš„è§„åˆ™å˜å¾—æ›´åŠ çš„æœ‰å¼¹æ€§å’Œçµæ´»ã€‚æˆ‘ä»¬è¿˜æ˜¯å…ˆæ¥çœ‹ä¸€ä¸‹è¯­æ³•ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">&lt;targets ...&gt; : &lt;target-pattern&gt; : &lt;prereq-patterns ...&gt;</span><br><span class="line">&gt;  &lt;commands&gt;</span><br><span class="line">&gt;  ...</span><br></pre></td></tr></table></figure>
<p>targetså®šä¹‰äº†ä¸€ç³»åˆ—çš„ç›®æ ‡æ–‡ä»¶ï¼Œå¯ä»¥æœ‰é€šé…ç¬¦ã€‚æ˜¯ç›®æ ‡çš„ä¸€ä¸ªé›†åˆã€‚</p>
<p>target-patternæ˜¯æŒ‡æ˜äº†targetsçš„æ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯çš„ç›®æ ‡é›†æ¨¡å¼ã€‚</p>
<p>prereq-patternsæ˜¯ç›®æ ‡çš„ä¾èµ–æ¨¡å¼ï¼Œå®ƒå¯¹target-patternå½¢æˆçš„æ¨¡å¼å†è¿›è¡Œä¸€æ¬¡ä¾èµ–ç›®æ ‡çš„å®šä¹‰ã€‚</p>
<p>è¿™æ ·æè¿°è¿™ä¸‰ä¸ªä¸œè¥¿ï¼Œå¯èƒ½è¿˜æ˜¯æ²¡æœ‰è¯´æ¸…æ¥šï¼Œè¿˜æ˜¯ä¸¾ä¸ªä¾‹å­æ¥è¯´æ˜ä¸€ä¸‹å§ã€‚å¦‚æœæˆ‘ä»¬çš„&lt;target-pattern&gt;å®šä¹‰æˆ <code>%.o</code> ï¼Œæ„æ€æ˜¯æˆ‘ä»¬çš„&lt;target&gt;;é›†åˆä¸­éƒ½æ˜¯ä»¥ <code>.o</code> ç»“å°¾çš„ï¼Œè€Œ å¦‚æœæˆ‘ä»¬çš„&lt;prereq-patterns&gt;å®šä¹‰æˆ <code>%.c</code>ï¼Œæ„æ€æ˜¯å¯¹&lt;target-pattern&gt;æ‰€å½¢æˆçš„ç›®æ ‡é›†è¿›è¡ŒäºŒæ¬¡å®šä¹‰ï¼Œå…¶è®¡ç®—æ–¹æ³•æ˜¯ï¼Œå–&lt;target-pattern&gt;æ¨¡å¼ä¸­çš„ <code>%</code>ï¼ˆä¹Ÿå°±æ˜¯å»æ‰äº† <code>.o</code> è¿™ä¸ªç»“ å°¾ï¼‰ï¼Œå¹¶ä¸ºå…¶åŠ ä¸Š <code>.c</code> è¿™ä¸ªç»“å°¾ï¼Œå½¢æˆçš„æ–°é›†åˆã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬çš„&quot;ç›®æ ‡æ¨¡å¼&quot;æˆ–æ˜¯&quot;ä¾èµ–æ¨¡å¼&quot;ä¸­éƒ½åº”è¯¥æœ‰ <code>%</code> è¿™ä¸ªå­—ç¬¦ï¼Œå¦‚æœä½ çš„æ–‡ä»¶åä¸­æœ‰ <code>%</code> é‚£ä¹ˆ ä½ å¯ä»¥ä½¿ç”¨åæ–œæ  <code>\</code> è¿›è¡Œè½¬ä¹‰ï¼Œæ¥æ ‡æ˜çœŸå®çš„ <code>%</code> å­—ç¬¦ã€‚</p>
<p>çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">objects = foo.o bar.o</span><br><span class="line"></span><br><span class="line"><span class="section">all: <span class="variable">$(objects)</span></span></span><br><span class="line"></span><br><span class="line"><span class="variable">$(objects)</span>: %.o: %.c</span><br><span class="line">&gt;  <span class="variable">$(CC)</span> -c <span class="variable">$(CFLAGS)</span> <span class="variable">$&lt;</span> -o <span class="variable">$@</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒæŒ‡æ˜äº†æˆ‘ä»¬çš„ç›®æ ‡ä»<code>$object</code>ä¸­è·å–ï¼Œ <code>%.o</code> è¡¨æ˜è¦æ‰€æœ‰ä»¥ <code>.o</code> ç»“å°¾çš„ç›®æ ‡ï¼Œä¹Ÿå°±æ˜¯ <code>foo.o bar.o</code> ï¼Œä¹Ÿå°±æ˜¯å˜é‡ <code>$object</code> é›†åˆçš„æ¨¡å¼ï¼Œè€Œä¾èµ–æ¨¡å¼ <code>%.c</code> åˆ™å–æ¨¡å¼ <code>%.o</code> çš„ <code>%</code> ï¼Œä¹Ÿå°±æ˜¯ <code>foo bar</code> ï¼Œå¹¶ä¸ºå…¶åŠ ä¸‹ <code>.c</code> çš„åç¼€ï¼Œäºæ˜¯ï¼Œæˆ‘ä»¬çš„ä¾èµ–ç›®æ ‡å°± æ˜¯ <code>foo.c bar.c</code>ã€‚è€Œå‘½ä»¤ä¸­çš„ <code>$&lt;</code> å’Œ <code>$@</code> åˆ™æ˜¯è‡ªåŠ¨åŒ–å˜é‡ï¼Œ <code>$&lt;</code> è¡¨ç¤ºç¬¬ä¸€ä¸ªä¾èµ–æ–‡ä»¶ï¼Œ<code>$@</code> è¡¨ç¤ºç›®æ ‡é›†ï¼ˆä¹Ÿå°±æ˜¯&quot;foo.o bar.o&quot;ï¼‰ã€‚äºæ˜¯ï¼Œä¸Šé¢çš„è§„åˆ™å±•å¼€åç­‰ä»·äºä¸‹é¢çš„è§„åˆ™ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">foo.o : foo.c</span><br><span class="line">&gt;  <span class="variable">$(CC)</span> -c <span class="variable">$(CFLAGS)</span> foo.c -o foo.o</span><br><span class="line">bar.o : bar.c</span><br><span class="line">&gt;  <span class="variable">$(CC)</span> -c <span class="variable">$(CFLAGS)</span> bar.c -o bar.o</span><br></pre></td></tr></table></figure>
<p>è¯•æƒ³ï¼Œå¦‚æœæˆ‘ä»¬çš„ <code>%.o</code> æœ‰å‡ ç™¾ä¸ªï¼Œé‚£ä¹ˆæˆ‘ä»¬åªè¦ç”¨è¿™ç§å¾ˆç®€å•çš„&quot;é™æ€æ¨¡å¼è§„åˆ™&quot;å°±å¯ä»¥å†™å®Œä¸€å †è§„åˆ™ï¼Œå®åœ¨æ˜¯å¤ªæœ‰æ•ˆç‡äº†ã€‚&quot;é™æ€æ¨¡å¼è§„åˆ™&quot;çš„ç”¨æ³•å¾ˆçµæ´»ï¼Œå¦‚æœç”¨å¾—å¥½ï¼Œé‚£ä¼šæ˜¯ä¸€ä¸ªå¾ˆå¼ºå¤§çš„åŠŸèƒ½ã€‚å†çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">files = foo.elc bar.o lose.o</span><br><span class="line"></span><br><span class="line"><span class="variable">$(<span class="built_in">filter</span> %.o,<span class="variable">$(files)</span>)</span>: %.o: %.c</span><br><span class="line">&gt;  <span class="variable">$(CC)</span> -c <span class="variable">$(CFLAGS)</span> <span class="variable">$&lt;</span> -o <span class="variable">$@</span></span><br><span class="line"><span class="variable">$(<span class="built_in">filter</span> %.elc,<span class="variable">$(files)</span>)</span>: %.elc: %.el</span><br><span class="line">&gt;  emacs -f batch-byte-compile <span class="variable">$&lt;</span></span><br></pre></td></tr></table></figure>
<p><code>$(filter %.o,$(files))</code>è¡¨ç¤ºè°ƒç”¨ Makefile çš„ filter å‡½æ•°ï¼Œè¿‡æ»¤<code>$files</code>é›†ï¼Œåªè¦å…¶ä¸­æ¨¡å¼ä¸º&quot;%.o&quot;çš„å†…å®¹ã€‚å…¶å®ƒçš„å†…å®¹ï¼Œæˆ‘å°±ä¸ç”¨å¤šè¯´äº†å§ã€‚è¿™ä¸ªä¾‹å­å±•ç¤ºäº†Makefileä¸­æ›´å¤§çš„å¼¹æ€§ã€‚</p>
<h2 id="38-è‡ªåŠ¨ç”Ÿæˆä¾èµ–æ€§"><a class="markdownIt-Anchor" href="#38-è‡ªåŠ¨ç”Ÿæˆä¾èµ–æ€§"></a> 3.8 è‡ªåŠ¨ç”Ÿæˆä¾èµ–æ€§</h2>
<p>åœ¨Makefileä¸­ï¼Œæˆ‘ä»¬çš„ä¾èµ–å…³ç³»å¯èƒ½ä¼šéœ€è¦åŒ…å«ä¸€ç³»åˆ—çš„å¤´æ–‡ä»¶ï¼Œæ¯”å¦‚ï¼Œå¦‚æœæˆ‘ä»¬çš„main.cä¸­æœ‰ä¸€å¥<code>#include &quot;defs.h&quot;</code> ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„ä¾èµ–å…³ç³»åº”è¯¥æ˜¯ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">main.o : main.c defs.h</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤§å‹çš„å·¥ç¨‹ï¼Œä½ å¿…éœ€æ¸…æ¥šå“ªäº›Cæ–‡ä»¶åŒ…å«äº†å“ªäº›å¤´æ–‡ä»¶ï¼Œå¹¶ä¸”ï¼Œä½ åœ¨åŠ å…¥æˆ–åˆ é™¤å¤´æ–‡ä»¶æ—¶ï¼Œä¹Ÿéœ€è¦å°å¿ƒåœ°ä¿®æ”¹Makefileï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆæ²¡æœ‰ç»´æŠ¤æ€§çš„å·¥ä½œã€‚ä¸ºäº†é¿å…è¿™ç§ç¹é‡è€Œåˆå®¹æ˜“å‡ºé”™çš„äº‹æƒ…ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨C/C++ç¼–è¯‘çš„ä¸€ä¸ªåŠŸèƒ½ã€‚å¤§å¤šæ•°çš„C/C++ç¼–è¯‘å™¨éƒ½æ”¯æŒä¸€ä¸ª&quot;-M&quot;çš„é€‰é¡¹ï¼Œå³è‡ªåŠ¨æ‰¾å¯»æºæ–‡ä»¶ä¸­åŒ…å«çš„å¤´æ–‡ä»¶ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªä¾èµ–å…³ç³»ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤:</p>
<pre><code>cc -M main.c
</code></pre>
<p>å…¶è¾“å‡ºæ˜¯ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">main.o : main.c defs.h</span><br></pre></td></tr></table></figure>
<p>äºæ˜¯ç”±ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„ä¾èµ–å…³ç³»ï¼Œè¿™æ ·ä¸€æ¥ï¼Œä½ å°±ä¸å¿…å†æ‰‹åŠ¨ä¹¦å†™è‹¥å¹²æ–‡ä»¶çš„ä¾èµ–å…³ç³»ï¼Œè€Œç”±ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆäº†ã€‚éœ€è¦æé†’ä¸€å¥çš„æ˜¯ï¼Œå¦‚æœä½ ä½¿ç”¨GNUçš„C/C++ç¼–è¯‘å™¨ï¼Œä½ å¾—ç”¨ <code>-MM</code>å‚æ•°ï¼Œä¸ç„¶ï¼Œ <code>-M</code> å‚æ•°ä¼šæŠŠä¸€äº›æ ‡å‡†åº“çš„å¤´æ–‡ä»¶ä¹ŸåŒ…å«è¿›æ¥ã€‚</p>
<p>gcc -M main.cçš„è¾“å‡ºæ˜¯:</p>
<pre><code>main.o: main.c defs.h /usr/include/stdio.h /usr/include/features.h \
    /usr/include/sys/cdefs.h /usr/include/gnu/stubs.h \
    /usr/lib/gcc-lib/i486-suse-linux/2.95.3/include/stddef.h \
    /usr/include/bits/types.h /usr/include/bits/pthreadtypes.h \
    /usr/include/bits/sched.h /usr/include/libio.h \
    /usr/include/_G_config.h /usr/include/wchar.h \
    /usr/include/bits/wchar.h /usr/include/gconv.h \
    /usr/lib/gcc-lib/i486-suse-linux/2.95.3/include/stdarg.h \
    /usr/include/bits/stdio_lim.h
</code></pre>
<p>gcc -MM main.cçš„è¾“å‡ºåˆ™æ˜¯:</p>
<pre><code>main.o: main.c defs.h
</code></pre>
<p>é‚£ä¹ˆï¼Œç¼–è¯‘å™¨çš„è¿™ä¸ªåŠŸèƒ½å¦‚ä½•ä¸æˆ‘ä»¬çš„Makefileè”ç³»åœ¨ä¸€èµ·å‘¢ã€‚å› ä¸ºè¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬çš„Makefileä¹Ÿè¦æ ¹æ®è¿™äº›æºæ–‡ä»¶é‡æ–°ç”Ÿæˆï¼Œè®©Makefileè‡ªå·²ä¾èµ–äºæºæ–‡ä»¶ï¼Ÿè¿™ä¸ªåŠŸèƒ½å¹¶ä¸ç°å®ï¼Œä¸è¿‡æˆ‘ä»¬å¯ä»¥æœ‰å…¶å®ƒæ‰‹æ®µæ¥è¿‚å›åœ°å®ç°è¿™ä¸€åŠŸèƒ½ã€‚GNUç»„ç»‡å»ºè®®æŠŠç¼–è¯‘å™¨ä¸ºæ¯ä¸€ä¸ªæºæ–‡ä»¶çš„è‡ªåŠ¨ç”Ÿæˆçš„ä¾èµ–å…³ç³»æ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä¸ºæ¯ä¸€ä¸ª <code>name.c</code> çš„æ–‡ä»¶éƒ½ç”Ÿæˆä¸€ä¸ª <code>name.d</code> çš„Makefileæ–‡ä»¶ï¼Œ <code>.d</code> æ–‡ä»¶ä¸­å°±å­˜æ”¾å¯¹åº” <code>.c</code> æ–‡ä»¶çš„ä¾èµ–å…³ç³»ã€‚</p>
<p>äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡º <code>.c</code> æ–‡ä»¶å’Œ <code>.d</code> æ–‡ä»¶çš„ä¾èµ–å…³ç³»ï¼Œå¹¶è®©makeè‡ªåŠ¨æ›´æ–°æˆ–ç”Ÿæˆ <code>.d</code> æ–‡ä»¶ï¼Œå¹¶æŠŠå…¶åŒ…å«åœ¨æˆ‘ä»¬çš„ä¸»Makefileä¸­ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥è‡ªåŠ¨åŒ–åœ°ç”Ÿæˆæ¯ä¸ªæ–‡ä»¶çš„ä¾èµ–å…³ç³»äº†ã€‚</p>
<p>è¿™é‡Œï¼Œæˆ‘ä»¬ç»™å‡ºäº†ä¸€ä¸ªæ¨¡å¼è§„åˆ™æ¥äº§ç”Ÿ <code>.d</code> æ–‡ä»¶ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line"><span class="section">%.d: %.c</span></span><br><span class="line">&gt;  @set -e; rm -f <span class="variable">$@</span>; \</span><br><span class="line">    <span class="variable">$(CC)</span> -M <span class="variable">$(CPPFLAGS)</span> <span class="variable">$&lt;</span> &gt; <span class="variable">$@</span>.$$$$; \</span><br><span class="line">    sed &#x27;s,\(<span class="variable">$*</span>\)\.o[ :]*,\1.o <span class="variable">$@</span> : ,g&#x27; &lt; <span class="variable">$@</span>.$$$$ &gt; <span class="variable">$@</span>; \</span><br><span class="line">    rm -f <span class="variable">$@</span>.$$$$</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªè§„åˆ™çš„æ„æ€æ˜¯ï¼Œæ‰€æœ‰çš„ <code>.d</code> æ–‡ä»¶ä¾èµ–äº <code>.c</code> æ–‡ä»¶ï¼Œ <code>rm -f $@</code> çš„æ„æ€æ˜¯åˆ é™¤æ‰€æœ‰çš„ ç›®æ ‡ï¼Œä¹Ÿå°±æ˜¯ <code>.d</code> æ–‡ä»¶ï¼Œç¬¬äºŒè¡Œçš„æ„æ€æ˜¯ï¼Œä¸ºæ¯ä¸ªä¾èµ–æ–‡ä»¶ <code>$&lt;</code> ï¼Œä¹Ÿå°±æ˜¯ <code>.c</code> æ–‡ä»¶ç”Ÿæˆä¾èµ–æ–‡ä»¶ï¼Œ <code>$@</code> è¡¨ç¤ºæ¨¡å¼ <code>%.d</code> æ–‡ä»¶ï¼Œå¦‚æœæœ‰ä¸€ä¸ªCæ–‡ä»¶æ˜¯name.cï¼Œé‚£ä¹ˆ <code>%</code> å°±æ˜¯ <code>name</code> ï¼Œ <code>$$$$</code> æ„ä¸ºä¸€ä¸ªéšæœºç¼–å·ï¼Œç¬¬äºŒè¡Œç”Ÿæˆçš„æ–‡ä»¶æœ‰å¯èƒ½æ˜¯&quot;name.d.12345&quot;ï¼Œç¬¬ä¸‰è¡Œä½¿ç”¨sedå‘½ä»¤åšäº†ä¸€ä¸ªæ›¿æ¢ï¼Œå…³äºsedå‘½ä»¤çš„ç”¨æ³•è¯·å‚çœ‹ç›¸å…³çš„ä½¿ç”¨æ–‡æ¡£ã€‚ç¬¬å››è¡Œå°±æ˜¯åˆ é™¤ä¸´æ—¶æ–‡ä»¶ã€‚</p>
<p>æ€»è€Œè¨€ä¹‹ï¼Œè¿™ä¸ªæ¨¡å¼è¦åšçš„äº‹å°±æ˜¯åœ¨ç¼–è¯‘å™¨ç”Ÿæˆçš„ä¾èµ–å…³ç³»ä¸­åŠ å…¥ <code>.d</code> æ–‡ä»¶çš„ä¾èµ–ï¼Œå³æŠŠä¾èµ–å…³ç³»ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">main.o : main.c defs.h</span><br></pre></td></tr></table></figure>
<p>è½¬æˆï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">main.o main.d : main.c defs.h</span><br></pre></td></tr></table></figure>
<p>äºæ˜¯ï¼Œæˆ‘ä»¬çš„ <code>.d</code> æ–‡ä»¶ä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°äº†ï¼Œå¹¶ä¼šè‡ªåŠ¨ç”Ÿæˆäº†ï¼Œå½“ç„¶ï¼Œä½ è¿˜å¯ä»¥åœ¨è¿™ä¸ª <code>.d</code> æ–‡ä»¶ä¸­åŠ å…¥çš„ä¸åªæ˜¯ä¾èµ–å…³ç³»ï¼ŒåŒ…æ‹¬ç”Ÿæˆçš„å‘½ä»¤ä¹Ÿå¯ä¸€å¹¶åŠ å…¥ï¼Œè®©æ¯ä¸ª <code>.d</code> æ–‡ä»¶éƒ½åŒ…å«ä¸€ä¸ªå®Œèµ–çš„è§„åˆ™ã€‚ä¸€æ—¦æˆ‘ä»¬å®Œæˆè¿™ä¸ªå·¥ä½œï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±è¦æŠŠè¿™äº›è‡ªåŠ¨ç”Ÿæˆçš„è§„åˆ™æ”¾è¿›æˆ‘ä»¬çš„ä¸»Makefileä¸­ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Makefileçš„&quot;include&quot;å‘½ä»¤ï¼Œæ¥å¼•å…¥åˆ«çš„Makefileæ–‡ä»¶ï¼ˆå‰é¢è®²è¿‡ï¼‰ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">sources = foo.c bar.c</span><br><span class="line"></span><br><span class="line"><span class="keyword">include</span> $(sources:.c=.d)</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°è¯­å¥ä¸­çš„ <code>$(sources:.c=.d)</code> ä¸­çš„ <code>.c=.d</code> çš„æ„æ€æ˜¯åšä¸€ä¸ªæ›¿æ¢ï¼ŒæŠŠå˜é‡ <code>$(sources)</code> æ‰€æœ‰ <code>.c</code> çš„å­—ä¸²éƒ½æ›¿æ¢æˆ <code>.d</code> ï¼Œå…³äºè¿™ä¸ª&quot;æ›¿æ¢&quot;çš„å†…å®¹ï¼Œåœ¨åé¢æˆ‘ä¼šæœ‰æ›´ä¸ºè¯¦ç»†çš„è®²è¿°ã€‚å½“ç„¶ï¼Œä½ å¾—æ³¨æ„æ¬¡åºï¼Œå› ä¸ºincludeæ˜¯æŒ‰æ¬¡åºæ¥è½½å…¥æ–‡ä»¶ï¼Œæœ€å…ˆè½½å…¥çš„ <code>.d</code> æ–‡ä»¶ä¸­çš„ç›® æ ‡ä¼šæˆä¸ºé»˜è®¤ç›®æ ‡ã€‚</p>
<h1 id="4-ä¹¦å†™å‘½ä»¤"><a class="markdownIt-Anchor" href="#4-ä¹¦å†™å‘½ä»¤"></a> 4. ä¹¦å†™å‘½ä»¤</h1>
<p>æ¯æ¡è§„åˆ™ä¸­çš„å‘½ä»¤å’Œæ“ä½œç³»ç»ŸShellçš„å‘½ä»¤è¡Œæ˜¯ä¸€è‡´çš„ã€‚makeä¼šä¸€æŒ‰é¡ºåºä¸€æ¡ä¸€æ¡çš„æ‰§è¡Œå‘½ä»¤ï¼Œæ¯æ¡å‘½ä»¤çš„å¼€å¤´å¿…é¡»ä»¥ <code>Tab</code> é”®å¼€å¤´ï¼Œé™¤éï¼Œå‘½ä»¤æ˜¯ç´§è·Ÿåœ¨ä¾èµ–è§„åˆ™åé¢çš„åˆ†å·åçš„ã€‚åœ¨å‘½ä»¤è¡Œä¹‹é—´ä¸­çš„ç©ºæ ¼æˆ–æ˜¯ç©ºè¡Œä¼šè¢«å¿½ç•¥ï¼Œä½†æ˜¯å¦‚æœè¯¥ç©ºæ ¼æˆ–ç©ºè¡Œæ˜¯ä»¥Tabé”®å¼€å¤´çš„ï¼Œé‚£ä¹ˆmakeä¼šè®¤ä¸ºå…¶æ˜¯ä¸€ä¸ªç©ºå‘½ä»¤ã€‚</p>
<p>æˆ‘ä»¬åœ¨UNIXä¸‹å¯èƒ½ä¼šä½¿ç”¨ä¸åŒçš„Shellï¼Œä½†æ˜¯makeçš„å‘½ä»¤é»˜è®¤æ˜¯è¢« <code>/bin/sh</code> ------UNIXçš„æ ‡å‡† Shell è§£é‡Šæ‰§è¡Œçš„ã€‚é™¤éä½ ç‰¹åˆ«æŒ‡å®šä¸€ä¸ªå…¶å®ƒçš„Shellã€‚Makefileä¸­ï¼Œ <code>#</code> æ˜¯æ³¨é‡Šç¬¦ï¼Œå¾ˆåƒC/C++ä¸­çš„ <code>//</code> ï¼Œå…¶åçš„æœ¬è¡Œå­—ç¬¦éƒ½è¢«æ³¨é‡Šã€‚</p>
<h2 id="41-æ˜¾ç¤ºå‘½ä»¤"><a class="markdownIt-Anchor" href="#41-æ˜¾ç¤ºå‘½ä»¤"></a> 4.1 æ˜¾ç¤ºå‘½ä»¤</h2>
<p>é€šå¸¸ï¼Œmakeä¼šæŠŠå…¶è¦æ‰§è¡Œçš„å‘½ä»¤è¡Œåœ¨å‘½ä»¤æ‰§è¡Œå‰è¾“å‡ºåˆ°å±å¹•ä¸Šã€‚å½“æˆ‘ä»¬ç”¨ <code>@</code> å­—ç¬¦åœ¨å‘½ä»¤è¡Œå‰ï¼Œé‚£ä¹ˆï¼Œè¿™ä¸ªå‘½ä»¤å°†ä¸è¢«makeæ˜¾ç¤ºå‡ºæ¥ï¼Œæœ€å…·ä»£è¡¨æ€§çš„ä¾‹å­æ˜¯ï¼Œæˆ‘ä»¬ç”¨è¿™ä¸ªåŠŸèƒ½æ¥å‘å±å¹•æ˜¾ç¤ºä¸€äº›ä¿¡æ¯ã€‚å¦‚:</p>
<pre><code>@echo æ­£åœ¨ç¼–è¯‘XXXæ¨¡å—......
</code></pre>
<p>å½“makeæ‰§è¡Œæ—¶ï¼Œä¼šè¾“å‡º&quot;æ­£åœ¨ç¼–è¯‘XXXæ¨¡å—.â€¦.â€¦â€œå­—ä¸²ï¼Œä½†ä¸ä¼šè¾“å‡ºå‘½ä»¤ï¼Œå¦‚æœæ²¡æœ‰â€@&quot;ï¼Œé‚£ä¹ˆï¼Œmakeå°†è¾“å‡º:</p>
<pre><code>echo æ­£åœ¨ç¼–è¯‘XXXæ¨¡å—......
æ­£åœ¨ç¼–è¯‘XXXæ¨¡å—......
</code></pre>
<p>å¦‚æœmakeæ‰§è¡Œæ—¶ï¼Œå¸¦å…¥makeå‚æ•° <code>-n</code> æˆ– <code>--just-print</code> ï¼Œé‚£ä¹ˆå…¶åªæ˜¯æ˜¾ç¤ºå‘½ä»¤ï¼Œä½†ä¸ä¼šæ‰§è¡Œå‘½ä»¤ï¼Œè¿™ä¸ªåŠŸèƒ½å¾ˆæœ‰åˆ©äºæˆ‘ä»¬è°ƒè¯•æˆ‘ä»¬çš„Makefileï¼Œçœ‹çœ‹æˆ‘ä»¬ä¹¦å†™çš„å‘½ä»¤æ˜¯æ‰§è¡Œèµ·æ¥æ˜¯ä»€ä¹ˆæ ·å­çš„æˆ–æ˜¯ä»€ä¹ˆé¡ºåºçš„ã€‚</p>
<p>è€Œmakeå‚æ•° <code>-s</code> æˆ– <code>--silent</code> æˆ– <code>--quiet</code> åˆ™æ˜¯å…¨é¢ç¦æ­¢å‘½ä»¤çš„æ˜¾ç¤ºã€‚</p>
<h2 id="42-å‘½ä»¤æ‰§è¡Œ"><a class="markdownIt-Anchor" href="#42-å‘½ä»¤æ‰§è¡Œ"></a> 4.2 å‘½ä»¤æ‰§è¡Œ</h2>
<p>å½“ä¾èµ–ç›®æ ‡æ–°äºç›®æ ‡æ—¶ï¼Œä¹Ÿå°±æ˜¯å½“è§„åˆ™çš„ç›®æ ‡éœ€è¦è¢«æ›´æ–°æ—¶ï¼Œmakeä¼šä¸€æ¡ä¸€æ¡çš„æ‰§è¡Œå…¶åçš„å‘½ä»¤ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä½ è¦è®©ä¸Šä¸€æ¡å‘½ä»¤çš„ç»“æœåº”ç”¨åœ¨ä¸‹ä¸€æ¡å‘½ä»¤æ—¶ï¼Œä½ åº”è¯¥ä½¿ç”¨åˆ†å·åˆ†éš”è¿™ä¸¤æ¡å‘½ä»¤ã€‚æ¯”å¦‚ä½ çš„ç¬¬ä¸€æ¡å‘½ä»¤æ˜¯cdå‘½ä»¤ï¼Œä½ å¸Œæœ›ç¬¬äºŒæ¡å‘½ä»¤å¾—åœ¨cdä¹‹åçš„åŸºç¡€ä¸Šè¿è¡Œï¼Œé‚£ä¹ˆä½ å°±ä¸èƒ½æŠŠè¿™ä¸¤æ¡å‘½ä»¤å†™åœ¨ä¸¤è¡Œä¸Šï¼Œè€Œåº”è¯¥æŠŠè¿™ä¸¤æ¡å‘½ä»¤å†™åœ¨ä¸€è¡Œä¸Šï¼Œç”¨åˆ†å·åˆ†éš”ã€‚å¦‚ï¼š</p>
<ul>
<li>ç¤ºä¾‹ä¸€ï¼š</li>
</ul>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line"><span class="section">exec:</span></span><br><span class="line">&gt;  cd /home/hchen</span><br><span class="line">&gt;  pwd</span><br></pre></td></tr></table></figure>
<ul>
<li>ç¤ºä¾‹äºŒï¼š</li>
</ul>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line"><span class="section">exec:</span></span><br><span class="line">&gt;  cd /home/hchen; pwd</span><br></pre></td></tr></table></figure>
<p>å½“æˆ‘ä»¬æ‰§è¡Œ <code>make exec</code> æ—¶ï¼Œç¬¬ä¸€ä¸ªä¾‹å­ä¸­çš„cdæ²¡æœ‰ä½œç”¨ï¼Œpwdä¼šæ‰“å°å‡ºå½“å‰çš„Makefileç›®å½•ï¼Œè€Œç¬¬äºŒä¸ªä¾‹å­ä¸­ï¼Œcdå°±èµ·ä½œç”¨äº†ï¼Œpwdä¼šæ‰“å°å‡º&quot;/home/hchen&quot;ã€‚</p>
<p>makeä¸€èˆ¬æ˜¯ä½¿ç”¨ç¯å¢ƒå˜é‡SHELLä¸­æ‰€å®šä¹‰çš„ç³»ç»ŸShellæ¥æ‰§è¡Œå‘½ä»¤ï¼Œé»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨UNIXçš„æ ‡å‡†Shell------/bin/shæ¥æ‰§è¡Œå‘½ä»¤ã€‚ä½†åœ¨MS-DOSä¸‹æœ‰ç‚¹ç‰¹æ®Šï¼Œå› ä¸ºMS-DOSä¸‹æ²¡æœ‰SHELLç¯å¢ƒå˜é‡ï¼Œå½“ç„¶ä½ ä¹Ÿ<br />
å¯ä»¥æŒ‡å®šã€‚å¦‚æœä½ æŒ‡å®šäº†UNIXé£æ ¼çš„ç›®å½•å½¢å¼ï¼Œé¦–å…ˆï¼Œmakeä¼šåœ¨SHELLæ‰€æŒ‡å®šçš„è·¯å¾„ä¸­æ‰¾å¯»å‘½ä»¤è§£é‡Šå™¨ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œå…¶ä¼šåœ¨å½“å‰ç›˜ç¬¦ä¸­çš„å½“å‰ç›®å½•ä¸­å¯»æ‰¾ï¼Œå¦‚æœå†æ‰¾ä¸åˆ°ï¼Œå…¶ä¼šåœ¨PATHç¯å¢ƒå˜é‡ä¸­æ‰€å®šä¹‰çš„æ‰€æœ‰è·¯å¾„ä¸­å¯»æ‰¾ã€‚MS-DOSä¸­ï¼Œå¦‚æœä½ å®šä¹‰çš„å‘½ä»¤è§£é‡Šå™¨æ²¡æœ‰æ‰¾åˆ°ï¼Œå…¶ä¼šç»™ä½ çš„å‘½ä»¤è§£é‡Šå™¨åŠ ä¸Šè¯¸å¦‚ <code>.exe</code> ã€ <code>.com</code> ã€ <code>.bat</code> ã€ <code>.sh</code> ç­‰åç¼€ã€‚</p>
<h2 id="43-å‘½ä»¤å‡ºé”™"><a class="markdownIt-Anchor" href="#43-å‘½ä»¤å‡ºé”™"></a> 4.3 å‘½ä»¤å‡ºé”™</h2>
<p>æ¯å½“å‘½ä»¤è¿è¡Œå®Œåï¼Œmakeä¼šæ£€æµ‹æ¯ä¸ªå‘½ä»¤çš„è¿”å›ç ï¼Œå¦‚æœå‘½ä»¤è¿”å›æˆåŠŸï¼Œé‚£ä¹ˆmakeä¼šæ‰§è¡Œä¸‹ä¸€æ¡å‘½ä»¤ï¼Œå½“è§„åˆ™ä¸­æ‰€æœ‰çš„å‘½ä»¤æˆåŠŸè¿”å›åï¼Œè¿™ä¸ªè§„åˆ™å°±ç®—æ˜¯æˆåŠŸå®Œæˆäº†ã€‚å¦‚æœä¸€ä¸ªè§„åˆ™ä¸­çš„æŸä¸ªå‘½ä»¤å‡ºé”™äº†ï¼ˆå‘½ä»¤é€€å‡ºç éé›¶ï¼‰ï¼Œé‚£ä¹ˆmakeå°±ä¼šç»ˆæ­¢æ‰§è¡Œå½“å‰è§„åˆ™ï¼Œè¿™å°†æœ‰å¯èƒ½ç»ˆæ­¢æ‰€æœ‰è§„åˆ™çš„æ‰§è¡Œã€‚</p>
<p>æœ‰äº›æ—¶å€™ï¼Œå‘½ä»¤çš„å‡ºé”™å¹¶ä¸è¡¨ç¤ºå°±æ˜¯é”™è¯¯çš„ã€‚ä¾‹å¦‚mkdirå‘½ä»¤ï¼Œæˆ‘ä»¬ä¸€å®šéœ€è¦å»ºç«‹ä¸€ä¸ªç›®å½•ï¼Œå¦‚æœç›®å½•ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆmkdirå°±æˆåŠŸæ‰§è¡Œï¼Œä¸‡äº‹å¤§å‰ï¼Œå¦‚æœç›®å½•å­˜åœ¨ï¼Œé‚£ä¹ˆå°±å‡ºé”™äº†ã€‚æˆ‘ä»¬ä¹‹æ‰€ä»¥ä½¿ç”¨mkdirçš„æ„æ€å°±æ˜¯ä¸€å®šè¦æœ‰è¿™æ ·çš„ä¸€ä¸ªç›®å½•ï¼Œäºæ˜¯æˆ‘ä»¬å°±ä¸å¸Œæœ›mkdirå‡ºé”™è€Œç»ˆæ­¢è§„åˆ™çš„è¿è¡Œã€‚</p>
<p>ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼Œå¿½ç•¥å‘½ä»¤çš„å‡ºé”™ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨Makefileçš„å‘½ä»¤è¡Œå‰åŠ ä¸€ä¸ªå‡å· <code>-</code> ï¼ˆåœ¨Tabé”®ä¹‹åï¼‰ ï¼Œæ ‡è®°ä¸ºä¸ç®¡å‘½ä»¤å‡ºä¸å‡ºé”™éƒ½è®¤ä¸ºæ˜¯æˆåŠŸçš„ã€‚å¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">&gt;  -rm -f *.o</span><br></pre></td></tr></table></figure>
<p>è¿˜æœ‰ä¸€ä¸ªå…¨å±€çš„åŠæ³•æ˜¯ï¼Œç»™makeåŠ ä¸Š <code>-i</code> æˆ–æ˜¯ <code>--ignore-errors</code> å‚æ•°ï¼Œé‚£ä¹ˆï¼ŒMakefileä¸­ æ‰€æœ‰å‘½ä»¤éƒ½ä¼šå¿½ç•¥é”™è¯¯ã€‚è€Œå¦‚æœä¸€ä¸ªè§„åˆ™æ˜¯ä»¥ <code>.IGNORE</code> ä½œä¸ºç›®æ ‡çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªè§„åˆ™ä¸­çš„æ‰€æœ‰å‘½ä»¤å°†ä¼šå¿½ç•¥é”™è¯¯ã€‚è¿™äº›æ˜¯ä¸åŒçº§åˆ«çš„é˜²æ­¢å‘½ä»¤å‡ºé”™çš„æ–¹æ³•ï¼Œä½ å¯ä»¥æ ¹æ®ä½ çš„ä¸åŒå–œæ¬¢è®¾ç½®ã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ªè¦æä¸€ä¸‹çš„makeçš„å‚æ•°çš„æ˜¯ <code>-k</code> æˆ–æ˜¯ <code>--keep-going</code> ï¼Œè¿™ä¸ªå‚æ•°çš„æ„æ€æ˜¯ï¼Œå¦‚æœæŸè§„åˆ™ä¸­çš„å‘½ä»¤å‡ºé”™äº†ï¼Œé‚£ä¹ˆå°±ç»ˆæ­¢è¯¥è§„åˆ™çš„æ‰§è¡Œï¼Œä½†ç»§ç»­æ‰§è¡Œå…¶å®ƒè§„åˆ™ã€‚</p>
<h2 id="44-åµŒå¥—æ‰§è¡Œmake"><a class="markdownIt-Anchor" href="#44-åµŒå¥—æ‰§è¡Œmake"></a> 4.4 åµŒå¥—æ‰§è¡Œmake</h2>
<p>åœ¨ä¸€äº›å¤§çš„å·¥ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šæŠŠæˆ‘ä»¬ä¸åŒæ¨¡å—æˆ–æ˜¯ä¸åŒåŠŸèƒ½çš„æºæ–‡ä»¶æ”¾åœ¨ä¸åŒçš„ç›®å½•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ¯ä¸ªç›®å½•ä¸­éƒ½ä¹¦å†™ä¸€ä¸ªè¯¥ç›®å½•çš„Makefileï¼Œè¿™æœ‰åˆ©äºè®©æˆ‘ä»¬çš„Makefileå˜å¾—æ›´åŠ åœ°ç®€æ´ï¼Œè€Œä¸è‡³äºæŠŠæ‰€æœ‰çš„ä¸œè¥¿å…¨éƒ¨å†™åœ¨ä¸€ä¸ªMakefileä¸­ï¼Œè¿™æ ·ä¼šå¾ˆéš¾ç»´æŠ¤æˆ‘ä»¬çš„Makefileï¼Œè¿™ä¸ªæŠ€æœ¯å¯¹äºæˆ‘ä»¬æ¨¡å—ç¼–è¯‘å’Œåˆ†æ®µç¼–è¯‘æœ‰ç€éå¸¸å¤§çš„å¥½å¤„ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå­ç›®å½•å«subdirï¼Œè¿™ä¸ªç›®å½•ä¸‹æœ‰ä¸ªMakefileæ–‡ä»¶ï¼Œæ¥æŒ‡æ˜äº†è¿™ä¸ªç›®å½•ä¸‹æ–‡ä»¶çš„ç¼–è¯‘è§„åˆ™ã€‚é‚£ä¹ˆæˆ‘ä»¬æ€»æ§çš„Makefileå¯ä»¥è¿™æ ·ä¹¦å†™ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line"><span class="section">subsystem:</span></span><br><span class="line">&gt;  cd subdir &amp;&amp; <span class="variable">$(MAKE)</span></span><br></pre></td></tr></table></figure>
<p>å…¶ç­‰ä»·äºï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line"><span class="section">subsystem:</span></span><br><span class="line">&gt;  <span class="variable">$(MAKE)</span> -C subdir</span><br></pre></td></tr></table></figure>
<p>å®šä¹‰$(MAKE)å®å˜é‡çš„æ„æ€æ˜¯ï¼Œä¹Ÿè®¸æˆ‘ä»¬çš„makeéœ€è¦ä¸€äº›å‚æ•°ï¼Œæ‰€ä»¥å®šä¹‰æˆä¸€ä¸ªå˜é‡æ¯”è¾ƒåˆ©äºç»´æŠ¤ã€‚è¿™ä¸¤ä¸ªä¾‹å­çš„æ„æ€éƒ½æ˜¯å…ˆè¿›å…¥&quot;subdir&quot;ç›®å½•ï¼Œç„¶åæ‰§è¡Œmakeå‘½ä»¤ã€‚</p>
<p>æˆ‘ä»¬æŠŠè¿™ä¸ªMakefileå«åš&quot;æ€»æ§Makefile&quot;ï¼Œæ€»æ§Makefileçš„å˜é‡å¯ä»¥ä¼ é€’åˆ°ä¸‹çº§çš„Makefileä¸­ï¼ˆå¦‚æœä½ æ˜¾ç¤ºçš„å£°æ˜ï¼‰ï¼Œä½†æ˜¯ä¸ä¼šè¦†ç›–ä¸‹å±‚çš„Makefileä¸­æ‰€å®šä¹‰çš„å˜é‡ï¼Œé™¤éæŒ‡å®šäº† <code>-e</code> å‚æ•°ã€‚</p>
<p>å¦‚æœä½ è¦ä¼ é€’å˜é‡åˆ°ä¸‹çº§Makefileä¸­ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨è¿™æ ·çš„å£°æ˜:</p>
<pre><code>export &lt;variable ...&gt;;
</code></pre>
<p>å¦‚æœä½ ä¸æƒ³è®©æŸäº›å˜é‡ä¼ é€’åˆ°ä¸‹çº§Makefileä¸­ï¼Œé‚£ä¹ˆä½ å¯ä»¥è¿™æ ·å£°æ˜:</p>
<pre><code>unexport &lt;variable ...&gt;;
</code></pre>
<p>å¦‚ï¼š</p>
<p>ç¤ºä¾‹ä¸€ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> variable = value</span><br></pre></td></tr></table></figure>
<p>å…¶ç­‰ä»·äºï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">variable = value</span><br><span class="line"><span class="keyword">export</span> variable</span><br></pre></td></tr></table></figure>
<p>å…¶ç­‰ä»·äºï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> variable := value</span><br></pre></td></tr></table></figure>
<p>å…¶ç­‰ä»·äºï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">variable := value</span><br><span class="line"><span class="keyword">export</span> variable</span><br></pre></td></tr></table></figure>
<p>ç¤ºä¾‹äºŒï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> variable += value</span><br></pre></td></tr></table></figure>
<p>å…¶ç­‰ä»·äºï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">variable += value</span><br><span class="line"><span class="keyword">export</span> variable</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä½ è¦ä¼ é€’æ‰€æœ‰çš„å˜é‡ï¼Œé‚£ä¹ˆï¼Œåªè¦ä¸€ä¸ªexportå°±è¡Œäº†ã€‚åé¢ä»€ä¹ˆä¹Ÿä¸ç”¨è·Ÿï¼Œè¡¨ç¤ºä¼ é€’æ‰€æœ‰çš„å˜é‡ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæœ‰ä¸¤ä¸ªå˜é‡ï¼Œä¸€ä¸ªæ˜¯ <code>SHELL</code> ï¼Œä¸€ä¸ªæ˜¯ <code>MAKEFLAGS</code> ï¼Œè¿™ä¸¤ä¸ªå˜é‡ä¸ç®¡ä½ æ˜¯ å¦exportï¼Œå…¶æ€»æ˜¯è¦ä¼ é€’åˆ°ä¸‹å±‚ Makefileä¸­ï¼Œç‰¹åˆ«æ˜¯ <code>MAKEFLAGS</code> å˜é‡ï¼Œå…¶ä¸­åŒ…å«äº†makeçš„å‚æ•°<br />
ä¿¡æ¯ï¼Œå¦‚æœæˆ‘ä»¬æ‰§è¡Œ&quot;æ€»æ§Makefile&quot;æ—¶æœ‰makeå‚æ•°æˆ–æ˜¯åœ¨ä¸Šå±‚ Makefileä¸­å®šä¹‰äº†è¿™ä¸ªå˜é‡ï¼Œé‚£ä¹ˆ <code>MAKEFLAGS</code> å˜é‡å°†ä¼šæ˜¯è¿™äº›å‚æ•°ï¼Œå¹¶ä¼šä¼ é€’åˆ°ä¸‹å±‚Makefileä¸­ï¼Œè¿™æ˜¯ä¸€ä¸ªç³»ç»Ÿçº§çš„ç¯å¢ƒå˜é‡ã€‚</p>
<p>ä½†æ˜¯makeå‘½ä»¤ä¸­çš„æœ‰å‡ ä¸ªå‚æ•°å¹¶ä¸å¾€ä¸‹ä¼ é€’ï¼Œå®ƒä»¬æ˜¯ <code>-C</code> , <code>-f</code> , <code>-h</code>, <code>-o</code> å’Œ <code>-W</code> ï¼ˆæœ‰å…³Makefileå‚æ•°çš„ç»†èŠ‚å°†åœ¨åé¢è¯´æ˜ï¼‰ï¼Œå¦‚æœä½ ä¸æƒ³å¾€ä¸‹å±‚ä¼ é€’å‚æ•°ï¼Œé‚£ä¹ˆï¼Œä½ å¯ä»¥è¿™æ ·æ¥ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line"><span class="section">subsystem:</span></span><br><span class="line">&gt;  cd subdir &amp;&amp; <span class="variable">$(MAKE)</span> MAKEFLAGS=</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä½ å®šä¹‰äº†ç¯å¢ƒå˜é‡ <code>MAKEFLAGS</code> ï¼Œé‚£ä¹ˆä½ å¾—ç¡®ä¿¡å…¶ä¸­çš„é€‰é¡¹æ˜¯å¤§å®¶éƒ½ä¼šç”¨åˆ°çš„ï¼Œå¦‚æœå…¶ä¸­æœ‰ <code>-t</code> , <code>-n</code> å’Œ <code>-q</code> å‚æ•°ï¼Œé‚£ä¹ˆå°†ä¼šæœ‰è®©ä½ æ„æƒ³ä¸åˆ°çš„ç»“æœï¼Œæˆ–è®¸ä¼šè®©ä½ å¼‚å¸¸åœ°ææ…Œã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ªåœ¨&quot;åµŒå¥—æ‰§è¡Œ&quot;ä¸­æ¯”è¾ƒæœ‰ç”¨çš„å‚æ•°ï¼Œ <code>-w</code> æˆ–æ˜¯ <code>--print-directory</code> ä¼šåœ¨makeçš„è¿‡ç¨‹ä¸­è¾“å‡ºä¸€äº›ä¿¡æ¯ï¼Œè®©ä½ çœ‹åˆ°ç›®å‰çš„å·¥ä½œç›®å½•ã€‚æ¯”å¦‚ï¼Œå¦‚æœæˆ‘ä»¬çš„ä¸‹çº§makeç›®å½•æ˜¯&quot;/home/hchen/gnu/make&quot;ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨ <code>make -w</code> æ¥æ‰§è¡Œï¼Œé‚£ä¹ˆå½“è¿›å…¥è¯¥ç›®å½•æ—¶ï¼Œæˆ‘ä»¬ä¼šçœ‹ åˆ°:</p>
<pre><code>make: Entering directory `/home/hchen/gnu/make'.
</code></pre>
<p>è€Œåœ¨å®Œæˆä¸‹å±‚makeåç¦»å¼€ç›®å½•æ—¶ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°:</p>
<pre><code>make: Leaving directory `/home/hchen/gnu/make'
</code></pre>
<p>å½“ä½ ä½¿ç”¨ <code>-C</code> å‚æ•°æ¥æŒ‡å®šmakeä¸‹å±‚Makefileæ—¶ï¼Œ <code>-w</code> ä¼šè¢«è‡ªåŠ¨æ‰“å¼€çš„ã€‚å¦‚æœå‚æ•°ä¸­æœ‰ <code>-s</code> ï¼ˆ <code>--slient</code> ï¼‰æˆ–æ˜¯ <code>--no-print-directory</code> ï¼Œé‚£ä¹ˆï¼Œ <code>-w</code> æ€»æ˜¯å¤±æ•ˆçš„ã€‚</p>
<h2 id="45-å®šä¹‰å‘½ä»¤åŒ…"><a class="markdownIt-Anchor" href="#45-å®šä¹‰å‘½ä»¤åŒ…"></a> 4.5 å®šä¹‰å‘½ä»¤åŒ…</h2>
<p>å¦‚æœMakefileä¸­å‡ºç°ä¸€äº›ç›¸åŒå‘½ä»¤åºåˆ—ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä¸ºè¿™äº›ç›¸åŒçš„å‘½ä»¤åºåˆ—å®šä¹‰ä¸€ä¸ªå˜é‡ã€‚å®šä¹‰è¿™ç§å‘½ä»¤åºåˆ—çš„è¯­æ³•ä»¥ <code>define</code> å¼€å§‹ï¼Œä»¥ <code>endef</code> ç»“æŸï¼Œå¦‚:</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">define</span> run-yacc</span><br><span class="line">yacc <span class="variable">$(<span class="built_in">firstword</span> <span class="variable">$^</span>)</span></span><br><span class="line">mv y.tab.c <span class="variable">$@</span></span><br><span class="line"><span class="keyword">endef</span></span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œï¼Œ&quot;run-yacc&quot;æ˜¯è¿™ä¸ªå‘½ä»¤åŒ…çš„åå­—ï¼Œå…¶ä¸è¦å’ŒMakefileä¸­çš„å˜é‡é‡åã€‚åœ¨ <code>define</code> å’Œ <code>endef</code> ä¸­çš„ä¸¤è¡Œå°±æ˜¯å‘½ä»¤åºåˆ—ã€‚è¿™ä¸ªå‘½ä»¤åŒ…ä¸­çš„ç¬¬ä¸€ä¸ªå‘½ä»¤æ˜¯è¿è¡ŒYaccç¨‹åºï¼Œå› ä¸ºYaccç¨‹åºæ€»æ˜¯ç”Ÿ<br />
æˆ&quot;y.tab.c&quot;çš„æ–‡ä»¶ï¼Œæ‰€ä»¥ç¬¬äºŒè¡Œçš„å‘½ä»¤å°±æ˜¯æŠŠè¿™ä¸ªæ–‡ä»¶æ”¹æ”¹åå­—ã€‚è¿˜æ˜¯æŠŠè¿™ä¸ªå‘½ä»¤åŒ…æ”¾åˆ°ä¸€ä¸ªç¤ºä¾‹ä¸­æ¥çœ‹çœ‹å§ã€‚</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">foo.c : foo.y</span><br><span class="line">&gt;  $(run-yacc)</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯ä»¥çœ‹è§ï¼Œè¦ä½¿ç”¨è¿™ä¸ªå‘½ä»¤åŒ…ï¼Œæˆ‘ä»¬å°±å¥½åƒä½¿ç”¨å˜é‡ä¸€æ ·ã€‚åœ¨è¿™ä¸ªå‘½ä»¤åŒ…çš„ä½¿ç”¨ä¸­ï¼Œå‘½ä»¤åŒ…&quot;run-yacc&quot;ä¸­çš„ <code>$^</code> å°±æ˜¯ <code>foo.y</code> ï¼Œ <code>$@</code> å°±æ˜¯ <code>foo.c</code> ï¼ˆæœ‰å…³è¿™ç§ä»¥ <code>$</code> å¼€å¤´çš„ç‰¹æ®Šå˜é‡ï¼Œæˆ‘ä»¬ä¼šåœ¨åé¢ä»‹ç»ï¼‰ï¼Œmakeåœ¨æ‰§è¡Œå‘½ä»¤åŒ…æ—¶ï¼Œå‘½ä»¤åŒ…ä¸­çš„æ¯ä¸ªå‘½ä»¤ä¼šè¢«ä¾æ¬¡ç‹¬ç«‹æ‰§è¡Œã€‚</p>
<h1 id="5-ä½¿ç”¨å˜é‡"><a class="markdownIt-Anchor" href="#5-ä½¿ç”¨å˜é‡"></a> 5. ä½¿ç”¨å˜é‡</h1>
<p>åœ¨Makefileä¸­çš„å®šä¹‰çš„å˜é‡ï¼Œå°±åƒæ˜¯C/C++è¯­è¨€ä¸­çš„å®ä¸€æ ·ï¼Œä»–ä»£è¡¨äº†ä¸€ä¸ªæ–‡æœ¬å­—ä¸²ï¼Œåœ¨Makefileä¸­æ‰§è¡Œçš„æ—¶å€™å…¶ä¼šè‡ªåŠ¨åŸæ¨¡åŸæ ·åœ°å±•å¼€åœ¨æ‰€ä½¿ç”¨çš„åœ°æ–¹ã€‚å…¶ä¸C/C++æ‰€ä¸åŒçš„æ˜¯ï¼Œä½ å¯ä»¥åœ¨Makefileä¸­æ”¹å˜å…¶å€¼ã€‚åœ¨Makefileä¸­ï¼Œå˜é‡å¯ä»¥ä½¿ç”¨åœ¨&quot;ç›®æ ‡&quot;ï¼Œâ€œä¾èµ–ç›®æ ‡â€ï¼Œ&quot;å‘½ä»¤&quot;æˆ–æ˜¯Makefileçš„å…¶å®ƒéƒ¨åˆ†ä¸­ã€‚</p>
<p>å˜é‡çš„å‘½åå­—å¯ä»¥åŒ…å«å­—ç¬¦ã€æ•°å­—ï¼Œä¸‹åˆ’çº¿ï¼ˆå¯ä»¥æ˜¯æ•°å­—å¼€å¤´ï¼‰ï¼Œä½†ä¸åº”è¯¥å«æœ‰ <code>:</code> ã€ <code>#</code> ã€ <code>=</code> æˆ–æ˜¯ç©ºå­—ç¬¦ï¼ˆç©ºæ ¼ã€å›è½¦ç­‰ï¼‰ã€‚å˜é‡æ˜¯å¤§å°å†™æ•æ„Ÿçš„ï¼Œâ€œfooâ€ã€&quot;Foo&quot;å’Œ&quot;FOO&quot;æ˜¯ä¸‰ä¸ªä¸åŒçš„å˜é‡åã€‚ä¼ ç»Ÿçš„Makefileçš„å˜é‡åæ˜¯å…¨å¤§å†™çš„å‘½åæ–¹å¼ï¼Œä½†æˆ‘æ¨èä½¿ç”¨å¤§å°å†™æ­é…çš„å˜é‡åï¼Œå¦‚ï¼šMakeFlagsã€‚è¿™æ ·å¯ä»¥é¿å…å’Œç³»ç»Ÿçš„å˜é‡å†²çªï¼Œè€Œå‘ç”Ÿæ„å¤–çš„äº‹æƒ…ã€‚</p>
<p>æœ‰ä¸€äº›å˜é‡æ˜¯å¾ˆå¥‡æ€ªå­—ä¸²ï¼Œå¦‚ <code>$&lt;</code> ã€ <code>$@</code> ç­‰ï¼Œè¿™äº›æ˜¯è‡ªåŠ¨åŒ–å˜é‡ï¼Œæˆ‘ä¼šåœ¨åé¢ä»‹ç»ã€‚</p>
<h2 id="51-å˜é‡çš„åŸºç¡€"><a class="markdownIt-Anchor" href="#51-å˜é‡çš„åŸºç¡€"></a> 5.1 å˜é‡çš„åŸºç¡€</h2>
<p>å˜é‡åœ¨å£°æ˜æ—¶éœ€è¦ç»™äºˆåˆå€¼ï¼Œè€Œåœ¨ä½¿ç”¨æ—¶ï¼Œéœ€è¦ç»™åœ¨å˜é‡åå‰åŠ ä¸Š <code>$</code> ç¬¦å·ï¼Œä½†æœ€å¥½ç”¨å°æ‹¬å· <code>()</code> æˆ–æ˜¯å¤§æ‹¬å· <code>&#123;&#125;</code> æŠŠå˜é‡ç»™åŒ…æ‹¬èµ·æ¥ã€‚å¦‚æœä½ è¦ä½¿ç”¨çœŸå®çš„ <code>$</code> å­—ç¬¦ï¼Œé‚£ä¹ˆä½ éœ€è¦ç”¨ <code>$$</code><br />
æ¥è¡¨ç¤ºã€‚</p>
<p>å˜é‡å¯ä»¥ä½¿ç”¨åœ¨è®¸å¤šåœ°æ–¹ï¼Œå¦‚è§„åˆ™ä¸­çš„&quot;ç›®æ ‡&quot;ã€â€œä¾èµ–â€ã€&quot;å‘½ä»¤&quot;ä»¥åŠæ–°çš„å˜é‡ä¸­ã€‚å…ˆçœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">objects = program.o foo.o utils.o</span><br><span class="line">program : <span class="variable">$(objects)</span></span><br><span class="line">&gt;  cc -o program <span class="variable">$(objects)</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$(objects)</span> : defs.h</span><br></pre></td></tr></table></figure>
<p>å˜é‡ä¼šåœ¨ä½¿ç”¨å®ƒçš„åœ°æ–¹ç²¾ç¡®åœ°å±•å¼€ï¼Œå°±åƒC/C++ä¸­çš„å®ä¸€æ ·ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">foo = c</span><br><span class="line">prog.o : prog.<span class="variable">$(foo)</span></span><br><span class="line">&gt;  <span class="variable">$(foo)</span><span class="variable">$(foo)</span> -<span class="variable">$(foo)</span> prog.<span class="variable">$(foo)</span></span><br></pre></td></tr></table></figure>
<p>å±•å¼€åå¾—åˆ°ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">prog.o : prog.c</span><br><span class="line">&gt;  cc -c prog.c</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶ï¼Œåƒä¸‡ä¸è¦åœ¨ä½ çš„Makefileä¸­è¿™æ ·å¹²ï¼Œè¿™é‡Œåªæ˜¯ä¸¾ä¸ªä¾‹å­æ¥è¡¨æ˜Makefileä¸­çš„å˜é‡åœ¨ä½¿ç”¨å¤„å±•å¼€çš„çœŸå®æ ·å­ã€‚å¯è§å…¶å°±æ˜¯ä¸€ä¸ª&quot;æ›¿ä»£&quot;çš„åŸç†ã€‚</p>
<p>å¦å¤–ï¼Œç»™å˜é‡åŠ ä¸Šæ‹¬å·å®Œå…¨æ˜¯ä¸ºäº†æ›´åŠ å®‰å…¨åœ°ä½¿ç”¨è¿™ä¸ªå˜é‡ï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¦‚æœä½ ä¸æƒ³ç»™å˜é‡åŠ ä¸Šæ‹¬å·ï¼Œé‚£ä¹Ÿå¯ä»¥ï¼Œä½†æˆ‘è¿˜æ˜¯å¼ºçƒˆå»ºè®®ä½ ç»™å˜é‡åŠ ä¸Šæ‹¬å·ã€‚</p>
<h2 id="52-å˜é‡ä¸­çš„å˜é‡"><a class="markdownIt-Anchor" href="#52-å˜é‡ä¸­çš„å˜é‡"></a> 5.2 å˜é‡ä¸­çš„å˜é‡</h2>
<p>åœ¨å®šä¹‰å˜é‡çš„å€¼æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å…¶å®ƒå˜é‡æ¥æ„é€ å˜é‡çš„å€¼ï¼Œåœ¨Makefileä¸­æœ‰ä¸¤ç§æ–¹å¼æ¥åœ¨ç”¨å˜é‡å®šä¹‰å˜é‡çš„å€¼ã€‚</p>
<p>å…ˆçœ‹ç¬¬ä¸€ç§æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯ç®€å•çš„ä½¿ç”¨ <code>=</code> å·ï¼Œåœ¨ <code>=</code> å·¦ä¾§æ˜¯å˜é‡ï¼Œå³ä¾§æ˜¯å˜é‡çš„å€¼ï¼Œå³ä¾§å˜é‡çš„å€¼å¯ä»¥å®šä¹‰åœ¨æ–‡ä»¶çš„ä»»ä½•ä¸€å¤„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä¾§ä¸­çš„å˜é‡ä¸ä¸€å®šéè¦æ˜¯å·²å®šä¹‰å¥½çš„å€¼ï¼Œå…¶ä¹Ÿå¯ä»¥ä½¿ç”¨åé¢å®šä¹‰çš„å€¼ã€‚å¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">foo = <span class="variable">$(bar)</span></span><br><span class="line">bar = <span class="variable">$(ugh)</span></span><br><span class="line">ugh = Huh?</span><br><span class="line"></span><br><span class="line"><span class="section">all:</span></span><br><span class="line">&gt;  echo <span class="variable">$(foo)</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬æ‰§è¡Œ&quot;make all&quot;å°†ä¼šæ‰“å‡ºå˜é‡ <code>$(foo)</code> çš„å€¼æ˜¯ <code>Huh?</code> ï¼ˆ <code>$(foo)</code> çš„å€¼æ˜¯<code>$(bar)</code> ï¼Œ <code>$(bar)</code> çš„å€¼æ˜¯ <code>$(ugh)</code> ï¼Œ <code>$(ugh)</code> çš„å€¼æ˜¯ <code>Huh?</code> ï¼‰å¯è§ï¼Œå˜ é‡æ˜¯å¯ä»¥ä½¿ç”¨åé¢çš„å˜é‡æ¥å®šä¹‰çš„ã€‚</p>
<p>è¿™ä¸ªåŠŸèƒ½æœ‰å¥½çš„åœ°æ–¹ï¼Œä¹Ÿæœ‰ä¸å¥½çš„åœ°æ–¹ï¼Œå¥½çš„åœ°æ–¹æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå˜é‡çš„çœŸå®å€¼æ¨åˆ°åé¢æ¥å®šä¹‰ï¼Œå¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">CFLAGS = <span class="variable">$(include_dirs)</span> -O</span><br><span class="line">include_dirs = -Ifoo -Ibar</span><br></pre></td></tr></table></figure>
<p>å½“ <code>CFLAGS</code> åœ¨å‘½ä»¤ä¸­è¢«å±•å¼€æ—¶ï¼Œä¼šæ˜¯ <code>-Ifoo -Ibar -O</code> ã€‚ä½†è¿™ç§å½¢å¼ä¹Ÿæœ‰ä¸å¥½çš„åœ°æ–¹ï¼Œé‚£å°± æ˜¯é€’å½’å®šä¹‰ï¼Œå¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">CFLAGS = <span class="variable">$(CFLAGS)</span> -O</span><br></pre></td></tr></table></figure>
<p>æˆ–ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">A = <span class="variable">$(B)</span></span><br><span class="line">B = <span class="variable">$(A)</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¼šè®©makeé™·å…¥æ— é™çš„å˜é‡å±•å¼€è¿‡ç¨‹ä¸­å»ï¼Œå½“ç„¶ï¼Œæˆ‘ä»¬çš„makeæ˜¯æœ‰èƒ½åŠ›æ£€æµ‹è¿™æ ·çš„å®šä¹‰ï¼Œå¹¶ä¼šæŠ¥é”™ã€‚è¿˜æœ‰å°±æ˜¯å¦‚æœåœ¨å˜é‡ä¸­ä½¿ç”¨å‡½æ•°ï¼Œé‚£ä¹ˆï¼Œè¿™ç§æ–¹å¼ä¼šè®©æˆ‘ä»¬çš„makeè¿è¡Œæ—¶éå¸¸æ…¢ï¼Œæ›´ç³Ÿç³•çš„æ˜¯ï¼Œä»–ä¼šä½¿ç”¨å¾—ä¸¤ä¸ªmakeçš„å‡½æ•°&quot;wildcard&quot;å’Œ&quot;shell&quot;å‘ç”Ÿä¸å¯é¢„çŸ¥çš„é”™è¯¯ã€‚å› ä¸ºä½ ä¸ä¼šçŸ¥é“è¿™ä¸¤ä¸ªå‡½æ•°ä¼šè¢«è°ƒç”¨å¤šå°‘æ¬¡ã€‚</p>
<p>ä¸ºäº†é¿å…ä¸Šé¢çš„è¿™ç§æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨makeä¸­çš„å¦ä¸€ç§ç”¨å˜é‡æ¥å®šä¹‰å˜é‡çš„æ–¹æ³•ã€‚è¿™ç§æ–¹æ³•ä½¿ç”¨çš„æ˜¯ <code>:=</code> æ“ä½œç¬¦ï¼Œå¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">x := foo</span><br><span class="line">y := <span class="variable">$(x)</span> bar</span><br><span class="line">x := later</span><br></pre></td></tr></table></figure>
<p>å…¶ç­‰ä»·äºï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">y := foo bar</span><br><span class="line">x := later</span><br></pre></td></tr></table></figure>
<p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œè¿™ç§æ–¹æ³•ï¼Œå‰é¢çš„å˜é‡ä¸èƒ½ä½¿ç”¨åé¢çš„å˜é‡ï¼Œåªèƒ½ä½¿ç”¨å‰é¢å·²å®šä¹‰å¥½äº†çš„å˜é‡ã€‚å¦‚æœæ˜¯è¿™æ ·ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">y := <span class="variable">$(x)</span> bar</span><br><span class="line">x := foo</span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆï¼Œyçš„å€¼æ˜¯&quot;bar&quot;ï¼Œè€Œä¸æ˜¯&quot;foo bar&quot;ã€‚</p>
<p>ä¸Šé¢éƒ½æ˜¯ä¸€äº›æ¯”è¾ƒç®€å•çš„å˜é‡ä½¿ç”¨äº†ï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå¤æ‚çš„ä¾‹å­ï¼Œå…¶ä¸­åŒ…æ‹¬äº†makeçš„å‡½æ•°ã€æ¡ä»¶è¡¨è¾¾å¼å’Œä¸€ä¸ªç³»ç»Ÿå˜é‡&quot;MAKELEVEL&quot;çš„ä½¿ç”¨ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ifeq</span> (0,$&#123;MAKELEVEL&#125;)</span><br><span class="line">cur-dir   := <span class="variable">$(<span class="built_in">shell</span> pwd)</span></span><br><span class="line">whoami    := <span class="variable">$(<span class="built_in">shell</span> whoami)</span></span><br><span class="line">host-type := <span class="variable">$(<span class="built_in">shell</span> arch)</span></span><br><span class="line">MAKE := $&#123;MAKE&#125; host-type=$&#123;host-type&#125; whoami=$&#123;whoami&#125;</span><br><span class="line"><span class="keyword">endif</span></span><br></pre></td></tr></table></figure>
<p>å…³äºæ¡ä»¶è¡¨è¾¾å¼å’Œå‡½æ•°ï¼Œæˆ‘ä»¬åœ¨åé¢å†è¯´ï¼Œå¯¹äºç³»ç»Ÿå˜é‡&quot;MAKELEVEL&quot;ï¼Œå…¶æ„æ€æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬çš„makeæœ‰ä¸€ä¸ªåµŒå¥—æ‰§è¡Œçš„åŠ¨ä½œï¼ˆå‚è§å‰é¢çš„&quot;åµŒå¥—ä½¿ç”¨make&quot;ï¼‰ï¼Œé‚£ä¹ˆï¼Œè¿™ä¸ªå˜é‡ä¼šè®°å½•äº†æˆ‘ä»¬çš„å½“å‰Makefileçš„è°ƒç”¨å±‚æ•°ã€‚</p>
<p>ä¸‹é¢å†ä»‹ç»ä¸¤ä¸ªå®šä¹‰å˜é‡æ—¶æˆ‘ä»¬éœ€è¦çŸ¥é“çš„ï¼Œè¯·å…ˆçœ‹ä¸€ä¸ªä¾‹å­ï¼Œå¦‚æœæˆ‘ä»¬è¦å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œå…¶å€¼æ˜¯ä¸€ä¸ªç©ºæ ¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿™æ ·æ¥ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">nullstring :=</span><br><span class="line">space := <span class="variable">$(nullstring)</span> <span class="comment"># end of the line</span></span><br></pre></td></tr></table></figure>
<p>nullstringæ˜¯ä¸€ä¸ªEmptyå˜é‡ï¼Œå…¶ä¸­ä»€ä¹ˆä¹Ÿæ²¡æœ‰ï¼Œè€Œæˆ‘ä»¬çš„spaceçš„å€¼æ˜¯ä¸€ä¸ªç©ºæ ¼ã€‚å› ä¸ºåœ¨æ“ä½œç¬¦çš„å³è¾¹æ˜¯å¾ˆéš¾æè¿°ä¸€ä¸ªç©ºæ ¼çš„ï¼Œè¿™é‡Œé‡‡ç”¨çš„æŠ€æœ¯å¾ˆç®¡ç”¨ï¼Œå…ˆç”¨ä¸€ä¸ªEmptyå˜é‡æ¥æ ‡æ˜å˜é‡çš„å€¼å¼€å§‹äº†ï¼Œè€Œåé¢é‡‡ç”¨&quot;#â€œæ³¨é‡Šç¬¦æ¥è¡¨ç¤ºå˜é‡å®šä¹‰çš„ç»ˆæ­¢ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰å‡ºå…¶å€¼æ˜¯ä¸€ä¸ªç©ºæ ¼çš„å˜é‡ã€‚è¯·æ³¨æ„è¿™é‡Œå…³äºâ€#â€œçš„ä½¿ç”¨ï¼Œæ³¨é‡Šç¬¦â€#&quot;çš„è¿™ç§ç‰¹æ€§å€¼å¾—æˆ‘ä»¬æ³¨æ„ï¼Œå¦‚æœæˆ‘ä»¬è¿™æ ·å®šä¹‰ä¸€ä¸ªå˜é‡ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">dir := /foo/bar    <span class="comment"># directory to put the frobs in</span></span><br></pre></td></tr></table></figure>
<p>dirè¿™ä¸ªå˜é‡çš„å€¼æ˜¯&quot;/foo/bar&quot;ï¼Œåé¢è¿˜è·Ÿäº†4ä¸ªç©ºæ ¼ï¼Œå¦‚æœæˆ‘ä»¬è¿™æ ·ä½¿ç”¨è¿™ä¸ªå˜é‡æ¥æŒ‡å®šåˆ«çš„ç›®å½•------&quot;$(dir)/file&quot;é‚£ä¹ˆå°±å®Œè›‹äº†ã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒæœ‰ç”¨çš„æ“ä½œç¬¦æ˜¯ <code>?=</code> ï¼Œå…ˆçœ‹ç¤ºä¾‹ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">FOO ?= bar</span><br></pre></td></tr></table></figure>
<p>å…¶å«ä¹‰æ˜¯ï¼Œå¦‚æœFOOæ²¡æœ‰è¢«å®šä¹‰è¿‡ï¼Œé‚£ä¹ˆå˜é‡FOOçš„å€¼å°±æ˜¯&quot;bar&quot;ï¼Œå¦‚æœFOOå…ˆå‰è¢«å®šä¹‰è¿‡ï¼Œé‚£ä¹ˆè¿™æ¡è¯­å°†ä»€ä¹ˆä¹Ÿä¸åšï¼Œå…¶ç­‰ä»·äºï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ifeq</span> (<span class="variable">$(<span class="built_in">origin</span> FOO)</span>, undefined)</span><br><span class="line">    FOO = bar</span><br><span class="line"><span class="keyword">endif</span></span><br></pre></td></tr></table></figure>
<h2 id="53-å˜é‡é«˜çº§ç”¨æ³•"><a class="markdownIt-Anchor" href="#53-å˜é‡é«˜çº§ç”¨æ³•"></a> 5.3 å˜é‡é«˜çº§ç”¨æ³•</h2>
<p>è¿™é‡Œä»‹ç»ä¸¤ç§å˜é‡çš„é«˜çº§ä½¿ç”¨æ–¹æ³•ï¼Œç¬¬ä¸€ç§æ˜¯å˜é‡å€¼çš„æ›¿æ¢ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥æ›¿æ¢å˜é‡ä¸­çš„å…±æœ‰çš„éƒ¨åˆ†ï¼Œå…¶æ ¼å¼æ˜¯ <code>$(var:a=b)</code> æˆ–æ˜¯ <code>$&#123;var:a=b&#125;</code>ï¼Œå…¶æ„æ€æ˜¯ï¼ŒæŠŠå˜é‡&quot;var&quot;ä¸­æ‰€æœ‰ä»¥&quot;a&quot;å­—ä¸²&quot;ç»“å°¾&quot;çš„&quot;a&quot;æ›¿æ¢æˆ&quot;b&quot;å­—ä¸²ã€‚è¿™é‡Œçš„&quot;ç»“å°¾&quot;æ„æ€æ˜¯&quot;ç©ºæ ¼&quot;æˆ–æ˜¯&quot;ç»“æŸç¬¦&quot;ã€‚</p>
<p>è¿˜æ˜¯çœ‹ä¸€ä¸ªç¤ºä¾‹å§ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">foo := a.o b.o c.o</span><br><span class="line">bar := $(foo:.o=.c)</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å…ˆå®šä¹‰äº†ä¸€ä¸ª <code>$(foo)</code> å˜é‡ï¼Œè€Œç¬¬äºŒè¡Œçš„æ„æ€æ˜¯æŠŠ <code>$(foo)</code> ä¸­æ‰€æœ‰ä»¥ <code>.o</code> å­—ä¸²&quot;ç»“å°¾&quot;å…¨éƒ¨æ›¿æ¢æˆ <code>.c</code> ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„ <code>$(bar)</code> çš„å€¼å°±æ˜¯&quot;a.c b.c c.c&quot;ã€‚</p>
<p>å¦å¤–ä¸€ç§å˜é‡æ›¿æ¢çš„æŠ€æœ¯æ˜¯ä»¥&quot;é™æ€æ¨¡å¼&quot;ï¼ˆå‚è§å‰é¢ç« èŠ‚ï¼‰å®šä¹‰çš„ï¼Œå¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">foo := a.o b.o c.o</span><br><span class="line">bar := $(foo:%.o=%.c)</span><br></pre></td></tr></table></figure>
<p>è¿™ä¾èµ–äºè¢«æ›¿æ¢å­—ä¸²ä¸­çš„æœ‰ç›¸åŒçš„æ¨¡å¼ï¼Œæ¨¡å¼ä¸­å¿…é¡»åŒ…å«ä¸€ä¸ª <code>%</code> å­—ç¬¦ï¼Œè¿™ä¸ªä¾‹å­åŒæ ·è®© <code>$(bar)</code> å˜é‡çš„å€¼ä¸º&quot;a.c b.c c.c&quot;ã€‚</p>
<p>ç¬¬äºŒç§é«˜çº§ç”¨æ³•æ˜¯------â€œæŠŠå˜é‡çš„å€¼å†å½“æˆå˜é‡â€ã€‚å…ˆçœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">x = y</span><br><span class="line">y = z</span><br><span class="line">a := $(<span class="variable">$(x)</span>)</span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ$(x)çš„å€¼æ˜¯&quot;y&quot;ï¼Œæ‰€ä»¥$($(x))å°±æ˜¯$(y)ï¼Œäºæ˜¯$(a)çš„å€¼å°±æ˜¯&quot;z&quot;ã€‚ï¼ˆæ³¨æ„ï¼Œæ˜¯&quot;x=y&quot;ï¼Œè€Œä¸æ˜¯&quot;x=$(y)&quot;ï¼‰</p>
<p>æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨æ›´å¤šçš„å±‚æ¬¡ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">x = y</span><br><span class="line">y = z</span><br><span class="line">z = u</span><br><span class="line">a := $($(<span class="variable">$(x)</span>))</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œçš„ <code>$(a)</code> çš„å€¼æ˜¯&quot;u&quot;ï¼Œç›¸å…³çš„æ¨å¯¼ç•™ç»™è¯»è€…è‡ªå·±å»åšå§ã€‚</p>
<p>è®©æˆ‘ä»¬å†å¤æ‚ä¸€ç‚¹ï¼Œä½¿ç”¨ä¸Š&quot;åœ¨å˜é‡å®šä¹‰ä¸­ä½¿ç”¨å˜é‡&quot;çš„ç¬¬ä¸€ä¸ªæ–¹å¼ï¼Œæ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">x = <span class="variable">$(y)</span></span><br><span class="line">y = z</span><br><span class="line">z = Hello</span><br><span class="line">a := $(<span class="variable">$(x)</span>)</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œçš„ <code>$($(x))</code> è¢«æ›¿æ¢æˆäº† <code>$($(y))</code> ï¼Œå› ä¸º <code>$(y)</code> å€¼æ˜¯&quot;z&quot;ï¼Œæ‰€ä»¥ï¼Œæœ€ç»ˆç»“æœæ˜¯ï¼š <code>a:=$(z)</code> ï¼Œä¹Ÿå°±æ˜¯&quot;Hello&quot;ã€‚</p>
<p>å†å¤æ‚ä¸€ç‚¹ï¼Œæˆ‘ä»¬å†åŠ ä¸Šå‡½æ•°ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">x = variable1</span><br><span class="line">variable2 := Hello</span><br><span class="line">y = <span class="variable">$(<span class="built_in">subst</span> 1,2,<span class="variable">$(x)</span>)</span></span><br><span class="line">z = y</span><br><span class="line">a := $($(<span class="variable">$(z)</span>))</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªä¾‹å­ä¸­ï¼Œ <code>$($($(z)))</code> æ‰©å±•ä¸º <code>$($(y))</code> ï¼Œè€Œå…¶å†æ¬¡è¢«æ‰©å±•ä¸º <code>$($(subst 1,2,$(x)))</code> ã€‚ <code>$(x)</code> çš„å€¼æ˜¯&quot;variable1&quot;ï¼Œsubstå‡½æ•°æŠŠ&quot;variable1&quot;ä¸­çš„æ‰€æœ‰&quot;1&quot;å­—ä¸²æ›¿æ¢æˆ&quot;2&quot;å­—ä¸²ï¼Œäºæ˜¯ï¼Œâ€œvariable1&quot;å˜æˆ&quot;variable2â€ï¼Œå†å–å…¶å€¼ï¼Œæ‰€ä»¥ï¼Œæœ€ç»ˆï¼Œ <code>$(a)</code> çš„å€¼å°±æ˜¯ <code>$(variable2)</code> çš„å€¼------â€œHelloâ€ã€‚ï¼ˆå–”ï¼Œå¥½ä¸å®¹æ˜“ï¼‰</p>
<p>åœ¨è¿™ç§æ–¹å¼ä¸­ï¼Œæˆ–è¦å¯ä»¥ä½¿ç”¨å¤šä¸ªå˜é‡æ¥ç»„æˆä¸€ä¸ªå˜é‡çš„åå­—ï¼Œç„¶åå†å–å…¶å€¼ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">first_second = Hello</span><br><span class="line">a = first</span><br><span class="line">b = second</span><br><span class="line">all = $($a_$b)</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œçš„ <code>$a_$b</code> ç»„æˆäº†&quot;first_second&quot;ï¼Œäºæ˜¯ï¼Œ <code>$(all)</code> çš„å€¼å°±æ˜¯&quot;Hello&quot;ã€‚</p>
<p>å†æ¥çœ‹çœ‹ç»“åˆç¬¬ä¸€ç§æŠ€æœ¯çš„ä¾‹å­ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">a_objects := a.o b.o c.o</span><br><span class="line">1_objects := 1.o 2.o 3.o</span><br><span class="line"></span><br><span class="line">sources := $(<span class="variable">$(a1)</span>_objects:.o=.c)</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœ <code>$(a1)</code> çš„å€¼æ˜¯&quot;a&quot;çš„è¯ï¼Œé‚£ä¹ˆï¼Œ <code>$(sources)</code> çš„å€¼å°±æ˜¯&quot;a.c b.c c.c&quot;ï¼› å¦‚æœ <code>$(a1)</code> çš„å€¼æ˜¯&quot;1&quot;ï¼Œé‚£ä¹ˆ <code>$(sources)</code> çš„å€¼æ˜¯&quot;1.c 2.c 3.c&quot;ã€‚</p>
<p>å†æ¥çœ‹ä¸€ä¸ªè¿™ç§æŠ€æœ¯å’Œ&quot;å‡½æ•°&quot;ä¸&quot;æ¡ä»¶è¯­å¥&quot;ä¸€åŒä½¿ç”¨çš„ä¾‹å­ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ifdef</span> do_sort</span><br><span class="line">    func := sort</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    func := strip</span><br><span class="line"><span class="keyword">endif</span></span><br><span class="line"></span><br><span class="line">bar := a d b g q c</span><br><span class="line"></span><br><span class="line">foo := $(<span class="variable">$(func)</span> <span class="variable">$(bar)</span>)</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œå¦‚æœå®šä¹‰äº†&quot;do_sort&quot;ï¼Œé‚£ä¹ˆï¼š <code>foo := $(sort a d b g q c)</code> ï¼Œäºæ˜¯ <code>$(foo)</code> çš„å€¼å°±æ˜¯ â€œa b c d g qâ€ï¼Œè€Œå¦‚æœæ²¡æœ‰å®šä¹‰&quot;do_sort&quot;ï¼Œé‚£ä¹ˆï¼š<br />
<code>foo := $(strip a d b g q c)</code> ï¼Œè°ƒç”¨çš„å°±æ˜¯stripå‡½æ•°ã€‚</p>
<p>å½“ç„¶ï¼Œ&quot;æŠŠå˜é‡çš„å€¼å†å½“æˆå˜é‡&quot;è¿™ç§æŠ€æœ¯ï¼ŒåŒæ ·å¯ä»¥ç”¨åœ¨æ“ä½œç¬¦çš„å·¦è¾¹:</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">dir = foo</span><br><span class="line"><span class="variable">$(dir)</span>_sources := <span class="variable">$(<span class="built_in">wildcard</span> <span class="variable">$(dir)</span>/*.c)</span></span><br><span class="line"><span class="keyword">define</span> <span class="variable">$(dir)</span>_print</span><br><span class="line">lpr $(<span class="variable">$(dir)</span>_sources)</span><br><span class="line"><span class="keyword">endef</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªä¾‹å­ä¸­å®šä¹‰äº†ä¸‰ä¸ªå˜é‡ï¼šâ€œdirâ€ï¼Œâ€œfoo_sources&quot;å’Œ&quot;foo_printâ€ã€‚</p>
<h2 id="54-è¿½åŠ å˜é‡å€¼"><a class="markdownIt-Anchor" href="#54-è¿½åŠ å˜é‡å€¼"></a> 5.4 è¿½åŠ å˜é‡å€¼</h2>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>+=</code> æ“ä½œç¬¦ç»™å˜é‡è¿½åŠ å€¼ï¼Œå¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">objects = main.o foo.o bar.o utils.o</span><br><span class="line">objects += another.o</span><br></pre></td></tr></table></figure>
<p>äºæ˜¯ï¼Œæˆ‘ä»¬çš„ <code>$(objects)</code> å€¼å˜æˆï¼šâ€œmain.o foo.o bar.o utils.o<br />
another.oâ€ï¼ˆanother.oè¢«è¿½åŠ è¿›å»äº†ï¼‰</p>
<p>ä½¿ç”¨ <code>+=</code> æ“ä½œç¬¦ï¼Œå¯ä»¥æ¨¡æ‹Ÿä¸ºä¸‹é¢çš„è¿™ç§ä¾‹å­ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">objects = main.o foo.o bar.o utils.o</span><br><span class="line">objects := <span class="variable">$(objects)</span> another.o</span><br></pre></td></tr></table></figure>
<p>æ‰€ä¸åŒçš„æ˜¯ï¼Œç”¨ <code>+=</code> æ›´ä¸ºç®€æ´ã€‚</p>
<p>å¦‚æœå˜é‡ä¹‹å‰æ²¡æœ‰å®šä¹‰è¿‡ï¼Œé‚£ä¹ˆï¼Œ <code>+=</code> ä¼šè‡ªåŠ¨å˜æˆ <code>=</code> ï¼Œå¦‚æœå‰é¢æœ‰å˜é‡å®šä¹‰ï¼Œé‚£ä¹ˆ <code>+=</code> ä¼šç»§æ‰¿äºå‰æ¬¡æ“ä½œçš„èµ‹å€¼ç¬¦ã€‚å¦‚æœå‰ä¸€æ¬¡çš„æ˜¯ <code>:=</code> ï¼Œé‚£ä¹ˆ <code>+=</code> ä¼šä»¥ <code>:=</code> ä½œä¸ºå…¶èµ‹å€¼ç¬¦ï¼Œå¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">variable := value</span><br><span class="line">variable += more</span><br></pre></td></tr></table></figure>
<p>ç­‰ä»·äºï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">variable := value</span><br><span class="line">variable := <span class="variable">$(variable)</span> more</span><br></pre></td></tr></table></figure>
<p>ä½†å¦‚æœæ˜¯è¿™ç§æƒ…å†µï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">variable = value</span><br><span class="line">variable += more</span><br></pre></td></tr></table></figure>
<p>ç”±äºå‰æ¬¡çš„èµ‹å€¼ç¬¦æ˜¯ <code>=</code> ï¼Œæ‰€ä»¥ <code>+=</code> ä¹Ÿä¼šä»¥ <code>=</code> æ¥åšä¸ºèµ‹å€¼ï¼Œé‚£ä¹ˆå²‚ä¸ä¼šå‘ç”Ÿå˜é‡çš„é€’è¡¥å½’å®šä¹‰ï¼Œè¿™æ˜¯å¾ˆä¸å¥½çš„ï¼Œæ‰€ä»¥makeä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä¸å¿…æ‹…å¿ƒè¿™ä¸ªé—®é¢˜ã€‚</p>
<h2 id="55-override-æŒ‡ç¤ºç¬¦"><a class="markdownIt-Anchor" href="#55-override-æŒ‡ç¤ºç¬¦"></a> 5.5 override æŒ‡ç¤ºç¬¦</h2>
<p>å¦‚æœæœ‰å˜é‡æ˜¯é€šå¸¸makeçš„å‘½ä»¤è¡Œå‚æ•°è®¾ç½®çš„ï¼Œé‚£ä¹ˆMakefileä¸­å¯¹è¿™ä¸ªå˜é‡çš„èµ‹å€¼ä¼šè¢«å¿½ç•¥ã€‚å¦‚æœä½ æƒ³åœ¨Makefileä¸­è®¾ç½®è¿™ç±»å‚æ•°çš„å€¼ï¼Œé‚£ä¹ˆï¼Œä½ å¯ä»¥ä½¿ç”¨&quot;override&quot;æŒ‡ç¤ºç¬¦ã€‚å…¶è¯­æ³•æ˜¯:</p>
<pre><code>override &lt;variable&gt;; = &lt;value&gt;;

override &lt;variable&gt;; := &lt;value&gt;;
</code></pre>
<p>å½“ç„¶ï¼Œä½ è¿˜å¯ä»¥è¿½åŠ :</p>
<pre><code>override &lt;variable&gt;; += &lt;more text&gt;;
</code></pre>
<p>å¯¹äºå¤šè¡Œçš„å˜é‡å®šä¹‰ï¼Œæˆ‘ä»¬ç”¨defineæŒ‡ç¤ºç¬¦ï¼Œåœ¨defineæŒ‡ç¤ºç¬¦å‰ï¼Œä¹ŸåŒæ ·å¯ä»¥ä½¿ç”¨overrideæŒ‡ç¤ºç¬¦ï¼Œå¦‚:</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="keyword">define</span> foo</span><br><span class="line">bar</span><br><span class="line"><span class="keyword">endef</span></span><br></pre></td></tr></table></figure>
<h2 id="56-å¤šè¡Œå˜é‡"><a class="markdownIt-Anchor" href="#56-å¤šè¡Œå˜é‡"></a> 5.6 å¤šè¡Œå˜é‡</h2>
<p>è¿˜æœ‰ä¸€ç§è®¾ç½®å˜é‡å€¼çš„æ–¹æ³•æ˜¯ä½¿ç”¨defineå…³é”®å­—ã€‚ä½¿ç”¨defineå…³é”®å­—è®¾ç½®å˜é‡çš„å€¼å¯ä»¥æœ‰æ¢è¡Œï¼Œè¿™æœ‰åˆ©äºå®šä¹‰ä¸€ç³»åˆ—çš„å‘½ä»¤ï¼ˆå‰é¢æˆ‘ä»¬è®²è¿‡&quot;å‘½ä»¤åŒ…&quot;çš„æŠ€æœ¯å°±æ˜¯åˆ©ç”¨è¿™ä¸ªå…³é”®å­—ï¼‰ã€‚</p>
<p>defineæŒ‡ç¤ºç¬¦åé¢è·Ÿçš„æ˜¯å˜é‡çš„åå­—ï¼Œè€Œé‡èµ·ä¸€è¡Œå®šä¹‰å˜é‡çš„å€¼ï¼Œå®šä¹‰æ˜¯ä»¥endef å…³é”®å­—ç»“æŸã€‚å…¶å·¥ä½œæ–¹å¼å’Œ&quot;=&quot;æ“ä½œç¬¦ä¸€æ ·ã€‚å˜é‡çš„å€¼å¯ä»¥åŒ…å«å‡½æ•°ã€å‘½ä»¤ã€æ–‡å­—ï¼Œæˆ–æ˜¯å…¶å®ƒå˜é‡ã€‚å› ä¸ºå‘½ä»¤éœ€è¦ä»¥[Tab]é”®å¼€å¤´ï¼Œ<br />
æ‰€ä»¥å¦‚æœä½ ç”¨defineå®šä¹‰çš„å‘½ä»¤å˜é‡ä¸­æ²¡æœ‰ä»¥ <code>Tab</code> é”®å¼€å¤´ï¼Œé‚£ä¹ˆ make å°±ä¸ä¼šæŠŠå…¶è®¤ä¸ºæ˜¯å‘½ä»¤ã€‚</p>
<p>ä¸‹é¢çš„è¿™ä¸ªç¤ºä¾‹å±•ç¤ºäº†defineçš„ç”¨æ³•:</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">define</span> two-lines</span><br><span class="line">echo foo</span><br><span class="line">echo <span class="variable">$(bar)</span></span><br><span class="line"><span class="keyword">endef</span></span><br></pre></td></tr></table></figure>
<h2 id="57-ç¯å¢ƒå˜é‡"><a class="markdownIt-Anchor" href="#57-ç¯å¢ƒå˜é‡"></a> 5.7 ç¯å¢ƒå˜é‡</h2>
<p>makeè¿è¡Œæ—¶çš„ç³»ç»Ÿç¯å¢ƒå˜é‡å¯ä»¥åœ¨makeå¼€å§‹è¿è¡Œæ—¶è¢«è½½å…¥åˆ°Makefileæ–‡ä»¶ä¸­ï¼Œä½†æ˜¯å¦‚æœMakefileä¸­å·²å®šä¹‰äº†è¿™ä¸ªå˜é‡ï¼Œæˆ–æ˜¯è¿™ä¸ªå˜é‡ç”±makeå‘½ä»¤è¡Œå¸¦å…¥ï¼Œé‚£ä¹ˆç³»ç»Ÿçš„ç¯å¢ƒå˜é‡çš„å€¼å°†è¢«è¦†ç›–ã€‚ï¼ˆå¦‚æœmakeæŒ‡å®šäº†&quot;-e&quot;å‚æ•°ï¼Œé‚£ä¹ˆï¼Œç³»ç»Ÿç¯å¢ƒå˜é‡å°†è¦†ç›–Makefileä¸­å®šä¹‰çš„å˜é‡ï¼‰</p>
<p>å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬åœ¨ç¯å¢ƒå˜é‡ä¸­è®¾ç½®äº† <code>CFLAGS</code> ç¯å¢ƒå˜é‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥åœ¨æ‰€æœ‰çš„Makefileä¸­ä½¿ç”¨è¿™ä¸ªå˜é‡äº†ã€‚è¿™å¯¹äºæˆ‘ä»¬ä½¿ç”¨ç»Ÿä¸€çš„ç¼–è¯‘å‚æ•°æœ‰æ¯”è¾ƒå¤§çš„å¥½å¤„ã€‚å¦‚æœMakefileä¸­å®šä¹‰äº†CFLAGSï¼Œé‚£ä¹ˆåˆ™ä¼šä½¿ç”¨Makefileä¸­çš„è¿™ä¸ªå˜é‡ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰åˆ™ä½¿ç”¨ç³»ç»Ÿç¯å¢ƒå˜é‡çš„å€¼ï¼Œä¸€ä¸ªå…±æ€§å’Œä¸ªæ€§çš„ç»Ÿä¸€ï¼Œå¾ˆåƒ&quot;å…¨å±€å˜é‡&quot;å’Œ&quot;å±€éƒ¨å˜é‡&quot;çš„ç‰¹æ€§ã€‚</p>
<p>å½“makeåµŒå¥—è°ƒç”¨æ—¶ï¼ˆå‚è§å‰é¢çš„&quot;åµŒå¥—è°ƒç”¨&quot;ç« èŠ‚ï¼‰ï¼Œä¸Šå±‚Makefileä¸­å®šä¹‰çš„å˜é‡ä¼šä»¥ç³»ç»Ÿç¯å¢ƒå˜é‡çš„æ–¹å¼ä¼ é€’åˆ°ä¸‹å±‚çš„Makefileä¸­ã€‚å½“ç„¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œåªæœ‰é€šè¿‡å‘½ä»¤è¡Œè®¾ç½®çš„å˜é‡ä¼šè¢«ä¼ é€’ã€‚è€Œå®šä¹‰åœ¨æ–‡ä»¶ä¸­çš„å˜é‡ï¼Œå¦‚æœè¦å‘ä¸‹å±‚Makefileä¼ é€’ï¼Œåˆ™éœ€è¦ä½¿ç”¨exportå…³é”®å­—æ¥å£°æ˜ã€‚ï¼ˆå‚è§å‰é¢ç« èŠ‚ï¼‰</p>
<p>å½“ç„¶ï¼Œæˆ‘å¹¶ä¸æ¨èæŠŠè®¸å¤šçš„å˜é‡éƒ½å®šä¹‰åœ¨ç³»ç»Ÿç¯å¢ƒä¸­ï¼Œè¿™æ ·ï¼Œåœ¨æˆ‘ä»¬æ‰§è¡Œä¸ç”¨çš„Makefileæ—¶ï¼Œæ‹¥æœ‰çš„æ˜¯åŒä¸€å¥—ç³»ç»Ÿå˜é‡ï¼Œè¿™å¯èƒ½ä¼šå¸¦æ¥æ›´å¤šçš„éº»çƒ¦ã€‚</p>
<h2 id="58-ç›®æ ‡å˜é‡"><a class="markdownIt-Anchor" href="#58-ç›®æ ‡å˜é‡"></a> 5.8 ç›®æ ‡å˜é‡</h2>
<p>å‰é¢æˆ‘ä»¬æ‰€è®²çš„åœ¨Makefileä¸­å®šä¹‰çš„å˜é‡éƒ½æ˜¯&quot;å…¨å±€å˜é‡&quot;ï¼Œåœ¨æ•´ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥è®¿é—®è¿™äº›å˜é‡ã€‚å½“ç„¶ï¼Œâ€œè‡ªåŠ¨åŒ–å˜é‡&quot;é™¤å¤–ï¼Œå¦‚ <code>$&lt;</code> ç­‰è¿™ç§ç±»é‡çš„è‡ªåŠ¨åŒ–å˜é‡å°±å±äº&quot;è§„åˆ™å‹å˜é‡â€ï¼Œè¿™ç§å˜é‡çš„å€¼ä¾èµ–äºè§„åˆ™çš„ç›®æ ‡å’Œä¾èµ–ç›®æ ‡çš„å®šä¹‰ã€‚</p>
<p>å½“ç„¶ï¼Œæˆ‘ä¹ŸåŒæ ·å¯ä»¥ä¸ºæŸä¸ªç›®æ ‡è®¾ç½®å±€éƒ¨å˜é‡ï¼Œè¿™ç§å˜é‡è¢«ç§°ä¸º&quot;Target-specific Variable&quot;ï¼Œå®ƒå¯ä»¥å’Œ&quot;å…¨å±€å˜é‡&quot;åŒåï¼Œå› ä¸ºå®ƒçš„ä½œç”¨èŒƒå›´åªåœ¨è¿™æ¡è§„åˆ™ä»¥åŠè¿å¸¦è§„åˆ™ä¸­ï¼Œæ‰€ä»¥å…¶å€¼ä¹Ÿåªåœ¨ä½œç”¨èŒƒå›´å†…æœ‰æ•ˆã€‚è€Œä¸ä¼šå½±å“è§„åˆ™é“¾ä»¥å¤–çš„å…¨å±€å˜é‡çš„å€¼ã€‚</p>
<p>å…¶è¯­æ³•æ˜¯ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">&lt;target ...&gt; : &lt;variable-assignment&gt;;</span><br><span class="line"></span><br><span class="line">&lt;target ...&gt; : overide &lt;variable-assignment&gt;</span><br></pre></td></tr></table></figure>
<p>&lt;variable-assignment&gt;;å¯ä»¥æ˜¯å‰é¢è®²è¿‡çš„å„ç§èµ‹å€¼è¡¨è¾¾å¼ï¼Œå¦‚ <code>=</code> ã€ <code>:=</code> ã€ <code>+=</code> æˆ–æ˜¯ <code>?=</code> ã€‚ç¬¬äºŒä¸ªè¯­æ³•æ˜¯é’ˆå¯¹äºmakeå‘½ä»¤è¡Œå¸¦å…¥çš„å˜é‡ï¼Œæˆ–æ˜¯ç³»ç»Ÿç¯å¢ƒå˜é‡ã€‚</p>
<p>è¿™ä¸ªç‰¹æ€§éå¸¸çš„æœ‰ç”¨ï¼Œå½“æˆ‘ä»¬è®¾ç½®äº†è¿™æ ·ä¸€ä¸ªå˜é‡ï¼Œè¿™ä¸ªå˜é‡ä¼šä½œç”¨åˆ°ç”±è¿™ä¸ªç›®æ ‡æ‰€å¼•å‘çš„æ‰€æœ‰çš„è§„åˆ™ä¸­å»ã€‚å¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">prog : CFLAGS = -g</span><br><span class="line">prog : prog.o foo.o bar.o</span><br><span class="line">&gt;  <span class="variable">$(CC)</span> <span class="variable">$(CFLAGS)</span> prog.o foo.o bar.o</span><br><span class="line"></span><br><span class="line">prog.o : prog.c</span><br><span class="line">&gt;  <span class="variable">$(CC)</span> <span class="variable">$(CFLAGS)</span> prog.c</span><br><span class="line"></span><br><span class="line">foo.o : foo.c</span><br><span class="line">&gt;  <span class="variable">$(CC)</span> <span class="variable">$(CFLAGS)</span> foo.c</span><br><span class="line"></span><br><span class="line">bar.o : bar.c</span><br><span class="line">&gt;  <span class="variable">$(CC)</span> <span class="variable">$(CFLAGS)</span> bar.c</span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œä¸ç®¡å…¨å±€çš„ <code>$(CFLAGS)</code> çš„å€¼æ˜¯ä»€ä¹ˆï¼Œåœ¨progç›®æ ‡ï¼Œä»¥åŠå…¶æ‰€å¼•å‘çš„æ‰€æœ‰è§„åˆ™ ä¸­ï¼ˆprog.o foo.o bar.oçš„è§„åˆ™ï¼‰ï¼Œ <code>$(CFLAGS)</code> çš„å€¼éƒ½æ˜¯ <code>-g</code></p>
<h2 id="59-æ¨¡å¼å˜é‡"><a class="markdownIt-Anchor" href="#59-æ¨¡å¼å˜é‡"></a> 5.9 æ¨¡å¼å˜é‡</h2>
<p>åœ¨GNUçš„makeä¸­ï¼Œè¿˜æ”¯æŒæ¨¡å¼å˜é‡ï¼ˆPattern-specific Variableï¼‰ï¼Œé€šè¿‡ä¸Šé¢çš„ç›®æ ‡å˜é‡ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œå˜é‡å¯ä»¥å®šä¹‰åœ¨æŸä¸ªç›®æ ‡ä¸Šã€‚æ¨¡å¼å˜é‡çš„å¥½å¤„å°±æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å®šä¸€ç§&quot;æ¨¡å¼&quot;ï¼Œå¯ä»¥æŠŠå˜é‡å®šä¹‰åœ¨ç¬¦åˆè¿™ç§æ¨¡å¼çš„æ‰€æœ‰ç›®æ ‡ä¸Šã€‚</p>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œmakeçš„&quot;æ¨¡å¼&quot;ä¸€èˆ¬æ˜¯è‡³å°‘å«æœ‰ä¸€ä¸ª <code>%</code> çš„ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ä»¥å¦‚ä¸‹æ–¹å¼ç»™æ‰€æœ‰ä»¥ <code>.o</code> ç»“å°¾çš„ç›®æ ‡å®šä¹‰ç›®æ ‡å˜é‡ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">%.o : CFLAGS = -O</span><br></pre></td></tr></table></figure>
<p>åŒæ ·ï¼Œæ¨¡å¼å˜é‡çš„è¯­æ³•å’Œ&quot;ç›®æ ‡å˜é‡&quot;ä¸€æ ·ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">&lt;pattern ...&gt;; : &lt;variable-assignment&gt;;</span><br><span class="line"></span><br><span class="line">&lt;pattern ...&gt;; : <span class="keyword">override</span> &lt;variable-assignment&gt;;</span><br></pre></td></tr></table></figure>
<p>overrideåŒæ ·æ˜¯é’ˆå¯¹äºç³»ç»Ÿç¯å¢ƒä¼ å…¥çš„å˜é‡ï¼Œæˆ–æ˜¯makeå‘½ä»¤è¡ŒæŒ‡å®šçš„å˜é‡ã€‚</p>
<h1 id="6-ä½¿ç”¨æ¡ä»¶åˆ¤æ–­"><a class="markdownIt-Anchor" href="#6-ä½¿ç”¨æ¡ä»¶åˆ¤æ–­"></a> 6. ä½¿ç”¨æ¡ä»¶åˆ¤æ–­</h1>
<p>ä½¿ç”¨æ¡ä»¶åˆ¤æ–­ï¼Œå¯ä»¥è®©makeæ ¹æ®è¿è¡Œæ—¶çš„ä¸åŒæƒ…å†µé€‰æ‹©ä¸åŒçš„æ‰§è¡Œåˆ†æ”¯ã€‚æ¡ä»¶è¡¨è¾¾å¼å¯ä»¥æ˜¯æ¯”è¾ƒå˜é‡çš„å€¼ï¼Œæˆ–æ˜¯æ¯”è¾ƒå˜é‡å’Œå¸¸é‡çš„å€¼ã€‚</p>
<h2 id="61-ç¤ºä¾‹"><a class="markdownIt-Anchor" href="#61-ç¤ºä¾‹"></a> 6.1 ç¤ºä¾‹</h2>
<p>ä¸‹é¢çš„ä¾‹å­ï¼Œåˆ¤æ–­ <code>$(CC)</code> å˜é‡æ˜¯å¦ <code>gcc</code> ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œåˆ™ä½¿ç”¨GNUå‡½æ•°ç¼–è¯‘ç›®æ ‡ã€‚</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">libs_for_gcc = -lgnu</span><br><span class="line">normal_libs =</span><br><span class="line"></span><br><span class="line"><span class="section">foo: <span class="variable">$(objects)</span></span></span><br><span class="line"><span class="keyword">ifeq</span> (<span class="variable">$(CC)</span>,gcc)</span><br><span class="line">&gt;  <span class="variable">$(CC)</span> -o foo <span class="variable">$(objects)</span> <span class="variable">$(libs_for_gcc)</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&gt;  <span class="variable">$(CC)</span> -o foo <span class="variable">$(objects)</span> <span class="variable">$(normal_libs)</span></span><br><span class="line"><span class="keyword">endif</span></span><br></pre></td></tr></table></figure>
<p>å¯è§ï¼Œåœ¨ä¸Šé¢ç¤ºä¾‹çš„è¿™ä¸ªè§„åˆ™ä¸­ï¼Œç›®æ ‡ <code>foo</code> å¯ä»¥æ ¹æ®å˜é‡ <code>$(CC)</code> å€¼æ¥é€‰å–ä¸åŒçš„å‡½æ•°åº“æ¥ ç¼–è¯‘ç¨‹åºã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä»ä¸Šé¢çš„ç¤ºä¾‹ä¸­çœ‹åˆ°ä¸‰ä¸ªå…³é”®å­—ï¼š <code>ifeq</code> ã€ <code>else</code> å’Œ <code>endif</code> ã€‚<br />
<code>ifeq</code> çš„æ„æ€è¡¨ç¤ºæ¡ä»¶è¯­å¥çš„å¼€å§‹ï¼Œå¹¶æŒ‡å®šä¸€ä¸ªæ¡ä»¶è¡¨è¾¾å¼ï¼Œè¡¨è¾¾å¼åŒ…å«ä¸¤ä¸ªå‚æ•°ï¼Œä»¥é€—å·åˆ†éš”ï¼Œè¡¨è¾¾å¼ä»¥åœ†æ‹¬å·æ‹¬èµ·ã€‚ <code>else</code> è¡¨ç¤ºæ¡ä»¶è¡¨è¾¾å¼ä¸ºå‡çš„æƒ…å†µã€‚ <code>endif</code> è¡¨ç¤ºä¸€ä¸ªæ¡ä»¶è¯­å¥çš„ç»“æŸï¼Œä»»ä½•ä¸€ä¸ªæ¡ä»¶è¡¨è¾¾ å¼éƒ½åº”è¯¥ä»¥ <code>endif</code> ç»“æŸã€‚</p>
<p>å½“æˆ‘ä»¬çš„å˜é‡ <code>$(CC)</code> å€¼æ˜¯ <code>gcc</code> æ—¶ï¼Œç›®æ ‡ <code>foo</code> çš„è§„åˆ™æ˜¯ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line"><span class="section">foo: <span class="variable">$(objects)</span></span></span><br><span class="line">&gt;  <span class="variable">$(CC)</span> -o foo <span class="variable">$(objects)</span> <span class="variable">$(libs_for_gcc)</span></span><br></pre></td></tr></table></figure>
<p>è€Œå½“æˆ‘ä»¬çš„å˜é‡ <code>$(CC)</code> å€¼ä¸æ˜¯ <code>gcc</code> æ—¶ï¼ˆæ¯”å¦‚ <code>cc</code> ï¼‰ï¼Œç›®æ ‡ <code>foo</code> çš„è§„åˆ™æ˜¯ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line"><span class="section">foo: <span class="variable">$(objects)</span></span></span><br><span class="line">&gt;  <span class="variable">$(CC)</span> -o foo <span class="variable">$(objects)</span> <span class="variable">$(normal_libs)</span></span><br></pre></td></tr></table></figure>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æŠŠä¸Šé¢çš„é‚£ä¸ªä¾‹å­å†™å¾—æ›´ç®€æ´ä¸€äº›ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">libs_for_gcc = -lgnu</span><br><span class="line">normal_libs =</span><br><span class="line"></span><br><span class="line"><span class="keyword">ifeq</span> (<span class="variable">$(CC)</span>,gcc)</span><br><span class="line">    libs=<span class="variable">$(libs_for_gcc)</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    libs=<span class="variable">$(normal_libs)</span></span><br><span class="line"><span class="keyword">endif</span></span><br><span class="line"></span><br><span class="line"><span class="section">foo: <span class="variable">$(objects)</span></span></span><br><span class="line">&gt;  <span class="variable">$(CC)</span> -o foo <span class="variable">$(objects)</span> <span class="variable">$(libs)</span></span><br></pre></td></tr></table></figure>
<h2 id="62-è¯­æ³•"><a class="markdownIt-Anchor" href="#62-è¯­æ³•"></a> 6.2 è¯­æ³•</h2>
<p>æ¡ä»¶è¡¨è¾¾å¼çš„è¯­æ³•ä¸º:</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">&lt;conditional-directive&gt;</span><br><span class="line">&lt;text-if-true&gt;</span><br><span class="line"><span class="keyword">endif</span></span><br></pre></td></tr></table></figure>
<p>ä»¥åŠ:</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">&lt;conditional-directive&gt;</span><br><span class="line">&lt;text-if-true&gt;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&lt;text-if-false&gt;</span><br><span class="line"><span class="keyword">endif</span></span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ <code>&lt;conditional-directive&gt;</code> è¡¨ç¤ºæ¡ä»¶å…³é”®å­—ï¼Œå¦‚ <code>ifeq</code> ã€‚è¿™ä¸ªå…³é”®å­—æœ‰å››ä¸ªã€‚</p>
<p>ç¬¬ä¸€ä¸ªæ˜¯æˆ‘ä»¬å‰é¢æ‰€è§è¿‡çš„ <code>ifeq</code></p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ifeq</span> (&lt;arg1&gt;, &lt;arg2&gt;)</span><br><span class="line"><span class="keyword">ifeq</span> &#x27;&lt;arg1&gt;&#x27; &#x27;&lt;arg2&gt;&#x27;</span><br><span class="line"><span class="keyword">ifeq</span> <span class="string">&quot;&lt;arg1&gt;&quot;</span> <span class="string">&quot;&lt;arg2&gt;&quot;</span></span><br><span class="line"><span class="keyword">ifeq</span> <span class="string">&quot;&lt;arg1&gt;&quot;</span> &#x27;&lt;arg2&gt;&#x27;</span><br><span class="line"><span class="keyword">ifeq</span> &#x27;&lt;arg1&gt;&#x27; <span class="string">&quot;&lt;arg2&gt;&quot;</span></span><br></pre></td></tr></table></figure>
<p>æ¯”è¾ƒå‚æ•° <code>arg1</code> å’Œ <code>arg2</code> çš„å€¼æ˜¯å¦ç›¸åŒã€‚å½“ç„¶ï¼Œå‚æ•°ä¸­æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨makeçš„å‡½æ•°ã€‚å¦‚:</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ifeq</span> (<span class="variable">$(<span class="built_in">strip</span> <span class="variable">$(foo)</span>)</span>,)</span><br><span class="line">&lt;text-if-empty&gt;</span><br><span class="line"><span class="keyword">endif</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªç¤ºä¾‹ä¸­ä½¿ç”¨äº† <code>strip</code> å‡½æ•°ï¼Œå¦‚æœè¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼æ˜¯ç©ºï¼ˆEmptyï¼‰ï¼Œé‚£ä¹ˆ <code>&lt;text-if-empty&gt;</code> å°±ç”Ÿæ•ˆã€‚</p>
<p>ç¬¬äºŒä¸ªæ¡ä»¶å…³é”®å­—æ˜¯ <code>ifneq</code> ã€‚è¯­æ³•æ˜¯ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ifneq</span> (&lt;arg1&gt;, &lt;arg2&gt;)</span><br><span class="line"><span class="keyword">ifneq</span> &#x27;&lt;arg1&gt;&#x27; &#x27;&lt;arg2&gt;&#x27;</span><br><span class="line"><span class="keyword">ifneq</span> <span class="string">&quot;&lt;arg1&gt;&quot;</span> <span class="string">&quot;&lt;arg2&gt;&quot;</span></span><br><span class="line"><span class="keyword">ifneq</span> <span class="string">&quot;&lt;arg1&gt;&quot;</span> &#x27;&lt;arg2&gt;&#x27;</span><br><span class="line"><span class="keyword">ifneq</span> &#x27;&lt;arg1&gt;&#x27; <span class="string">&quot;&lt;arg2&gt;&quot;</span></span><br></pre></td></tr></table></figure>
<p>å…¶æ¯”è¾ƒå‚æ•° <code>arg1</code> å’Œ <code>arg2</code> çš„å€¼æ˜¯å¦ç›¸åŒï¼Œå¦‚æœä¸åŒï¼Œåˆ™ä¸ºçœŸã€‚å’Œ <code>ifeq</code> ç±»ä¼¼ã€‚</p>
<p>ç¬¬ä¸‰ä¸ªæ¡ä»¶å…³é”®å­—æ˜¯ <code>ifdef</code> ã€‚è¯­æ³•æ˜¯ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ifdef</span> &lt;variable-name&gt;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœå˜é‡ <code>&lt;variable-name&gt;</code> çš„å€¼éç©ºï¼Œé‚£åˆ°è¡¨è¾¾å¼ä¸ºçœŸã€‚å¦åˆ™ï¼Œè¡¨è¾¾å¼ä¸ºå‡ã€‚å½“ç„¶ï¼Œ <code>&lt;variable-name&gt;</code> åŒæ ·å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼ã€‚æ³¨æ„ï¼Œ <code>ifdef</code> åªæ˜¯æµ‹è¯•ä¸€ä¸ªå˜é‡æ˜¯å¦æœ‰å€¼ï¼Œå…¶å¹¶ä¸ä¼šæŠŠå˜é‡æ‰©å±•åˆ°å½“å‰ä½ç½®ã€‚è¿˜æ˜¯æ¥çœ‹ä¸¤ä¸ªä¾‹å­ï¼š</p>
<p>ç¤ºä¾‹ä¸€ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">bar =</span><br><span class="line">foo = <span class="variable">$(bar)</span></span><br><span class="line"><span class="keyword">ifdef</span> foo</span><br><span class="line">    frobozz = yes</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    frobozz = no</span><br><span class="line"><span class="keyword">endif</span></span><br></pre></td></tr></table></figure>
<p>ç¤ºä¾‹äºŒï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">foo =</span><br><span class="line"><span class="keyword">ifdef</span> foo</span><br><span class="line">    frobozz = yes</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    frobozz = no</span><br><span class="line"><span class="keyword">endif</span></span><br></pre></td></tr></table></figure>
<p>ç¬¬ä¸€ä¸ªä¾‹å­ä¸­ï¼Œ <code>$(frobozz)</code> å€¼æ˜¯ <code>yes</code> ï¼Œç¬¬äºŒä¸ªåˆ™æ˜¯ <code>no</code>ã€‚</p>
<p>ç¬¬å››ä¸ªæ¡ä»¶å…³é”®å­—æ˜¯ <code>ifndef</code> ã€‚å…¶è¯­æ³•æ˜¯ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ifndef</span> &lt;variable-name&gt;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæˆ‘å°±ä¸å¤šè¯´äº†ï¼Œå’Œ <code>ifdef</code> æ˜¯ç›¸åçš„æ„æ€ã€‚</p>
<p>åœ¨ <code>&lt;conditional-directive&gt;</code> è¿™ä¸€è¡Œä¸Šï¼Œå¤šä½™çš„ç©ºæ ¼æ˜¯è¢«å…è®¸çš„ï¼Œä½†æ˜¯ä¸èƒ½ä»¥<code>Tab</code> é”® ä½œä¸ºå¼€å§‹ï¼ˆä¸ç„¶å°±è¢«è®¤ä¸ºæ˜¯å‘½ä»¤ï¼‰ã€‚è€Œæ³¨é‡Šç¬¦ <code>#</code> åŒæ ·ä¹Ÿæ˜¯å®‰å…¨çš„ã€‚<code>else</code> å’Œ <code>endif</code> ä¹Ÿä¸€æ ·ï¼Œåªè¦ä¸æ˜¯ä»¥ <code>Tab</code> é”®å¼€å§‹å°±è¡Œäº†ã€‚</p>
<p>ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œmakeæ˜¯åœ¨è¯»å–Makefileæ—¶å°±è®¡ç®—æ¡ä»¶è¡¨è¾¾å¼çš„å€¼ï¼Œå¹¶æ ¹æ®æ¡ä»¶è¡¨è¾¾å¼çš„å€¼æ¥é€‰æ‹©è¯­å¥ï¼Œæ‰€ä»¥ï¼Œä½ æœ€å¥½ä¸è¦æŠŠè‡ªåŠ¨åŒ–å˜é‡ï¼ˆå¦‚ <code>$@</code> ç­‰ï¼‰æ”¾å…¥æ¡ä»¶è¡¨è¾¾å¼ä¸­ï¼Œå› ä¸ºè‡ªåŠ¨åŒ–å˜é‡æ˜¯åœ¨è¿è¡Œæ—¶æ‰æœ‰çš„ã€‚</p>
<p>è€Œä¸”ä¸ºäº†é¿å…æ··ä¹±ï¼Œmakeä¸å…è®¸æŠŠæ•´ä¸ªæ¡ä»¶è¯­å¥åˆ†æˆä¸¤éƒ¨åˆ†æ”¾åœ¨ä¸åŒçš„æ–‡ä»¶ä¸­ã€‚</p>
<h1 id="7-ä½¿ç”¨å‡½æ•°"><a class="markdownIt-Anchor" href="#7-ä½¿ç”¨å‡½æ•°"></a> 7. ä½¿ç”¨å‡½æ•°</h1>
<p>åœ¨Makefileä¸­å¯ä»¥ä½¿ç”¨å‡½æ•°æ¥å¤„ç†å˜é‡ï¼Œä»è€Œè®©æˆ‘ä»¬çš„å‘½ä»¤æˆ–æ˜¯è§„åˆ™æ›´ä¸ºçš„çµæ´»å’Œå…·æœ‰æ™ºèƒ½ã€‚make æ‰€æ”¯æŒçš„å‡½æ•°ä¹Ÿä¸ç®—å¾ˆå¤šï¼Œä¸è¿‡å·²ç»è¶³å¤Ÿæˆ‘ä»¬çš„æ“ä½œäº†ã€‚å‡½æ•°è°ƒç”¨åï¼Œå‡½æ•°çš„è¿”å›å€¼å¯ä»¥å½“åšå˜é‡æ¥ä½¿ç”¨ã€‚</p>
<h2 id="71-å‡½æ•°çš„è°ƒç”¨è¯­æ³•"><a class="markdownIt-Anchor" href="#71-å‡½æ•°çš„è°ƒç”¨è¯­æ³•"></a> 7.1 å‡½æ•°çš„è°ƒç”¨è¯­æ³•</h2>
<p>å‡½æ•°è°ƒç”¨ï¼Œå¾ˆåƒå˜é‡çš„ä½¿ç”¨ï¼Œä¹Ÿæ˜¯ä»¥ <code>$</code> æ¥æ ‡è¯†çš„ï¼Œå…¶è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">$(&lt;function&gt; &lt;arguments&gt;)</span><br></pre></td></tr></table></figure>
<p>æˆ–æ˜¯:</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">$&#123;&lt;function&gt; &lt;arguments&gt;&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œï¼Œ <code>&lt;function&gt;</code> å°±æ˜¯å‡½æ•°åï¼Œmakeæ”¯æŒçš„å‡½æ•°ä¸å¤šã€‚ <code>&lt;arguments&gt;</code> ä¸ºå‡½æ•°çš„å‚æ•°ï¼Œ å‚æ•°é—´ä»¥é€—å· <code>,</code> åˆ†éš”ï¼Œè€Œå‡½æ•°åå’Œå‚æ•°ä¹‹é—´ä»¥&quot;ç©ºæ ¼&quot;åˆ†éš”ã€‚å‡½æ•°è°ƒç”¨ä»¥ <code>$</code> å¼€å¤´ï¼Œä»¥åœ†æ‹¬å·æˆ–èŠ±æ‹¬å·æŠŠå‡½æ•°åå’Œå‚æ•°æ‹¬èµ·ã€‚æ„Ÿè§‰å¾ˆåƒä¸€ä¸ªå˜é‡ï¼Œæ˜¯ä¸æ˜¯ï¼Ÿå‡½æ•°ä¸­çš„å‚æ•°å¯ä»¥ä½¿ç”¨å˜é‡ï¼Œä¸ºäº†é£æ ¼çš„ç»Ÿä¸€ï¼Œå‡½æ•°å’Œå˜é‡çš„æ‹¬å·æœ€å¥½ä¸€æ ·ï¼Œå¦‚ä½¿ç”¨ <code>$(subst a,b,$(x))</code> è¿™æ ·çš„å½¢å¼ï¼Œè€Œä¸æ˜¯ <code>$(subst a,b, $&#123;x&#125;)</code> çš„å½¢å¼ã€‚å› ä¸ºç»Ÿä¸€ä¼šæ›´æ¸…æ¥šï¼Œä¹Ÿä¼šå‡å°‘ä¸€äº›ä¸å¿…è¦çš„éº»çƒ¦ã€‚</p>
<p>è¿˜æ˜¯æ¥çœ‹ä¸€ä¸ªç¤ºä¾‹ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">comma:= ,</span><br><span class="line">empty:=</span><br><span class="line">space:= <span class="variable">$(empty)</span> <span class="variable">$(empty)</span></span><br><span class="line">foo:= a b c</span><br><span class="line">bar:= <span class="variable">$(<span class="built_in">subst</span> <span class="variable">$(space)</span>,<span class="variable">$(comma)</span>,<span class="variable">$(foo)</span>)</span></span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ <code>$(comma)</code> çš„å€¼æ˜¯ä¸€ä¸ªé€—å·ã€‚ <code>$(space)</code> ä½¿ç”¨äº† <code>$(empty)</code> å®šä¹‰äº† ä¸€ä¸ªç©ºæ ¼ï¼Œ <code>$(foo)</code> çš„å€¼æ˜¯ <code>a b c</code> ï¼Œ <code>$(bar)</code><br />
çš„å®šä¹‰ç”¨ï¼Œè°ƒç”¨äº†å‡½æ•° <code>subst</code> ï¼Œè¿™æ˜¯ä¸€ä¸ªæ›¿æ¢å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æœ‰ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¢«æ›¿æ¢å­—ä¸²ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ›¿æ¢å­—ä¸²ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯æ›¿æ¢æ“ä½œä½œç”¨çš„å­—ä¸²ã€‚è¿™ä¸ªå‡½æ•°ä¹Ÿå°±æ˜¯æŠŠ <code>$(foo)</code> ä¸­çš„ç©ºæ ¼æ›¿æ¢æˆé€—å·ï¼Œæ‰€ä»¥<code>$(bar)</code> çš„å€¼ æ˜¯ <code>a,b,c</code> ã€‚</p>
<h2 id="72-å­—ç¬¦ä¸²å¤„ç†å‡½æ•°"><a class="markdownIt-Anchor" href="#72-å­—ç¬¦ä¸²å¤„ç†å‡½æ•°"></a> 7.2 å­—ç¬¦ä¸²å¤„ç†å‡½æ•°</h2>
<h3 id="721-subst"><a class="markdownIt-Anchor" href="#721-subst"></a> 7.2.1 subst</h3>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">subst</span> &lt;from&gt;,&lt;to&gt;,&lt;text&gt;)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>åç§°ï¼šå­—ç¬¦ä¸²æ›¿æ¢å‡½æ•°</p>
</li>
<li>
<p>åŠŸèƒ½ï¼šæŠŠå­—ä¸² <code>&lt;text&gt;</code> ä¸­çš„ <code>&lt;from&gt;</code> å­—ç¬¦ä¸²æ›¿æ¢æˆ <code>&lt;to&gt;</code> ã€‚</p>
</li>
<li>
<p>è¿”å›ï¼šå‡½æ•°è¿”å›è¢«æ›¿æ¢è¿‡åçš„å­—ç¬¦ä¸²ã€‚</p>
</li>
<li>
<p>ç¤ºä¾‹ï¼š</p>
<blockquote>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">subst</span> ee,EE,feet on the street)</span></span><br></pre></td></tr></table></figure>
</blockquote>
</li>
</ul>
<p>æŠŠ <code>feet on the street</code> ä¸­çš„ <code>ee</code> æ›¿æ¢æˆ <code>EE</code> ï¼Œè¿”å›ç»“æœæ˜¯ <code>fEEt on the strEEt</code> ã€‚</p>
<h3 id="722-patsubst"><a class="markdownIt-Anchor" href="#722-patsubst"></a> 7.2.2 patsubst</h3>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">patsubst</span> &lt;pattern&gt;,&lt;replacement&gt;,&lt;text&gt;)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>åç§°ï¼šæ¨¡å¼å­—ç¬¦ä¸²æ›¿æ¢å‡½æ•°ã€‚</p>
</li>
<li>
<p>åŠŸèƒ½ï¼šæŸ¥æ‰¾ <code>&lt;text&gt;</code><br />
ä¸­çš„å•è¯ï¼ˆå•è¯ä»¥&quot;ç©ºæ ¼&quot;ã€â€œTab&quot;æˆ–&quot;å›è½¦â€&quot;æ¢è¡Œ&quot;åˆ†éš”ï¼‰æ˜¯å¦ç¬¦åˆæ¨¡å¼ <code>&lt;pattern&gt;</code> ï¼Œå¦‚æœåŒ¹é…çš„è¯ï¼Œåˆ™ä»¥ <code>&lt;replacement&gt;</code> æ›¿æ¢ã€‚è¿™é‡Œï¼Œ<code>&lt;pattern&gt;</code> å¯ä»¥ åŒ…æ‹¬é€šé…ç¬¦ <code>%</code> ï¼Œè¡¨ç¤ºä»»æ„é•¿åº¦çš„å­—ä¸²ã€‚å¦‚æœ <code>&lt;replacement&gt;</code> ä¸­ä¹ŸåŒ…å« <code>%</code> ï¼Œé‚£ä¹ˆï¼Œ <code>&lt;replacement&gt;</code> ä¸­çš„è¿™ä¸ª <code>%</code> å°†æ˜¯ <code>&lt;pattern&gt;</code> ä¸­çš„é‚£ä¸ª <code>%</code> æ‰€ä»£è¡¨çš„å­—ä¸²ã€‚ ï¼ˆå¯ä»¥ç”¨ <code>\</code> æ¥è½¬ä¹‰ï¼Œä»¥ <code>\%</code> æ¥è¡¨ç¤ºçœŸå®å«ä¹‰çš„ <code>%</code> å­—ç¬¦ï¼‰</p>
</li>
<li>
<p>è¿”å›ï¼šå‡½æ•°è¿”å›è¢«æ›¿æ¢è¿‡åçš„å­—ç¬¦ä¸²ã€‚</p>
</li>
<li>
<p>ç¤ºä¾‹ï¼š</p>
<blockquote>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">patsubst</span> %.c,%.o,x.c.c bar.c)</span></span><br></pre></td></tr></table></figure>
</blockquote>
</li>
</ul>
<p>æŠŠå­—ä¸² <code>x.c.c bar.c</code> ç¬¦åˆæ¨¡å¼ <code>%.c</code> çš„å•è¯æ›¿æ¢æˆ <code>%.o</code> ï¼Œè¿”å›ç»“æœæ˜¯ <code>x.c.o bar.o</code></p>
<ul>
<li>
<p>å¤‡æ³¨ï¼šè¿™å’Œæˆ‘ä»¬å‰é¢&quot;å˜é‡ç« èŠ‚&quot;è¯´è¿‡çš„ç›¸å…³çŸ¥è¯†æœ‰ç‚¹ç›¸ä¼¼ã€‚å¦‚ <code>$(var:&lt;pattern&gt;=&lt;replacement&gt;;)</code> ç›¸å½“äº <code>$(patsubst &lt;pattern&gt;,&lt;replacement&gt;,$(var))</code> ï¼Œè€Œ <code>$(var: &lt;suffix&gt;=&lt;replacement&gt;)</code> åˆ™ç›¸å½“äº <code>$(patsubst %&lt;suffix&gt;,%&lt;replacement&gt;,$(var))</code> ã€‚</p>
<p>ä¾‹å¦‚æœ‰:</p>
<pre><code>objects = foo.o bar.o baz.oï¼Œ
</code></pre>
<p>é‚£ä¹ˆï¼Œ <code>$(objects:.o=.c)</code> å’Œ <code>$(patsubst %.o,%.c,$(objects))</code> æ˜¯ä¸€æ ·çš„ã€‚</p>
</li>
</ul>
<h3 id="723-strip"><a class="markdownIt-Anchor" href="#723-strip"></a> 7.2.3 strip</h3>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">strip</span> &lt;string&gt;)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>åç§°ï¼šå»ç©ºæ ¼å‡½æ•°ã€‚</p>
</li>
<li>
<p>åŠŸèƒ½ï¼šå»æ‰ <code>&lt;string&gt;</code> å­—ä¸²ä¸­å¼€å¤´å’Œç»“å°¾çš„ç©ºå­—ç¬¦ã€‚</p>
</li>
<li>
<p>è¿”å›ï¼šè¿”å›è¢«å»æ‰ç©ºæ ¼çš„å­—ç¬¦ä¸²å€¼ã€‚</p>
</li>
<li>
<p>ç¤ºä¾‹ï¼š</p>
<blockquote>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">strip</span> a b c )</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>æŠŠå­—ä¸² å»æ‰å¼€å¤´å’Œç»“å°¾çš„ç©ºæ ¼ï¼Œç»“æœæ˜¯ <code>a b c</code>ã€‚</p>
</li>
</ul>
<h3 id="724-findstring"><a class="markdownIt-Anchor" href="#724-findstring"></a> 7.2.4 findstring</h3>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">findstring</span> &lt;find&gt;,&lt;in&gt;)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>åç§°ï¼šæŸ¥æ‰¾å­—ç¬¦ä¸²å‡½æ•°</p>
</li>
<li>
<p>åŠŸèƒ½ï¼šåœ¨å­—ä¸² <code>&lt;in&gt;</code> ä¸­æŸ¥æ‰¾ <code>&lt;find&gt;</code> å­—ä¸²ã€‚</p>
</li>
<li>
<p>è¿”å›ï¼šå¦‚æœæ‰¾åˆ°ï¼Œé‚£ä¹ˆè¿”å› <code>&lt;find&gt;</code> ï¼Œå¦åˆ™è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚</p>
</li>
<li>
<p>ç¤ºä¾‹ï¼š</p>
<blockquote>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">findstring</span> a,a b c)</span></span><br><span class="line"><span class="variable">$(<span class="built_in">findstring</span> a,b c)</span></span><br></pre></td></tr></table></figure>
</blockquote>
</li>
</ul>
<p>ç¬¬ä¸€ä¸ªå‡½æ•°è¿”å› <code>a</code> å­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªè¿”å›ç©ºå­—ç¬¦ä¸²</p>
<h3 id="725-filter"><a class="markdownIt-Anchor" href="#725-filter"></a> 7.2.5 filter</h3>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">filter</span> &lt;pattern...&gt;,&lt;text&gt;)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>åç§°ï¼šè¿‡æ»¤å‡½æ•°</p>
</li>
<li>
<p>åŠŸèƒ½ï¼šä»¥ <code>&lt;pattern&gt;</code> æ¨¡å¼è¿‡æ»¤ <code>&lt;text&gt;</code> å­—ç¬¦ä¸²ä¸­çš„å•è¯ï¼Œä¿ç•™ç¬¦åˆæ¨¡å¼ <code>&lt;pattern&gt;</code> çš„å•è¯ã€‚å¯ä»¥æœ‰å¤šä¸ªæ¨¡å¼ã€‚</p>
</li>
<li>
<p>è¿”å›ï¼šè¿”å›ç¬¦åˆæ¨¡å¼ <code>&lt;pattern&gt;</code> çš„å­—ä¸²ã€‚</p>
</li>
<li>
<p>ç¤ºä¾‹ï¼š</p>
<blockquote>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">sources := foo.c bar.c baz.s ugh.h</span><br><span class="line"><span class="section">foo: <span class="variable">$(sources)</span></span></span><br><span class="line">&gt;  cc <span class="variable">$(<span class="built_in">filter</span> %.c %.s,<span class="variable">$(sources)</span>)</span> -o foo</span><br></pre></td></tr></table></figure>
</blockquote>
<p><code>$(filter %.c %.s,$(sources))</code> è¿”å›çš„å€¼æ˜¯ <code>foo.c bar.c baz.s</code>ã€‚</p>
</li>
</ul>
<h3 id="726-filter-out"><a class="markdownIt-Anchor" href="#726-filter-out"></a> 7.2.6 filter-out</h3>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">filter</span>-out &lt;pattern...&gt;,&lt;text&gt;)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>åç§°ï¼šåè¿‡æ»¤å‡½æ•°</p>
</li>
<li>
<p>åŠŸèƒ½ï¼šä»¥ <code>&lt;pattern&gt;</code> æ¨¡å¼è¿‡æ»¤ <code>&lt;text&gt;</code> å­—ç¬¦ä¸²ä¸­çš„å•è¯ï¼Œå»é™¤ç¬¦åˆæ¨¡å¼ <code>&lt;pattern&gt;</code> çš„å•è¯ã€‚å¯ä»¥æœ‰å¤šä¸ªæ¨¡å¼ã€‚</p>
</li>
<li>
<p>è¿”å›ï¼šè¿”å›ä¸ç¬¦åˆæ¨¡å¼ <code>&lt;pattern&gt;</code> çš„å­—ä¸²ã€‚</p>
</li>
<li>
<p>ç¤ºä¾‹ï¼š</p>
<blockquote>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">objects=main1.o foo.o main2.o bar.o</span><br><span class="line">mains=main1.o main2.o</span><br></pre></td></tr></table></figure>
</blockquote>
<p><code>$(filter-out $(mains),$(objects))</code> è¿”å›å€¼æ˜¯ <code>foo.o bar.o</code> ã€‚</p>
</li>
</ul>
<h3 id="727-sort"><a class="markdownIt-Anchor" href="#727-sort"></a> 7.2.7 sort</h3>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">sort</span> &lt;list&gt;)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>åç§°ï¼šæ’åºå‡½æ•°</li>
<li>åŠŸèƒ½ï¼šç»™å­—ç¬¦ä¸² <code>&lt;list&gt;</code> ä¸­çš„å•è¯æ’åºï¼ˆå‡åºï¼‰ã€‚</li>
<li>è¿”å›ï¼šè¿”å›æ’åºåçš„å­—ç¬¦ä¸²ã€‚</li>
<li>ç¤ºä¾‹ï¼š <code>$(sort foo bar lose)</code> è¿”å› <code>bar foo lose</code> ã€‚</li>
<li>å¤‡æ³¨ï¼š <code>sort</code> å‡½æ•°ä¼šå»æ‰ <code>&lt;list&gt;</code> ä¸­ç›¸åŒçš„å•è¯ã€‚</li>
</ul>
<h3 id="728-word"><a class="markdownIt-Anchor" href="#728-word"></a> 7.2.8 word</h3>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">word</span> &lt;n&gt;,&lt;text&gt;)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>åç§°ï¼šå–å•è¯å‡½æ•°</li>
<li>åŠŸèƒ½ï¼šå–å­—ç¬¦ä¸² <code>&lt;text&gt;</code> ä¸­ç¬¬ <code>&lt;n&gt;</code> ä¸ªå•è¯ã€‚ï¼ˆä»ä¸€å¼€å§‹ï¼‰</li>
<li>è¿”å›ï¼šè¿”å›å­—ç¬¦ä¸² <code>&lt;text&gt;</code> ä¸­ç¬¬ <code>&lt;n&gt;</code> ä¸ªå•è¯ã€‚å¦‚æœ <code>&lt;n&gt;</code> æ¯” <code>&lt;text&gt;</code> ä¸­çš„ å•è¯æ•°è¦å¤§ï¼Œé‚£ä¹ˆè¿”å›ç©ºå­—ç¬¦ä¸²ã€‚</li>
<li>ç¤ºä¾‹ï¼š <code>$(word 2, foo bar baz)</code> è¿”å›å€¼æ˜¯ <code>bar</code> ã€‚</li>
</ul>
<h3 id="729-wordlist"><a class="markdownIt-Anchor" href="#729-wordlist"></a> 7.2.9 wordlist</h3>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">wordlist</span> &lt;ss&gt;,&lt;e&gt;,&lt;text&gt;)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>åç§°ï¼šå–å•è¯ä¸²å‡½æ•°</li>
<li>åŠŸèƒ½ï¼šä»å­—ç¬¦ä¸² <code>&lt;text&gt;</code> ä¸­å–ä» <code>&lt;ss&gt;</code> å¼€å§‹åˆ° <code>&lt;e&gt;</code> çš„å•è¯ä¸²ã€‚ <code>&lt;ss&gt;</code><br />
å’Œ <code>&lt;e&gt;</code> æ˜¯ä¸€ä¸ªæ•°å­—ã€‚</li>
<li>è¿”å›ï¼šè¿”å›å­—ç¬¦ä¸² <code>&lt;text&gt;</code> ä¸­ä» <code>&lt;ss&gt;</code> åˆ° <code>&lt;e&gt;</code> çš„å•è¯å­—ä¸²ã€‚å¦‚æœ <code>&lt;ss&gt;</code> æ¯” <code>&lt;text&gt;</code> ä¸­çš„å•è¯æ•°è¦å¤§ï¼Œé‚£ä¹ˆè¿”å›ç©ºå­—ç¬¦ä¸²ã€‚å¦‚æœ <code>&lt;e&gt;</code> å¤§äº <code>&lt;text&gt;</code> çš„å•è¯æ•°ï¼Œ é‚£ä¹ˆè¿”å›ä» <code>&lt;ss&gt;</code> å¼€å§‹ï¼Œåˆ° <code>&lt;text&gt;</code> ç»“æŸçš„å•è¯ä¸²ã€‚</li>
<li>ç¤ºä¾‹ï¼š <code>$(wordlist 2, 3, foo bar baz)</code> è¿”å›å€¼æ˜¯ <code>bar baz</code> ã€‚</li>
</ul>
<h3 id="7210-words"><a class="markdownIt-Anchor" href="#7210-words"></a> 7.2.10 words</h3>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(words &lt;text&gt;)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>åç§°ï¼šå•è¯ä¸ªæ•°ç»Ÿè®¡å‡½æ•°</li>
<li>åŠŸèƒ½ï¼šç»Ÿè®¡ <code>&lt;text&gt;</code> ä¸­å­—ç¬¦ä¸²ä¸­çš„å•è¯ä¸ªæ•°ã€‚</li>
<li>è¿”å›ï¼šè¿”å› <code>&lt;text&gt;</code> ä¸­çš„å•è¯æ•°ã€‚</li>
<li>ç¤ºä¾‹ï¼š <code>$(words, foo bar baz)</code> è¿”å›å€¼æ˜¯ <code>3</code> ã€‚</li>
<li>å¤‡æ³¨ï¼šå¦‚æœæˆ‘ä»¬è¦å– <code>&lt;text&gt;</code> ä¸­æœ€åçš„ä¸€ä¸ªå•è¯ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·ï¼š<br />
<code>$(word $(words &lt;text&gt;),&lt;text&gt;)</code> ã€‚</li>
</ul>
<h3 id="7211-firstword"><a class="markdownIt-Anchor" href="#7211-firstword"></a> 7.2.11 firstword</h3>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">firstword</span> &lt;text&gt;)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>åç§°ï¼šé¦–å•è¯å‡½æ•°------firstwordã€‚</li>
<li>åŠŸèƒ½ï¼šå–å­—ç¬¦ä¸² <code>&lt;text&gt;</code> ä¸­çš„ç¬¬ä¸€ä¸ªå•è¯ã€‚</li>
<li>è¿”å›ï¼šè¿”å›å­—ç¬¦ä¸² <code>&lt;text&gt;</code> çš„ç¬¬ä¸€ä¸ªå•è¯ã€‚</li>
<li>ç¤ºä¾‹ï¼š <code>$(firstword foo bar)</code> è¿”å›å€¼æ˜¯ <code>foo</code>ã€‚</li>
<li>å¤‡æ³¨ï¼šè¿™ä¸ªå‡½æ•°å¯ä»¥ç”¨ <code>word</code> å‡½æ•°æ¥å®ç°ï¼š <code>$(word 1,&lt;text&gt;)</code> ã€‚</li>
</ul>
<p>ä»¥ä¸Šï¼Œæ˜¯æ‰€æœ‰çš„å­—ç¬¦ä¸²æ“ä½œå‡½æ•°ï¼Œå¦‚æœæ­é…æ··åˆä½¿ç”¨ï¼Œå¯ä»¥å®Œæˆæ¯”è¾ƒå¤æ‚çš„åŠŸèƒ½ã€‚è¿™é‡Œï¼Œä¸¾ä¸€ä¸ªç°å®ä¸­åº”ç”¨çš„ä¾‹å­ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œmakeä½¿ç”¨ <code>VPATH</code> å˜é‡æ¥æŒ‡å®š&quot;ä¾èµ–æ–‡ä»¶&quot;çš„æœç´¢è·¯å¾„ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªæœç´¢è·¯å¾„æ¥æŒ‡å®šç¼–è¯‘å™¨å¯¹å¤´æ–‡ä»¶çš„æœç´¢è·¯å¾„å‚æ•° <code>CFLAGS</code> ï¼Œå¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">override</span> CFLAGS += <span class="variable">$(<span class="built_in">patsubst</span> %,-I%,$(<span class="built_in">subst</span> :, ,<span class="variable">$(VPATH)</span>)</span>)</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæˆ‘ä»¬çš„ <code>$(VPATH)</code> å€¼æ˜¯ <code>src:../headers</code> ï¼Œé‚£ä¹ˆ <code>$(patsubst %,-I%,$(subst :, ,$(VPATH)))</code> å°†è¿”å› <code>-Isrc -I../headers</code> ï¼Œè¿™æ­£æ˜¯ccæˆ–gccæœç´¢å¤´æ–‡ä»¶è·¯å¾„çš„å‚æ•°ã€‚</p>
<h2 id="73-æ–‡ä»¶åæ“ä½œå‡½æ•°"><a class="markdownIt-Anchor" href="#73-æ–‡ä»¶åæ“ä½œå‡½æ•°"></a> 7.3 æ–‡ä»¶åæ“ä½œå‡½æ•°</h2>
<p>ä¸‹é¢æˆ‘ä»¬è¦ä»‹ç»çš„å‡½æ•°ä¸»è¦æ˜¯å¤„ç†æ–‡ä»¶åçš„ã€‚æ¯ä¸ªå‡½æ•°çš„å‚æ•°å­—ç¬¦ä¸²éƒ½ä¼šè¢«å½“åšä¸€ä¸ªæˆ–æ˜¯ä¸€ç³»åˆ—çš„æ–‡ä»¶åæ¥å¯¹å¾…ã€‚</p>
<h3 id="731-dir"><a class="markdownIt-Anchor" href="#731-dir"></a> 7.3.1 dir</h3>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">dir</span> &lt;names...&gt;)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>åç§°ï¼šå–ç›®å½•å‡½æ•°------dirã€‚</li>
<li>åŠŸèƒ½ï¼šä»æ–‡ä»¶ååºåˆ— <code>&lt;names&gt;</code> ä¸­å–å‡ºç›®å½•éƒ¨åˆ†ã€‚ç›®å½•éƒ¨åˆ†æ˜¯æŒ‡æœ€åä¸€ä¸ªåæ–œæ ï¼ˆ <code>/</code> ï¼‰ä¹‹å‰ çš„éƒ¨åˆ†ã€‚å¦‚æœæ²¡æœ‰åæ–œæ ï¼Œé‚£ä¹ˆè¿”å› <code>./</code> ã€‚</li>
<li>è¿”å›ï¼šè¿”å›æ–‡ä»¶ååºåˆ— <code>&lt;names&gt;</code> çš„ç›®å½•éƒ¨åˆ†ã€‚</li>
<li>ç¤ºä¾‹ï¼š <code>$(dir src/foo.c hacks)</code> è¿”å›å€¼æ˜¯ <code>src/ ./</code> ã€‚</li>
</ul>
<h3 id="732-notdir"><a class="markdownIt-Anchor" href="#732-notdir"></a> 7.3.2 notdir</h3>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">notdir</span> &lt;names...&gt;)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>åç§°ï¼šå–æ–‡ä»¶å‡½æ•°------notdirã€‚</li>
<li>åŠŸèƒ½ï¼šä»æ–‡ä»¶ååºåˆ— <code>&lt;names&gt;</code> ä¸­å–å‡ºéç›®å½•éƒ¨åˆ†ã€‚éç›®å½•éƒ¨åˆ†æ˜¯æŒ‡æœ€å¾Œä¸€ä¸ªåæ–œæ ï¼ˆ <code>/</code> ï¼‰ ä¹‹åçš„éƒ¨åˆ†ã€‚</li>
<li>è¿”å›ï¼šè¿”å›æ–‡ä»¶ååºåˆ— <code>&lt;names&gt;</code> çš„éç›®å½•éƒ¨åˆ†ã€‚</li>
<li>ç¤ºä¾‹: <code>$(notdir src/foo.c hacks)</code> è¿”å›å€¼æ˜¯ <code>foo.c hacks</code> ã€‚</li>
</ul>
<h3 id="733-suffix"><a class="markdownIt-Anchor" href="#733-suffix"></a> 7.3.3 suffix</h3>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">suffix</span> &lt;names...&gt;)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>åç§°ï¼šå–å¾Œç¼€å‡½æ•°------suffixã€‚</li>
<li>åŠŸèƒ½ï¼šä»æ–‡ä»¶ååºåˆ— <code>&lt;names&gt;</code> ä¸­å–å‡ºå„ä¸ªæ–‡ä»¶åçš„åç¼€ã€‚</li>
<li>è¿”å›ï¼šè¿”å›æ–‡ä»¶ååºåˆ— <code>&lt;names&gt;</code> çš„åç¼€åºåˆ—ï¼Œå¦‚æœæ–‡ä»¶æ²¡æœ‰åç¼€ï¼Œåˆ™è¿”å›ç©ºå­—ä¸²ã€‚</li>
<li>ç¤ºä¾‹ï¼š <code>$(suffix src/foo.c src-1.0/bar.c hacks)</code> è¿”å›å€¼æ˜¯ <code>.c .c</code>ã€‚</li>
</ul>
<h3 id="734-basename"><a class="markdownIt-Anchor" href="#734-basename"></a> 7.3.4 basename</h3>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">basename</span> &lt;names...&gt;)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>åç§°ï¼šå–å‰ç¼€å‡½æ•°------basenameã€‚</li>
<li>åŠŸèƒ½ï¼šä»æ–‡ä»¶ååºåˆ— <code>&lt;names&gt;</code> ä¸­å–å‡ºå„ä¸ªæ–‡ä»¶åçš„å‰ç¼€éƒ¨åˆ†ã€‚</li>
<li>è¿”å›ï¼šè¿”å›æ–‡ä»¶ååºåˆ— <code>&lt;names&gt;</code><br />
çš„å‰ç¼€åºåˆ—ï¼Œå¦‚æœæ–‡ä»¶æ²¡æœ‰å‰ç¼€ï¼Œåˆ™è¿”å›ç©ºå­—ä¸²ã€‚</li>
<li>ç¤ºä¾‹ï¼š <code>$(basename src/foo.c src-1.0/bar.c hacks)</code> è¿”å›å€¼æ˜¯<br />
<code>src/foo src-1.0/bar hacks</code> ã€‚</li>
</ul>
<h3 id="735-addsuffix"><a class="markdownIt-Anchor" href="#735-addsuffix"></a> 7.3.5 addsuffix</h3>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">addsuffix</span> &lt;<span class="built_in">suffix</span>&gt;,&lt;names...&gt;)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>åç§°ï¼šåŠ åç¼€å‡½æ•°------addsuffixã€‚</li>
<li>åŠŸèƒ½ï¼šæŠŠåç¼€ <code>&lt;suffix&gt;</code> åŠ åˆ° <code>&lt;names&gt;</code> ä¸­çš„æ¯ä¸ªå•è¯åé¢ã€‚</li>
<li>è¿”å›ï¼šè¿”å›åŠ è¿‡åç¼€çš„æ–‡ä»¶ååºåˆ—ã€‚</li>
<li>ç¤ºä¾‹ï¼š <code>$(addsuffix .c,foo bar)</code> è¿”å›å€¼æ˜¯ <code>foo.c bar.c</code> ã€‚</li>
</ul>
<h3 id="736-addprefix"><a class="markdownIt-Anchor" href="#736-addprefix"></a> 7.3.6 addprefix</h3>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">addprefix</span> &lt;prefix&gt;,&lt;names...&gt;)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>åç§°ï¼šåŠ å‰ç¼€å‡½æ•°------addprefixã€‚</li>
<li>åŠŸèƒ½ï¼šæŠŠå‰ç¼€ <code>&lt;prefix&gt;</code> åŠ åˆ° <code>&lt;names&gt;</code> ä¸­çš„æ¯ä¸ªå•è¯å‰é¢ã€‚</li>
<li>è¿”å›ï¼šè¿”å›åŠ è¿‡å‰ç¼€çš„æ–‡ä»¶ååºåˆ—ã€‚</li>
<li>ç¤ºä¾‹ï¼š <code>$(addprefix src/,foo bar)</code> è¿”å›å€¼æ˜¯ <code>src/foo src/bar</code> ã€‚</li>
</ul>
<h3 id="737-join"><a class="markdownIt-Anchor" href="#737-join"></a> 7.3.7 join</h3>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">join</span> &lt;list1&gt;,&lt;list2&gt;)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>åç§°ï¼šè¿æ¥å‡½æ•°------joinã€‚</li>
<li>åŠŸèƒ½ï¼šæŠŠ <code>&lt;list2&gt;</code> ä¸­çš„å•è¯å¯¹åº”åœ°åŠ åˆ° <code>&lt;list1&gt;</code> çš„å•è¯åé¢ã€‚å¦‚æœ <code>&lt;list1&gt;</code> çš„ å•è¯ä¸ªæ•°è¦æ¯” <code>&lt;list2&gt;</code> çš„å¤šï¼Œé‚£ä¹ˆï¼Œ <code>&lt;list1&gt;</code> ä¸­çš„å¤šå‡ºæ¥çš„å•è¯å°†ä¿æŒåŸæ ·ã€‚å¦‚æœ <code>&lt;list2&gt;</code> çš„å•è¯ä¸ªæ•°è¦æ¯” <code>&lt;list1&gt;</code> å¤šï¼Œé‚£ä¹ˆï¼Œ <code>&lt;list2&gt;</code> å¤šå‡ºæ¥çš„å•è¯å°†è¢«å¤åˆ¶åˆ° <code>&lt;list1&gt;</code> ä¸­ã€‚</li>
<li>è¿”å›ï¼šè¿”å›è¿æ¥è¿‡åçš„å­—ç¬¦ä¸²ã€‚</li>
<li>ç¤ºä¾‹ï¼š <code>$(join aaa bbb , 111 222 333)</code> è¿”å›å€¼æ˜¯ <code>aaa111 bbb222 333</code>ã€‚</li>
</ul>
<h2 id="74-foreach-å‡½æ•°"><a class="markdownIt-Anchor" href="#74-foreach-å‡½æ•°"></a> 7.4 foreach å‡½æ•°</h2>
<p>foreachå‡½æ•°å’Œåˆ«çš„å‡½æ•°éå¸¸çš„ä¸ä¸€æ ·ã€‚å› ä¸ºè¿™ä¸ªå‡½æ•°æ˜¯ç”¨æ¥åšå¾ªç¯ç”¨çš„ï¼ŒMakefileä¸­çš„foreachå‡½æ•°å‡ ä¹æ˜¯ä»¿ç…§äºUnixæ ‡å‡†Shellï¼ˆ/bin/shï¼‰ä¸­çš„forè¯­å¥ï¼Œæˆ–æ˜¯C-Shellï¼ˆ/bin/cshï¼‰ä¸­çš„foreachè¯­å¥è€Œæ„å»ºçš„ã€‚å®ƒçš„è¯­æ³•æ˜¯ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">foreach</span> &lt;var&gt;,&lt;list&gt;,&lt;text&gt;)</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªå‡½æ•°çš„æ„æ€æ˜¯ï¼ŒæŠŠå‚æ•° <code>&lt;list&gt;</code> ä¸­çš„å•è¯é€ä¸€å–å‡ºæ”¾åˆ°å‚æ•° <code>&lt;var&gt;</code> æ‰€æŒ‡å®šçš„å˜é‡ä¸­ï¼Œ ç„¶åå†æ‰§è¡Œ <code>&lt;text&gt;</code> æ‰€åŒ…å«çš„è¡¨è¾¾å¼ã€‚æ¯ä¸€æ¬¡ <code>&lt;text&gt;</code> ä¼šè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¾ªç¯è¿‡ç¨‹ä¸­ï¼Œ <code>&lt;text&gt;</code> çš„æ‰€è¿”å›çš„æ¯ä¸ªå­—ç¬¦ä¸²ä¼šä»¥ç©ºæ ¼åˆ†éš”ï¼Œæœ€åå½“æ•´ä¸ªå¾ªç¯ç»“æŸæ—¶ï¼Œ <code>&lt;text&gt;</code> æ‰€è¿”å›çš„æ¯ä¸ªå­—ç¬¦ä¸²æ‰€ç»„æˆçš„æ•´ä¸ªå­—ç¬¦ä¸²ï¼ˆä»¥ç©ºæ ¼åˆ†éš”ï¼‰å°†ä¼šæ˜¯foreachå‡½æ•°çš„è¿”å›å€¼ã€‚</p>
<p>æ‰€ä»¥ï¼Œ <code>&lt;var&gt;</code> æœ€å¥½æ˜¯ä¸€ä¸ªå˜é‡åï¼Œ <code>&lt;list&gt;</code> å¯ä»¥æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè€Œ <code>&lt;text&gt;</code> ä¸­ä¸€èˆ¬ä¼š ä½¿ç”¨ <code>&lt;var&gt;</code> è¿™ä¸ªå‚æ•°æ¥ä¾æ¬¡æšä¸¾ <code>&lt;list&gt;</code> ä¸­çš„å•è¯ã€‚ä¸¾ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">names := a b c d</span><br><span class="line"></span><br><span class="line">files := <span class="variable">$(<span class="built_in">foreach</span> n,<span class="variable">$(names)</span>,<span class="variable">$(n)</span>.o)</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ <code>$(name)</code> ä¸­çš„å•è¯ä¼šè¢«æŒ¨ä¸ªå–å‡ºï¼Œå¹¶å­˜åˆ°å˜é‡ <code>n</code> ä¸­ï¼Œ<code>$(n).o</code> æ¯æ¬¡ æ ¹æ® <code>$(n)</code> è®¡ç®—å‡ºä¸€ä¸ªå€¼ï¼Œè¿™äº›å€¼ä»¥ç©ºæ ¼åˆ†éš”ï¼Œæœ€åä½œä¸ºforeachå‡½æ•°çš„è¿”å›ï¼Œæ‰€ä»¥ï¼Œ<code>$(files)</code> çš„å€¼æ˜¯ <code>a.o b.o c.o d.o</code> ã€‚</p>
<p>æ³¨æ„ï¼Œforeachä¸­çš„ <code>&lt;var&gt;</code> å‚æ•°æ˜¯ä¸€ä¸ªä¸´æ—¶çš„å±€éƒ¨å˜é‡ï¼Œforeachå‡½æ•°æ‰§è¡Œå®Œåï¼Œå‚æ•° <code>&lt;var&gt;</code> çš„å˜é‡å°†ä¸åœ¨ä½œç”¨ï¼Œå…¶ä½œç”¨åŸŸåªåœ¨foreachå‡½æ•°å½“ä¸­ã€‚</p>
<h2 id="75-if-å‡½æ•°"><a class="markdownIt-Anchor" href="#75-if-å‡½æ•°"></a> 7.5 if å‡½æ•°</h2>
<p>ifå‡½æ•°å¾ˆåƒGNUçš„makeæ‰€æ”¯æŒçš„æ¡ä»¶è¯­å¥------ifeqï¼ˆå‚è§å‰é¢æ‰€è¿°çš„ç« èŠ‚ï¼‰ï¼Œifå‡½æ•°çš„è¯­æ³•æ˜¯ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">if</span> &lt;condition&gt;,&lt;then-part&gt;)</span></span><br></pre></td></tr></table></figure>
<p>æˆ–æ˜¯</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">if</span> &lt;condition&gt;,&lt;then-part&gt;,&lt;else-part&gt;)</span></span><br></pre></td></tr></table></figure>
<p>å¯è§ï¼Œifå‡½æ•°å¯ä»¥åŒ…å«&quot;else&quot;éƒ¨åˆ†ï¼Œæˆ–æ˜¯ä¸å«ã€‚å³ifå‡½æ•°çš„å‚æ•°å¯ä»¥æ˜¯ä¸¤ä¸ªï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸‰ä¸ªã€‚<code>&lt;condition&gt;</code>å‚æ•°æ˜¯ifçš„è¡¨è¾¾å¼ï¼Œå¦‚æœå…¶è¿”å›çš„ä¸ºéç©ºå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆè¿™ä¸ªè¡¨è¾¾å¼å°±ç›¸å½“äºè¿”å›çœŸï¼Œäºæ˜¯ï¼Œ <code>&lt;then-part&gt;</code> ä¼šè¢«è®¡ç®—ï¼Œå¦åˆ™ <code>&lt;else-part&gt;</code> ä¼šè¢«è®¡ç®—ã€‚</p>
<p>è€Œifå‡½æ•°çš„è¿”å›å€¼æ˜¯ï¼Œå¦‚æœ <code>&lt;condition&gt;</code> ä¸ºçœŸï¼ˆéç©ºå­—ç¬¦ä¸²ï¼‰ï¼Œé‚£ä¸ª <code>&lt;then-part&gt;</code> ä¼šæ˜¯æ•´ä¸ªå‡½æ•°çš„è¿”å›å€¼ï¼Œå¦‚æœ <code>&lt;condition&gt;</code> ä¸ºå‡ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰ï¼Œé‚£ä¹ˆ <code>&lt;else-part&gt;</code> ä¼šæ˜¯ æ•´ä¸ªå‡½æ•°çš„è¿”å›å€¼ï¼Œæ­¤æ—¶å¦‚æœ <code>&lt;else-part&gt;</code> æ²¡æœ‰è¢«å®šä¹‰ï¼Œé‚£ä¹ˆï¼Œæ•´ä¸ªå‡½æ•°è¿”å›ç©ºå­—ä¸²ã€‚</p>
<p>æ‰€ä»¥ï¼Œ <code>&lt;then-part&gt;</code> å’Œ <code>&lt;else-part&gt;</code> åªä¼šæœ‰ä¸€ä¸ªè¢«è®¡ç®—ã€‚</p>
<h2 id="76-callå‡½æ•°"><a class="markdownIt-Anchor" href="#76-callå‡½æ•°"></a> 7.6 callå‡½æ•°</h2>
<p>callå‡½æ•°æ˜¯å”¯ä¸€ä¸€ä¸ªå¯ä»¥ç”¨æ¥åˆ›å»ºæ–°çš„å‚æ•°åŒ–çš„å‡½æ•°ã€‚ä½ å¯ä»¥å†™ä¸€ä¸ªéå¸¸å¤æ‚çš„è¡¨è¾¾å¼ï¼Œè¿™ä¸ªè¡¨è¾¾å¼ä¸­ï¼Œä½ å¯ä»¥å®šä¹‰è®¸å¤šå‚æ•°ï¼Œç„¶åä½ å¯ä»¥callå‡½æ•°æ¥å‘è¿™ä¸ªè¡¨è¾¾å¼ä¼ é€’å‚æ•°ã€‚å…¶è¯­æ³•æ˜¯ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">call</span> &lt;expression&gt;,&lt;parm1&gt;,&lt;parm2&gt;,...,&lt;parmn&gt;)</span></span><br></pre></td></tr></table></figure>
<p>å½“makeæ‰§è¡Œè¿™ä¸ªå‡½æ•°æ—¶ï¼Œ <code>&lt;expression&gt;</code> å‚æ•°ä¸­çš„å˜é‡ï¼Œå¦‚ <code>$(1)</code> ã€ <code>$(2)</code> ç­‰ï¼Œä¼š è¢«å‚æ•° <code>&lt;parm1&gt;</code> ã€ <code>&lt;parm2&gt;</code> ã€ <code>&lt;parm3&gt;</code> ä¾æ¬¡å–ä»£ã€‚è€Œ <code>&lt;expression&gt;</code> çš„ è¿”å›å€¼å°±æ˜¯ call å‡½æ•°çš„è¿”å›å€¼ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">reverse =  $(1) $(2)</span><br><span class="line"></span><br><span class="line">foo = <span class="variable">$(<span class="built_in">call</span> reverse,a,b)</span></span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆï¼Œ <code>foo</code> çš„å€¼å°±æ˜¯ <code>a b</code>ã€‚å½“ç„¶ï¼Œå‚æ•°çš„æ¬¡åºæ˜¯å¯ä»¥è‡ªå®šä¹‰çš„ï¼Œä¸ä¸€å®šæ˜¯é¡ºåºçš„ï¼Œå¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">reverse =  $(2) $(1)</span><br><span class="line"></span><br><span class="line">foo = <span class="variable">$(<span class="built_in">call</span> reverse,a,b)</span></span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶çš„ <code>foo</code> çš„å€¼å°±æ˜¯ <code>b a</code> ã€‚</p>
<p>éœ€è¦æ³¨æ„ï¼šåœ¨å‘ call å‡½æ•°ä¼ é€’å‚æ•°æ—¶è¦å°¤å…¶æ³¨æ„ç©ºæ ¼çš„ä½¿ç”¨ã€‚callå‡½æ•°åœ¨å¤„ç†å‚æ•°æ—¶ï¼Œç¬¬2ä¸ªåŠå…¶ä¹‹åçš„å‚æ•°ä¸­çš„ç©ºæ ¼ä¼šè¢«ä¿ç•™ï¼Œå› è€Œå¯èƒ½é€ æˆä¸€äº›å¥‡æ€ªçš„æ•ˆæœã€‚å› è€Œåœ¨å‘callå‡½æ•°æä¾›å‚æ•°æ—¶ï¼Œæœ€å®‰å…¨çš„åšæ³•æ˜¯å»é™¤æ‰€æœ‰å¤šä½™çš„ç©ºæ ¼ã€‚</p>
<h2 id="77-originå‡½æ•°"><a class="markdownIt-Anchor" href="#77-originå‡½æ•°"></a> 7.7 originå‡½æ•°</h2>
<p>originå‡½æ•°ä¸åƒå…¶å®ƒçš„å‡½æ•°ï¼Œä»–å¹¶ä¸æ“ä½œå˜é‡çš„å€¼ï¼Œä»–åªæ˜¯å‘Šè¯‰ä½ ä½ çš„è¿™ä¸ªå˜é‡æ˜¯å“ªé‡Œæ¥çš„ï¼Ÿå…¶è¯­æ³•æ˜¯ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">origin</span> &lt;variable&gt;)</span></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œ <code>&lt;variable&gt;</code> æ˜¯å˜é‡çš„åå­—ï¼Œä¸åº”è¯¥æ˜¯å¼•ç”¨ã€‚æ‰€ä»¥ä½ æœ€å¥½ä¸è¦åœ¨ <code>&lt;variable&gt;</code> ä¸­ä½¿ç”¨: <code>$</code>å­—ç¬¦ã€‚Originå‡½æ•°ä¼šä»¥å…¶è¿”å›å€¼æ¥å‘Šè¯‰ä½ è¿™ä¸ªå˜é‡çš„&quot;å‡ºç”Ÿæƒ…å†µ&quot;ï¼Œä¸‹é¢ï¼Œæ˜¯originå‡½æ•°çš„è¿”å›å€¼:</p>
<p><code>undefined</code>:</p>
<p>å¦‚æœ <code>&lt;variable&gt;</code> ä»æ¥æ²¡æœ‰å®šä¹‰è¿‡ï¼Œoriginå‡½æ•°è¿”å›è¿™ä¸ªå€¼ <code>undefined</code></p>
<p><code>default</code>:</p>
<p>å¦‚æœ <code>&lt;variable&gt;</code><br />
æ˜¯ä¸€ä¸ªé»˜è®¤çš„å®šä¹‰ï¼Œæ¯”å¦‚&quot;CC&quot;è¿™ä¸ªå˜é‡ï¼Œè¿™ç§å˜é‡æˆ‘ä»¬å°†åœ¨åé¢è®²è¿°ã€‚</p>
<p><code>environment</code>:</p>
<p>å¦‚æœ <code>&lt;variable&gt;</code> æ˜¯ä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œå¹¶ä¸”å½“Makefileè¢«æ‰§è¡Œæ—¶ï¼Œ <code>-e</code> å‚æ•°æ²¡æœ‰è¢«æ‰“å¼€ã€‚</p>
<p><code>file</code>:</p>
<p>å¦‚æœ <code>&lt;variable&gt;</code> è¿™ä¸ªå˜é‡è¢«å®šä¹‰åœ¨Makefileä¸­ã€‚</p>
<p><code>command line</code>:</p>
<p>å¦‚æœ <code>&lt;variable&gt;</code> è¿™ä¸ªå˜é‡æ˜¯è¢«å‘½ä»¤è¡Œå®šä¹‰çš„ã€‚</p>
<p><code>override</code>:</p>
<p>å¦‚æœ <code>&lt;variable&gt;</code> æ˜¯è¢«overrideæŒ‡ç¤ºç¬¦é‡æ–°å®šä¹‰çš„ã€‚</p>
<p><code>automatic</code>:</p>
<p>å¦‚æœ <code>&lt;variable&gt;</code>æ˜¯ä¸€ä¸ªå‘½ä»¤è¿è¡Œä¸­çš„è‡ªåŠ¨åŒ–å˜é‡ã€‚å…³äºè‡ªåŠ¨åŒ–å˜é‡å°†åœ¨åé¢è®²è¿°ã€‚</p>
<p>è¿™äº›ä¿¡æ¯å¯¹äºæˆ‘ä»¬ç¼–å†™Makefileæ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªMakefileå…¶åŒ…äº†ä¸€ä¸ªå®šä¹‰æ–‡ä»¶Make.defï¼Œåœ¨Make.defä¸­å®šä¹‰äº†ä¸€ä¸ªå˜é‡&quot;bletch&quot;ï¼Œè€Œæˆ‘ä»¬çš„ç¯å¢ƒä¸­ä¹Ÿæœ‰ä¸€ä¸ªç¯å¢ƒå˜é‡&quot;bletch&quot;ï¼Œæ­¤æ—¶ï¼Œæˆ‘ä»¬æƒ³åˆ¤æ–­ä¸€ä¸‹ï¼Œå¦‚æœå˜é‡æ¥æºäºç¯å¢ƒï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æŠŠä¹‹é‡å®šä¹‰äº†ï¼Œå¦‚æœæ¥æºäºMake.defæˆ–æ˜¯å‘½ä»¤è¡Œç­‰éç¯å¢ƒçš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ä¸é‡æ–°å®šä¹‰å®ƒã€‚äºæ˜¯ï¼Œåœ¨æˆ‘ä»¬çš„Makefileä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ifdef</span> bletch</span><br><span class="line">    <span class="keyword">ifeq</span> <span class="string">&quot;$(origin bletch)&quot;</span> <span class="string">&quot;environment&quot;</span></span><br><span class="line">        bletch = barf, gag, etc.</span><br><span class="line">    <span class="keyword">endif</span></span><br><span class="line"><span class="keyword">endif</span></span><br></pre></td></tr></table></figure>
<p>å½“ç„¶ï¼Œä½ ä¹Ÿè®¸ä¼šè¯´ï¼Œä½¿ç”¨ <code>override</code>å…³é”®å­—ä¸å°±å¯ä»¥é‡æ–°å®šä¹‰ç¯å¢ƒä¸­çš„å˜é‡äº†å—ï¼Ÿä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨è¿™æ ·çš„æ­¥éª¤ï¼Ÿæ˜¯çš„ï¼Œæˆ‘ä»¬ç”¨ <code>override</code> æ˜¯å¯ä»¥è¾¾åˆ°è¿™æ ·çš„æ•ˆæœï¼Œå¯æ˜¯ <code>override</code>è¿‡äºç²—æš´ï¼Œå®ƒåŒæ—¶ä¼šæŠŠä»å‘½ä»¤è¡Œå®šä¹‰çš„å˜é‡ä¹Ÿè¦†ç›–äº†ï¼Œè€Œæˆ‘ä»¬åªæƒ³é‡æ–°å®šä¹‰ç¯å¢ƒä¼ æ¥çš„ï¼Œè€Œä¸æƒ³é‡æ–°å®šä¹‰å‘½ä»¤è¡Œä¼ æ¥çš„ã€‚</p>
<h2 id="78-shellå‡½æ•°"><a class="markdownIt-Anchor" href="#78-shellå‡½æ•°"></a> 7.8 shellå‡½æ•°</h2>
<p>shellå‡½æ•°ä¹Ÿä¸åƒå…¶å®ƒçš„å‡½æ•°ã€‚é¡¾åæ€ä¹‰ï¼Œå®ƒçš„å‚æ•°åº”è¯¥å°±æ˜¯æ“ä½œç³»ç»ŸShellçš„å‘½ä»¤ã€‚å®ƒå’Œåå¼•å·&quot;`&quot;æ˜¯ç›¸åŒçš„åŠŸèƒ½ã€‚è¿™å°±æ˜¯è¯´ï¼Œshellå‡½æ•°æŠŠæ‰§è¡Œæ“ä½œç³»ç»Ÿå‘½ä»¤åçš„è¾“å‡ºä½œä¸ºå‡½æ•°è¿”å›ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æ“ä½œç³»ç»Ÿå‘½ä»¤ä»¥åŠå­—ç¬¦ä¸²å¤„ç†å‘½ä»¤awkï¼Œsedç­‰ç­‰å‘½ä»¤æ¥ç”Ÿæˆä¸€ä¸ªå˜é‡ï¼Œå¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">contents := <span class="variable">$(<span class="built_in">shell</span> cat foo)</span></span><br><span class="line">files := <span class="variable">$(<span class="built_in">shell</span> echo *.c)</span></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œè¿™ä¸ªå‡½æ•°ä¼šæ–°ç”Ÿæˆä¸€ä¸ªShellç¨‹åºæ¥æ‰§è¡Œå‘½ä»¤ï¼Œæ‰€ä»¥ä½ è¦æ³¨æ„å…¶è¿è¡Œæ€§èƒ½ï¼Œå¦‚æœä½ çš„Makefileä¸­æœ‰ä¸€äº›æ¯”è¾ƒå¤æ‚çš„è§„åˆ™ï¼Œå¹¶å¤§é‡ä½¿ç”¨äº†è¿™ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆå¯¹äºä½ çš„ç³»ç»Ÿæ€§èƒ½æ˜¯æœ‰å®³çš„ã€‚ç‰¹åˆ«æ˜¯Makefileçš„éšæ™¦çš„è§„åˆ™å¯èƒ½ä¼šè®©ä½ çš„shellå‡½æ•°æ‰§è¡Œçš„æ¬¡æ•°æ¯”ä½ æƒ³åƒçš„å¤šå¾—å¤šã€‚</p>
<h2 id="79-æ§åˆ¶makeçš„å‡½æ•°"><a class="markdownIt-Anchor" href="#79-æ§åˆ¶makeçš„å‡½æ•°"></a> 7.9 æ§åˆ¶makeçš„å‡½æ•°</h2>
<p>makeæä¾›äº†ä¸€äº›å‡½æ•°æ¥æ§åˆ¶makeçš„è¿è¡Œã€‚é€šå¸¸ï¼Œä½ éœ€è¦æ£€æµ‹ä¸€äº›è¿è¡ŒMakefileæ—¶çš„è¿è¡Œæ—¶ä¿¡æ¯ï¼Œå¹¶ä¸”æ ¹æ®è¿™äº›ä¿¡æ¯æ¥å†³å®šï¼Œä½ æ˜¯è®©makeç»§ç»­æ‰§è¡Œï¼Œè¿˜æ˜¯åœæ­¢ã€‚</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">error</span> &lt;text ...&gt;)</span></span><br></pre></td></tr></table></figure>
<p>äº§ç”Ÿä¸€ä¸ªè‡´å‘½çš„é”™è¯¯ï¼Œ <code>&lt;text ...&gt;</code>æ˜¯é”™è¯¯ä¿¡æ¯ã€‚æ³¨æ„ï¼Œerrorå‡½æ•°ä¸ä¼šåœ¨ä¸€è¢«ä½¿ç”¨å°±ä¼šäº§ç”Ÿé”™è¯¯ä¿¡æ¯ï¼Œæ‰€ä»¥å¦‚æœä½ æŠŠå…¶å®šä¹‰åœ¨æŸä¸ªå˜é‡ä¸­ï¼Œå¹¶åœ¨åç»­çš„è„šæœ¬ä¸­ä½¿ç”¨è¿™ä¸ªå˜é‡ï¼Œé‚£ä¹ˆä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ä¾‹å¦‚ï¼š</p>
<p>ç¤ºä¾‹ä¸€ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ifdef</span> ERROR_001</span><br><span class="line">    <span class="variable">$(<span class="built_in">error</span> <span class="built_in">error</span> is <span class="variable">$(ERROR_001)</span>)</span></span><br><span class="line"><span class="keyword">endif</span></span><br></pre></td></tr></table></figure>
<p>ç¤ºä¾‹äºŒï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">ERR = <span class="variable">$(<span class="built_in">error</span> found an <span class="built_in">error</span>!)</span></span><br><span class="line"></span><br><span class="line"><span class="meta"><span class="keyword">.PHONY</span>: err</span></span><br><span class="line"></span><br><span class="line"><span class="section">err: <span class="variable">$(ERR)</span></span></span><br></pre></td></tr></table></figure>
<p>ç¤ºä¾‹ä¸€ä¼šåœ¨å˜é‡ERROR_001å®šä¹‰äº†åæ‰§è¡Œæ—¶äº§ç”Ÿerrorè°ƒç”¨ï¼Œè€Œç¤ºä¾‹äºŒåˆ™åœ¨ç›®å½•errè¢«æ‰§è¡Œæ—¶æ‰å‘ç”Ÿerrorè°ƒç”¨ã€‚</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">warning</span> &lt;text ...&gt;)</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªå‡½æ•°å¾ˆåƒerrorå‡½æ•°ï¼Œåªæ˜¯å®ƒå¹¶ä¸ä¼šè®©makeé€€å‡ºï¼Œåªæ˜¯è¾“å‡ºä¸€æ®µè­¦å‘Šä¿¡æ¯ï¼Œè€Œmakeç»§ç»­æ‰§è¡Œã€‚</p>
<h1 id="8-make-çš„è¿è¡Œ"><a class="markdownIt-Anchor" href="#8-make-çš„è¿è¡Œ"></a> 8. make çš„è¿è¡Œ</h1>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œæœ€ç®€å•çš„å°±æ˜¯ç›´æ¥åœ¨å‘½ä»¤è¡Œä¸‹è¾“å…¥makeå‘½ä»¤ï¼Œmakeå‘½ä»¤ä¼šæ‰¾å½“å‰ç›®å½•çš„makefileæ¥æ‰§è¡Œï¼Œä¸€åˆ‡éƒ½æ˜¯è‡ªåŠ¨çš„ã€‚ä½†ä¹Ÿæœ‰æ—¶ä½ ä¹Ÿè®¸åªæƒ³è®©makeé‡ç¼–è¯‘æŸäº›æ–‡ä»¶ï¼Œè€Œä¸æ˜¯æ•´ä¸ªå·¥ç¨‹ï¼Œè€Œåˆæœ‰çš„æ—¶å€™ä½ æœ‰å‡ å¥—ç¼–è¯‘è§„åˆ™ï¼Œä½ æƒ³åœ¨ä¸åŒçš„æ—¶å€™ä½¿ç”¨ä¸åŒçš„ç¼–è¯‘è§„åˆ™ï¼Œç­‰ç­‰ã€‚æœ¬ç« èŠ‚å°±æ˜¯è®²è¿°å¦‚ä½•ä½¿ç”¨makeå‘½ä»¤çš„ã€‚</p>
<h2 id="81-makeçš„é€€å‡ºç "><a class="markdownIt-Anchor" href="#81-makeçš„é€€å‡ºç "></a> 8.1 makeçš„é€€å‡ºç </h2>
<p>makeå‘½ä»¤æ‰§è¡Œåæœ‰ä¸‰ä¸ªé€€å‡ºç ï¼š</p>
<dl>
<dt>0</dt>
<dd>è¡¨ç¤ºæˆåŠŸæ‰§è¡Œã€‚</dd>
<dt>1</dt>
<dd>å¦‚æœmakeè¿è¡Œæ—¶å‡ºç°ä»»ä½•é”™è¯¯ï¼Œå…¶è¿”å›1ã€‚</dd>
<dt>2</dt>
<dd>å¦‚æœä½ ä½¿ç”¨äº†makeçš„&quot;-q&quot;é€‰é¡¹ï¼Œå¹¶ä¸”makeä½¿å¾—ä¸€äº›ç›®æ ‡ä¸éœ€è¦æ›´æ–°ï¼Œé‚£ä¹ˆè¿”å›2ã€‚</dd>
</dl>
<p>Makeçš„ç›¸å…³å‚æ•°æˆ‘ä»¬ä¼šåœ¨åç»­ç« èŠ‚ä¸­è®²è¿°ã€‚</p>
<h2 id="82-æŒ‡å®šmakefile"><a class="markdownIt-Anchor" href="#82-æŒ‡å®šmakefile"></a> 8.2 æŒ‡å®šMakefile</h2>
<p>å‰é¢æˆ‘ä»¬è¯´è¿‡ï¼ŒGNUmakeæ‰¾å¯»é»˜è®¤çš„Makefileçš„è§„åˆ™æ˜¯åœ¨å½“å‰ç›®å½•ä¸‹ä¾æ¬¡æ‰¾ä¸‰ä¸ªæ–‡ä»¶------â€œGNUmakefileâ€ã€â€œmakefile&quot;å’Œ&quot;Makefileâ€ã€‚å…¶æŒ‰é¡ºåºæ‰¾è¿™ä¸‰ä¸ªæ–‡ä»¶ï¼Œä¸€æ—¦æ‰¾åˆ°ï¼Œå°±å¼€å§‹è¯»å–è¿™ä¸ªæ–‡ä»¶å¹¶æ‰§è¡Œã€‚</p>
<p>å½“å‰ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™makeå‘½ä»¤æŒ‡å®šä¸€ä¸ªç‰¹æ®Šåå­—çš„Makefileã€‚è¦è¾¾åˆ°è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬è¦ä½¿ç”¨makeçš„ <code>-f</code> æˆ–æ˜¯ <code>--file</code> å‚æ•°ï¼ˆ <code>--makefile</code><br />
å‚æ•°ä¹Ÿè¡Œï¼‰ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸ªmakefileçš„åå­—æ˜¯&quot;<a href="http://hchen.mk">hchen.mk</a>&quot;ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·æ¥è®©makeæ¥æ‰§è¡Œè¿™ä¸ªæ–‡ä»¶ï¼š</p>
<pre><code>make â€“f hchen.mk
</code></pre>
<p>å¦‚æœåœ¨makeçš„å‘½ä»¤è¡Œæ˜¯ï¼Œä½ ä¸åªä¸€æ¬¡åœ°ä½¿ç”¨äº† <code>-f</code> å‚æ•°ï¼Œé‚£ä¹ˆï¼Œæ‰€æœ‰æŒ‡å®šçš„makefileå°†ä¼šè¢«è¿åœ¨ ä¸€èµ·ä¼ é€’ç»™makeæ‰§è¡Œã€‚</p>
<h2 id="83-æŒ‡å®šç›®æ ‡"><a class="markdownIt-Anchor" href="#83-æŒ‡å®šç›®æ ‡"></a> 8.3 æŒ‡å®šç›®æ ‡</h2>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œmakeçš„æœ€ç»ˆç›®æ ‡æ˜¯makefileä¸­çš„ç¬¬ä¸€ä¸ªç›®æ ‡ï¼Œè€Œå…¶å®ƒç›®æ ‡ä¸€èˆ¬æ˜¯ç”±è¿™ä¸ªç›®æ ‡è¿å¸¦å‡ºæ¥çš„ã€‚è¿™æ˜¯makeçš„é»˜è®¤è¡Œä¸ºã€‚å½“ç„¶ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œä½ çš„makefileä¸­çš„ç¬¬ä¸€ä¸ªç›®æ ‡æ˜¯ç”±è®¸å¤šä¸ªç›®æ ‡ç»„æˆï¼Œä½ å¯ä»¥æŒ‡ç¤ºmakeï¼Œè®©å…¶å®Œæˆä½ æ‰€æŒ‡å®šçš„ç›®æ ‡ã€‚è¦è¾¾åˆ°è¿™ä¸€ç›®çš„å¾ˆç®€å•ï¼Œéœ€åœ¨makeå‘½ä»¤åç›´æ¥è·Ÿç›®æ ‡çš„åå­—å°±å¯ä»¥å®Œæˆï¼ˆå¦‚å‰é¢æåˆ°çš„&quot;make clean&quot;å½¢å¼ï¼‰</p>
<p>ä»»ä½•åœ¨makefileä¸­çš„ç›®æ ‡éƒ½å¯ä»¥è¢«æŒ‡å®šæˆç»ˆæç›®æ ‡ï¼Œä½†æ˜¯é™¤äº†ä»¥ <code>-</code> æ‰“å¤´ï¼Œæˆ–æ˜¯åŒ…å«äº† <code>=</code> çš„ç›®æ ‡ï¼Œå› ä¸ºæœ‰è¿™äº›å­—ç¬¦çš„ç›®æ ‡ï¼Œä¼šè¢«è§£ææˆå‘½ä»¤è¡Œå‚æ•°æˆ–æ˜¯å˜é‡ã€‚ç”šè‡³æ²¡æœ‰è¢«æˆ‘ä»¬æ˜ç¡®å†™å‡ºæ¥çš„ç›®æ ‡ä¹Ÿå¯ä»¥æˆä¸ºmakeçš„ç»ˆæç›®æ ‡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦makeå¯ä»¥æ‰¾åˆ°å…¶éšå«è§„åˆ™æ¨å¯¼è§„åˆ™ï¼Œé‚£ä¹ˆè¿™ä¸ªéšå«ç›®æ ‡åŒæ ·å¯ä»¥è¢«æŒ‡å®šæˆç»ˆæç›®æ ‡ã€‚</p>
<p>æœ‰ä¸€ä¸ªmakeçš„ç¯å¢ƒå˜é‡å« <code>MAKECMDGOALS</code>ï¼Œè¿™ä¸ªå˜é‡ä¸­ä¼šå­˜æ”¾ä½ æ‰€æŒ‡å®šçš„ç»ˆæç›®æ ‡çš„åˆ—è¡¨ï¼Œå¦‚æœåœ¨å‘½ä»¤è¡Œä¸Šï¼Œä½ æ²¡æœ‰æŒ‡å®šç›®æ ‡ï¼Œé‚£ä¹ˆï¼Œè¿™ä¸ªå˜é‡æ˜¯ç©ºå€¼ã€‚è¿™ä¸ªå˜é‡å¯ä»¥è®©ä½ ä½¿ç”¨åœ¨ä¸€äº›æ¯”è¾ƒç‰¹æ®Šçš„æƒ…å½¢ä¸‹ã€‚æ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">sources = foo.c bar.c</span><br><span class="line"><span class="keyword">ifneq</span> ( <span class="variable">$(MAKECMDGOALS)</span>,clean)</span><br><span class="line">    <span class="keyword">include</span> $(sources:.c=.d)</span><br><span class="line"><span class="keyword">endif</span></span><br></pre></td></tr></table></figure>
<p>åŸºäºä¸Šé¢çš„è¿™ä¸ªä¾‹å­ï¼Œåªè¦æˆ‘ä»¬è¾“å…¥çš„å‘½ä»¤ä¸æ˜¯&quot;make clean&quot;ï¼Œé‚£ä¹ˆmakefileä¼šè‡ªåŠ¨åŒ…å«&quot;foo.d&quot; å’Œ&quot;bar.d&quot;è¿™ä¸¤ä¸ªmakefileã€‚</p>
<p>ä½¿ç”¨æŒ‡å®šç»ˆæç›®æ ‡çš„æ–¹æ³•å¯ä»¥å¾ˆæ–¹ä¾¿åœ°è®©æˆ‘ä»¬ç¼–è¯‘æˆ‘ä»¬çš„ç¨‹åºï¼Œä¾‹å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="meta"><span class="keyword">.PHONY</span>: all</span></span><br><span class="line"><span class="section">all: prog1 prog2 prog3 prog4</span></span><br></pre></td></tr></table></figure>
<p>ä»è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªmakefileä¸­æœ‰å››ä¸ªéœ€è¦ç¼–è¯‘çš„ç¨‹åº------â€œprog1â€ï¼Œâ€œprog2â€ï¼Œ â€œprog3&quot;å’Œ â€œprog4â€ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨&quot;make all&quot;å‘½ä»¤æ¥ç¼–è¯‘æ‰€æœ‰çš„ç›®æ ‡ï¼ˆå¦‚æœæŠŠallç½®æˆç¬¬ä¸€ä¸ªç›®æ ‡ï¼Œé‚£ä¹ˆåªéœ€æ‰§è¡Œ&quot;makeâ€ï¼‰ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ â€œmake prog2&quot;æ¥å•ç‹¬ç¼–è¯‘ç›®æ ‡&quot;prog2â€ã€‚å³ç„¶makeå¯ä»¥æŒ‡å®šæ‰€æœ‰makefileä¸­çš„ç›®æ ‡ï¼Œé‚£ä¹ˆä¹ŸåŒ…æ‹¬&quot;ä¼ªç›®æ ‡&quot;ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥æ ¹æ®è¿™ç§æ€§è´¨æ¥è®©æˆ‘ä»¬çš„makefileæ ¹æ®æŒ‡å®šçš„ä¸åŒçš„ç›®æ ‡æ¥å®Œæˆä¸åŒçš„äº‹ã€‚åœ¨Unixä¸–ç•Œä¸­ï¼Œè½¯ä»¶å‘å¸ƒæ—¶ï¼Œç‰¹åˆ«æ˜¯GNUè¿™ç§å¼€æºè½¯<br />
ä»¶çš„å‘å¸ƒæ—¶ï¼Œå…¶makefileéƒ½åŒ…å«äº†ç¼–è¯‘ã€å®‰è£…ã€æ‰“åŒ…ç­‰åŠŸèƒ½ã€‚æˆ‘ä»¬å¯ä»¥å‚ç…§è¿™ç§è§„åˆ™æ¥ä¹¦å†™æˆ‘ä»¬çš„makefileä¸­çš„ç›®æ ‡ã€‚</p>
<ul>
<li>all:è¿™ä¸ªä¼ªç›®æ ‡æ˜¯æ‰€æœ‰ç›®æ ‡çš„ç›®æ ‡ï¼Œå…¶åŠŸèƒ½ä¸€èˆ¬æ˜¯ç¼–è¯‘æ‰€æœ‰çš„ç›®æ ‡ã€‚</li>
<li>clean:è¿™ä¸ªä¼ªç›®æ ‡åŠŸèƒ½æ˜¯åˆ é™¤æ‰€æœ‰è¢«makeåˆ›å»ºçš„æ–‡ä»¶ã€‚</li>
<li>install:è¿™ä¸ªä¼ªç›®æ ‡åŠŸèƒ½æ˜¯å®‰è£…å·²ç¼–è¯‘å¥½çš„ç¨‹åºï¼Œå…¶å®å°±æ˜¯æŠŠç›®æ ‡æ‰§è¡Œæ–‡ä»¶æ‹·è´åˆ°æŒ‡å®šçš„ç›®æ ‡ä¸­å»ã€‚</li>
<li>print:è¿™ä¸ªä¼ªç›®æ ‡çš„åŠŸèƒ½æ˜¯ä¾‹å‡ºæ”¹å˜è¿‡çš„æºæ–‡ä»¶ã€‚</li>
<li>tar:è¿™ä¸ªä¼ªç›®æ ‡åŠŸèƒ½æ˜¯æŠŠæºç¨‹åºæ‰“åŒ…å¤‡ä»½ã€‚ä¹Ÿå°±æ˜¯ä¸€ä¸ªtaræ–‡ä»¶ã€‚</li>
<li>dist:è¿™ä¸ªä¼ªç›®æ ‡åŠŸèƒ½æ˜¯åˆ›å»ºä¸€ä¸ªå‹ç¼©æ–‡ä»¶ï¼Œä¸€èˆ¬æ˜¯æŠŠtaræ–‡ä»¶å‹æˆZæ–‡ä»¶ã€‚æˆ–æ˜¯gzæ–‡ä»¶ã€‚</li>
<li>TAGS:è¿™ä¸ªä¼ªç›®æ ‡åŠŸèƒ½æ˜¯æ›´æ–°æ‰€æœ‰çš„ç›®æ ‡ï¼Œä»¥å¤‡å®Œæ•´åœ°é‡ç¼–è¯‘ä½¿ç”¨ã€‚</li>
<li>checkå’Œtest:è¿™ä¸¤ä¸ªä¼ªç›®æ ‡ä¸€èˆ¬ç”¨æ¥æµ‹è¯•makefileçš„æµç¨‹ã€‚</li>
</ul>
<p>å½“ç„¶ä¸€ä¸ªé¡¹ç›®çš„makefileä¸­ä¹Ÿä¸ä¸€å®šè¦ä¹¦å†™è¿™æ ·çš„ç›®æ ‡ï¼Œè¿™äº›ä¸œè¥¿éƒ½æ˜¯GNUçš„ä¸œè¥¿ï¼Œä½†æ˜¯æˆ‘æƒ³ï¼ŒGNUæå‡ºè¿™äº›ä¸œè¥¿ä¸€å®šæœ‰å…¶å¯å–ä¹‹å¤„ï¼ˆç­‰ä½ çš„<br />
UNIXä¸‹çš„ç¨‹åºæ–‡ä»¶ä¸€å¤šæ—¶ä½ å°±ä¼šå‘ç°è¿™äº›åŠŸèƒ½å¾ˆæœ‰ç”¨äº†ï¼‰ï¼Œè¿™é‡Œåªä¸è¿‡æ˜¯è¯´æ˜äº†ï¼Œå¦‚æœä½ è¦ä¹¦å†™è¿™ç§åŠŸèƒ½ï¼Œæœ€å¥½ä½¿ç”¨è¿™ç§åå­—å‘½åä½ çš„ç›®æ ‡ï¼Œè¿™æ ·è§„èŒƒä¸€äº›ï¼Œè§„èŒƒçš„å¥½å¤„å°±æ˜¯------ä¸ç”¨è§£é‡Šï¼Œå¤§å®¶éƒ½æ˜ç™½ã€‚è€Œä¸”å¦‚æœä½ çš„makefileä¸­æœ‰è¿™äº›åŠŸèƒ½ï¼Œä¸€æ˜¯å¾ˆå®ç”¨ï¼ŒäºŒæ˜¯å¯ä»¥æ˜¾å¾—ä½ çš„makefileå¾ˆä¸“ä¸šï¼ˆä¸æ˜¯é‚£ç§åˆå­¦è€…çš„ä½œå“ï¼‰ã€‚</p>
<h2 id="84-æ£€æŸ¥è§„åˆ™"><a class="markdownIt-Anchor" href="#84-æ£€æŸ¥è§„åˆ™"></a> 8.4 æ£€æŸ¥è§„åˆ™</h2>
<p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä¸æƒ³è®©æˆ‘ä»¬çš„makefileä¸­çš„è§„åˆ™æ‰§è¡Œèµ·æ¥ï¼Œæˆ‘ä»¬åªæƒ³æ£€æŸ¥ä¸€ä¸‹æˆ‘ä»¬çš„å‘½ä»¤ï¼Œæˆ–æ˜¯æ‰§è¡Œçš„åºåˆ—ã€‚äºæ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨makeå‘½ä»¤çš„ä¸‹è¿°å‚æ•°ï¼š</p>
<dl>
<dt><code>-n</code>, <code>--just-print</code>, <code>--dry-run</code>, <code>--recon</code></dt>
<dd>ä¸æ‰§è¡Œå‚æ•°ï¼Œè¿™äº›å‚æ•°åªæ˜¯æ‰“å°å‘½ä»¤ï¼Œä¸ç®¡ç›®æ ‡æ˜¯å¦æ›´æ–°ï¼ŒæŠŠè§„åˆ™å’Œè¿å¸¦è§„åˆ™ä¸‹çš„å‘½ä»¤æ‰“å°å‡ºæ¥ï¼Œä½†ä¸    æ‰§è¡Œï¼Œè¿™äº›å‚æ•°å¯¹äºæˆ‘ä»¬è°ƒè¯•makefileå¾ˆæœ‰ç”¨å¤„ã€‚</dd>
<dt><code>-t</code>, <code>--touch</code></dt>
<dd>è¿™ä¸ªå‚æ•°çš„æ„æ€å°±æ˜¯æŠŠç›®æ ‡æ–‡ä»¶çš„æ—¶é—´æ›´æ–°ï¼Œä½†ä¸æ›´æ”¹ç›®æ ‡æ–‡ä»¶ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œmakeå‡è£…ç¼–è¯‘ç›®æ ‡ï¼Œä½†ä¸æ˜¯çœŸæ­£çš„ç¼–è¯‘ç›®æ ‡ï¼Œåªæ˜¯æŠŠç›®æ ‡å˜æˆå·²ç¼–è¯‘è¿‡çš„çŠ¶æ€ã€‚</dd>
<dt><code>-q</code>, <code>--question</code></dt>
<dd>è¿™ä¸ªå‚æ•°çš„è¡Œä¸ºæ˜¯æ‰¾ç›®æ ‡çš„æ„æ€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœç›®æ ‡å­˜åœ¨ï¼Œé‚£ä¹ˆå…¶ä»€ä¹ˆä¹Ÿä¸ä¼šè¾“å‡ºï¼Œå½“ç„¶ä¹Ÿä¸ä¼šæ‰§è¡Œç¼–è¯‘ï¼Œå¦‚æœç›®æ ‡ä¸å­˜åœ¨ï¼Œå…¶ä¼šæ‰“å°å‡ºä¸€æ¡å‡ºé”™ä¿¡æ¯ã€‚</dd>
<dt><code>-W &lt;file&gt;</code>, <code>--what-if=&lt;file&gt;</code>, <code>--assume-new=&lt;file&gt;</code>, <code>--new-file=&lt;file&gt;</code></dt>
<dd>è¿™ä¸ªå‚æ•°éœ€è¦æŒ‡å®šä¸€ä¸ªæ–‡ä»¶ã€‚ä¸€èˆ¬æ˜¯æ˜¯æºæ–‡ä»¶ï¼ˆæˆ–ä¾èµ–æ–‡ä»¶ï¼‰ï¼ŒMakeä¼šæ ¹æ®è§„åˆ™æ¨å¯¼æ¥è¿è¡Œä¾èµ–äºè¿™ä¸ª    æ–‡ä»¶çš„å‘½ä»¤ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œå¯ä»¥å’Œ&quot;-n&quot;å‚æ•°ä¸€åŒä½¿ç”¨ï¼Œæ¥æŸ¥çœ‹è¿™ä¸ªä¾èµ–æ–‡ä»¶æ‰€å‘ç”Ÿçš„è§„åˆ™å‘½ä»¤ã€‚</dd>
</dl>
<p>å¦å¤–ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„ç”¨æ³•æ˜¯ç»“åˆ <code>-p</code> å’Œ <code>-v</code> æ¥è¾“å‡ºmakefileè¢«æ‰§è¡Œæ—¶çš„ä¿¡æ¯ï¼ˆè¿™ä¸ªå°†åœ¨åé¢è®²è¿°ï¼‰ã€‚</p>
<h2 id="85-makeçš„å‚æ•°"><a class="markdownIt-Anchor" href="#85-makeçš„å‚æ•°"></a> 8.5 makeçš„å‚æ•°</h2>
<p>ä¸‹é¢åˆ—ä¸¾äº†æ‰€æœ‰GNU make 3.80ç‰ˆçš„å‚æ•°å®šä¹‰ã€‚å…¶å®ƒç‰ˆæœ¬å’Œäº§å•†çš„makeå¤§åŒå°å¼‚ï¼Œä¸è¿‡å…¶å®ƒäº§å•†çš„makeçš„å…·ä½“å‚æ•°è¿˜æ˜¯è¯·å‚è€ƒå„è‡ªçš„äº§å“æ–‡æ¡£ã€‚</p>
<dl>
<dt><code>-b</code>, <code>-m</code></dt>
<dd>
<p>è¿™ä¸¤ä¸ªå‚æ•°çš„ä½œç”¨æ˜¯å¿½ç•¥å’Œå…¶å®ƒç‰ˆæœ¬makeçš„å…¼å®¹æ€§ã€‚</p>
</dd>
<dt><code>-B</code>, <code>--always-make</code></dt>
<dd>
<p>è®¤ä¸ºæ‰€æœ‰çš„ç›®æ ‡éƒ½éœ€è¦æ›´æ–°ï¼ˆé‡ç¼–è¯‘ï¼‰ã€‚</p>
</dd>
<dt><code>-C &lt;dir&gt;</code>, <code>--directory=&lt;dir&gt;</code></dt>
<dd>
<p>æŒ‡å®šè¯»å–makefileçš„ç›®å½•ã€‚å¦‚æœæœ‰å¤šä¸ª&quot;-C&quot;å‚æ•°ï¼Œmakeçš„è§£é‡Šæ˜¯åé¢çš„è·¯å¾„ä»¥å‰é¢çš„ä½œä¸ºç›¸å¯¹è·¯å¾„ï¼Œå¹¶ä»¥æœ€åçš„ç›®å½•ä½œä¸ºè¢«æŒ‡å®šç›®å½•ã€‚å¦‚ï¼š&quot;make -C ~hchen/test -C  prog&quot;ç­‰ä»·äº â€œmake -C ~hchen/test/progâ€ã€‚</p>
</dd>
<dt><code>-debug[=&lt;options&gt;]</code></dt>
<dd>
<p>è¾“å‡ºmakeçš„è°ƒè¯•ä¿¡æ¯ã€‚å®ƒæœ‰å‡ ç§ä¸åŒçš„çº§åˆ«å¯ä¾›é€‰æ‹©ï¼Œå¦‚æœæ²¡æœ‰å‚æ•°ï¼Œé‚£å°±æ˜¯è¾“å‡ºæœ€ç®€å•çš„è°ƒè¯•ä¿¡æ¯ã€‚ä¸‹é¢æ˜¯&lt;options&gt;çš„å–å€¼ï¼š</p>
<ul>
<li>a: ä¹Ÿå°±æ˜¯allï¼Œè¾“å‡ºæ‰€æœ‰çš„è°ƒè¯•ä¿¡æ¯ã€‚ï¼ˆä¼šéå¸¸çš„å¤šï¼‰</li>
<li>b: ä¹Ÿå°±æ˜¯basicï¼Œåªè¾“å‡ºç®€å•çš„è°ƒè¯•ä¿¡æ¯ã€‚å³è¾“å‡ºä¸éœ€è¦é‡ç¼–è¯‘çš„ç›®æ ‡ã€‚</li>
<li>v: ä¹Ÿå°±æ˜¯verboseï¼Œåœ¨bé€‰é¡¹çš„çº§åˆ«ä¹‹ä¸Šã€‚è¾“å‡ºçš„ä¿¡æ¯åŒ…æ‹¬å“ªä¸ªmakefileè¢«è§£æï¼Œä¸éœ€è¦è¢«é‡ç¼–è¯‘çš„ä¾èµ–æ–‡ä»¶ï¼ˆæˆ–æ˜¯ä¾èµ–ç›®æ ‡ï¼‰ç­‰ã€‚</li>
<li>i: ä¹Ÿå°±æ˜¯implicitï¼Œè¾“å‡ºæ‰€ä»¥çš„éšå«è§„åˆ™ã€‚</li>
<li>j: ä¹Ÿå°±æ˜¯jobsï¼Œè¾“å‡ºæ‰§è¡Œè§„åˆ™ä¸­å‘½ä»¤çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¦‚å‘½ä»¤çš„PIDã€è¿”å›ç ç­‰ã€‚</li>
<li>m: ä¹Ÿå°±æ˜¯makefileï¼Œè¾“å‡ºmakeè¯»å–makefileï¼Œæ›´æ–°makefileï¼Œæ‰§è¡Œmakefileçš„ä¿¡æ¯ã€‚</li>
</ul>
</dd>
<dt><code>-d</code></dt>
<dd>
<p>ç›¸å½“äº&quot;--debug=a&quot;ã€‚</p>
</dd>
<dt><code>-e</code>, <code>--environment-overrides</code></dt>
<dd>
<p>æŒ‡æ˜ç¯å¢ƒå˜é‡çš„å€¼è¦†ç›–makefileä¸­å®šä¹‰çš„å˜é‡çš„å€¼ã€‚</p>
</dd>
<dt><code>-f=&lt;file&gt;</code>, <code>--file=&lt;file&gt;</code>, <code>--makefile=&lt;file&gt;</code></dt>
<dd>
<p>æŒ‡å®šéœ€è¦æ‰§è¡Œçš„makefileã€‚</p>
</dd>
<dt><code>-h</code>, <code>--help</code></dt>
<dd>
<p>æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ã€‚</p>
</dd>
<dt><code>-i</code> , <code>--ignore-errors</code></dt>
<dd>
<p>åœ¨æ‰§è¡Œæ—¶å¿½ç•¥æ‰€æœ‰çš„é”™è¯¯ã€‚</p>
</dd>
<dt><code>-I &lt;dir&gt;</code>, <code>--include-dir=&lt;dir&gt;</code></dt>
<dd>
<p>æŒ‡å®šä¸€ä¸ªè¢«åŒ…å«makefileçš„æœç´¢ç›®æ ‡ã€‚å¯ä»¥ä½¿ç”¨å¤šä¸ª&quot;-I&quot;å‚æ•°æ¥æŒ‡å®šå¤šä¸ªç›®å½•ã€‚</p>
</dd>
<dt><code>-j [&lt;jobsnum&gt;]</code>, <code>--jobs [=&lt;jobsnum&gt;]</code></dt>
<dd>
<p>æŒ‡åŒæ—¶è¿è¡Œå‘½ä»¤çš„ä¸ªæ•°ã€‚å¦‚æœæ²¡æœ‰è¿™ä¸ªå‚æ•°ï¼Œmakeè¿è¡Œå‘½ä»¤æ—¶èƒ½è¿è¡Œå¤šå°‘å°±è¿è¡Œå¤šå°‘ã€‚å¦‚æœæœ‰ä¸€ä¸ªä»¥ä¸Šçš„&quot;-j&quot;å‚æ•°ï¼Œé‚£ä¹ˆä»…æœ€åä¸€ä¸ª&quot;-j&quot;æ‰æ˜¯æœ‰æ•ˆçš„ã€‚ï¼ˆæ³¨æ„è¿™ä¸ªå‚æ•°åœ¨MS-DOSä¸­æ˜¯æ— ç”¨çš„ï¼‰</p>
</dd>
<dt><code>-k</code>, <code>--keep-going</code></dt>
<dd>
<p>å‡ºé”™ä¹Ÿä¸åœæ­¢è¿è¡Œã€‚å¦‚æœç”Ÿæˆä¸€ä¸ªç›®æ ‡å¤±è´¥äº†ï¼Œé‚£ä¹ˆä¾èµ–äºå…¶ä¸Šçš„ç›®æ ‡å°±ä¸ä¼šè¢«æ‰§è¡Œäº†ã€‚</p>
</dd>
<dt><code>-l &lt;load&gt;</code>, <code>--load-average[=&lt;load&gt;]</code>, <code>-max-load[=&lt;load&gt;]</code></dt>
<dd>
<p>æŒ‡å®šmakeè¿è¡Œå‘½ä»¤çš„è´Ÿè½½ã€‚</p>
</dd>
<dt><code>-n</code>, <code>--just-print</code>, <code>--dry-run</code>, <code>--recon</code></dt>
<dd>
<p>ä»…è¾“å‡ºæ‰§è¡Œè¿‡ç¨‹ä¸­çš„å‘½ä»¤åºåˆ—ï¼Œä½†å¹¶ä¸æ‰§è¡Œã€‚</p>
</dd>
<dt><code>-o &lt;file&gt;</code>, <code>--old-file=&lt;file&gt;</code>, <code>--assume-old=&lt;file&gt;</code></dt>
<dd>
<p>ä¸é‡æ–°ç”Ÿæˆçš„æŒ‡å®šçš„<code>&lt;file&gt;</code>ï¼Œå³ä½¿è¿™ä¸ªç›®æ ‡çš„ä¾èµ–æ–‡ä»¶æ–°äºå®ƒã€‚</p>
</dd>
<dt><code>-p</code>, <code>--print-data-base</code></dt>
<dd>
<p>è¾“å‡ºmakefileä¸­çš„æ‰€æœ‰æ•°æ®ï¼ŒåŒ…æ‹¬æ‰€æœ‰çš„è§„åˆ™å’Œå˜é‡ã€‚è¿™ä¸ªå‚æ•°ä¼šè®©ä¸€ä¸ªç®€å•çš„makefileéƒ½ä¼šè¾“å‡º    ä¸€å †ä¿¡æ¯ã€‚å¦‚æœä½ åªæ˜¯æƒ³è¾“å‡ºä¿¡æ¯è€Œä¸æƒ³æ‰§è¡Œmakefileï¼Œä½ å¯ä»¥ä½¿ç”¨&quot;make -qp&quot;å‘½ä»¤ã€‚å¦‚æœä½ æƒ³æŸ¥ çœ‹æ‰§è¡Œmakefileå‰çš„é¢„è®¾å˜é‡å’Œè§„åˆ™ï¼Œä½ å¯ä»¥ä½¿ç”¨&quot;make --p --f /dev/null&quot;ã€‚è¿™ä¸ªå‚æ•°è¾“å‡ºçš„    ä¿¡æ¯ä¼šåŒ…å«ç€ä½ çš„makefileæ–‡ä»¶çš„æ–‡ä»¶åå’Œè¡Œå·ï¼Œæ‰€ä»¥ï¼Œç”¨è¿™ä¸ªå‚æ•°æ¥è°ƒè¯•ä½ çš„ makefileä¼šæ˜¯å¾ˆæœ‰ ç”¨çš„ï¼Œç‰¹åˆ«æ˜¯å½“ä½ çš„ç¯å¢ƒå˜é‡å¾ˆå¤æ‚çš„æ—¶å€™ã€‚</p>
</dd>
<dt><code>-q</code>, <code>--question</code></dt>
<dd>
<p>ä¸è¿è¡Œå‘½ä»¤ï¼Œä¹Ÿä¸è¾“å‡ºã€‚ä»…ä»…æ˜¯æ£€æŸ¥æ‰€æŒ‡å®šçš„ç›®æ ‡æ˜¯å¦éœ€è¦æ›´æ–°ã€‚å¦‚æœæ˜¯0åˆ™è¯´æ˜è¦æ›´æ–°ï¼Œå¦‚æœæ˜¯2åˆ™è¯´    æ˜æœ‰é”™è¯¯å‘ç”Ÿã€‚</p>
</dd>
<dt><code>-r</code>, <code>--no-builtin-rules</code></dt>
<dd>
<p>ç¦æ­¢makeä½¿ç”¨ä»»ä½•éšå«è§„åˆ™ã€‚</p>
</dd>
<dt><code>-R</code>, <code>--no-builtin-variabes</code></dt>
<dd>
<p>ç¦æ­¢makeä½¿ç”¨ä»»ä½•ä½œç”¨äºå˜é‡ä¸Šçš„éšå«è§„åˆ™ã€‚</p>
</dd>
<dt><code>-s</code>, <code>--silent</code>, <code>--quiet</code></dt>
<dd>
<p>åœ¨å‘½ä»¤è¿è¡Œæ—¶ä¸è¾“å‡ºå‘½ä»¤çš„è¾“å‡ºã€‚</p>
</dd>
<dt><code>-S</code>, <code>--no-keep-going</code>, <code>--stop</code></dt>
<dd>
<p>å–æ¶ˆ&quot;-k&quot;é€‰é¡¹çš„ä½œç”¨ã€‚å› ä¸ºæœ‰äº›æ—¶å€™ï¼Œmakeçš„é€‰é¡¹æ˜¯ä»ç¯å¢ƒå˜é‡&quot;MAKEFLAGS&quot;ä¸­ç»§æ‰¿ä¸‹æ¥çš„ã€‚æ‰€ä»¥ä½ å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨è¿™ä¸ªå‚æ•°æ¥è®©ç¯å¢ƒå˜é‡ä¸­çš„&quot;-k&quot;é€‰é¡¹å¤±æ•ˆã€‚</p>
</dd>
<dt><code>-t</code>, <code>--touch</code></dt>
<dd>
<p>ç›¸å½“äºUNIXçš„touchå‘½ä»¤ï¼Œåªæ˜¯æŠŠç›®æ ‡çš„ä¿®æ”¹æ—¥æœŸå˜æˆæœ€æ–°çš„ï¼Œä¹Ÿå°±æ˜¯é˜»æ­¢ç”Ÿæˆç›®æ ‡çš„å‘½ä»¤è¿è¡Œã€‚</p>
</dd>
<dt><code>-v</code>, <code>--version</code></dt>
<dd>
<p>è¾“å‡ºmakeç¨‹åºçš„ç‰ˆæœ¬ã€ç‰ˆæƒç­‰å…³äºmakeçš„ä¿¡æ¯ã€‚</p>
</dd>
<dt><code>-w</code>, <code>--print-directory</code></dt>
<dd>
<p>è¾“å‡ºè¿è¡Œmakefileä¹‹å‰å’Œä¹‹åçš„ä¿¡æ¯ã€‚è¿™ä¸ªå‚æ•°å¯¹äºè·Ÿè¸ªåµŒå¥—å¼è°ƒç”¨makeæ—¶å¾ˆæœ‰ç”¨ã€‚</p>
</dd>
<dt><code>--no-print-directory</code></dt>
<dd>
<p>ç¦æ­¢&quot;-w&quot;é€‰é¡¹ã€‚</p>
</dd>
<dt><code>-W &lt;file&gt;</code>, <code>--what-if=&lt;file&gt;</code>, <code>--new-file=&lt;file&gt;</code>, <code>--assume-file=&lt;file&gt;</code></dt>
<dd>
<p>å‡å®šç›®æ ‡<code>&lt;file&gt;</code>éœ€è¦æ›´æ–°ï¼Œå¦‚æœå’Œ&quot;-n&quot;é€‰é¡¹ä½¿ç”¨ï¼Œé‚£ä¹ˆè¿™ä¸ªå‚æ•°ä¼šè¾“å‡ºè¯¥ç›®æ ‡æ›´æ–°æ—¶çš„è¿è¡ŒåŠ¨ä½œã€‚å¦‚æœæ²¡æœ‰&quot;-n&quot;é‚£ä¹ˆå°±åƒè¿è¡ŒUNIXçš„&quot;touch&quot;å‘½ä»¤ä¸€æ ·ï¼Œä½¿å¾—<code>&lt;file&gt;</code>çš„ä¿®æ”¹æ—¶é—´ä¸ºå½“å‰æ—¶é—´ã€‚</p>
</dd>
<dt><code>--warn-undefined-variables</code></dt>
<dd>
<p>åªè¦makeå‘ç°æœ‰æœªå®šä¹‰çš„å˜é‡ï¼Œé‚£ä¹ˆå°±è¾“å‡ºè­¦å‘Šä¿¡æ¯ã€‚</p>
</dd>
</dl>
<h1 id="9-éšå«è§„åˆ™"><a class="markdownIt-Anchor" href="#9-éšå«è§„åˆ™"></a> 9. éšå«è§„åˆ™</h1>
<p>åœ¨æˆ‘ä»¬ä½¿ç”¨Makefileæ—¶ï¼Œæœ‰ä¸€äº›æˆ‘ä»¬ä¼šç»å¸¸ä½¿ç”¨ï¼Œè€Œä¸”ä½¿ç”¨é¢‘ç‡éå¸¸é«˜çš„ä¸œè¥¿ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬ç¼–è¯‘C/C++çš„æºç¨‹åºä¸ºä¸­é—´ç›®æ ‡æ–‡ä»¶ï¼ˆUnixä¸‹æ˜¯ <code>.o</code> æ–‡ä»¶ï¼ŒWindowsä¸‹æ˜¯ <code>.obj</code> æ–‡ä»¶ï¼‰ã€‚æœ¬ç« è®²è¿°çš„å°±æ˜¯ä¸€äº›åœ¨Makefileä¸­çš„&quot;éšå«çš„&quot;ï¼Œæ—©å…ˆçº¦å®šäº†çš„ï¼Œä¸éœ€è¦æˆ‘ä»¬å†å†™å‡ºæ¥çš„è§„åˆ™ã€‚</p>
<p>&quot;éšå«è§„åˆ™&quot;ä¹Ÿå°±æ˜¯ä¸€ç§æƒ¯ä¾‹ï¼Œmakeä¼šæŒ‰ç…§è¿™ç§&quot;æƒ¯ä¾‹&quot;å¿ƒç…§ä¸å–§åœ°æ¥è¿è¡Œï¼Œé‚£æ€•æˆ‘ä»¬çš„Makefileä¸­æ²¡æœ‰ä¹¦å†™è¿™æ ·çš„è§„åˆ™ã€‚ä¾‹å¦‚ï¼ŒæŠŠ <code>.c</code> æ–‡ä»¶ç¼–è¯‘æˆ <code>.o</code> æ–‡ä»¶è¿™ä¸€è§„åˆ™ï¼Œä½ æ ¹æœ¬å°±ä¸ç”¨å†™å‡ºæ¥ï¼Œmakeä¼šè‡ªåŠ¨æ¨å¯¼å‡ºè¿™ç§è§„åˆ™ï¼Œå¹¶ç”Ÿæˆæˆ‘ä»¬éœ€è¦çš„ <code>.o</code> æ–‡ä»¶ã€‚</p>
<p>&quot;éšå«è§„åˆ™&quot;ä¼šä½¿ç”¨ä¸€äº›æˆ‘ä»¬ç³»ç»Ÿå˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥æ”¹å˜è¿™äº›ç³»ç»Ÿå˜é‡çš„å€¼æ¥å®šåˆ¶éšå«è§„åˆ™çš„è¿è¡Œæ—¶çš„å‚æ•°ã€‚å¦‚ç³»ç»Ÿå˜é‡ <code>CFLAGS</code> å¯ä»¥æ§åˆ¶ç¼–è¯‘æ—¶çš„ç¼–è¯‘å™¨å‚æ•°ã€‚</p>
<p>æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡&quot;æ¨¡å¼è§„åˆ™&quot;çš„æ–¹å¼å†™ä¸‹è‡ªå·±çš„éšå«è§„åˆ™ã€‚ç”¨&quot;åç¼€è§„åˆ™&quot;æ¥å®šä¹‰éšå«è§„åˆ™ä¼šæœ‰è®¸å¤šçš„é™åˆ¶ã€‚ä½¿ç”¨&quot;æ¨¡å¼è§„åˆ™&quot;ä¼šæ˜¾å¾—æ›´æ™ºèƒ½å’Œæ¸…æ¥šï¼Œä½†&quot;åç¼€è§„åˆ™&quot;å¯ä»¥ç”¨æ¥ä¿è¯æˆ‘ä»¬Makefileçš„å…¼å®¹æ€§ã€‚æˆ‘ä»¬äº†è§£äº†&quot;éšå«è§„åˆ™&quot;ï¼Œå¯ä»¥è®©å…¶ä¸ºæˆ‘ä»¬æ›´å¥½çš„æœåŠ¡ï¼Œä¹Ÿä¼šè®©æˆ‘ä»¬çŸ¥é“ä¸€äº›&quot;çº¦å®šä¿—æˆ&quot;äº†çš„ä¸œè¥¿ï¼Œè€Œä¸è‡³äºä½¿å¾—æˆ‘ä»¬åœ¨è¿è¡ŒMakefileæ—¶å‡ºç°ä¸€äº›æˆ‘ä»¬è§‰å¾—è«åå…¶å¦™çš„ä¸œè¥¿ã€‚å½“ç„¶ï¼Œä»»ä½•äº‹ç‰©éƒ½æ˜¯çŸ›ç›¾çš„ï¼Œæ°´èƒ½è½½èˆŸï¼Œäº¦å¯è¦†èˆŸï¼Œæ‰€ä»¥ï¼Œæœ‰æ—¶å€™&quot;éšå«è§„åˆ™&quot;ä¹Ÿä¼šç»™æˆ‘ä»¬é€ æˆä¸å°çš„éº»çƒ¦ã€‚åªæœ‰äº†è§£äº†å®ƒï¼Œæˆ‘ä»¬æ‰èƒ½æ›´å¥½åœ°ä½¿ç”¨å®ƒã€‚</p>
<h2 id="91-ä½¿ç”¨éšå«è§„åˆ™"><a class="markdownIt-Anchor" href="#91-ä½¿ç”¨éšå«è§„åˆ™"></a> 9.1 ä½¿ç”¨éšå«è§„åˆ™</h2>
<p>å¦‚æœè¦ä½¿ç”¨éšå«è§„åˆ™ç”Ÿæˆä½ éœ€è¦çš„ç›®æ ‡ï¼Œä½ æ‰€éœ€è¦åšçš„å°±æ˜¯ä¸è¦å†™å‡ºè¿™ä¸ªç›®æ ‡çš„è§„åˆ™ã€‚é‚£ä¹ˆï¼Œmakeä¼šè¯•å›¾å»è‡ªåŠ¨æ¨å¯¼äº§ç”Ÿè¿™ä¸ªç›®æ ‡çš„è§„åˆ™å’Œå‘½ä»¤ï¼Œå¦‚æœmakeå¯ä»¥è‡ªåŠ¨æ¨å¯¼ç”Ÿæˆè¿™ä¸ªç›®æ ‡çš„è§„åˆ™å’Œå‘½ä»¤ï¼Œé‚£ä¹ˆè¿™ä¸ªè¡Œä¸ºå°±æ˜¯éšå«è§„åˆ™çš„è‡ªåŠ¨æ¨å¯¼ã€‚å½“ç„¶ï¼Œéšå«è§„åˆ™æ˜¯makeäº‹å…ˆçº¦å®šå¥½çš„ä¸€äº›ä¸œè¥¿ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸‹é¢çš„ä¸€ä¸ªMakefileï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">foo : foo.o bar.o</span><br><span class="line">&gt;  cc â€“o foo foo.o bar.o <span class="variable">$(CFLAGS)</span> <span class="variable">$(LDFLAGS)</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯ä»¥æ³¨æ„åˆ°ï¼Œè¿™ä¸ªMakefileä¸­å¹¶æ²¡æœ‰å†™ä¸‹å¦‚ä½•ç”Ÿæˆ <code>foo.o</code> å’Œ <code>bar.o</code> è¿™ä¸¤ç›®æ ‡çš„è§„åˆ™å’Œå‘½ä»¤ã€‚å› ä¸ºmakeçš„&quot;éšå«è§„åˆ™&quot;åŠŸèƒ½ä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬è‡ªåŠ¨å»æ¨å¯¼è¿™ä¸¤ä¸ªç›®æ ‡çš„ä¾èµ–ç›®æ ‡å’Œç”Ÿæˆå‘½ä»¤ã€‚</p>
<p>makeä¼šåœ¨è‡ªå·±çš„&quot;éšå«è§„åˆ™&quot;åº“ä¸­å¯»æ‰¾å¯ä»¥ç”¨çš„è§„åˆ™ï¼Œå¦‚æœæ‰¾åˆ°ï¼Œé‚£ä¹ˆå°±ä¼šä½¿ç”¨ã€‚å¦‚æœæ‰¾ä¸åˆ°ï¼Œé‚£ä¹ˆå°±ä¼šæŠ¥é”™ã€‚åœ¨ä¸Šé¢çš„é‚£ä¸ªä¾‹å­ä¸­ï¼Œmakeè°ƒç”¨çš„éšå«è§„åˆ™æ˜¯ï¼ŒæŠŠ <code>.o</code> çš„ç›®æ ‡çš„ä¾èµ–æ–‡ä»¶ç½®æˆ <code>.c</code> ï¼Œå¹¶ä½¿ç”¨Cçš„ ç¼–è¯‘å‘½ä»¤ <code>cc â€“c $(CFLAGS)  foo.c</code> æ¥ç”Ÿæˆ <code>foo.o</code> çš„ç›®æ ‡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å®Œå…¨æ²¡æœ‰å¿…è¦ å†™ä¸‹ä¸‹é¢çš„ä¸¤æ¡è§„åˆ™ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">foo.o : foo.c</span><br><span class="line">&gt;  cc â€“c foo.c <span class="variable">$(CFLAGS)</span></span><br><span class="line">bar.o : bar.c</span><br><span class="line">&gt;  cc â€“c bar.c <span class="variable">$(CFLAGS)</span></span><br></pre></td></tr></table></figure>
<p>å› ä¸ºï¼Œè¿™å·²ç»æ˜¯&quot;çº¦å®š&quot;å¥½äº†çš„äº‹äº†ï¼Œmakeå’Œæˆ‘ä»¬çº¦å®šå¥½äº†ç”¨Cç¼–è¯‘å™¨ <code>cc</code> ç”Ÿæˆ <code>.o</code> æ–‡ä»¶çš„è§„åˆ™ï¼Œ è¿™å°±æ˜¯éšå«è§„åˆ™ã€‚</p>
<p>å½“ç„¶ï¼Œå¦‚æœæˆ‘ä»¬ä¸º <code>.o</code> æ–‡ä»¶ä¹¦å†™äº†è‡ªå·±çš„è§„åˆ™ï¼Œé‚£ä¹ˆmakeå°±ä¸ä¼šè‡ªåŠ¨æ¨å¯¼å¹¶è°ƒç”¨éšå«è§„åˆ™ï¼Œå®ƒä¼šæŒ‰ç…§æˆ‘ä»¬å†™å¥½çš„è§„åˆ™å¿ å®åœ°æ‰§è¡Œã€‚</p>
<p>è¿˜æœ‰ï¼Œåœ¨makeçš„&quot;éšå«è§„åˆ™åº“&quot;ä¸­ï¼Œæ¯ä¸€æ¡éšå«è§„åˆ™éƒ½åœ¨åº“ä¸­æœ‰å…¶é¡ºåºï¼Œè¶Šé å‰çš„åˆ™æ˜¯è¶Šè¢«ç»å¸¸ä½¿ç”¨çš„ï¼Œæ‰€ä»¥ï¼Œè¿™ä¼šå¯¼è‡´æˆ‘ä»¬æœ‰äº›æ—¶å€™å³ä½¿æˆ‘ä»¬æ˜¾ç¤ºåœ°æŒ‡å®šäº†ç›®æ ‡ä¾èµ–ï¼Œmakeä¹Ÿä¸ä¼šç®¡ã€‚å¦‚ä¸‹é¢è¿™æ¡è§„åˆ™ï¼ˆæ²¡æœ‰å‘½ä»¤ï¼‰ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">foo.o : foo.p</span><br></pre></td></tr></table></figure>
<p>ä¾èµ–æ–‡ä»¶ <code>foo.p</code><br />
ï¼ˆPascalç¨‹åºçš„æºæ–‡ä»¶ï¼‰æœ‰å¯èƒ½å˜å¾—æ²¡æœ‰æ„ä¹‰ã€‚å¦‚æœç›®å½•ä¸‹å­˜åœ¨äº† <code>foo.c</code> æ–‡ä»¶ï¼Œ é‚£ä¹ˆæˆ‘ä»¬çš„éšå«è§„åˆ™ä¸€æ ·ä¼šç”Ÿæ•ˆï¼Œå¹¶ä¼šé€šè¿‡ <code>foo.c</code> è°ƒç”¨Cçš„ç¼–è¯‘å™¨ç”Ÿæˆ <code>foo.o</code> æ–‡ä»¶ã€‚å› ä¸ºï¼Œåœ¨éšå«è§„åˆ™ä¸­ï¼ŒPascalçš„è§„åˆ™å‡ºç°åœ¨Cçš„è§„åˆ™ä¹‹åï¼Œæ‰€ä»¥ï¼Œmakeæ‰¾åˆ°å¯ä»¥ç”Ÿæˆ<code>foo.o</code> çš„Cçš„è§„åˆ™å°±ä¸å†å¯»æ‰¾ä¸‹ä¸€æ¡è§„åˆ™äº†ã€‚å¦‚æœä½ ç¡®å®ä¸å¸Œæœ›ä»»ä½•éšå«è§„åˆ™æ¨å¯¼ï¼Œé‚£ä¹ˆï¼Œä½ å°±ä¸è¦åªå†™å‡º&quot;ä¾èµ–è§„åˆ™&quot;ï¼Œè€Œä¸å†™å‘½ä»¤ã€‚</p>
<h2 id="92-éšå«è§„åˆ™ä¸€è§ˆ"><a class="markdownIt-Anchor" href="#92-éšå«è§„åˆ™ä¸€è§ˆ"></a> 9.2 éšå«è§„åˆ™ä¸€è§ˆ</h2>
<p>è¿™é‡Œæˆ‘ä»¬å°†è®²è¿°æ‰€æœ‰é¢„å…ˆè®¾ç½®ï¼ˆä¹Ÿå°±æ˜¯makeå†…å»ºï¼‰çš„éšå«è§„åˆ™ï¼Œå¦‚æœæˆ‘ä»¬ä¸æ˜ç¡®åœ°å†™ä¸‹è§„åˆ™ï¼Œé‚£ä¹ˆï¼Œmakeå°±ä¼šåœ¨è¿™äº›è§„åˆ™ä¸­å¯»æ‰¾æ‰€éœ€è¦è§„åˆ™å’Œå‘½ä»¤ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨makeçš„å‚æ•° <code>-r</code> æˆ– <code>--no-builtin-rules</code> é€‰é¡¹æ¥å–æ¶ˆæ‰€æœ‰çš„é¢„è®¾ç½®çš„éšå«è§„åˆ™ã€‚</p>
<p>å½“ç„¶ï¼Œå³ä½¿æ˜¯æˆ‘ä»¬æŒ‡å®šäº† <code>-r</code> å‚æ•°ï¼ŒæŸäº›éšå«è§„åˆ™è¿˜æ˜¯ä¼šç”Ÿæ•ˆï¼Œå› ä¸ºæœ‰è®¸å¤šçš„éšå«è§„åˆ™éƒ½æ˜¯ä½¿ç”¨äº†&quot;åç¼€è§„åˆ™&quot;æ¥å®šä¹‰çš„ï¼Œæ‰€ä»¥ï¼Œåªè¦éšå«è§„åˆ™ä¸­æœ‰&quot;åç¼€åˆ—è¡¨&quot;ï¼ˆä¹Ÿå°±ä¸€ç³»ç»Ÿå®šä¹‰åœ¨ç›®æ ‡ <code>.SUFFIXES</code> çš„ä¾èµ–ç›®æ ‡ï¼‰ï¼Œé‚£ä¹ˆéšå«è§„åˆ™å°±ä¼šç”Ÿæ•ˆã€‚é»˜è®¤çš„åç¼€åˆ—è¡¨æ˜¯ï¼š .out, .a, .ln, .o, .c, .cc, .C, .p, .f, .F, .r, .y, .l, .s, .S, .mod, .sym, .def, .h, .info, .dvi, .tex, .texinfo, .texi, .txinfo, .w, .ch .web, .sh, .elc, .elã€‚ å…·ä½“çš„ç»†èŠ‚ï¼Œæˆ‘ä»¬ä¼šåœ¨åé¢è®²è¿°ã€‚</p>
<p>è¿˜æ˜¯å…ˆæ¥çœ‹ä¸€çœ‹å¸¸ç”¨çš„éšå«è§„åˆ™å§ã€‚</p>
<ol>
<li>
<p>ç¼–è¯‘Cç¨‹åºçš„éšå«è§„åˆ™ã€‚</p>
<p><code>&lt;n&gt;.o</code> çš„ç›®æ ‡çš„ä¾èµ–ç›®æ ‡ä¼šè‡ªåŠ¨æ¨å¯¼ä¸º <code>&lt;n&gt;.c</code> ï¼Œå¹¶ä¸”å…¶ç”Ÿæˆå‘½ä»¤æ˜¯ <code>$(CC) â€“c $(CPPFLAGS) $(CFLAGS)</code></p>
</li>
<li>
<p>ç¼–è¯‘C++ç¨‹åºçš„éšå«è§„åˆ™ã€‚</p>
<p><code>&lt;n&gt;.o</code> çš„ç›®æ ‡çš„ä¾èµ–ç›®æ ‡ä¼šè‡ªåŠ¨æ¨å¯¼ä¸º <code>&lt;n&gt;.cc</code> æˆ–æ˜¯ <code>&lt;n&gt;.C</code> ï¼Œå¹¶ä¸”å…¶ç”Ÿæˆå‘½ä»¤æ˜¯ <code>$(CXX) â€“c $(CPPFLAGS) $(CXXFLAGS)</code> ã€‚ï¼ˆå»ºè®®ä½¿ç”¨ <code>.cc</code> ä½œä¸ºC++æºæ–‡ä»¶çš„åç¼€ï¼Œè€Œä¸æ˜¯ <code>.C</code> ï¼‰</p>
</li>
<li>
<p>ç¼–è¯‘Pascalç¨‹åºçš„éšå«è§„åˆ™ã€‚</p>
<p><code>&lt;n&gt;.o</code> çš„ç›®æ ‡çš„ä¾èµ–ç›®æ ‡ä¼šè‡ªåŠ¨æ¨å¯¼ä¸º <code>&lt;n&gt;.p</code> ï¼Œå¹¶ä¸”å…¶ç”Ÿæˆå‘½ä»¤æ˜¯ <code>$(PC) â€“c  $(PFLAGS)</code> ã€‚</p>
</li>
<li>
<p>ç¼–è¯‘Fortran/Ratforç¨‹åºçš„éšå«è§„åˆ™ã€‚</p>
<p><code>&lt;n&gt;.o</code> çš„ç›®æ ‡çš„ä¾èµ–ç›®æ ‡ä¼šè‡ªåŠ¨æ¨å¯¼ä¸º <code>&lt;n&gt;.r</code> æˆ– <code>&lt;n&gt;.F</code> æˆ– <code>&lt;n&gt;.f</code>ï¼Œå¹¶ä¸”å…¶ç”Ÿæˆå‘½ä»¤æ˜¯:</p>
<ul>
<li><code>.f</code> <code>$(FC) â€“c  $(FFLAGS)</code></li>
<li><code>.F</code> <code>$(FC) â€“c  $(FFLAGS) $(CPPFLAGS)</code></li>
<li><code>.f</code> <code>$(FC) â€“c  $(FFLAGS) $(RFLAGS)</code></li>
</ul>
</li>
<li>
<p>é¢„å¤„ç†Fortran/Ratforç¨‹åºçš„éšå«è§„åˆ™ã€‚</p>
<p><code>&lt;n&gt;.f</code> çš„ç›®æ ‡çš„ä¾èµ–ç›®æ ‡ä¼šè‡ªåŠ¨æ¨å¯¼ä¸º <code>&lt;n&gt;.r</code> æˆ– <code>&lt;n&gt;.F</code> ã€‚è¿™ä¸ªè§„åˆ™åªæ˜¯è½¬æ¢Ratforæˆ–æœ‰é¢„å¤„ç†çš„Fortranç¨‹åºåˆ°ä¸€ä¸ªæ ‡å‡†çš„Fortranç¨‹åºã€‚å…¶ä½¿ç”¨çš„å‘½ä»¤æ˜¯ï¼š</p>
<ul>
<li><code>.F</code> <code>$(FC) â€“F $(CPPFLAGS) $(FFLAGS)</code></li>
<li><code>.r</code> <code>$(FC) â€“F $(FFLAGS) $(RFLAGS)</code></li>
</ul>
</li>
<li>
<p>ç¼–è¯‘Modula-2ç¨‹åºçš„éšå«è§„åˆ™ã€‚</p>
<p><code>&lt;n&gt;.sym</code> çš„ç›®æ ‡çš„ä¾èµ–ç›®æ ‡ä¼šè‡ªåŠ¨æ¨å¯¼ä¸º <code>&lt;n&gt;.def</code>ï¼Œå¹¶ä¸”å…¶ç”Ÿæˆå‘½ä»¤æ˜¯ï¼š <code>$(M2C) $(M2FLAGS) $(DEFFLAGS)</code> ã€‚ <code>&lt;n&gt;.o</code>çš„ç›®æ ‡çš„ä¾èµ–ç›®æ ‡ä¼šè‡ªåŠ¨æ¨å¯¼ä¸º <code>&lt;n&gt;.mod</code> ï¼Œ å¹¶ä¸”å…¶ç”Ÿæˆå‘½ä»¤æ˜¯ï¼š <code>$(M2C) $(M2FLAGS) $(MODFLAGS)</code> ã€‚</p>
</li>
<li>
<p>æ±‡ç¼–å’Œæ±‡ç¼–é¢„å¤„ç†çš„éšå«è§„åˆ™ã€‚</p>
<p><code>&lt;n&gt;.o</code> çš„ç›®æ ‡çš„ä¾èµ–ç›®æ ‡ä¼šè‡ªåŠ¨æ¨å¯¼ä¸º <code>&lt;n&gt;.s</code> ï¼Œé»˜è®¤ä½¿ç”¨ç¼–è¯‘å™¨ <code>as</code>ï¼Œå¹¶ä¸”å…¶ç”Ÿæˆ å‘½ä»¤æ˜¯ï¼š <code>$ (AS) $(ASFLAGS)</code> ã€‚ <code>&lt;n&gt;.s</code>çš„ç›®æ ‡çš„ä¾èµ–ç›®æ ‡ä¼šè‡ªåŠ¨æ¨å¯¼ä¸º <code>&lt;n&gt;.S</code> ï¼Œ é»˜è®¤ä½¿ç”¨Cé¢„ç¼–è¯‘å™¨ <code>cpp</code> ï¼Œå¹¶ä¸”å…¶ç”Ÿæˆå‘½ä»¤æ˜¯ï¼š <code>$(AS) $(ASFLAGS)</code> ã€‚</p>
</li>
<li>
<p>é“¾æ¥Objectæ–‡ä»¶çš„éšå«è§„åˆ™ã€‚</p>
<p><code>&lt;n&gt;</code> ç›®æ ‡ä¾èµ–äº <code>&lt;n&gt;.o</code>ï¼Œé€šè¿‡è¿è¡ŒCçš„ç¼–è¯‘å™¨æ¥è¿è¡Œé“¾æ¥ç¨‹åºç”Ÿæˆï¼ˆä¸€èˆ¬æ˜¯ <code>ld</code> ï¼‰ï¼Œå…¶ç”Ÿæˆå‘½ä»¤æ˜¯ï¼š <code>$(CC) $(LDFLAGS) &lt;n&gt;.o $(LOADLIBES) $(LDLIBS)</code>ã€‚è¿™ä¸ªè§„åˆ™å¯¹äºåªæœ‰ä¸€ä¸ªæºæ–‡ä»¶çš„å·¥ç¨‹æœ‰æ•ˆï¼ŒåŒæ—¶ä¹Ÿå¯¹å¤šä¸ªObjectæ–‡ä»¶ï¼ˆç”±ä¸åŒçš„æºæ–‡ä»¶ç”Ÿæˆï¼‰çš„ä¹Ÿæœ‰æ•ˆã€‚ä¾‹å¦‚å¦‚ä¸‹è§„åˆ™:</p>
<pre><code>x : y.o z.o
</code></pre>
<p>å¹¶ä¸” <code>x.c</code> ã€ <code>y.c</code> å’Œ <code>z.c</code> éƒ½å­˜åœ¨æ—¶ï¼Œéšå«è§„åˆ™å°†æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤:</p>
<pre><code>cc -c x.c -o x.o
cc -c y.c -o y.o
cc -c z.c -o z.o
cc x.o y.o z.o -o x
rm -f x.o
rm -f y.o
rm -f z.o
</code></pre>
<p>å¦‚æœæ²¡æœ‰ä¸€ä¸ªæºæ–‡ä»¶ï¼ˆå¦‚ä¸Šä¾‹ä¸­çš„x.cï¼‰å’Œä½ çš„ç›®æ ‡åå­—ï¼ˆå¦‚ä¸Šä¾‹ä¸­çš„xï¼‰ç›¸å…³è”ï¼Œé‚£ä¹ˆï¼Œä½ æœ€å¥½å†™å‡ºè‡ªå·±çš„ç”Ÿæˆè§„åˆ™ï¼Œä¸ç„¶ï¼Œéšå«è§„åˆ™ä¼šæŠ¥é”™çš„ã€‚</p>
</li>
<li>
<p>Yacc Cç¨‹åºæ—¶çš„éšå«è§„åˆ™ã€‚</p>
<p><code>&lt;n&gt;.c</code> çš„ä¾èµ–æ–‡ä»¶è¢«è‡ªåŠ¨æ¨å¯¼ä¸º <code>n.y</code>ï¼ˆYaccç”Ÿæˆçš„æ–‡ä»¶ï¼‰ï¼Œå…¶ç”Ÿæˆå‘½ä»¤æ˜¯ï¼š <code>$(YACC) $(YFALGS)</code> ã€‚ï¼ˆ&quot;Yacc&quot;æ˜¯ä¸€ä¸ªè¯­æ³•åˆ†æå™¨ï¼Œå…³äºå…¶ç»†èŠ‚è¯·æŸ¥çœ‹ç›¸å…³èµ„æ–™ï¼‰</p>
</li>
<li>
<p>Lex Cç¨‹åºæ—¶çš„éšå«è§„åˆ™ã€‚</p>
<p><code>&lt;n&gt;.c</code> çš„ä¾èµ–æ–‡ä»¶è¢«è‡ªåŠ¨æ¨å¯¼ä¸º <code>n.l</code> Lexç”Ÿæˆçš„æ–‡ä»¶ï¼‰ï¼Œå…¶ç”Ÿæˆå‘½ä»¤æ˜¯ï¼š <code>$(LEX) $(LFALGS)</code> ã€‚ï¼ˆå…³äº&quot;Lex&quot;çš„ç»†èŠ‚è¯·æŸ¥çœ‹ç›¸å…³èµ„æ–™ï¼‰</p>
</li>
<li>
<p>Lex Ratforç¨‹åºæ—¶çš„éšå«è§„åˆ™ã€‚</p>
<p><code>&lt;n&gt;.r</code> çš„ä¾èµ–æ–‡ä»¶è¢«è‡ªåŠ¨æ¨å¯¼ä¸º <code>n.l</code>ï¼ˆLexç”Ÿæˆçš„æ–‡ä»¶ï¼‰ï¼Œå…¶ç”Ÿæˆå‘½ä»¤æ˜¯ï¼š <code>$(LEX) $(LFALGS)</code> ã€‚</p>
</li>
<li>
<p>ä»Cç¨‹åºã€Yaccæ–‡ä»¶æˆ–Lexæ–‡ä»¶åˆ›å»ºLintåº“çš„éšå«è§„åˆ™ã€‚</p>
<p><code>&lt;n&gt;.ln</code> ï¼ˆlintç”Ÿæˆçš„æ–‡ä»¶ï¼‰çš„ä¾èµ–æ–‡ä»¶è¢«è‡ªåŠ¨æ¨å¯¼ä¸º <code>n.c</code>ï¼Œå…¶ç”Ÿæˆå‘½ä»¤æ˜¯ï¼š <code>$(LINT) $(LINTFALGS) $(CPPFLAGS) -i</code> ã€‚å¯¹äº <code>&lt;n&gt;.y</code> å’Œ <code>&lt;n&gt;.l</code> ä¹Ÿæ˜¯åŒæ ·çš„è§„åˆ™ã€‚</p>
</li>
</ol>
<h2 id="93-éšå«è§„åˆ™ä½¿ç”¨çš„å˜é‡"><a class="markdownIt-Anchor" href="#93-éšå«è§„åˆ™ä½¿ç”¨çš„å˜é‡"></a> 9.3 éšå«è§„åˆ™ä½¿ç”¨çš„å˜é‡</h2>
<p>åœ¨éšå«è§„åˆ™ä¸­çš„å‘½ä»¤ä¸­ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ä½¿ç”¨äº†ä¸€äº›é¢„å…ˆè®¾ç½®çš„å˜é‡ã€‚ä½ å¯ä»¥åœ¨ä½ çš„makefileä¸­æ”¹å˜è¿™äº›å˜é‡çš„å€¼ï¼Œæˆ–æ˜¯åœ¨makeçš„å‘½ä»¤è¡Œä¸­ä¼ å…¥è¿™äº›å€¼ï¼Œæˆ–æ˜¯åœ¨ä½ çš„ç¯å¢ƒå˜é‡ä¸­è®¾ç½®è¿™äº›å€¼ï¼Œæ— è®ºæ€ä¹ˆæ ·ï¼Œåªè¦è®¾ç½®äº†è¿™äº›ç‰¹å®šçš„å˜é‡ï¼Œé‚£ä¹ˆå…¶å°±ä¼šå¯¹éšå«è§„åˆ™èµ·ä½œç”¨ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥åˆ©ç”¨makeçš„ <code>-R</code> æˆ– <code>--noâ€“builtin-variables</code> å‚æ•°æ¥å–æ¶ˆä½ æ‰€å®šä¹‰çš„å˜é‡å¯¹éšå«è§„åˆ™çš„ä½œç”¨ã€‚</p>
<p>ä¾‹å¦‚ï¼Œç¬¬ä¸€æ¡éšå«è§„åˆ™------ç¼–è¯‘Cç¨‹åºçš„éšå«è§„åˆ™çš„å‘½ä»¤æ˜¯ <code>$(CC) â€“c $(CFLAGS) $(CPPFLAGS)</code> ã€‚ Makeé»˜è®¤çš„ç¼–è¯‘å‘½ä»¤æ˜¯ <code>cc</code><br />
ï¼Œå¦‚æœä½ æŠŠå˜é‡ <code>$(CC)</code> é‡å®šä¹‰æˆ <code>gcc</code> ï¼ŒæŠŠå˜é‡ <code>$(CFLAGS)</code> é‡å®šä¹‰æˆ <code>-g</code> ï¼Œé‚£ä¹ˆï¼Œéšå«è§„åˆ™ä¸­çš„å‘½ä»¤å…¨éƒ¨ä¼šä»¥ <code>gcc â€“c -g $(CPPFLAGS)</code> çš„æ ·å­æ¥æ‰§è¡Œäº†ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥æŠŠéšå«è§„åˆ™ä¸­ä½¿ç”¨çš„å˜é‡åˆ†æˆä¸¤ç§ï¼šä¸€ç§æ˜¯å‘½ä»¤ç›¸å…³çš„ï¼Œå¦‚ <code>CC</code> ï¼›ä¸€ç§æ˜¯å‚æ•°ç›¸çš„å…³ï¼Œå¦‚ <code>CFLAGS</code> ã€‚ä¸‹é¢æ˜¯æ‰€æœ‰éšå«è§„åˆ™ä¸­ä¼šç”¨åˆ°çš„å˜é‡ï¼š</p>
<h3 id="931-å…³äºå‘½ä»¤çš„å˜é‡"><a class="markdownIt-Anchor" href="#931-å…³äºå‘½ä»¤çš„å˜é‡"></a> 9.3.1 å…³äºå‘½ä»¤çš„å˜é‡ã€‚</h3>
<ul>
<li><code>AR</code> : å‡½æ•°åº“æ‰“åŒ…ç¨‹åºã€‚é»˜è®¤å‘½ä»¤æ˜¯ <code>ar</code></li>
<li><code>AS</code> : æ±‡ç¼–è¯­è¨€ç¼–è¯‘ç¨‹åºã€‚é»˜è®¤å‘½ä»¤æ˜¯ <code>as</code></li>
<li><code>CC</code> : Cè¯­è¨€ç¼–è¯‘ç¨‹åºã€‚é»˜è®¤å‘½ä»¤æ˜¯ <code>cc</code></li>
<li><code>CXX</code> : C++è¯­è¨€ç¼–è¯‘ç¨‹åºã€‚é»˜è®¤å‘½ä»¤æ˜¯ <code>g++</code></li>
<li><code>CO</code> : ä» RCSæ–‡ä»¶ä¸­æ‰©å±•æ–‡ä»¶ç¨‹åºã€‚é»˜è®¤å‘½ä»¤æ˜¯ <code>co</code></li>
<li><code>CPP</code> : Cç¨‹åºçš„é¢„å¤„ç†å™¨ï¼ˆè¾“å‡ºæ˜¯æ ‡å‡†è¾“å‡ºè®¾å¤‡ï¼‰ã€‚é»˜è®¤å‘½ä»¤æ˜¯ <code>$(CC) â€“E</code></li>
<li><code>FC</code> : Fortran å’Œ Ratfor çš„ç¼–è¯‘å™¨å’Œé¢„å¤„ç†ç¨‹åºã€‚é»˜è®¤å‘½ä»¤æ˜¯ <code>f77</code></li>
<li><code>GET</code> : ä»SCCSæ–‡ä»¶ä¸­æ‰©å±•æ–‡ä»¶çš„ç¨‹åºã€‚é»˜è®¤å‘½ä»¤æ˜¯ <code>get</code></li>
<li><code>LEX</code> : Lexæ–¹æ³•åˆ†æå™¨ç¨‹åºï¼ˆé’ˆå¯¹äºCæˆ–Ratforï¼‰ã€‚é»˜è®¤å‘½ä»¤æ˜¯ <code>lex</code></li>
<li><code>PC</code> : Pascalè¯­è¨€ç¼–è¯‘ç¨‹åºã€‚é»˜è®¤å‘½ä»¤æ˜¯ <code>pc</code></li>
<li><code>YACC</code> : Yaccæ–‡æ³•åˆ†æå™¨ï¼ˆé’ˆå¯¹äºCç¨‹åºï¼‰ã€‚é»˜è®¤å‘½ä»¤æ˜¯ <code>yacc</code></li>
<li><code>YACCR</code> : Yaccæ–‡æ³•åˆ†æå™¨ï¼ˆé’ˆå¯¹äºRatforç¨‹åºï¼‰ã€‚é»˜è®¤å‘½ä»¤æ˜¯ <code>yacc â€“r</code></li>
<li><code>MAKEINFO</code> : è½¬æ¢Texinfoæºæ–‡ä»¶ï¼ˆ.texiï¼‰åˆ°Infoæ–‡ä»¶ç¨‹åºã€‚é»˜è®¤å‘½ä»¤æ˜¯<br />
<code>makeinfo</code></li>
<li><code>TEX</code> : ä»TeXæºæ–‡ä»¶åˆ›å»ºTeX DVIæ–‡ä»¶çš„ç¨‹åºã€‚é»˜è®¤å‘½ä»¤æ˜¯ <code>tex</code></li>
<li><code>TEXI2DVI</code> : ä»Texinfoæºæ–‡ä»¶åˆ›å»ºå†›TeX DVI æ–‡ä»¶çš„ç¨‹åºã€‚é»˜è®¤å‘½ä»¤æ˜¯<br />
<code>texi2dvi</code></li>
<li><code>WEAVE</code> : è½¬æ¢Webåˆ°TeXçš„ç¨‹åºã€‚é»˜è®¤å‘½ä»¤æ˜¯ <code>weave</code></li>
<li><code>CWEAVE</code> : è½¬æ¢C Web åˆ° TeXçš„ç¨‹åºã€‚é»˜è®¤å‘½ä»¤æ˜¯ <code>cweave</code></li>
<li><code>TANGLE</code> : è½¬æ¢Webåˆ°Pascalè¯­è¨€çš„ç¨‹åºã€‚é»˜è®¤å‘½ä»¤æ˜¯ <code>tangle</code></li>
<li><code>CTANGLE</code> : è½¬æ¢C Web åˆ° Cã€‚é»˜è®¤å‘½ä»¤æ˜¯ <code>ctangle</code></li>
<li><code>RM</code> : åˆ é™¤æ–‡ä»¶å‘½ä»¤ã€‚é»˜è®¤å‘½ä»¤æ˜¯ <code>rm â€“f</code></li>
</ul>
<h3 id="932-å…³äºå‘½ä»¤å‚æ•°çš„å˜é‡"><a class="markdownIt-Anchor" href="#932-å…³äºå‘½ä»¤å‚æ•°çš„å˜é‡"></a> 9.3.2 å…³äºå‘½ä»¤å‚æ•°çš„å˜é‡</h3>
<p>ä¸‹é¢çš„è¿™äº›å˜é‡éƒ½æ˜¯ç›¸å…³ä¸Šé¢çš„å‘½ä»¤çš„å‚æ•°ã€‚å¦‚æœæ²¡æœ‰æŒ‡æ˜å…¶é»˜è®¤å€¼ï¼Œé‚£ä¹ˆå…¶é»˜è®¤å€¼éƒ½æ˜¯ç©ºã€‚</p>
<ul>
<li><code>ARFLAGS</code> : å‡½æ•°åº“æ‰“åŒ…ç¨‹åºARå‘½ä»¤çš„å‚æ•°ã€‚é»˜è®¤å€¼æ˜¯ <code>rv</code></li>
<li><code>ASFLAGS</code> : æ±‡ç¼–è¯­è¨€ç¼–è¯‘å™¨å‚æ•°ã€‚ï¼ˆå½“æ˜æ˜¾åœ°è°ƒç”¨ <code>.s</code> æˆ– <code>.S</code> æ–‡ä»¶æ—¶ï¼‰</li>
<li><code>CFLAGS</code> : Cè¯­è¨€ç¼–è¯‘å™¨å‚æ•°ã€‚</li>
<li><code>CXXFLAGS</code> : C++è¯­è¨€ç¼–è¯‘å™¨å‚æ•°ã€‚</li>
<li><code>COFLAGS</code> : RCSå‘½ä»¤å‚æ•°ã€‚</li>
<li><code>CPPFLAGS</code> : Cé¢„å¤„ç†å™¨å‚æ•°ã€‚ï¼ˆ C å’Œ Fortran ç¼–è¯‘å™¨ä¹Ÿä¼šç”¨åˆ°ï¼‰ã€‚</li>
<li><code>FFLAGS</code> : Fortranè¯­è¨€ç¼–è¯‘å™¨å‚æ•°ã€‚</li>
<li><code>GFLAGS</code> : SCCS &quot;get&quot;ç¨‹åºå‚æ•°ã€‚</li>
<li><code>LDFLAGS</code> : é“¾æ¥å™¨å‚æ•°ã€‚ï¼ˆå¦‚ï¼š <code>ld</code> ï¼‰</li>
<li><code>LFLAGS</code> : Lexæ–‡æ³•åˆ†æå™¨å‚æ•°ã€‚</li>
<li><code>PFLAGS</code> : Pascalè¯­è¨€ç¼–è¯‘å™¨å‚æ•°ã€‚</li>
<li><code>RFLAGS</code> : Ratfor ç¨‹åºçš„Fortran ç¼–è¯‘å™¨å‚æ•°ã€‚</li>
<li><code>YFLAGS</code> : Yaccæ–‡æ³•åˆ†æå™¨å‚æ•°ã€‚</li>
</ul>
<h2 id="94-éšå«è§„åˆ™é“¾"><a class="markdownIt-Anchor" href="#94-éšå«è§„åˆ™é“¾"></a> 9.4 éšå«è§„åˆ™é“¾</h2>
<p>æœ‰äº›æ—¶å€™ï¼Œä¸€ä¸ªç›®æ ‡å¯èƒ½è¢«ä¸€ç³»åˆ—çš„éšå«è§„åˆ™æ‰€ä½œç”¨ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ª <code>.o</code> çš„æ–‡ä»¶ç”Ÿæˆï¼Œå¯èƒ½ä¼šæ˜¯å…ˆè¢« Yaccçš„[.y]æ–‡ä»¶å…ˆæˆ <code>.c</code> ï¼Œç„¶åå†è¢«Cçš„ç¼–è¯‘å™¨ç”Ÿæˆã€‚æˆ‘ä»¬æŠŠè¿™ä¸€ç³»åˆ—çš„éšå«è§„åˆ™å«åš&quot;éšå«è§„åˆ™é“¾&quot;ã€‚</p>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¦‚æœæ–‡ä»¶ <code>.c</code> å­˜åœ¨ï¼Œé‚£ä¹ˆå°±ç›´æ¥è°ƒç”¨Cçš„ç¼–è¯‘å™¨çš„éšå«è§„åˆ™ï¼Œå¦‚æœæ²¡æœ‰ <code>.c</code> æ–‡ä»¶ï¼Œ ä½†æœ‰ä¸€ä¸ª <code>.y</code> æ–‡ä»¶ï¼Œé‚£ä¹ˆYaccçš„éšå«è§„åˆ™ä¼šè¢«è°ƒç”¨ï¼Œç”Ÿæˆ <code>.c</code> æ–‡ä»¶ï¼Œç„¶åï¼Œå†è°ƒç”¨Cç¼–è¯‘çš„éšå« è§„åˆ™æœ€ç»ˆç”± <code>.c</code> ç”Ÿæˆ <code>.o</code> æ–‡ä»¶ï¼Œè¾¾åˆ°ç›®æ ‡ã€‚</p>
<p>æˆ‘ä»¬æŠŠè¿™ç§ <code>.c</code> çš„æ–‡ä»¶ï¼ˆæˆ–æ˜¯ç›®æ ‡ï¼‰ï¼Œå«åšä¸­é—´ç›®æ ‡ã€‚ä¸ç®¡æ€ä¹ˆæ ·ï¼Œmakeä¼šåŠªåŠ›è‡ªåŠ¨æ¨å¯¼ç”Ÿæˆç›®æ ‡çš„ä¸€åˆ‡æ–¹æ³•ï¼Œä¸ç®¡ä¸­é—´ç›®æ ‡æœ‰å¤šå°‘ï¼Œå…¶éƒ½ä¼šæ‰§ç€åœ°æŠŠæ‰€æœ‰çš„éšå«è§„åˆ™å’Œä½ ä¹¦å†™çš„è§„åˆ™å…¨éƒ¨åˆèµ·æ¥åˆ†æï¼ŒåŠªåŠ›è¾¾åˆ°ç›®æ ‡ï¼Œæ‰€ä»¥ï¼Œæœ‰äº›æ—¶å€™ï¼Œå¯èƒ½ä¼šè®©ä½ è§‰å¾—å¥‡æ€ªï¼Œæ€ä¹ˆæˆ‘çš„ç›®æ ‡ä¼šè¿™æ ·ç”Ÿæˆï¼Ÿæ€ä¹ˆæˆ‘çš„makefileå‘ç–¯äº†ï¼Ÿ</p>
<p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯¹äºä¸­é—´ç›®æ ‡ï¼Œå®ƒå’Œä¸€èˆ¬çš„ç›®æ ‡æœ‰ä¸¤ä¸ªåœ°æ–¹æ‰€ä¸åŒï¼šç¬¬ä¸€ä¸ªä¸åŒæ˜¯é™¤éä¸­é—´çš„ç›®æ ‡ä¸å­˜åœ¨ï¼Œæ‰ä¼šå¼•å‘ä¸­é—´è§„åˆ™ã€‚ç¬¬äºŒä¸ªä¸åŒçš„æ˜¯ï¼Œåªè¦ç›®æ ‡æˆåŠŸäº§ç”Ÿï¼Œé‚£ä¹ˆï¼Œäº§ç”Ÿæœ€ç»ˆç›®æ ‡è¿‡ç¨‹ä¸­ï¼Œæ‰€äº§ç”Ÿçš„ä¸­é—´ç›®æ ‡æ–‡ä»¶ä¼šè¢«ä»¥ <code>rm -f</code> åˆ é™¤ã€‚</p>
<p>é€šå¸¸ï¼Œä¸€ä¸ªè¢«makefileæŒ‡å®šæˆç›®æ ‡æˆ–æ˜¯ä¾èµ–ç›®æ ‡çš„æ–‡ä»¶ä¸èƒ½è¢«å½“ä½œä¸­ä»‹ã€‚ç„¶è€Œï¼Œä½ å¯ä»¥æ˜æ˜¾åœ°è¯´æ˜ä¸€ä¸ªæ–‡ä»¶æˆ–æ˜¯ç›®æ ‡æ˜¯ä¸­ä»‹ç›®æ ‡ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¼ªç›®æ ‡ <code>.INTERMEDIATE</code> æ¥å¼ºåˆ¶å£°æ˜ã€‚ï¼ˆå¦‚ï¼š <code>.INTERMEDIATE : mid</code> ï¼‰</p>
<p>ä½ ä¹Ÿå¯ä»¥é˜»æ­¢makeè‡ªåŠ¨åˆ é™¤ä¸­é—´ç›®æ ‡ï¼Œè¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¼ªç›®æ ‡ <code>.SECONDARY</code> æ¥å¼ºåˆ¶å£°æ˜ ï¼ˆå¦‚ï¼š <code>.SECONDARY : sec</code>ï¼‰ã€‚ä½ è¿˜å¯ä»¥æŠŠä½ çš„ç›®æ ‡ï¼Œä»¥æ¨¡å¼çš„æ–¹å¼æ¥æŒ‡å®šï¼ˆå¦‚ï¼š <code>%.o</code> ï¼‰æˆ ä¼ªç›®æ ‡<code>.PRECIOUS</code> çš„ä¾èµ–ç›®æ ‡ï¼Œä»¥ä¿å­˜è¢«éšå«è§„åˆ™æ‰€ç”Ÿæˆçš„ä¸­é—´æ–‡ä»¶ã€‚</p>
<p>åœ¨&quot;éšå«è§„åˆ™é“¾&quot;ä¸­ï¼Œç¦æ­¢åŒä¸€ä¸ªç›®æ ‡å‡ºç°ä¸¤æ¬¡æˆ–ä¸¤æ¬¡ä»¥ä¸Šï¼Œè¿™æ ·ä¸€æ¥ï¼Œå°±å¯é˜²æ­¢åœ¨makeè‡ªåŠ¨æ¨å¯¼æ—¶å‡ºç°æ— é™é€’å½’çš„æƒ…å†µã€‚</p>
<p>Makeä¼šä¼˜åŒ–ä¸€äº›ç‰¹æ®Šçš„éšå«è§„åˆ™ï¼Œè€Œä¸ç”Ÿæˆä¸­é—´æ–‡ä»¶ã€‚å¦‚ï¼Œä»æ–‡ä»¶ <code>foo.c</code> ç”Ÿæˆç›®æ ‡ç¨‹åº <code>foo</code> ï¼Œ æŒ‰é“ç†ï¼Œmakeä¼šç¼–è¯‘ç”Ÿæˆä¸­é—´æ–‡ä»¶ <code>foo.o</code> ï¼Œç„¶åé“¾æ¥æˆ <code>foo</code> ï¼Œä½†åœ¨å®é™…æƒ…å†µä¸‹ï¼Œè¿™ä¸€åŠ¨ä½œå¯ä»¥ è¢«ä¸€æ¡ <code>cc</code> çš„å‘½ä»¤å®Œæˆï¼ˆ <code>cc â€“o foo foo.c</code> ï¼‰ï¼Œäºæ˜¯ä¼˜åŒ–è¿‡çš„è§„åˆ™å°±ä¸ä¼šç”Ÿæˆä¸­é—´æ–‡ä»¶ã€‚</p>
<h2 id="95-å®šä¹‰æ¨¡å¼è§„åˆ™"><a class="markdownIt-Anchor" href="#95-å®šä¹‰æ¨¡å¼è§„åˆ™"></a> 9.5 å®šä¹‰æ¨¡å¼è§„åˆ™</h2>
<p>ä½ å¯ä»¥ä½¿ç”¨æ¨¡å¼è§„åˆ™æ¥å®šä¹‰ä¸€ä¸ªéšå«è§„åˆ™ã€‚ä¸€ä¸ªæ¨¡å¼è§„åˆ™å°±å¥½åƒä¸€ä¸ªä¸€èˆ¬çš„è§„åˆ™ï¼Œåªæ˜¯åœ¨è§„åˆ™ä¸­ï¼Œç›®æ ‡çš„å®šä¹‰éœ€è¦æœ‰ <code>%</code> å­—ç¬¦ã€‚ <code>%</code> çš„æ„æ€æ˜¯è¡¨ç¤ºä¸€ä¸ªæˆ–å¤šä¸ªä»»æ„å­—ç¬¦ã€‚åœ¨ä¾èµ–ç›®æ ‡ä¸­åŒæ ·å¯ä»¥ä½¿ç”¨ <code>%</code> ï¼Œåªæ˜¯ä¾èµ–ç›®æ ‡ä¸­çš„ <code>%</code> çš„å–å€¼ï¼Œå–å†³äºå…¶ç›®æ ‡ã€‚</p>
<p>æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ <code>%</code> çš„å±•å¼€å‘ç”Ÿåœ¨å˜é‡å’Œå‡½æ•°çš„å±•å¼€ä¹‹åï¼Œå˜é‡å’Œå‡½æ•°çš„å±•å¼€å‘ç”Ÿåœ¨makeè½½å…¥Makefileæ—¶ï¼Œè€Œæ¨¡å¼è§„åˆ™ä¸­çš„ <code>%</code> åˆ™å‘ç”Ÿåœ¨è¿è¡Œæ—¶ã€‚</p>
<h3 id="951-æ¨¡å¼è§„åˆ™ä»‹ç»"><a class="markdownIt-Anchor" href="#951-æ¨¡å¼è§„åˆ™ä»‹ç»"></a> 9.5.1 æ¨¡å¼è§„åˆ™ä»‹ç»</h3>
<p>æ¨¡å¼è§„åˆ™ä¸­ï¼Œè‡³å°‘åœ¨è§„åˆ™çš„ç›®æ ‡å®šä¹‰ä¸­è¦åŒ…å« <code>%</code> ï¼Œå¦åˆ™ï¼Œå°±æ˜¯ä¸€èˆ¬çš„è§„åˆ™ã€‚ç›®æ ‡ä¸­çš„ <code>%</code> å®šä¹‰ è¡¨ç¤ºå¯¹æ–‡ä»¶åçš„åŒ¹é…ï¼Œ <code>%</code> è¡¨ç¤ºé•¿åº¦ä»»æ„çš„éç©ºå­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼š <code>%.c</code> è¡¨ç¤ºä»¥ <code>.c</code> ç»“å°¾çš„æ–‡ä»¶åï¼ˆæ–‡ä»¶åçš„é•¿åº¦è‡³å°‘ä¸º3ï¼‰ï¼Œè€Œ <code>s.%.c</code> åˆ™è¡¨ç¤ºä»¥ <code>s.</code> å¼€å¤´ï¼Œ <code>.c</code> ç»“å°¾çš„æ–‡ä»¶å ï¼ˆæ–‡ä»¶åçš„é•¿åº¦è‡³å°‘ä¸º5ï¼‰ã€‚</p>
<p>å¦‚æœ <code>%</code> å®šä¹‰åœ¨ç›®æ ‡ä¸­ï¼Œé‚£ä¹ˆï¼Œä¾èµ–ä¸­çš„ <code>%</code> çš„å€¼å†³å®šäº†ç›®æ ‡ä¸­çš„ <code>%</code> çš„å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ ä¾èµ–ä¸­çš„æ¨¡å¼çš„ <code>%</code> å†³å®šäº†ç›®æ ‡ä¸­ <code>%</code> çš„æ ·å­ã€‚ä¾‹å¦‚æœ‰ä¸€ä¸ªæ¨¡å¼è§„åˆ™å¦‚ä¸‹ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">%.o : %.c ; &lt;command ......&gt;;</span><br></pre></td></tr></table></figure>
<p>å…¶å«ä¹‰æ˜¯ï¼ŒæŒ‡å‡ºäº†æ€ä¹ˆä»æ‰€æœ‰çš„ <code>.c</code> æ–‡ä»¶ç”Ÿæˆç›¸åº”çš„ <code>.o</code> æ–‡ä»¶çš„è§„åˆ™ã€‚å¦‚æœè¦ç”Ÿæˆçš„ç›®æ ‡æ˜¯ <code>a.o b.o</code> ï¼Œé‚£ä¹ˆ <code>%c</code> å°±æ˜¯ <code>a.c b.c</code> ã€‚</p>
<p>ä¸€æ—¦ä¾èµ–ç›®æ ‡ä¸­çš„ <code>%</code> æ¨¡å¼è¢«ç¡®å®šï¼Œé‚£ä¹ˆï¼Œmakeä¼šè¢«è¦æ±‚å»åŒ¹é…å½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶åï¼Œä¸€æ—¦æ‰¾åˆ°ï¼Œmakeå°±ä¼šè§„åˆ™ä¸‹çš„å‘½ä»¤ï¼Œæ‰€ä»¥ï¼Œåœ¨æ¨¡å¼è§„åˆ™ä¸­ï¼Œç›®æ ‡å¯èƒ½ä¼šæ˜¯å¤šä¸ªçš„ï¼Œå¦‚æœæœ‰æ¨¡å¼åŒ¹é…å‡ºå¤šä¸ªç›®æ ‡ï¼Œmakeå°±ä¼šäº§ç”Ÿæ‰€æœ‰çš„æ¨¡å¼ç›®æ ‡ï¼Œæ­¤æ—¶ï¼Œmakeå…³å¿ƒçš„æ˜¯ä¾èµ–çš„æ–‡ä»¶åå’Œç”Ÿæˆç›®æ ‡çš„å‘½ä»¤è¿™ä¸¤ä»¶äº‹ã€‚</p>
<h3 id="952-æ¨¡å¼è§„åˆ™ç¤ºä¾‹"><a class="markdownIt-Anchor" href="#952-æ¨¡å¼è§„åˆ™ç¤ºä¾‹"></a> 9.5.2 æ¨¡å¼è§„åˆ™ç¤ºä¾‹</h3>
<p>ä¸‹é¢è¿™ä¸ªä¾‹å­è¡¨ç¤ºäº†,æŠŠæ‰€æœ‰çš„ <code>.c</code> æ–‡ä»¶éƒ½ç¼–è¯‘æˆ <code>.o</code> æ–‡ä»¶.</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">%.o : %.c</span><br><span class="line">&gt;  <span class="variable">$(CC)</span> -c <span class="variable">$(CFLAGS)</span> <span class="variable">$(CPPFLAGS)</span> <span class="variable">$&lt;</span> -o <span class="variable">$@</span></span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ï¼Œ <code>$@</code> è¡¨ç¤ºæ‰€æœ‰çš„ç›®æ ‡çš„æŒ¨ä¸ªå€¼ï¼Œ <code>$&lt;</code> è¡¨ç¤ºäº†æ‰€æœ‰ä¾èµ–ç›®æ ‡çš„æŒ¨ä¸ªå€¼ã€‚è¿™äº›å¥‡æ€ªçš„å˜é‡æˆ‘ä»¬å«&quot;è‡ªåŠ¨åŒ–å˜é‡&quot;ï¼Œåé¢ä¼šè¯¦ç»†è®²è¿°ã€‚</p>
<p>ä¸‹é¢çš„è¿™ä¸ªä¾‹å­ä¸­æœ‰ä¸¤ä¸ªç›®æ ‡æ˜¯æ¨¡å¼çš„ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">%.tab.c %.tab.h: %.y</span><br><span class="line">&gt;  bison -d <span class="variable">$&lt;</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ¡è§„åˆ™å‘Šè¯‰makeæŠŠæ‰€æœ‰çš„ <code>.y</code> æ–‡ä»¶éƒ½ä»¥ <code>bison -d &lt;n&gt;.y</code> æ‰§è¡Œï¼Œç„¶åç”Ÿæˆ <code>&lt;n&gt;.tab.c</code> å’Œ <code>&lt;n&gt;.tab.h</code> æ–‡ä»¶ã€‚ï¼ˆå…¶ä¸­ï¼Œ <code>&lt;n&gt;</code> è¡¨ç¤ºä¸€ä¸ªä»»æ„å­—ç¬¦ä¸²ï¼‰ã€‚å¦‚æœæˆ‘ä»¬çš„æ‰§è¡Œç¨‹åº <code>foo</code> ä¾èµ–äºæ–‡ä»¶ <code>parse.tab.o</code> å’Œ <code>scan.o</code> ï¼Œå¹¶ä¸”æ–‡ä»¶ <code>scan.o</code> ä¾èµ–äºæ–‡ä»¶ <code>parse.tab.h</code> ï¼Œ å¦‚æœ <code>parse.y</code> æ–‡ä»¶è¢«æ›´æ–°äº†ï¼Œé‚£ä¹ˆæ ¹æ®ä¸Šè¿°çš„è§„åˆ™ï¼Œ <code>bison -d parse.y</code> å°±ä¼šè¢«æ‰§è¡Œä¸€æ¬¡ï¼Œ äºæ˜¯ï¼Œ <code>parse.tab.o</code> å’Œ <code>scan.o</code> çš„ä¾èµ–æ–‡ä»¶å°±é½äº†ã€‚ï¼ˆå‡è®¾ï¼Œ <code>parse.tab.o</code> ç”± <code>parse.tab.c</code> ç”Ÿæˆï¼Œå’Œ <code>scan.o</code> ç”± <code>scan.c</code> ç”Ÿæˆï¼Œè€Œ <code>foo</code> ç”± <code>parse.tab.o</code> å’Œ <code>scan.o</code> é“¾æ¥ç”Ÿæˆï¼Œè€Œä¸” <code>foo</code> å’Œå…¶ <code>.o</code> æ–‡ä»¶çš„ä¾èµ–å…³ç³»ä¹Ÿå†™å¥½ï¼Œé‚£ä¹ˆï¼Œæ‰€æœ‰çš„ç›®æ ‡éƒ½ä¼šå¾—åˆ°æ»¡è¶³ï¼‰</p>
<h3 id="953-è‡ªåŠ¨åŒ–å˜é‡"><a class="markdownIt-Anchor" href="#953-è‡ªåŠ¨åŒ–å˜é‡"></a> 9.5.3 è‡ªåŠ¨åŒ–å˜é‡</h3>
<p>åœ¨ä¸Šè¿°çš„æ¨¡å¼è§„åˆ™ä¸­ï¼Œç›®æ ‡å’Œä¾èµ–æ–‡ä»¶éƒ½æ˜¯ä¸€ç³»ä¾‹çš„æ–‡ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•ä¹¦å†™ä¸€ä¸ªå‘½ä»¤æ¥å®Œæˆä»ä¸åŒçš„ä¾èµ–æ–‡ä»¶ç”Ÿæˆç›¸åº”çš„ç›®æ ‡ï¼Ÿå› ä¸ºåœ¨æ¯ä¸€æ¬¡çš„å¯¹æ¨¡å¼è§„åˆ™çš„è§£ææ—¶ï¼Œéƒ½ä¼šæ˜¯ä¸åŒçš„ç›®æ ‡å’Œä¾èµ–æ–‡ä»¶ã€‚</p>
<p>è‡ªåŠ¨åŒ–å˜é‡å°±æ˜¯å®Œæˆè¿™ä¸ªåŠŸèƒ½çš„ã€‚åœ¨å‰é¢ï¼Œæˆ‘ä»¬å·²ç»å¯¹è‡ªåŠ¨åŒ–å˜é‡æœ‰æ‰€ææ¶‰ï¼Œç›¸ä¿¡ä½ çœ‹åˆ°è¿™é‡Œå·²å¯¹å®ƒæœ‰ä¸€ä¸ªæ„Ÿæ€§è®¤è¯†äº†ã€‚æ‰€è°“è‡ªåŠ¨åŒ–å˜é‡ï¼Œå°±æ˜¯è¿™ç§å˜é‡ä¼šæŠŠæ¨¡å¼ä¸­æ‰€å®šä¹‰çš„ä¸€ç³»åˆ—çš„æ–‡ä»¶è‡ªåŠ¨åœ°æŒ¨ä¸ªå–å‡ºï¼Œç›´è‡³æ‰€æœ‰çš„ç¬¦åˆæ¨¡å¼çš„æ–‡ä»¶éƒ½å–å®Œäº†ã€‚è¿™ç§è‡ªåŠ¨åŒ–å˜é‡åªåº”å‡ºç°åœ¨è§„åˆ™çš„å‘½ä»¤ä¸­ã€‚</p>
<p>ä¸‹é¢æ˜¯æ‰€æœ‰çš„è‡ªåŠ¨åŒ–å˜é‡åŠå…¶è¯´æ˜ï¼š</p>
<ul>
<li><code>$@</code> : è¡¨ç¤ºè§„åˆ™ä¸­çš„ç›®æ ‡æ–‡ä»¶é›†ã€‚åœ¨æ¨¡å¼è§„åˆ™ä¸­ï¼Œå¦‚æœæœ‰å¤šä¸ªç›®æ ‡ï¼Œé‚£ä¹ˆï¼Œ  <code>$@</code> å°±æ˜¯åŒ¹é…äº ç›®æ ‡ä¸­æ¨¡å¼å®šä¹‰çš„é›†åˆã€‚</li>
<li><code>$%</code> : ä»…å½“ç›®æ ‡æ˜¯å‡½æ•°åº“æ–‡ä»¶ä¸­ï¼Œè¡¨ç¤ºè§„åˆ™ä¸­çš„ç›®æ ‡æˆå‘˜åã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªç›®æ ‡æ˜¯ <code>foo.a(bar.o)</code> ï¼Œ é‚£ä¹ˆï¼Œ <code>$%</code> å°±æ˜¯ <code>bar.o</code> ï¼Œ <code>$@</code> å°±æ˜¯ <code>foo.a</code> ã€‚å¦‚æœç›®æ ‡ä¸æ˜¯å‡½æ•°åº“æ–‡ä»¶ ï¼ˆUnixä¸‹æ˜¯ <code>.a</code> ï¼ŒWindowsä¸‹æ˜¯ <code>.lib</code>ï¼‰ï¼Œé‚£ä¹ˆï¼Œå…¶å€¼ä¸ºç©ºã€‚</li>
<li><code>$&lt;</code> : ä¾èµ–ç›®æ ‡ä¸­çš„ç¬¬ä¸€ä¸ªç›®æ ‡åå­—ã€‚å¦‚æœä¾èµ–ç›®æ ‡æ˜¯ä»¥æ¨¡å¼ï¼ˆå³ <code>%</code>ï¼‰å®šä¹‰çš„ï¼Œé‚£ä¹ˆ <code>$&lt;</code> å°†æ˜¯ç¬¦åˆæ¨¡å¼çš„ä¸€ç³»åˆ—çš„æ–‡ä»¶é›†ã€‚æ³¨æ„ï¼Œå…¶æ˜¯ä¸€ä¸ªä¸€ä¸ªå–å‡ºæ¥çš„ã€‚</li>
<li><code>$?</code> : æ‰€æœ‰æ¯”ç›®æ ‡æ–°çš„ä¾èµ–ç›®æ ‡çš„é›†åˆã€‚ä»¥ç©ºæ ¼åˆ†éš”ã€‚</li>
<li><code>$^</code> : æ‰€æœ‰çš„ä¾èµ–ç›®æ ‡çš„é›†åˆã€‚ä»¥ç©ºæ ¼åˆ†éš”ã€‚å¦‚æœåœ¨ä¾èµ–ç›®æ ‡ä¸­æœ‰å¤šä¸ªé‡å¤çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡ä¼šå»é™¤é‡å¤çš„ä¾èµ–ç›®æ ‡ï¼Œåªä¿ç•™ä¸€ä»½ã€‚</li>
<li><code>$+</code> : è¿™ä¸ªå˜é‡å¾ˆåƒ <code>$^</code> ï¼Œä¹Ÿæ˜¯æ‰€æœ‰ä¾èµ–ç›®æ ‡çš„é›†åˆã€‚åªæ˜¯å®ƒä¸å»é™¤é‡å¤çš„ä¾èµ–ç›®æ ‡ã€‚</li>
<li><code>$*</code> : è¿™ä¸ªå˜é‡è¡¨ç¤ºç›®æ ‡æ¨¡å¼ä¸­ <code>%</code> åŠå…¶ä¹‹å‰çš„éƒ¨åˆ†ã€‚å¦‚æœç›®æ ‡æ˜¯ <code>dir/a.foo.b</code> ï¼Œå¹¶ä¸” ç›®æ ‡çš„æ¨¡å¼æ˜¯ <code>a.%.b</code> ï¼Œé‚£ä¹ˆï¼Œ <code>$*</code> çš„å€¼å°±æ˜¯ <code>dir/foo</code> ã€‚è¿™ä¸ªå˜é‡å¯¹äºæ„é€ æœ‰å…³è”çš„æ–‡ä»¶åæ˜¯æ¯”è¾ƒæœ‰æ•ˆã€‚å¦‚æœç›®æ ‡ä¸­æ²¡æœ‰æ¨¡å¼çš„å®šä¹‰ï¼Œé‚£ä¹ˆ <code>$*</code> ä¹Ÿå°±ä¸èƒ½è¢«æ¨å¯¼å‡ºï¼Œä½†æ˜¯ï¼Œå¦‚æœç›®æ ‡æ–‡ä»¶çš„ åç¼€æ˜¯makeæ‰€è¯†åˆ«çš„ï¼Œé‚£ä¹ˆ <code>$*</code>  å°±æ˜¯é™¤äº†åç¼€çš„é‚£ä¸€éƒ¨åˆ†ã€‚ä¾‹å¦‚ï¼šå¦‚æœç›®æ ‡æ˜¯ <code>foo.c</code> ï¼Œå› ä¸º <code>.c</code> æ˜¯makeæ‰€èƒ½è¯†åˆ«çš„åç¼€åï¼Œæ‰€ä»¥ï¼Œ <code>$*</code> çš„å€¼å°±æ˜¯ <code>foo</code> ã€‚è¿™ä¸ªç‰¹æ€§æ˜¯GNU makeçš„ï¼Œ å¾ˆæœ‰å¯èƒ½ä¸å…¼å®¹äºå…¶å®ƒç‰ˆæœ¬çš„makeï¼Œæ‰€ä»¥ï¼Œä½ åº”è¯¥å°½é‡é¿å…ä½¿ç”¨ <code>$*</code> ï¼Œé™¤éæ˜¯åœ¨éšå«è§„åˆ™æˆ–æ˜¯é™æ€æ¨¡å¼ä¸­ã€‚å¦‚æœç›®æ ‡ä¸­çš„åç¼€æ˜¯makeæ‰€ä¸èƒ½è¯†åˆ«çš„ï¼Œé‚£ä¹ˆ <code>$*</code> å°±æ˜¯ç©ºå€¼ã€‚</li>
</ul>
<p>å½“ä½ å¸Œæœ›åªå¯¹æ›´æ–°è¿‡çš„ä¾èµ–æ–‡ä»¶è¿›è¡Œæ“ä½œæ—¶ï¼Œ <code>$?</code> åœ¨æ˜¾å¼è§„åˆ™ä¸­å¾ˆæœ‰ç”¨ï¼Œä¾‹å¦‚ï¼Œå‡è®¾æœ‰ä¸€ä¸ªå‡½æ•°åº“æ–‡ä»¶ å« <code>lib</code> ï¼Œå…¶ç”±å…¶å®ƒå‡ ä¸ªobjectæ–‡ä»¶æ›´æ–°ã€‚é‚£ä¹ˆæŠŠobjectæ–‡ä»¶æ‰“åŒ…çš„æ¯”è¾ƒæœ‰æ•ˆç‡çš„Makefileè§„åˆ™æ˜¯ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">lib : foo.o bar.o lose.o win.o</span><br><span class="line">&gt;  ar r lib <span class="variable">$?</span></span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šè¿°æ‰€åˆ—å‡ºæ¥çš„è‡ªåŠ¨é‡å˜é‡ä¸­ã€‚å››ä¸ªå˜é‡ï¼ˆ <code>$@</code> ã€ <code>$&lt;</code> ã€ <code>$%</code> ã€ <code>$*</code>ï¼‰åœ¨æ‰©å±•æ—¶åªä¼šæœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œè€Œå¦ä¸‰ä¸ªçš„å€¼æ˜¯ä¸€ä¸ªæ–‡ä»¶åˆ—è¡¨ã€‚è¿™ä¸ƒä¸ªè‡ªåŠ¨åŒ–å˜é‡è¿˜å¯ä»¥å–å¾—æ–‡ä»¶çš„ç›®å½•åæˆ–æ˜¯åœ¨å½“å‰ç›®å½•ä¸‹çš„ç¬¦åˆæ¨¡å¼çš„æ–‡ä»¶åï¼Œåªéœ€è¦æ­é…ä¸Š <code>D</code> æˆ– <code>F</code> å­—æ ·ã€‚è¿™æ˜¯GNU makeä¸­è€ç‰ˆæœ¬çš„ç‰¹æ€§ï¼Œ åœ¨æ–°ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å‡½æ•° <code>dir</code> æˆ– <code>notdir</code> å°±å¯ä»¥åšåˆ°äº†ã€‚ <code>D</code> çš„å«ä¹‰å°±æ˜¯Directoryï¼Œ å°±æ˜¯ç›®å½•ï¼Œ <code>F</code> çš„å«ä¹‰å°±æ˜¯Fileï¼Œå°±æ˜¯æ–‡ä»¶ã€‚</p>
<p>ä¸‹é¢æ˜¯å¯¹äºä¸Šé¢çš„ä¸ƒä¸ªå˜é‡åˆ†åˆ«åŠ ä¸Š <code>D</code> æˆ–æ˜¯ <code>F</code> çš„å«ä¹‰ï¼š</p>
<dl>
<dt><code>$(@D)</code></dt>
<dd>è¡¨ç¤º <code>$@</code> çš„ç›®å½•éƒ¨åˆ†ï¼ˆä¸ä»¥æ–œæ ä½œä¸ºç»“å°¾ï¼‰ï¼Œå¦‚æœ <code>$@</code> å€¼æ˜¯ <code>dir/foo.o</code> ï¼Œé‚£ä¹ˆ <code>$(@D)</code> å°±æ˜¯ <code>dir</code> ï¼Œè€Œå¦‚æœ <code>$@</code> ä¸­æ²¡æœ‰åŒ…å«æ–œæ çš„è¯ï¼Œå…¶å€¼å°±æ˜¯ <code>.</code> ï¼ˆå½“å‰ç›®å½•ï¼‰ã€‚</dd>
<dt><code>$(@F)</code></dt>
<dd>è¡¨ç¤º <code>$@</code> çš„æ–‡ä»¶éƒ¨åˆ†ï¼Œå¦‚æœ <code>$@</code> å€¼æ˜¯ <code>dir/foo.o</code> ï¼Œé‚£ä¹ˆ <code>$(@F)</code> å°±æ˜¯    <code>foo.o</code> ï¼Œ <code>$(@F)</code> ç›¸å½“äºå‡½æ•° <code>$(notdir $@)</code> ã€‚</dd>
<dt><code>$(*D)</code>, <code>$(*F)</code></dt>
<dd>å’Œä¸Šé¢æ‰€è¿°çš„åŒç†ï¼Œä¹Ÿæ˜¯å–æ–‡ä»¶çš„ç›®å½•éƒ¨åˆ†å’Œæ–‡ä»¶éƒ¨åˆ†ã€‚å¯¹äºä¸Šé¢çš„é‚£ä¸ªä¾‹å­ï¼Œ <code>$(*D)</code> è¿”å› <code>dir</code> ï¼Œ è€Œ <code>$(*F)</code> è¿”å› <code>foo</code></dd>
<dt><code>$(%D)</code>, <code>$(%F)</code></dt>
<dd>åˆ†åˆ«è¡¨ç¤ºäº†å‡½æ•°åŒ…æ–‡ä»¶æˆå‘˜çš„ç›®å½•éƒ¨åˆ†å’Œæ–‡ä»¶éƒ¨åˆ†ã€‚è¿™å¯¹äºå½¢åŒ <code>archive(member)</code> å½¢å¼çš„ç›®æ ‡ä¸­çš„ <code>member</code> ä¸­åŒ…å«äº†ä¸åŒçš„ç›®å½•å¾ˆæœ‰ç”¨ã€‚</dd>
<dt><code>$(&lt;D)</code>, <code>$(&lt;F)</code></dt>
<dd>åˆ†åˆ«è¡¨ç¤ºä¾èµ–æ–‡ä»¶çš„ç›®å½•éƒ¨åˆ†å’Œæ–‡ä»¶éƒ¨åˆ†ã€‚</dd>
<dt><code>$(^D)</code>, <code>$(^F)</code></dt>
<dd>åˆ†åˆ«è¡¨ç¤ºæ‰€æœ‰ä¾èµ–æ–‡ä»¶çš„ç›®å½•éƒ¨åˆ†å’Œæ–‡ä»¶éƒ¨åˆ†ã€‚ï¼ˆæ— ç›¸åŒçš„ï¼‰</dd>
<dt><code>$(+D)</code>, <code>$(+F)</code></dt>
<dd>åˆ†åˆ«è¡¨ç¤ºæ‰€æœ‰ä¾èµ–æ–‡ä»¶çš„ç›®å½•éƒ¨åˆ†å’Œæ–‡ä»¶éƒ¨åˆ†ã€‚ï¼ˆå¯ä»¥æœ‰ç›¸åŒçš„ï¼‰</dd>
<dt><code>$(?D)</code>, <code>$(?F)</code></dt>
<dd>åˆ†åˆ«è¡¨ç¤ºè¢«æ›´æ–°çš„ä¾èµ–æ–‡ä»¶çš„ç›®å½•éƒ¨åˆ†å’Œæ–‡ä»¶éƒ¨åˆ†ã€‚</dd>
</dl>
<p>æœ€åæƒ³æé†’ä¸€ä¸‹çš„æ˜¯ï¼Œå¯¹äº <code>$&lt;</code> ï¼Œä¸ºäº†é¿å…äº§ç”Ÿä¸å¿…è¦çš„éº»çƒ¦ï¼Œæˆ‘ä»¬æœ€å¥½ç»™ <code>$</code> åé¢çš„é‚£ä¸ªç‰¹å®š å­—ç¬¦éƒ½åŠ ä¸Šåœ†æ‹¬å·ï¼Œæ¯”å¦‚ï¼Œ <code>$(&lt;)</code> å°±è¦æ¯” <code>$&lt;</code> è¦å¥½ä¸€äº›ã€‚</p>
<p>è¿˜å¾—è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™äº›å˜é‡åªä½¿ç”¨åœ¨è§„åˆ™çš„å‘½ä»¤ä¸­ï¼Œè€Œä¸”ä¸€èˆ¬éƒ½æ˜¯&quot;æ˜¾å¼è§„åˆ™&quot;å’Œ&quot;é™æ€æ¨¡å¼è§„åˆ™&quot; ï¼ˆå‚è§å‰é¢&quot;ä¹¦å†™è§„åˆ™&quot;ä¸€ç« ï¼‰ã€‚å…¶åœ¨éšå«è§„åˆ™ä¸­å¹¶æ²¡æœ‰æ„ä¹‰ã€‚</p>
<h3 id="954-æ¨¡å¼çš„åŒ¹é…"><a class="markdownIt-Anchor" href="#954-æ¨¡å¼çš„åŒ¹é…"></a> 9.5.4 æ¨¡å¼çš„åŒ¹é…</h3>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œä¸€ä¸ªç›®æ ‡çš„æ¨¡å¼æœ‰ä¸€ä¸ªæœ‰å‰ç¼€æˆ–æ˜¯åç¼€çš„ <code>%</code> ï¼Œæˆ–æ˜¯æ²¡æœ‰å‰åç¼€ï¼Œç›´æ¥å°±æ˜¯ä¸€ä¸ª <code>%</code> ã€‚ å› ä¸º <code>%</code> ä»£è¡¨ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥åœ¨å®šä¹‰å¥½äº†çš„æ¨¡å¼ä¸­ï¼Œæˆ‘ä»¬æŠŠ <code>%</code> æ‰€åŒ¹é…çš„å†…å®¹å«åš&quot;èŒ&quot;ï¼Œä¾‹å¦‚ <code>%.c</code> æ‰€åŒ¹é…çš„æ–‡ä»¶&quot;test.c&quot;ä¸­&quot;test&quot;å°±æ˜¯&quot;èŒ&quot;ã€‚å› ä¸ºåœ¨ç›®æ ‡å’Œä¾èµ–ç›®æ ‡ä¸­åŒæ—¶æœ‰ <code>%</code> æ—¶ï¼Œä¾èµ– ç›®æ ‡çš„&quot;èŒ&quot;ä¼šä¼ ç»™ç›®æ ‡ï¼Œå½“åšç›®æ ‡ä¸­çš„&quot;èŒ&quot;ã€‚</p>
<p>å½“ä¸€ä¸ªæ¨¡å¼åŒ¹é…åŒ…å«æœ‰æ–œæ ï¼ˆå®é™…ä¹Ÿä¸ç»å¸¸åŒ…å«ï¼‰çš„æ–‡ä»¶æ—¶ï¼Œé‚£ä¹ˆåœ¨è¿›è¡Œæ¨¡å¼åŒ¹é…æ—¶ï¼Œç›®å½•éƒ¨åˆ†ä¼šé¦–å…ˆè¢«ç§»å¼€ï¼Œ ç„¶åè¿›è¡ŒåŒ¹é…ï¼ŒæˆåŠŸåï¼Œå†æŠŠç›®å½•åŠ å›å»ã€‚åœ¨è¿›è¡Œ&quot;èŒ&quot;çš„ä¼ é€’æ—¶ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“è¿™ä¸ªæ­¥éª¤ã€‚ä¾‹å¦‚æœ‰ä¸€ä¸ªæ¨¡å¼ <code>e%t</code> ï¼Œæ–‡ä»¶ <code>src/eat</code> åŒ¹é…äºè¯¥æ¨¡å¼ï¼Œäºæ˜¯ <code>src/a</code> å°±æ˜¯å…¶&quot;èŒ&quot;ï¼Œå¦‚æœè¿™ä¸ªæ¨¡å¼å®šä¹‰åœ¨ä¾èµ–ç›®æ ‡ä¸­ï¼Œè€Œè¢«ä¾èµ–äºè¿™ä¸ªæ¨¡å¼çš„ç›®æ ‡ä¸­åˆæœ‰ä¸ªæ¨¡å¼ <code>c%r</code> ï¼Œé‚£ä¹ˆï¼Œç›®æ ‡å°±æ˜¯<br />
<code>src/car</code> ã€‚ï¼ˆ&quot;èŒ&quot;è¢«ä¼ é€’ï¼‰</p>
<h3 id="955-é‡è½½å†…å»ºéšå«è§„åˆ™"><a class="markdownIt-Anchor" href="#955-é‡è½½å†…å»ºéšå«è§„åˆ™"></a> 9.5.5 é‡è½½å†…å»ºéšå«è§„åˆ™</h3>
<p>ä½ å¯ä»¥é‡è½½å†…å»ºçš„éšå«è§„åˆ™ï¼ˆæˆ–æ˜¯å®šä¹‰ä¸€ä¸ªå…¨æ–°çš„ï¼‰ï¼Œä¾‹å¦‚ä½ å¯ä»¥é‡æ–°æ„é€ å’Œå†…å»ºéšå«è§„åˆ™ä¸åŒçš„å‘½ä»¤ï¼Œå¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">%.o : %.c</span><br><span class="line">&gt;  <span class="variable">$(CC)</span> -c <span class="variable">$(CPPFLAGS)</span> <span class="variable">$(CFLAGS)</span> -D<span class="variable">$(date)</span></span><br></pre></td></tr></table></figure>
<p>ä½ å¯ä»¥å–æ¶ˆå†…å»ºçš„éšå«è§„åˆ™ï¼Œåªè¦ä¸åœ¨åé¢å†™å‘½ä»¤å°±è¡Œã€‚å¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">%.o : %.s</span><br></pre></td></tr></table></figure>
<p>åŒæ ·ï¼Œä½ ä¹Ÿå¯ä»¥é‡æ–°å®šä¹‰ä¸€ä¸ªå…¨æ–°çš„éšå«è§„åˆ™ï¼Œå…¶åœ¨éšå«è§„åˆ™ä¸­çš„ä½ç½®å–å†³äºä½ åœ¨å“ªé‡Œå†™ä¸‹è¿™ä¸ªè§„åˆ™ã€‚æœå‰çš„ä½ç½®å°±é å‰ã€‚</p>
<h2 id="96-è€å¼é£æ ¼çš„åç¼€è§„åˆ™"><a class="markdownIt-Anchor" href="#96-è€å¼é£æ ¼çš„åç¼€è§„åˆ™"></a> 9.6 è€å¼é£æ ¼çš„&quot;åç¼€è§„åˆ™&quot;</h2>
<p>åç¼€è§„åˆ™æ˜¯ä¸€ä¸ªæ¯”è¾ƒè€å¼çš„å®šä¹‰éšå«è§„åˆ™çš„æ–¹æ³•ã€‚åç¼€è§„åˆ™ä¼šè¢«æ¨¡å¼è§„åˆ™é€æ­¥åœ°å–ä»£ã€‚å› ä¸ºæ¨¡å¼è§„åˆ™æ›´å¼ºæ›´æ¸…æ™°ã€‚ä¸ºäº†å’Œè€ç‰ˆæœ¬çš„Makefileå…¼å®¹ï¼ŒGNU makeåŒæ ·å…¼å®¹äºè¿™äº›ä¸œè¥¿ã€‚åç¼€è§„åˆ™æœ‰ä¸¤ç§æ–¹å¼ï¼šâ€œåŒåç¼€&quot;å’Œ&quot;å•åç¼€â€ã€‚</p>
<p>åŒåç¼€è§„åˆ™å®šä¹‰äº†ä¸€å¯¹åç¼€ï¼šç›®æ ‡æ–‡ä»¶çš„åç¼€å’Œä¾èµ–ç›®æ ‡ï¼ˆæºæ–‡ä»¶ï¼‰çš„åç¼€ã€‚å¦‚ <code>.c.o</code> ç›¸å½“äº <code>%o : %c</code> ã€‚å•åç¼€è§„åˆ™åªå®šä¹‰ä¸€ä¸ªåç¼€ï¼Œä¹Ÿå°±æ˜¯æºæ–‡ä»¶çš„åç¼€ã€‚å¦‚ <code>.c</code> ç›¸å½“äº <code>% : %.c</code><br />
ã€‚</p>
<p>åç¼€è§„åˆ™ä¸­æ‰€å®šä¹‰çš„åç¼€åº”è¯¥æ˜¯makeæ‰€è®¤è¯†çš„ï¼Œå¦‚æœä¸€ä¸ªåç¼€æ˜¯makeæ‰€è®¤è¯†çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªè§„åˆ™å°±æ˜¯å•åç¼€è§„åˆ™ï¼Œè€Œå¦‚æœä¸¤ä¸ªè¿åœ¨ä¸€èµ·çš„åç¼€éƒ½è¢«makeæ‰€è®¤è¯†ï¼Œé‚£å°±æ˜¯åŒåç¼€è§„åˆ™ã€‚ä¾‹å¦‚ï¼š <code>.c</code> å’Œ <code>.o</code> éƒ½æ˜¯makeæ‰€çŸ¥é“ã€‚ å› è€Œï¼Œå¦‚æœä½ å®šä¹‰äº†ä¸€ä¸ªè§„åˆ™æ˜¯ <code>.c.o</code> é‚£ä¹ˆå…¶å°±æ˜¯åŒåç¼€è§„åˆ™ï¼Œæ„ä¹‰å°±æ˜¯ <code>.c</code> æ˜¯æºæ–‡ä»¶çš„åç¼€ï¼Œ <code>.o</code> æ˜¯ç›®æ ‡æ–‡ä»¶çš„åç¼€ã€‚å¦‚ä¸‹ç¤ºä¾‹ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line"><span class="section">.c.o:</span></span><br><span class="line">&gt;  <span class="variable">$(CC)</span> -c <span class="variable">$(CFLAGS)</span> <span class="variable">$(CPPFLAGS)</span> -o <span class="variable">$@</span> <span class="variable">$&lt;</span></span><br></pre></td></tr></table></figure>
<p>åç¼€è§„åˆ™ä¸å…è®¸ä»»ä½•çš„ä¾èµ–æ–‡ä»¶ï¼Œå¦‚æœæœ‰ä¾èµ–æ–‡ä»¶çš„è¯ï¼Œé‚£å°±ä¸æ˜¯åç¼€è§„åˆ™ï¼Œé‚£äº›åç¼€ç»Ÿç»Ÿè¢«è®¤ä¸ºæ˜¯æ–‡ä»¶åï¼Œå¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line"><span class="section">.c.o: foo.h</span></span><br><span class="line">&gt;  <span class="variable">$(CC)</span> -c <span class="variable">$(CFLAGS)</span> <span class="variable">$(CPPFLAGS)</span> -o <span class="variable">$@</span> <span class="variable">$&lt;</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªä¾‹å­ï¼Œå°±æ˜¯è¯´ï¼Œæ–‡ä»¶ <code>.c.o</code> ä¾èµ–äºæ–‡ä»¶ <code>foo.h</code><br />
ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„è¿™æ ·ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line"><span class="section">%.o: %.c foo.h</span></span><br><span class="line">&gt;  <span class="variable">$(CC)</span> -c <span class="variable">$(CFLAGS)</span> <span class="variable">$(CPPFLAGS)</span> -o <span class="variable">$@</span> <span class="variable">$&lt;</span></span><br></pre></td></tr></table></figure>
<p>åç¼€è§„åˆ™ä¸­ï¼Œå¦‚æœæ²¡æœ‰å‘½ä»¤ï¼Œé‚£æ˜¯æ¯«æ— æ„ä¹‰çš„ã€‚å› ä¸ºä»–ä¹Ÿä¸ä¼šç§»å»å†…å»ºçš„éšå«è§„åˆ™ã€‚</p>
<p>è€Œè¦è®©makeçŸ¥é“ä¸€äº›ç‰¹å®šçš„åç¼€ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¼ªç›®æ ‡ <code>.SUFFIXES</code> æ¥å®šä¹‰æˆ–æ˜¯åˆ é™¤ï¼Œå¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="section">.SUFFIXES: .hack .win</span></span><br></pre></td></tr></table></figure>
<p>æŠŠåç¼€ <code>.hack</code> å’Œ <code>.win</code> åŠ å…¥åç¼€åˆ—è¡¨ä¸­çš„æœ«å°¾ã€‚</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="section">.SUFFIXES:              # åˆ é™¤é»˜è®¤çš„åç¼€</span></span><br><span class="line"><span class="section">.SUFFIXES: .c .o .h   # å®šä¹‰è‡ªå·±çš„åç¼€</span></span><br></pre></td></tr></table></figure>
<p>å…ˆæ¸…é™¤é»˜è®¤åç¼€ï¼Œåå®šä¹‰è‡ªå·±çš„åç¼€åˆ—è¡¨ã€‚</p>
<p>makeçš„å‚æ•° <code>-r</code> æˆ– <code>-no-builtin-rules</code> ä¹Ÿä¼šä½¿ç”¨å¾—é»˜è®¤çš„åç¼€åˆ—è¡¨ä¸ºç©ºã€‚è€Œå˜é‡ <code>SUFFIXE</code> è¢«ç”¨æ¥å®šä¹‰é»˜è®¤çš„åç¼€åˆ—è¡¨ï¼Œä½ å¯ä»¥ç”¨ <code>.SUFFIXES</code> æ¥æ”¹å˜åç¼€åˆ—è¡¨ï¼Œä½†è¯·ä¸è¦æ”¹å˜å˜é‡ <code>SUFFIXE</code> çš„å€¼ã€‚</p>
<h2 id="97-éšå«è§„åˆ™æœç´¢ç®—æ³•"><a class="markdownIt-Anchor" href="#97-éšå«è§„åˆ™æœç´¢ç®—æ³•"></a> 9.7 éšå«è§„åˆ™æœç´¢ç®—æ³•</h2>
<p>æ¯”å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªç›®æ ‡å«Tã€‚ä¸‹é¢æ˜¯æœç´¢ç›®æ ‡Tçš„è§„åˆ™çš„ç®—æ³•ã€‚è¯·æ³¨æ„ï¼Œåœ¨ä¸‹é¢ï¼Œæˆ‘ä»¬æ²¡æœ‰æåˆ°åç¼€è§„åˆ™ï¼ŒåŸå› æ˜¯ï¼Œæ‰€æœ‰çš„åç¼€è§„åˆ™åœ¨Makefileè¢«è½½å…¥å†…å­˜æ—¶ï¼Œä¼šè¢«è½¬æ¢æˆæ¨¡å¼è§„åˆ™ã€‚å¦‚æœç›®æ ‡æ˜¯ <code>archive(member)</code> çš„å‡½æ•°åº“æ–‡ä»¶æ¨¡å¼ï¼Œé‚£ä¹ˆè¿™ä¸ªç®—æ³•ä¼šè¢«è¿è¡Œä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡æ˜¯æ‰¾ç›®æ ‡Tï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°çš„è¯ï¼Œé‚£ä¹ˆè¿›å…¥ç¬¬äºŒæ¬¡ï¼Œç¬¬äºŒæ¬¡ä¼šæŠŠ <code>member</code> å½“ä½œTæ¥æœç´¢ã€‚</p>
<ol>
<li>æŠŠTçš„ç›®å½•éƒ¨åˆ†åˆ†ç¦»å‡ºæ¥ã€‚å«Dï¼Œè€Œå‰©ä½™éƒ¨åˆ†å«Nã€‚ï¼ˆå¦‚ï¼šå¦‚æœTæ˜¯ <code>src/foo.o</code> ï¼Œé‚£ä¹ˆï¼ŒDå°±æ˜¯ <code>src/</code> ï¼ŒNå°±æ˜¯ <code>foo.o</code> ï¼‰</li>
<li>åˆ›å»ºæ‰€æœ‰åŒ¹é…äºTæˆ–æ˜¯Nçš„æ¨¡å¼è§„åˆ™åˆ—è¡¨ã€‚</li>
<li>å¦‚æœåœ¨æ¨¡å¼è§„åˆ™åˆ—è¡¨ä¸­æœ‰åŒ¹é…æ‰€æœ‰æ–‡ä»¶çš„æ¨¡å¼ï¼Œå¦‚ <code>%</code> ï¼Œé‚£ä¹ˆä»åˆ—è¡¨ä¸­ç§»é™¤å…¶å®ƒçš„æ¨¡å¼ã€‚</li>
<li>ç§»é™¤åˆ—è¡¨ä¸­æ²¡æœ‰å‘½ä»¤çš„è§„åˆ™ã€‚</li>
<li>å¯¹äºç¬¬ä¸€ä¸ªåœ¨åˆ—è¡¨ä¸­çš„æ¨¡å¼è§„åˆ™ï¼š
<ol>
<li>æ¨å¯¼å…¶&quot;èŒ&quot;Sï¼ŒSåº”è¯¥æ˜¯Tæˆ–æ˜¯NåŒ¹é…äºæ¨¡å¼ä¸­ <code>%</code> éç©ºçš„éƒ¨åˆ†ã€‚</li>
<li>è®¡ç®—ä¾èµ–æ–‡ä»¶ã€‚æŠŠä¾èµ–æ–‡ä»¶ä¸­çš„ <code>%</code> éƒ½æ›¿æ¢æˆ&quot;èŒ&quot;Sã€‚å¦‚æœç›®æ ‡æ¨¡å¼ä¸­æ²¡æœ‰åŒ…å«æ–œæ¡†å­—ç¬¦ï¼Œè€ŒæŠŠDåŠ åœ¨ç¬¬ä¸€ä¸ªä¾èµ–æ–‡ä»¶çš„å¼€å¤´ã€‚</li>
<li>æµ‹è¯•æ˜¯å¦æ‰€æœ‰çš„ä¾èµ–æ–‡ä»¶éƒ½å­˜åœ¨æˆ–æ˜¯ç†å½“å­˜åœ¨ã€‚ï¼ˆå¦‚æœæœ‰ä¸€ä¸ªæ–‡ä»¶è¢«å®šä¹‰æˆå¦å¤–ä¸€ä¸ªè§„åˆ™çš„ç›®æ ‡æ–‡ä»¶ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªæ˜¾å¼è§„åˆ™çš„ä¾èµ–æ–‡ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–‡ä»¶å°±å«&quot;ç†å½“å­˜åœ¨&quot;ï¼‰</li>
<li>å¦‚æœæ‰€æœ‰çš„ä¾èµ–æ–‡ä»¶å­˜åœ¨æˆ–æ˜¯ç†å½“å­˜åœ¨ï¼Œæˆ–æ˜¯å°±æ²¡æœ‰ä¾èµ–æ–‡ä»¶ã€‚é‚£ä¹ˆè¿™æ¡è§„åˆ™å°†è¢«é‡‡ç”¨ï¼Œé€€å‡ºè¯¥ç®—æ³•ã€‚</li>
</ol>
</li>
<li>å¦‚æœç»è¿‡ç¬¬5æ­¥ï¼Œæ²¡æœ‰æ¨¡å¼è§„åˆ™è¢«æ‰¾åˆ°ï¼Œé‚£ä¹ˆå°±åšæ›´è¿›ä¸€æ­¥çš„æœç´¢ã€‚å¯¹äºå­˜åœ¨äºåˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªæ¨¡å¼è§„åˆ™ï¼š
<ol>
<li>å¦‚æœè§„åˆ™æ˜¯ç»ˆæ­¢è§„åˆ™ï¼Œé‚£å°±å¿½ç•¥å®ƒï¼Œç»§ç»­ä¸‹ä¸€æ¡æ¨¡å¼è§„åˆ™ã€‚</li>
<li>è®¡ç®—ä¾èµ–æ–‡ä»¶ã€‚ï¼ˆåŒç¬¬5æ­¥ï¼‰</li>
<li>æµ‹è¯•æ‰€æœ‰çš„ä¾èµ–æ–‡ä»¶æ˜¯å¦å­˜åœ¨æˆ–æ˜¯ç†å½“å­˜åœ¨ã€‚</li>
<li>å¯¹äºä¸å­˜åœ¨çš„ä¾èµ–æ–‡ä»¶ï¼Œé€’å½’è°ƒç”¨è¿™ä¸ªç®—æ³•æŸ¥æ‰¾ä»–æ˜¯å¦å¯ä»¥è¢«éšå«è§„åˆ™æ‰¾åˆ°ã€‚</li>
<li>å¦‚æœæ‰€æœ‰çš„ä¾èµ–æ–‡ä»¶å­˜åœ¨æˆ–æ˜¯ç†å½“å­˜åœ¨ï¼Œæˆ–æ˜¯å°±æ ¹æœ¬æ²¡æœ‰ä¾èµ–æ–‡ä»¶ã€‚é‚£ä¹ˆè¿™æ¡è§„åˆ™è¢«é‡‡ç”¨ï¼Œé€€å‡ºè¯¥ç®—æ³•ã€‚</li>
<li>å¦‚æœæ²¡æœ‰éšå«è§„åˆ™å¯ä»¥ä½¿ç”¨ï¼ŒæŸ¥çœ‹ <code>.DEFAULT</code> è§„åˆ™ï¼Œå¦‚æœæœ‰ï¼Œé‡‡ç”¨ï¼ŒæŠŠ <code>.DEFAULT</code> çš„å‘½ä»¤ç»™Tä½¿ç”¨ã€‚</li>
</ol>
</li>
</ol>
<p>ä¸€æ—¦è§„åˆ™è¢«æ‰¾åˆ°ï¼Œå°±ä¼šæ‰§è¡Œå…¶ç›¸å½“çš„å‘½ä»¤ï¼Œè€Œæ­¤æ—¶ï¼Œæˆ‘ä»¬çš„è‡ªåŠ¨åŒ–å˜é‡çš„å€¼æ‰ä¼šç”Ÿæˆã€‚</p>
<h1 id="10-ä½¿ç”¨makeæ›´æ–°å‡½æ•°åº“æ–‡ä»¶"><a class="markdownIt-Anchor" href="#10-ä½¿ç”¨makeæ›´æ–°å‡½æ•°åº“æ–‡ä»¶"></a> 10. ä½¿ç”¨makeæ›´æ–°å‡½æ•°åº“æ–‡ä»¶</h1>
<p>å‡½æ•°åº“æ–‡ä»¶ä¹Ÿå°±æ˜¯å¯¹Objectæ–‡ä»¶ï¼ˆç¨‹åºç¼–è¯‘çš„ä¸­é—´æ–‡ä»¶ï¼‰çš„æ‰“åŒ…æ–‡ä»¶ã€‚åœ¨Unixä¸‹ï¼Œä¸€èˆ¬æ˜¯ç”±å‘½ä»¤ <code>ar</code> æ¥å®Œæˆæ‰“åŒ…å·¥ä½œã€‚</p>
<h2 id="101-å‡½æ•°åº“æ–‡ä»¶çš„æˆå‘˜"><a class="markdownIt-Anchor" href="#101-å‡½æ•°åº“æ–‡ä»¶çš„æˆå‘˜"></a> 10.1 å‡½æ•°åº“æ–‡ä»¶çš„æˆå‘˜</h2>
<p>ä¸€ä¸ªå‡½æ•°åº“æ–‡ä»¶ç”±å¤šä¸ªæ–‡ä»¶ç»„æˆã€‚ä½ å¯ä»¥ç”¨å¦‚ä¸‹æ ¼å¼æŒ‡å®šå‡½æ•°åº“æ–‡ä»¶åŠå…¶ç»„æˆ:</p>
<pre><code>archive(member)
</code></pre>
<p>è¿™ä¸ªä¸æ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œè€Œä¸€ä¸ªç›®æ ‡å’Œä¾èµ–çš„å®šä¹‰ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè¿™ç§ç”¨æ³•åŸºæœ¬ä¸Šå°±æ˜¯ä¸ºäº† <code>ar</code> å‘½ä»¤æ¥æœåŠ¡çš„ã€‚å¦‚:</p>
<pre><code>foolib(hack.o) : hack.o
    ar cr foolib hack.o
</code></pre>
<p>å¦‚æœè¦æŒ‡å®šå¤šä¸ªmemberï¼Œé‚£å°±ä»¥ç©ºæ ¼åˆ†å¼€ï¼Œå¦‚:</p>
<pre><code>foolib(hack.o kludge.o)
</code></pre>
<p>å…¶ç­‰ä»·äº:</p>
<pre><code>foolib(hack.o) foolib(kludge.o)
</code></pre>
<p>ä½ è¿˜å¯ä»¥ä½¿ç”¨Shellçš„æ–‡ä»¶é€šé…ç¬¦æ¥å®šä¹‰ï¼Œå¦‚:</p>
<pre><code>foolib(*.o)
</code></pre>
<h2 id="102-å‡½æ•°åº“æˆå‘˜çš„éšå«è§„åˆ™"><a class="markdownIt-Anchor" href="#102-å‡½æ•°åº“æˆå‘˜çš„éšå«è§„åˆ™"></a> 10.2 å‡½æ•°åº“æˆå‘˜çš„éšå«è§„åˆ™</h2>
<p>å½“makeæœç´¢ä¸€ä¸ªç›®æ ‡çš„éšå«è§„åˆ™æ—¶ï¼Œä¸€ä¸ªç‰¹æ®Šçš„ç‰¹æ€§æ˜¯ï¼Œå¦‚æœè¿™ä¸ªç›®æ ‡æ˜¯ <code>a(m)</code> å½¢å¼ çš„ï¼Œå…¶ä¼šæŠŠç›®æ ‡å˜æˆ <code>(m)</code> ã€‚äºæ˜¯ï¼Œå¦‚æœæˆ‘ä»¬çš„æˆå‘˜æ˜¯ <code>%.o</code> çš„æ¨¡å¼å®šä¹‰ï¼Œå¹¶ä¸”å¦‚æœ æˆ‘ä»¬ä½¿ç”¨ <code>make foo.a(bar.o)</code> çš„å½¢å¼è°ƒç”¨Makefileæ—¶ï¼Œéšå«è§„åˆ™ä¼šå»æ‰¾ <code>bar.o</code> çš„ è§„åˆ™ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰ <code>bar.o</code> çš„è§„åˆ™ï¼Œé‚£ä¹ˆå†…å»ºéšå«è§„åˆ™ç”Ÿæ•ˆï¼Œmakeä¼šå»æ‰¾ <code>bar.c</code> æ–‡ä»¶æ¥ç”Ÿæˆ <code>bar.o</code> ï¼Œå¦‚æœæ‰¾å¾—åˆ°çš„è¯ï¼Œmakeæ‰§è¡Œçš„å‘½ä»¤å¤§è‡´å¦‚ä¸‹:</p>
<pre><code>cc -c bar.c -o bar.o
ar r foo.a bar.o
rm -f bar.o
</code></pre>
<p>è¿˜æœ‰ä¸€ä¸ªå˜é‡è¦æ³¨æ„çš„æ˜¯ <code>$%</code> ï¼Œè¿™æ˜¯ä¸“å±å‡½æ•°åº“æ–‡ä»¶çš„è‡ªåŠ¨åŒ–å˜é‡ï¼Œæœ‰å…³å…¶è¯´æ˜è¯·å‚ è§&quot;è‡ªåŠ¨åŒ–å˜é‡&quot;ä¸€èŠ‚ã€‚</p>
<h2 id="103-å‡½æ•°åº“æ–‡ä»¶çš„åç¼€è§„åˆ™"><a class="markdownIt-Anchor" href="#103-å‡½æ•°åº“æ–‡ä»¶çš„åç¼€è§„åˆ™"></a> 10.3 å‡½æ•°åº“æ–‡ä»¶çš„åç¼€è§„åˆ™</h2>
<p>ä½ å¯ä»¥ä½¿ç”¨&quot;åç¼€è§„åˆ™&quot;å’Œ&quot;éšå«è§„åˆ™&quot;æ¥ç”Ÿæˆå‡½æ•°åº“æ‰“åŒ…æ–‡ä»¶ï¼Œå¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line"><span class="section">.c.a:</span></span><br><span class="line">&gt;  <span class="variable">$(CC)</span> <span class="variable">$(CFLAGS)</span> <span class="variable">$(CPPFLAGS)</span> -c <span class="variable">$&lt;</span> -o <span class="variable">$*</span>.o</span><br><span class="line">&gt;  <span class="variable">$(AR)</span> r <span class="variable">$@</span> <span class="variable">$*</span>.o</span><br><span class="line">&gt;  <span class="variable">$(RM)</span> <span class="variable">$*</span>.o</span><br></pre></td></tr></table></figure>
<p>å…¶ç­‰æ•ˆäºï¼š</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.RECIPEPREFIX = &gt;</span><br><span class="line">(%.o) : %.c</span><br><span class="line">&gt;  <span class="variable">$(CC)</span> <span class="variable">$(CFLAGS)</span> <span class="variable">$(CPPFLAGS)</span> -c <span class="variable">$&lt;</span> -o <span class="variable">$*</span>.o</span><br><span class="line">&gt;  <span class="variable">$(AR)</span> r <span class="variable">$@</span> <span class="variable">$*</span>.o</span><br><span class="line">&gt;  <span class="variable">$(RM)</span> <span class="variable">$*</span>.o</span><br></pre></td></tr></table></figure>
<h2 id="104-æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#104-æ³¨æ„äº‹é¡¹"></a> 10.4 æ³¨æ„äº‹é¡¹</h2>
<p>åœ¨è¿›è¡Œå‡½æ•°åº“æ‰“åŒ…æ–‡ä»¶ç”Ÿæˆæ—¶ï¼Œè¯·å°å¿ƒä½¿ç”¨makeçš„å¹¶è¡Œæœºåˆ¶ï¼ˆ <code>-j</code> å‚æ•°ï¼‰ã€‚å¦‚æœå¤šä¸ª <code>ar</code> å‘½ä»¤åœ¨åŒä¸€æ—¶é—´è¿è¡Œåœ¨åŒä¸€ä¸ªå‡½æ•°åº“æ‰“åŒ…æ–‡ä»¶ä¸Šï¼Œå°±å¾ˆæœ‰å¯ä»¥æŸåè¿™ä¸ªå‡½æ•°åº“æ–‡ä»¶ã€‚æ‰€ä»¥ï¼Œåœ¨makeæœªæ¥çš„ç‰ˆæœ¬ä¸­ï¼Œåº”è¯¥æä¾›ä¸€ç§æœºåˆ¶æ¥é¿å…å¹¶è¡Œæ“ä½œå‘ç”Ÿåœ¨å‡½æ•°æ‰“åŒ…æ–‡ä»¶ä¸Šã€‚</p>
<p>ä½†å°±ç›®å‰è€Œè¨€ï¼Œä½ è¿˜æ˜¯åº”è¯¥ä¸è¦å°½é‡ä¸è¦ä½¿ç”¨ <code>-j</code> å‚æ•°ã€‚</p>
<h1 id="11-ååº"><a class="markdownIt-Anchor" href="#11-ååº"></a> 11. ååº</h1>
<p>ç»ˆäºåˆ°å†™ç»“æŸè¯­çš„æ—¶å€™äº†ï¼Œä»¥ä¸ŠåŸºæœ¬ä¸Šå°±æ˜¯GNU makeçš„Makefileçš„æ‰€æœ‰ç»†èŠ‚äº†ã€‚å…¶å®ƒçš„å‚å•†çš„makeåŸºæœ¬ä¸Šä¹Ÿå°±æ˜¯è¿™æ ·çš„ï¼Œæ— è®ºä»€ä¹ˆæ ·çš„makeï¼Œéƒ½æ˜¯ä»¥æ–‡ä»¶çš„ä¾èµ–æ€§ä¸ºåŸºç¡€çš„ï¼Œå…¶åŸºæœ¬æ˜¯éƒ½æ˜¯éµå¾ªä¸€ä¸ªæ ‡å‡†çš„ã€‚è¿™ç¯‡æ–‡æ¡£ä¸­80%çš„æŠ€æœ¯ç»†èŠ‚éƒ½é€‚ç”¨äºä»»ä½•çš„makeï¼Œæˆ‘çŒœæµ‹&quot;å‡½æ•°&quot;é‚£ä¸€ç« çš„å†…å®¹å¯èƒ½ä¸æ˜¯å…¶å®ƒmakeæ‰€æ”¯æŒçš„ï¼Œè€Œéšå«è§„åˆ™æ–¹é¢ï¼Œæˆ‘æƒ³ä¸åŒçš„makeä¼šæœ‰ä¸åŒçš„å®ç°ï¼Œæˆ‘æ²¡æœ‰ç²¾åŠ›æ¥æŸ¥çœ‹GNUçš„makeå’ŒVCçš„nmakeã€BCBçš„makeï¼Œæˆ–æ˜¯åˆ«çš„UNIXä¸‹çš„makeæœ‰äº›ä»€ä¹ˆæ ·çš„å·®åˆ«ï¼Œä¸€æ˜¯æ—¶é—´ç²¾åŠ›ä¸å¤Ÿï¼ŒäºŒæ˜¯å› ä¸ºæˆ‘åŸºæœ¬ä¸Šéƒ½æ˜¯åœ¨Unixä¸‹ä½¿ç”¨makeï¼Œä»¥å‰åœ¨SCO Unixå’ŒIBMçš„AIXï¼Œç°åœ¨åœ¨Linuxã€Solarisã€HP-UXã€AIXå’ŒAlphaä¸‹ä½¿ç”¨ï¼ŒLinuxå’ŒSolarisä¸‹æ›´å¤šä¸€ç‚¹ã€‚ä¸è¿‡ï¼Œæˆ‘å¯ä»¥è‚¯å®šçš„æ˜¯ï¼Œåœ¨Unixä¸‹çš„makeï¼Œæ— è®ºæ˜¯å“ªç§å¹³å°ï¼Œå‡ ä¹éƒ½ä½¿ç”¨äº†Richard Stallmanå¼€å‘çš„makeå’Œcc/gccçš„ç¼–è¯‘å™¨ï¼Œè€Œä¸”ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯GNUçš„makeï¼ˆå…¬å¸é‡Œæ‰€æœ‰çš„UNIXæœºå™¨ä¸Šéƒ½è¢«è£…ä¸Šäº†GNUçš„ä¸œè¥¿ï¼Œæ‰€ä»¥ï¼Œä½¿ç”¨GNUçš„ç¨‹åºä¹Ÿå°±å¤šäº†ä¸€äº›ï¼‰ã€‚GNUçš„ä¸œè¥¿è¿˜æ˜¯å¾ˆä¸é”™çš„ï¼Œç‰¹åˆ«æ˜¯ä½¿ç”¨å¾—æ·±äº†ä»¥åï¼Œè¶Šæ¥è¶Šè§‰å¾—GNUçš„è½¯ä»¶çš„å¼ºå¤§ï¼Œä¹Ÿè¶Šæ¥è¶Šè§‰å¾—GNUçš„åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼ˆä¸»è¦æ˜¯Unixï¼Œç”šè‡³Windowsï¼‰â€œæ€ä¼¤åŠ›â€ã€‚</p>
<p>å¯¹äºä¸Šè¿°æ‰€æœ‰çš„makeçš„ç»†èŠ‚ï¼Œæˆ‘ä»¬ä¸ä½†å¯ä»¥åˆ©ç”¨makeè¿™ä¸ªå·¥å…·æ¥ç¼–è¯‘æˆ‘ä»¬çš„ç¨‹åºï¼Œè¿˜å¯ä»¥åˆ©ç”¨makeæ¥å®Œæˆå…¶å®ƒçš„å·¥ä½œï¼Œå› ä¸ºè§„åˆ™ä¸­çš„å‘½ä»¤å¯ä»¥æ˜¯ä»»ä½•Shellä¹‹ä¸‹çš„å‘½ä»¤ï¼Œæ‰€ä»¥ï¼Œåœ¨Unixä¸‹ï¼Œä½ ä¸ä¸€å®šåªæ˜¯ä½¿ç”¨ç¨‹åºè¯­è¨€çš„ç¼–è¯‘å™¨ï¼Œä½ è¿˜å¯ä»¥åœ¨Makefileä¸­ä¹¦å†™å…¶å®ƒçš„å‘½ä»¤ï¼Œå¦‚ï¼štarã€awkã€mailã€sedã€cvsã€compressã€lsã€rmã€yaccã€rpmã€ftpç­‰ç­‰ï¼Œç­‰ç­‰ï¼Œæ¥å®Œæˆè¯¸å¦‚&quot;ç¨‹åºæ‰“åŒ…&quot;ã€â€œç¨‹åºå¤‡ä»½â€ã€â€œåˆ¶ä½œç¨‹åºå®‰è£…åŒ…â€ã€â€œæäº¤ä»£ç â€ã€â€œä½¿ç”¨ç¨‹åºæ¨¡æ¿â€ã€â€œåˆå¹¶æ–‡ä»¶&quot;ç­‰ç­‰äº”èŠ±å…«é—¨çš„åŠŸèƒ½ï¼Œæ–‡ä»¶æ“ä½œï¼Œæ–‡ä»¶ç®¡ç†ï¼Œç¼–ç¨‹å¼€å‘è®¾è®¡ï¼Œæˆ–æ˜¯å…¶å®ƒä¸€äº›å¼‚æƒ³å¤©å¼€çš„ä¸œè¥¿ã€‚æ¯”å¦‚ï¼Œä»¥å‰åœ¨ä¹¦å†™é“¶è¡Œäº¤æ˜“ç¨‹åºæ—¶ï¼Œç”±äºé“¶è¡Œçš„äº¤æ˜“ç¨‹åºåŸºæœ¬ä¸€æ ·ï¼Œå°±è§åˆ°æœ‰äººä¹¦å†™äº†ä¸€äº›äº¤æ˜“çš„é€šç”¨ç¨‹åºæ¨¡æ¿ï¼Œåœ¨è¯¥æ¨¡æ¿ä¸­æŠŠä¸€äº›ç½‘ç»œé€šè®¯ã€æ•°æ®åº“æ“ä½œçš„ã€ä¸šåŠ¡æ“ä½œå…±æ€§çš„ä¸œè¥¿å†™åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œåœ¨è¿™äº›æ–‡ä»¶ä¸­ç”¨äº›è¯¸å¦‚â€@@@Nã€###N&quot;å¥‡æ€ªå­—ä¸²æ ‡æ³¨ä¸€äº›ä½ç½®ï¼Œç„¶åä¹¦å†™äº¤æ˜“æ—¶ï¼Œåªéœ€æŒ‰ç…§ä¸€ç§ç‰¹å®šçš„è§„åˆ™ä¹¦å†™ç‰¹å®šçš„å¤„ç†ï¼Œæœ€ååœ¨makeæ—¶ï¼Œä½¿ç”¨awkå’Œsedï¼ŒæŠŠæ¨¡æ¿ä¸­çš„&quot;@@@Nã€###N&quot;ç­‰å­—ä¸²æ›¿ä»£æˆç‰¹å®šçš„ç¨‹åºï¼Œå½¢æˆCæ–‡ä»¶ï¼Œç„¶åå†ç¼–è¯‘ã€‚è¿™ä¸ªåŠ¨ä½œå¾ˆåƒæ•°æ®åº“çš„&quot;æ‰©å±•C&quot;è¯­è¨€ï¼ˆå³åœ¨Cè¯­è¨€ä¸­ç”¨&quot;EXEC SQL&quot;çš„æ ·å­æ‰§è¡ŒSQLè¯­å¥ï¼Œåœ¨ç”¨cc/gccç¼–è¯‘ä¹‹å‰ï¼Œéœ€è¦ä½¿ç”¨&quot;æ‰©å±•C&quot;çš„ç¿»è¯‘ç¨‹åºï¼Œå¦‚cpreï¼ŒæŠŠå…¶ç¿»è¯‘æˆæ ‡å‡†Cï¼‰ã€‚å¦‚æœä½ åœ¨ä½¿ç”¨makeæ—¶æœ‰ä¸€äº›æ›´ä¸ºç»å¦™çš„æ–¹æ³•ï¼Œè¯·è®°å¾—å‘Šè¯‰æˆ‘å•Šã€‚</p>
<p>å›å¤´çœ‹çœ‹æ•´ç¯‡æ–‡æ¡£ï¼Œä¸è§‰è®°èµ·å‡ å¹´å‰åˆšåˆšå¼€å§‹åœ¨Unixä¸‹åšå¼€å‘çš„æ—¶å€™ï¼Œæœ‰äººé—®æˆ‘ä¼šä¸ä¼šå†™Makefileæ—¶ï¼Œæˆ‘ä¸¤çœ¼å‘ç›´ï¼Œæ ¹æœ¬ä¸çŸ¥é“åœ¨è¯´ä»€ä¹ˆã€‚ä¸€å¼€å§‹çœ‹åˆ°åˆ«äººåœ¨viä¸­å†™å®Œç¨‹åºåè¾“å…¥&quot;!make&quot;æ—¶ï¼Œè¿˜ä»¥ä¸ºæ˜¯viçš„åŠŸèƒ½ï¼Œåæ¥æ‰çŸ¥é“æœ‰ä¸€ä¸ªMakefileåœ¨ä½œæ€ªï¼Œäºæ˜¯ä¸Šç½‘æŸ¥å•ŠæŸ¥ï¼Œé‚£æ—¶åˆä¸æ„¿æ„çœ‹è‹±æ–‡ï¼Œå‘ç°å°±æ ¹æœ¬æ²¡æœ‰ä¸­æ–‡çš„æ–‡æ¡£ä»‹ç»Makefileï¼Œåªå¾—çœ‹åˆ«äººå†™çš„Makefileï¼Œè‡ªå·±çç¢°çææ‰ç§¯ç´¯äº†ä¸€ç‚¹çŸ¥è¯†ï¼Œä½†åœ¨å¾ˆå¤šåœ°æ–¹å®Œå…¨æ˜¯çŸ¥å…¶ç„¶ä¸çŸ¥æ‰€ä»¥ç„¶ã€‚åæ¥å¼€å§‹ä»äº‹UNIXä¸‹äº§å“è½¯ä»¶çš„å¼€å‘ï¼Œçœ‹åˆ°ä¸€ä¸ª400äººï¼Œè¿‘200ä¸‡è¡Œä»£ç çš„å¤§å·¥ç¨‹ï¼Œå‘ç°è¦ç¼–è¯‘è¿™æ ·ä¸€ä¸ªåºç„¶å¤§ç‰©ï¼Œå¦‚æœæ²¡æœ‰Makefileï¼Œé‚£ä¼šæ˜¯å¤šä¹ˆææ€–çš„ä¸€æ ·äº‹å•Šã€‚äºæ˜¯æ¨ªä¸‹å¿ƒæ¥ï¼Œç‹ å‘½åœ°è¯»äº†ä¸€å †è‹±æ–‡æ–‡æ¡£ï¼Œæ‰è§‰å¾—å¯¹å…¶æŒæ¡äº†ã€‚ä½†å‘ç°ç›®å‰ç½‘ä¸Šå¯¹Makefileä»‹ç»çš„æ–‡ç« è¿˜æ˜¯å°‘å¾—é‚£ä¹ˆçš„å¯æ€œï¼Œæ‰€ä»¥æƒ³å†™è¿™æ ·ä¸€ç¯‡æ–‡ç« ï¼Œå…±äº«ç»™å¤§å®¶ï¼Œå¸Œæœ›èƒ½å¯¹å„ä½æœ‰æ‰€å¸®åŠ©ã€‚</p>
<p>ç°åœ¨æˆ‘ç»ˆäºå†™å®Œäº†ï¼Œçœ‹äº†çœ‹æ–‡ä»¶çš„åˆ›å»ºæ—¶é—´ï¼Œè¿™ç¯‡æŠ€æœ¯æ–‡æ¡£ä¹Ÿå†™äº†ä¸¤ä¸ªå¤šæœˆäº†ã€‚å‘ç°ï¼Œè‡ªå·±çŸ¥é“æ˜¯ä¸€å›äº‹ï¼Œè¦å†™ä¸‹æ¥ï¼Œè·Ÿåˆ«äººè®²è¿°åˆæ˜¯å¦å¤–ä¸€å›äº‹ï¼Œè€Œä¸”ï¼Œç°åœ¨è¶Šæ¥è¶Šæ²¡æœ‰æ—¶é—´é’»ç ”æŠ€æœ¯ç»†èŠ‚ï¼Œæ‰€ä»¥åœ¨å†™ä½œæ—¶ï¼Œå‘ç°åœ¨é˜è¿°ä¸€äº›ç»†èŠ‚é—®é¢˜æ—¶å¾ˆéš¾åšåˆ°ä¸¥è°¨å’Œç²¾ç‚¼ï¼Œè€Œä¸”å¯¹å…ˆè®²ä»€ä¹ˆåè®²ä»€ä¹ˆä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œæ‰€ä»¥ï¼Œè¿˜æ˜¯å‚è€ƒäº†ä¸€äº›å›½å¤–ç«™ç‚¹ä¸Šçš„èµ„æ–™å’Œæçº²ï¼Œä»¥åŠä¸€äº›æŠ€æœ¯ä¹¦ç±çš„è¯­è¨€é£æ ¼ï¼Œæ‰å¾—ä»¥å®Œæˆã€‚æ•´ç¯‡æ–‡æ¡£çš„æçº²æ˜¯åŸºäºGNUçš„MakefileæŠ€æœ¯æ‰‹å†Œçš„æçº²æ¥ä¹¦å†™çš„ï¼Œå¹¶ç»“åˆäº†è‡ªå·±çš„å·¥ä½œç»éªŒï¼Œä»¥åŠè‡ªå·±çš„å­¦ä¹ å†ç¨‹ã€‚å› ä¸ºä»æ¥æ²¡æœ‰å†™è¿‡è¿™ä¹ˆé•¿ï¼Œè¿™ä¹ˆç»†çš„æ–‡æ¡£ï¼Œæ‰€ä»¥ä¸€å®šä¼šæœ‰å¾ˆå¤šåœ°æ–¹å­˜åœ¨è¡¨è¾¾é—®é¢˜ï¼Œè¯­è¨€æ­§ä¹‰æˆ–æ˜¯é”™è¯¯ã€‚å› äº›ï¼Œæˆ‘è¿«åˆ‡åœ°ç­‰å¾…å„ä½ç»™æˆ‘æŒ‡æ­£å’Œå»ºè®®ï¼Œä»¥åŠä»»ä½•çš„åé¦ˆã€‚</p>
<p>æœ€åï¼Œè¿˜æ˜¯åˆ©ç”¨è¿™ä¸ªååºï¼Œä»‹ç»ä¸€ä¸‹è‡ªå·±ã€‚æˆ‘ç›®å‰ä»äº‹äºæ‰€æœ‰Unixå¹³å°ä¸‹çš„è½¯ä»¶ç ”å‘ï¼Œä¸»è¦æ˜¯åšåˆ†å¸ƒå¼è®¡ç®—/ç½‘æ ¼è®¡ç®—æ–¹é¢çš„ç³»ç»Ÿäº§å“è½¯ä»¶ï¼Œå¹¶ä¸”æˆ‘å¯¹äºä¸‹ä¸€ä»£çš„è®¡ç®—æœºé©å‘½------ç½‘æ ¼è®¡ç®—éå¸¸åœ°æ„Ÿå…´è¶£ï¼Œå¯¹äºåˆ†å¸ƒå¼è®¡ç®—ã€P2Pã€Web Serviceã€J2EEæŠ€æœ¯æ–¹å‘ä¹Ÿå¾ˆæ„Ÿå…´è¶£ï¼ŒåŒæ—¶ï¼Œå¯¹äºé¡¹ç›®å®æ–½ã€å›¢é˜Ÿç®¡ç†ã€é¡¹ç›®ç®¡ç†ä¹Ÿå°æœ‰å¿ƒå¾—ï¼Œå¸Œæœ›åŒæ ·å’Œæˆ‘æˆ˜æ–—åœ¨&quot;æŠ€æœ¯å’Œç®¡ç†å¹¶é‡&quot;çš„é˜µçº¿ä¸Šçš„å¹´è½»ä¸€ä»£ï¼Œèƒ½å¤Ÿå’Œæˆ‘å¤šå¤šåœ°äº¤æµã€‚æˆ‘çš„MSNæ˜¯ï¼š<a href="mailto:haoel@hotmail.com">haoel@hotmail.com</a>ï¼ˆå¸¸ç”¨ï¼‰ï¼ŒQQæ˜¯ï¼š753640ï¼ˆä¸å¸¸ç”¨ï¼‰ã€‚ï¼ˆæ³¨ï¼šè¯·å‹¿ç»™æˆ‘MSNçš„é‚®ç®±å‘ä¿¡ï¼Œç”±äºhotmailçš„åƒåœ¾é‚®ä»¶å¯¼è‡´æˆ‘æ‹’æ”¶è¿™ä¸ªé‚®ç®±çš„æ‰€æœ‰æ¥ä¿¡ï¼‰</p>
<p>æˆ‘æ¬¢è¿ä»»ä½•å½¢å¼çš„äº¤æµï¼Œæ— è®ºæ˜¯è®¨è®ºæŠ€æœ¯è¿˜æ˜¯ç®¡ç†ï¼Œæˆ–æ˜¯å…¶å®ƒæµ·é˜”å¤©ç©ºçš„ä¸œè¥¿ã€‚é™¤äº†æ”¿æ²»å’Œå¨±ä¹æ–°é—»æˆ‘ä¸å…³å¿ƒï¼Œå…¶å®ƒåªè¦ç§¯æå‘ä¸Šçš„ä¸œè¥¿æˆ‘éƒ½æ¬¢è¿ï¼</p>
<p>æœ€æœ€åï¼Œæˆ‘è¿˜æƒ³ä»‹ç»ä¸€ä¸‹makeç¨‹åºçš„è®¾è®¡å¼€å‘è€…ã€‚</p>
<p>é¦–å½“å…¶å†²çš„æ˜¯ï¼šRichard Stallman</p>
<p>å¼€æºè½¯ä»¶çš„é¢†è¢–å’Œå…ˆé©±ï¼Œä»æ¥æ²¡æœ‰é¢†è¿‡ä¸€å¤©å·¥èµ„ï¼Œä»æ¥æ²¡æœ‰ä½¿ç”¨è¿‡Windowsæ“ä½œç³»ç»Ÿã€‚å¯¹äºä»–çš„äº‹è¿¹å’Œä»–çš„è½¯ä»¶ä»¥åŠä»–çš„æ€æƒ³ï¼Œæˆ‘æ— éœ€è¯´è¿‡å¤šçš„è¯ï¼Œç›¸ä¿¡å¤§å®¶å¯¹è¿™ä¸ªäººå¹¶ä¸æ¯”æˆ‘é™Œç”Ÿï¼Œè¿™æ˜¯ä»–çš„ä¸»é¡µï¼š<a href="http://www.stallman.org/">http://www.stallman.org/</a> ã€‚è¿™é‡Œåªè´´ä¸Šä¸€å¼ ä»–çš„è¿‘ç…§ï¼š</p>
<p><img src="https://media.libreplanet.org/mgoblin_media/media_entries/2207/rms-closeup.medium.jpg" alt="Richard Stallman, at LibrePlanet 2019" /></p>
<p>ç¬¬äºŒä½æ˜¯ï¼šRoland McGrath</p>
<p>ä¸ªäººä¸»é¡µæ˜¯ï¼š<a href="http://www.frob.com/%5C~roland/">http://www.frob.com/\~roland/</a> ï¼Œä¸‹é¢æ˜¯ä»–çš„ä¸€äº›äº‹è¿¹ï¼š</p>
<ol>
<li>åˆä½œç¼–å†™äº†å¹¶ç»´æŠ¤GNU makeã€‚</li>
<li>å’ŒThomas Bushnellä¸€åŒç¼–å†™äº†GNU Hurdã€‚</li>
<li>ç¼–å†™å¹¶ç»´æŠ¤ç€GNU C libraryã€‚</li>
<li>åˆä½œç¼–å†™å¹¶ç»´æŠ¤ç€éƒ¨åˆ†çš„GNU Emacsã€‚</li>
</ol>
<p>åœ¨æ­¤ï¼Œå‘è¿™ä¸¤ä½å¼€æºé¡¹ç›®çš„æ–—å£«è‡´ä»¥æœ€çœŸåˆ‡çš„æ•¬æ„ã€‚</p>
<p>ï¼ˆå…¨æ–‡å®Œï¼‰</p>
]]></content>
      <tags>
        <tag>study</tag>
        <tag>ç¬”è®°æ‘˜æŠ„</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcode_28_å¯»æ‰¾å­—ç¬¦ä¸²_KMP</title>
    <url>/2022/11/10/leetcode-28-%E5%AF%BB%E6%89%BE%E5%AD%97%E7%AC%A6%E4%B8%B2-KMP/</url>
    <content><![CDATA[<p>ä»æˆ‘å­¦ä¹ æ•°æ®ç»“æ„ä»¥æ¥, è¿™åº”è¯¥æ˜¯ç¢°åˆ°çš„ç¬¬ä¸€ä¸ªæ¯”è¾ƒéš¾çš„ç®—æ³•äº†, å­¦ä¹ ç®—æ³•è™½ç„¶æˆ‘å·²ç»å¤§æ¦‚äº†è§£äº†, ä½†æ˜¯å°±æ˜¯ä½¿ç”¨cppå®ç°çš„æ—¶å€™å¾ˆéš¾å®ç°, è¿™æ¬¡ç®—æ˜¯ç¬¬ä¸€æ¬¡å®ç°æ¯”è¾ƒéš¾çš„ç®—æ³•, æœ€åè¿˜æ˜¯å¤±è´¥äº†, leetcodeä¸Šé¢çš„æ ·ä¾‹æ²¡æœ‰å…¨è¿‡, åæ¥å¬äº†è€å¸ˆè®²è¯¾æ‰å¤§æ¦‚ç†è§£ä¹¦æœ¬ä¸Šé¢çš„ä»£ç æ˜¯ä»€ä¹ˆæ„æ€.</p>
<p>å…ˆè´´ä¸€ä¸‹æˆ‘æœ€åè¿‡äº†çš„ä»£ç , å®é™…ä¸Šä¹Ÿæ²¡æœ‰å¤šå‰å®³, æœ€åè¿˜æ˜¯ä¸€ç›´æ²¡è¿‡, åæ­£å°±æ˜¯æ€»æ˜¯å·®ä¸€ç‚¹.</p>
<span id="more"></span>
<p><img src="https://pic1.imgdb.cn/item/63478d8c16f2c2beb111fc69.png" alt="img" /></p>
<p>å°±æ€»æ˜¯åƒè¿™ç§â€¦â€¦</p>
<p>æˆ‘è¿˜æ˜¯ç›´æ¥è´´ä¸€ä¸‹æˆ‘æœ€åè¿‡äº†çš„ä»£ç å§.</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">strStr</span><span class="params">(string haystack, string needle)</span> </span>&#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> needle_length = needle.<span class="built_in">size</span>();</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> haystack_length = haystack.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">if</span> (needle_length &gt; haystack_length) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="type">int</span> next[needle_length];</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å…ˆç»™needleç”Ÿæˆnextæ•°ç»„ è®©next[0]=-1çœŸæ˜¯æ–¹ä¾¿</span></span><br><span class="line">    <span class="comment">//çŸ¥é“ç¬¬å‰iä¸ªnextæ•°ç»„, æ±‚i+1ä½</span></span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line">    next[<span class="number">0</span>] = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; needle_length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">      j = next[i];</span><br><span class="line">      <span class="keyword">while</span> (j &gt;= <span class="number">0</span> &amp;&amp; needle[i] != needle[j]) j = next[j];</span><br><span class="line">      next[i + <span class="number">1</span>] = ++j;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿˜æ˜¯é‡å¤ä½¿ç”¨iå’Œj, å…¶ä¸­iæŒ‡å‘é•¿ä¸². jæŒ‡å‘çŸ­ä¸²</span></span><br><span class="line">    i = j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; haystack_length &amp;&amp; j &lt; needle_length) &#123;</span><br><span class="line">      <span class="keyword">if</span> (j == <span class="number">-1</span> || haystack[i] == needle[j]) &#123;</span><br><span class="line">        i++;</span><br><span class="line">        j++;</span><br><span class="line">      &#125; <span class="keyword">else</span></span><br><span class="line">        j = next[j];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (j &gt;= needle_length)</span><br><span class="line">      <span class="keyword">return</span> i - j;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><img src="https://pic1.imgdb.cn/item/634ac26716f2c2beb1cc08e1.jpg" alt="img" /></p>
<p>æ•ˆæœæ˜¯çœŸä¸æˆ³! (å…¶å®leetcodeå¹³å°ç¡®å®æ˜¯å¤šæ¬¡æäº¤åŒä¸€ä¸ªä»£ç ä¼šé€ æˆä¸ä¸€æ ·çš„ç»“æœ)</p>
<p>å¯¹äºæ•´ä¸ªé¢˜ç›®, æ˜¯åœ¨haystackå­—ç¬¦ä¸²é‡Œé¢å¯»æ‰¾needleè¿™ä¸ªå­—ç¬¦ä¸², é¦–å…ˆå‡å¦‚è¯´needleè¿˜é•¿ä¸€äº›é‚£è‚¯å®šæ˜¯æ²¡æœ‰åŠæ³•æ‰¾åˆ°çš„, æ‰€ä»¥è¿”å›-1.</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å…ˆç»™needleç”Ÿæˆnextæ•°ç»„ è®©next[0]=-1çœŸæ˜¯æ–¹ä¾¿</span></span><br><span class="line"><span class="comment">//çŸ¥é“ç¬¬å‰iä¸ªnextæ•°ç»„, æ±‚i+1ä½</span></span><br><span class="line"><span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line">next[<span class="number">0</span>] = <span class="number">-1</span>;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; needle_length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">  j = next[i];</span><br><span class="line">  <span class="keyword">while</span> (j &gt;= <span class="number">0</span> &amp;&amp; needle[i] != needle[j]) j = next[j];</span><br><span class="line">  next[i + <span class="number">1</span>] = ++j;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é¦–å…ˆ, åªæœ‰åŒ¹é…å¤±è´¥çš„æ—¶å€™æ‰ä¼šå»å¯»æ‰¾ä¸‹ä¸€ä¸ªå¯èƒ½æ€§, æ‰€ä»¥å¾ªç¯æ¡ä»¶æ˜¯ä¸åŒ¹é…, ä½†æ˜¯å‡å¦‚j&lt;0äº†ä¹Ÿå°±æ˜¯è¯´å¯èƒ½æ€§å·²ç»ç”¨å®Œäº†(å› ä¸ºåªæœ‰next[0]æ˜¯å°äº0çš„), è¿™ä¸ªæ—¶å€™ä¹Ÿä¸èƒ½å¾ªç¯äº†.</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¿˜æ˜¯é‡å¤ä½¿ç”¨iå’Œj, å…¶ä¸­iæŒ‡å‘é•¿ä¸². jæŒ‡å‘çŸ­ä¸²</span></span><br><span class="line">    i = j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; haystack_length &amp;&amp; j &lt; needle_length) &#123;</span><br><span class="line">      <span class="keyword">if</span> (j == <span class="number">-1</span> || haystack[i] == needle[j]) &#123;</span><br><span class="line">        i++;</span><br><span class="line">        j++;</span><br><span class="line">      &#125; <span class="keyword">else</span></span><br><span class="line">        j = next[j];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (j &gt;= needle_length)</span><br><span class="line">      <span class="keyword">return</span> i - j;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"><span class="comment">//æ’ç‰ˆæœ‰ç‚¹å°é—®é¢˜ ä¸å½±å“é˜…è¯»</span></span><br></pre></td></tr></table></figure>
<p>ä¸æƒ³è§£è¯´äº†, å¤ªå¦™äº†, å¤šçœ‹å‡ é.</p>
<p>å½“ç„¶åŒ¹é…å­—ç¬¦ä¸²è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„ç®—æ³•, æ¯”å¦‚è¯´BMç®—æ³•. <s>æˆ‘ä¸æƒ³çœ‹äº†</s></p>
]]></content>
      <tags>
        <tag>study</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcode_50_å¿«é€Ÿå¹‚</title>
    <url>/2022/11/10/leetcode-50-%E5%BF%AB%E9%80%9F%E5%B9%82/</url>
    <content><![CDATA[<p>å› ä¸ºè€å¸ˆä¸Šè¯¾è®²è¿‡äº†è¿™ä¸ªæ–¹æ³•, æ‰€ä»¥æˆ‘ä¸€å¼€å§‹æ˜¯æ ·ä¾‹è¿‡äº†å¤§åŠçš„, æˆ‘ä¸€å¼€å§‹çš„ä»£ç æ˜¯è¿™æ ·:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"> <span class="function"><span class="type">double</span> <span class="title">myPow</span><span class="params">(<span class="type">double</span> x, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span>) <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">-1</span>) <span class="keyword">return</span> <span class="number">1</span> / x;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">myPow</span>(x, (<span class="type">int</span>)(n / <span class="number">2</span>)) * <span class="built_in">myPow</span>(x, n - (<span class="type">int</span>)(n / <span class="number">2</span>));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<span id="more"></span>
<p>è¯´å®è¯æˆ‘ä¸€å¼€å§‹è¿˜æ²¡çœ‹å‡ºæ¥è¿™ä¸ªä¸ºä»€ä¹ˆè€å¸ˆè¶…æ—¶. ç”šè‡³æˆ‘çœ‹äº†å®˜è§£ä¹‹åè¿˜åœ¨ç–‘æƒ‘.</p>
<p>åæ¥ä»£ç æ”¹è¿›å:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">   <span class="function"><span class="type">double</span> <span class="title">quickMul</span><span class="params">(<span class="type">double</span> x, <span class="type">long</span> <span class="type">long</span> N)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (N == <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">1.0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">double</span> y = <span class="built_in">quickMul</span>(x, N / <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">if</span> (N % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">      <span class="keyword">return</span> y * y;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      <span class="keyword">return</span> y * y * x;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="type">double</span> <span class="title">myPow</span><span class="params">(<span class="type">double</span> x, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> N = n;</span><br><span class="line">    <span class="keyword">if</span> (N &gt;= <span class="number">0</span>)</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">quickMul</span>(x, N);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      <span class="keyword">return</span> <span class="number">1.0</span> / <span class="built_in">quickMul</span>(x, -N);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>é—®é¢˜åœ¨äº, æˆ‘ç°åœ¨æ¥æƒ³, æœ€å¼€å§‹çš„æ–¹æ³•è™½ç„¶ç”¨äº†è¿™ä¸ªf(n)-&gt;f(n/2)ä½†æ˜¯å¤æ‚åº¦å´ä¸æ˜¯logn, åŸå› æˆ‘é€’å½’çš„returnè¯­å¥é‡Œé¢æœ‰ä¸¤ä¸ªè¿™æ ·çš„å‡½æ•°â€¦</p>
<p>å‡å¦‚f(1)ç®—ä¸€æ¬¡åŸºæœ¬æ“ä½œ, å¥½ä¸å®¹æ˜“å†™å‡ºæ¥äº†æŠ˜åŠ, åˆæœ‰ä¸¤ä¸ª, ç›¸å½“äºæ—¶é—´å¤æ‚åº¦æ˜¯O(n).</p>
<p>è€Œåæ¥çš„è§£é‡Œé¢å¾ˆæ˜æ˜¾, æ”¹è¿›çš„åœ°æ–¹æ˜¯ç¬¬ä¸€æ¬¡åšçš„æ—¶å€™è¿”å›ä¸¤ä¸ªreturn, å®é™…ä¸Šè¿™ä¸¤ä¸ªæ˜¯æœ‰å…³ç³»çš„, å’Œå¥‡å¶æœ‰å…³ç³», å¾ˆå¦™.</p>
]]></content>
      <tags>
        <tag>study</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title>æ­£åˆ™è¡¨è¾¾å¼</title>
    <url>/2022/11/10/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/</url>
    <content><![CDATA[<h2 id="1-åŸºæœ¬åŒ¹é…"><a class="markdownIt-Anchor" href="#1-åŸºæœ¬åŒ¹é…"></a> 1. åŸºæœ¬åŒ¹é…</h2>
<p>æ­£åˆ™è¡¨è¾¾å¼å…¶å®å°±æ˜¯åœ¨æ‰§è¡Œæœç´¢æ—¶çš„æ ¼å¼ï¼Œå®ƒç”±ä¸€äº›å­—æ¯å’Œæ•°å­—ç»„åˆè€Œæˆã€‚<br />
ä¾‹å¦‚ï¼šä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ <code>the</code>ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªè§„åˆ™ï¼šç”±å­—æ¯<code>t</code>å¼€å§‹ï¼Œæ¥ç€æ˜¯<code>h</code>ï¼Œå†æ¥ç€æ˜¯<code>e</code>ã€‚</p>
<span id="more"></span>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;the&quot; =&gt; The fat cat sat on the mat.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/dmRygT/1">åœ¨çº¿ç»ƒä¹ </a></p>
<p>æ­£åˆ™è¡¨è¾¾å¼<code>123</code>åŒ¹é…å­—ç¬¦ä¸²<code>123</code>ã€‚å®ƒé€ä¸ªå­—ç¬¦çš„ä¸è¾“å…¥çš„æ­£åˆ™è¡¨è¾¾å¼åšæ¯”è¾ƒã€‚</p>
<p>æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¤§å°å†™æ•æ„Ÿçš„ï¼Œæ‰€ä»¥<code>The</code>ä¸ä¼šåŒ¹é…<code>the</code>ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;The&quot; =&gt; The fat cat sat on the mat.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/1paXsy/1">åœ¨çº¿ç»ƒä¹ </a></p>
<h2 id="2-å…ƒå­—ç¬¦"><a class="markdownIt-Anchor" href="#2-å…ƒå­—ç¬¦"></a> 2. å…ƒå­—ç¬¦</h2>
<p>æ­£åˆ™è¡¨è¾¾å¼ä¸»è¦ä¾èµ–äºå…ƒå­—ç¬¦ã€‚<br />
å…ƒå­—ç¬¦ä¸ä»£è¡¨ä»–ä»¬æœ¬èº«çš„å­—é¢æ„æ€ï¼Œä»–ä»¬éƒ½æœ‰ç‰¹æ®Šçš„å«ä¹‰ã€‚ä¸€äº›å…ƒå­—ç¬¦å†™åœ¨æ–¹æ‹¬å·ä¸­çš„æ—¶å€™æœ‰ä¸€äº›ç‰¹æ®Šçš„æ„æ€ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å…ƒå­—ç¬¦çš„ä»‹ç»ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center">å…ƒå­—ç¬¦</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">.</td>
<td>å¥å·åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦é™¤äº†æ¢è¡Œç¬¦ã€‚</td>
</tr>
<tr>
<td style="text-align:center">[ ]</td>
<td>å­—ç¬¦ç§ç±»ã€‚åŒ¹é…æ–¹æ‹¬å·å†…çš„ä»»æ„å­—ç¬¦ã€‚</td>
</tr>
<tr>
<td style="text-align:center">[^ ]</td>
<td>å¦å®šçš„å­—ç¬¦ç§ç±»ã€‚åŒ¹é…é™¤äº†æ–¹æ‹¬å·é‡Œçš„ä»»æ„å­—ç¬¦</td>
</tr>
<tr>
<td style="text-align:center">*</td>
<td>åŒ¹é…&gt;=0ä¸ªé‡å¤çš„åœ¨*å·ä¹‹å‰çš„å­—ç¬¦ã€‚</td>
</tr>
<tr>
<td style="text-align:center">+</td>
<td>åŒ¹é…&gt;=1ä¸ªé‡å¤çš„+å·å‰çš„å­—ç¬¦ã€‚</td>
</tr>
<tr>
<td style="text-align:center">?</td>
<td>æ ‡è®°?ä¹‹å‰çš„å­—ç¬¦ä¸ºå¯é€‰.</td>
</tr>
<tr>
<td style="text-align:center">{n,m}</td>
<td>åŒ¹é…numä¸ªå¤§æ‹¬å·ä¹‹å‰çš„å­—ç¬¦æˆ–å­—ç¬¦é›† (n &lt;= num &lt;= m).</td>
</tr>
<tr>
<td style="text-align:center">(xyz)</td>
<td>å­—ç¬¦é›†ï¼ŒåŒ¹é…ä¸ xyz å®Œå…¨ç›¸ç­‰çš„å­—ç¬¦ä¸².</td>
</tr>
<tr>
<td style="text-align:center">ç®¡é“ç¬¦</td>
<td>æˆ–è¿ç®—ç¬¦ï¼ŒåŒ¹é…ç¬¦å·å‰æˆ–åçš„å­—ç¬¦.</td>
</tr>
<tr>
<td style="text-align:center">\</td>
<td>è½¬ä¹‰å­—ç¬¦,ç”¨äºåŒ¹é…ä¸€äº›ä¿ç•™çš„å­—ç¬¦.</td>
</tr>
<tr>
<td style="text-align:center">^</td>
<td>ä»å¼€å§‹è¡Œå¼€å§‹åŒ¹é….</td>
</tr>
<tr>
<td style="text-align:center">$</td>
<td>ä»æœ«ç«¯å¼€å§‹åŒ¹é….</td>
</tr>
</tbody>
</table>
<h2 id="21-ç‚¹è¿ç®—ç¬¦"><a class="markdownIt-Anchor" href="#21-ç‚¹è¿ç®—ç¬¦"></a> 2.1 ç‚¹è¿ç®—ç¬¦ <code>.</code></h2>
<p><code>.</code>æ˜¯å…ƒå­—ç¬¦ä¸­æœ€ç®€å•çš„ä¾‹å­ã€‚<br />
<code>.</code>åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦ï¼Œä½†ä¸åŒ¹é…æ¢è¡Œç¬¦ã€‚<br />
ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼<code>.ar</code>åŒ¹é…ä¸€ä¸ªä»»æ„å­—ç¬¦åé¢è·Ÿç€æ˜¯<code>a</code>å’Œ<code>r</code>çš„å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;.ar&quot; =&gt; The car parked in the garage.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/xc9GkU/1">åœ¨çº¿ç»ƒä¹ </a></p>
<h2 id="22-å­—ç¬¦é›†"><a class="markdownIt-Anchor" href="#22-å­—ç¬¦é›†"></a> 2.2 å­—ç¬¦é›†</h2>
<p>å­—ç¬¦é›†ä¹Ÿå«åšå­—ç¬¦ç±»ã€‚<br />
æ–¹æ‹¬å·ç”¨æ¥æŒ‡å®šä¸€ä¸ªå­—ç¬¦é›†ã€‚<br />
åœ¨æ–¹æ‹¬å·ä¸­ä½¿ç”¨è¿å­—ç¬¦æ¥æŒ‡å®šå­—ç¬¦é›†çš„èŒƒå›´ã€‚<br />
åœ¨æ–¹æ‹¬å·ä¸­çš„å­—ç¬¦é›†ä¸å…³å¿ƒé¡ºåºã€‚<br />
ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼<code>[Tt]he</code> åŒ¹é… <code>the</code> å’Œ <code>The</code>ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;[Tt]he&quot; =&gt; The car parked in the garage.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/2ITLQ4/1">åœ¨çº¿ç»ƒä¹ </a></p>
<p>æ–¹æ‹¬å·çš„å¥å·å°±è¡¨ç¤ºå¥å·ã€‚<br />
è¡¨è¾¾å¼ <code>ar[.]</code> åŒ¹é… <code>ar.</code>å­—ç¬¦ä¸²</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;ar[.]&quot; =&gt; A garage is a good place to park a car.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/wL3xtE/1">åœ¨çº¿ç»ƒä¹ </a></p>
<h3 id="221-å¦å®šå­—ç¬¦é›†"><a class="markdownIt-Anchor" href="#221-å¦å®šå­—ç¬¦é›†"></a> 2.2.1 å¦å®šå­—ç¬¦é›†</h3>
<p>ä¸€èˆ¬æ¥è¯´ <code>^</code> è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²çš„å¼€å¤´ï¼Œä½†å®ƒç”¨åœ¨ä¸€ä¸ªæ–¹æ‹¬å·çš„å¼€å¤´çš„æ—¶å€™ï¼Œå®ƒè¡¨ç¤ºè¿™ä¸ªå­—ç¬¦é›†æ˜¯å¦å®šçš„ã€‚<br />
ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼<code>[^c]ar</code> åŒ¹é…ä¸€ä¸ªåé¢è·Ÿç€<code>ar</code>çš„é™¤äº†<code>c</code>çš„ä»»æ„å­—ç¬¦ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;[^c]ar&quot; =&gt; The car parked in the garage.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/nNNlq3/1">åœ¨çº¿ç»ƒä¹ </a></p>
<h2 id="23-é‡å¤æ¬¡æ•°"><a class="markdownIt-Anchor" href="#23-é‡å¤æ¬¡æ•°"></a> 2.3 é‡å¤æ¬¡æ•°</h2>
<p>åé¢è·Ÿç€å…ƒå­—ç¬¦ <code>+</code>ï¼Œ<code>*</code> or <code>?</code> çš„ï¼Œç”¨æ¥æŒ‡å®šåŒ¹é…å­æ¨¡å¼çš„æ¬¡æ•°ã€‚<br />
è¿™äº›å…ƒå­—ç¬¦åœ¨ä¸åŒçš„æƒ…å†µä¸‹æœ‰ç€ä¸åŒçš„æ„æ€ã€‚</p>
<h3 id="231-å·"><a class="markdownIt-Anchor" href="#231-å·"></a> 2.3.1 <code>*</code> å·</h3>
<p><code>*</code>å·åŒ¹é… åœ¨<code>*</code>ä¹‹å‰çš„å­—ç¬¦å‡ºç°<code>å¤§äºç­‰äº0</code>æ¬¡ã€‚<br />
ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ <code>a*</code> åŒ¹é…0æˆ–æ›´å¤šä¸ªä»¥aå¼€å¤´çš„å­—ç¬¦ã€‚è¡¨è¾¾å¼<code>[a-z]*</code> åŒ¹é…ä¸€ä¸ªè¡Œä¸­æ‰€æœ‰ä»¥å°å†™å­—æ¯å¼€å¤´çš„å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;[a-z]*&quot; =&gt; The car parked in the garage #21.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/7m8me5/1">åœ¨çº¿ç»ƒä¹ </a></p>
<p><code>*</code>å­—ç¬¦å’Œ<code>.</code>å­—ç¬¦æ­é…å¯ä»¥åŒ¹é…æ‰€æœ‰çš„å­—ç¬¦<code>.*</code>ã€‚<br />
<code>*</code>å’Œè¡¨ç¤ºåŒ¹é…ç©ºæ ¼çš„ç¬¦å·<code>\s</code>è¿èµ·æ¥ç”¨ï¼Œå¦‚è¡¨è¾¾å¼<code>\s*cat\s*</code>åŒ¹é…0æˆ–æ›´å¤šä¸ªç©ºæ ¼å¼€å¤´å’Œ0æˆ–æ›´å¤šä¸ªç©ºæ ¼ç»“å°¾çš„catå­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;\s*cat\s*&quot; =&gt; The fat cat sat on the concatenation.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/gGrwuz/1">åœ¨çº¿ç»ƒä¹ </a></p>
<h3 id="232-å·"><a class="markdownIt-Anchor" href="#232-å·"></a> 2.3.2 <code>+</code> å·</h3>
<p><code>+</code>å·åŒ¹é…<code>+</code>å·ä¹‹å‰çš„å­—ç¬¦å‡ºç° &gt;=1 æ¬¡ã€‚<br />
ä¾‹å¦‚è¡¨è¾¾å¼<code>c.+t</code> åŒ¹é…ä»¥é¦–å­—æ¯<code>c</code>å¼€å¤´ä»¥<code>t</code>ç»“å°¾ï¼Œä¸­é—´è·Ÿç€è‡³å°‘ä¸€ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;c.+t&quot; =&gt; The fat cat sat on the mat.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/Dzf9Aa/1">åœ¨çº¿ç»ƒä¹ </a></p>
<h3 id="233-å·"><a class="markdownIt-Anchor" href="#233-å·"></a> 2.3.3 <code>?</code> å·</h3>
<p>åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å…ƒå­—ç¬¦ <code>?</code> æ ‡è®°åœ¨ç¬¦å·å‰é¢çš„å­—ç¬¦ä¸ºå¯é€‰ï¼Œå³å‡ºç° 0 æˆ– 1 æ¬¡ã€‚<br />
ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ <code>[T]?he</code> åŒ¹é…å­—ç¬¦ä¸² <code>he</code> å’Œ <code>The</code>ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;[T]he&quot; =&gt; The car is parked in the garage.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/cIg9zm/1">åœ¨çº¿ç»ƒä¹ </a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;[T]?he&quot; =&gt; The car is parked in the garage.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/kPpO2x/1">åœ¨çº¿ç»ƒä¹ </a></p>
<h2 id="24-å·"><a class="markdownIt-Anchor" href="#24-å·"></a> 2.4 <code>&#123;&#125;</code> å·</h2>
<p>åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ <code>&#123;&#125;</code> æ˜¯ä¸€ä¸ªé‡è¯ï¼Œå¸¸ç”¨æ¥é™å®šä¸€ä¸ªæˆ–ä¸€ç»„å­—ç¬¦å¯ä»¥é‡å¤å‡ºç°çš„æ¬¡æ•°ã€‚<br />
ä¾‹å¦‚ï¼Œ è¡¨è¾¾å¼ <code>[0-9]&#123;2,3&#125;</code> åŒ¹é…æœ€å°‘ 2 ä½æœ€å¤š 3 ä½ 0~9 çš„æ•°å­—ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;[0-9]&#123;2,3&#125;&quot; =&gt; The number was 9.9997 but we rounded it off to 10.0.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/juM86s/1">åœ¨çº¿ç»ƒä¹ </a></p>
<p>æˆ‘ä»¬å¯ä»¥çœç•¥ç¬¬äºŒä¸ªå‚æ•°ã€‚<br />
ä¾‹å¦‚ï¼Œ<code>[0-9]&#123;2,&#125;</code> åŒ¹é…è‡³å°‘ä¸¤ä½ 0~9 çš„æ•°å­—ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;[0-9]&#123;2,&#125;&quot; =&gt; The number was 9.9997 but we rounded it off to 10.0.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/Gdy4w5/1">åœ¨çº¿ç»ƒä¹ </a></p>
<p>å¦‚æœé€—å·ä¹Ÿçœç•¥æ‰åˆ™è¡¨ç¤ºé‡å¤å›ºå®šçš„æ¬¡æ•°ã€‚<br />
ä¾‹å¦‚ï¼Œ<code>[0-9]&#123;3&#125;</code> åŒ¹é…3ä½æ•°å­—</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;[0-9]&#123;3&#125;&quot; =&gt; The number was 9.9997 but we rounded it off to 10.0.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/Sivu30/1">åœ¨çº¿ç»ƒä¹ </a></p>
<h2 id="25-ç‰¹å¾æ ‡ç¾¤"><a class="markdownIt-Anchor" href="#25-ç‰¹å¾æ ‡ç¾¤"></a> 2.5 <code>(...)</code> ç‰¹å¾æ ‡ç¾¤</h2>
<p>ç‰¹å¾æ ‡ç¾¤æ˜¯ä¸€ç»„å†™åœ¨ <code>(...)</code> ä¸­çš„å­æ¨¡å¼ã€‚<code>(...)</code> ä¸­åŒ…å«çš„å†…å®¹å°†ä¼šè¢«çœ‹æˆä¸€ä¸ªæ•´ä½“ï¼Œå’Œæ•°å­¦ä¸­å°æ‹¬å·ï¼ˆ ï¼‰çš„ä½œç”¨ç›¸åŒã€‚ä¾‹å¦‚, è¡¨è¾¾å¼ <code>(ab)*</code> åŒ¹é…è¿ç»­å‡ºç° 0 æˆ–æ›´å¤šä¸ª <code>ab</code>ã€‚å¦‚æœæ²¡æœ‰ä½¿ç”¨ <code>(...)</code> ï¼Œé‚£ä¹ˆè¡¨è¾¾å¼ <code>ab*</code> å°†åŒ¹é…è¿ç»­å‡ºç° 0 æˆ–æ›´å¤šä¸ª <code>b</code> ã€‚å†æ¯”å¦‚ä¹‹å‰è¯´çš„ <code>&#123;&#125;</code> æ˜¯ç”¨æ¥è¡¨ç¤ºå‰é¢ä¸€ä¸ªå­—ç¬¦å‡ºç°æŒ‡å®šæ¬¡æ•°ã€‚ä½†å¦‚æœåœ¨ <code>&#123;&#125;</code> å‰åŠ ä¸Šç‰¹å¾æ ‡ç¾¤ <code>(...)</code> åˆ™è¡¨ç¤ºæ•´ä¸ªæ ‡ç¾¤å†…çš„å­—ç¬¦é‡å¤ N æ¬¡ã€‚</p>
<p>æˆ‘ä»¬è¿˜å¯ä»¥åœ¨ <code>()</code> ä¸­ç”¨æˆ–å­—ç¬¦ <code>|</code> è¡¨ç¤ºæˆ–ã€‚ä¾‹å¦‚ï¼Œ<code>(c|g|p)ar</code> åŒ¹é… <code>car</code> æˆ– <code>gar</code> æˆ– <code>par</code>.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;(c|g|p)ar&quot; =&gt; The car is parked in the garage.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/tUxrBG/1">åœ¨çº¿ç»ƒä¹ </a></p>
<h2 id="26-æˆ–è¿ç®—ç¬¦"><a class="markdownIt-Anchor" href="#26-æˆ–è¿ç®—ç¬¦"></a> 2.6 <code>|</code> æˆ–è¿ç®—ç¬¦</h2>
<p>æˆ–è¿ç®—ç¬¦å°±è¡¨ç¤ºæˆ–ï¼Œç”¨ä½œåˆ¤æ–­æ¡ä»¶ã€‚</p>
<p>ä¾‹å¦‚ <code>(T|t)he|car</code> åŒ¹é… <code>(T|t)he</code> æˆ– <code>car</code>ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;(T|t)he|car&quot; =&gt; The car is parked in the garage.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/fBXyX0/1">åœ¨çº¿ç»ƒä¹ </a></p>
<h2 id="27-è½¬ç ç‰¹æ®Šå­—ç¬¦"><a class="markdownIt-Anchor" href="#27-è½¬ç ç‰¹æ®Šå­—ç¬¦"></a> 2.7 è½¬ç ç‰¹æ®Šå­—ç¬¦</h2>
<p>åæ–œçº¿ <code>\</code> åœ¨è¡¨è¾¾å¼ä¸­ç”¨äºè½¬ç ç´§è·Ÿå…¶åçš„å­—ç¬¦ã€‚ç”¨äºæŒ‡å®š <code>&#123; &#125; [ ] / \ + * . $ ^ | ?</code> è¿™äº›ç‰¹æ®Šå­—ç¬¦ã€‚å¦‚æœæƒ³è¦åŒ¹é…è¿™äº›ç‰¹æ®Šå­—ç¬¦åˆ™è¦åœ¨å…¶å‰é¢åŠ ä¸Šåæ–œçº¿ <code>\</code>ã€‚</p>
<p>ä¾‹å¦‚ <code>.</code> æ˜¯ç”¨æ¥åŒ¹é…é™¤æ¢è¡Œç¬¦å¤–çš„æ‰€æœ‰å­—ç¬¦çš„ã€‚å¦‚æœæƒ³è¦åŒ¹é…å¥å­ä¸­çš„ <code>.</code> åˆ™è¦å†™æˆ <code>\.</code> ä»¥ä¸‹è¿™ä¸ªä¾‹å­ <code>\.?</code>æ˜¯é€‰æ‹©æ€§åŒ¹é…<code>.</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;(f|c|m)at\.?&quot; =&gt; The fat cat sat on the mat.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/DOc5Nu/1">åœ¨çº¿ç»ƒä¹ </a></p>
<h2 id="28-é”šç‚¹"><a class="markdownIt-Anchor" href="#28-é”šç‚¹"></a> 2.8 é”šç‚¹</h2>
<p>åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œæƒ³è¦åŒ¹é…æŒ‡å®šå¼€å¤´æˆ–ç»“å°¾çš„å­—ç¬¦ä¸²å°±è¦ä½¿ç”¨åˆ°é”šç‚¹ã€‚<code>^</code> æŒ‡å®šå¼€å¤´ï¼Œ<code>$</code> æŒ‡å®šç»“å°¾ã€‚</p>
<h3 id="281-å·"><a class="markdownIt-Anchor" href="#281-å·"></a> 2.8.1 <code>^</code> å·</h3>
<p><code>^</code> ç”¨æ¥æ£€æŸ¥åŒ¹é…çš„å­—ç¬¦ä¸²æ˜¯å¦åœ¨æ‰€åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å¤´ã€‚</p>
<p>ä¾‹å¦‚ï¼Œåœ¨ <code>abc</code> ä¸­ä½¿ç”¨è¡¨è¾¾å¼ <code>^a</code> ä¼šå¾—åˆ°ç»“æœ <code>a</code>ã€‚ä½†å¦‚æœä½¿ç”¨ <code>^b</code> å°†åŒ¹é…ä¸åˆ°ä»»ä½•ç»“æœã€‚å› ä¸ºåœ¨å­—ç¬¦ä¸² <code>abc</code> ä¸­å¹¶ä¸æ˜¯ä»¥ <code>b</code> å¼€å¤´ã€‚</p>
<p>ä¾‹å¦‚ï¼Œ<code>^(T|t)he</code> åŒ¹é…ä»¥ <code>The</code> æˆ– <code>the</code> å¼€å¤´çš„å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;(T|t)he&quot; =&gt; The car is parked in the garage.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/5ljjgB/1">åœ¨çº¿ç»ƒä¹ </a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;^(T|t)he&quot; =&gt; The car is parked in the garage.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/jXrKne/1">åœ¨çº¿ç»ƒä¹ </a></p>
<h3 id="282-å·"><a class="markdownIt-Anchor" href="#282-å·"></a> 2.8.2 <code>$</code> å·</h3>
<p>åŒç†äº <code>^</code> å·ï¼Œ<code>$</code> å·ç”¨æ¥åŒ¹é…å­—ç¬¦æ˜¯å¦æ˜¯æœ€åä¸€ä¸ªã€‚</p>
<p>ä¾‹å¦‚ï¼Œ<code>(at\.)$</code> åŒ¹é…ä»¥ <code>at.</code> ç»“å°¾çš„å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;(at\.)&quot; =&gt; The fat cat. sat. on the mat.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/y4Au4D/1">åœ¨çº¿ç»ƒä¹ </a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;(at\.)$&quot; =&gt; The fat cat. sat. on the mat.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/t0AkOd/1">åœ¨çº¿ç»ƒä¹ </a></p>
<h2 id="3-ç®€å†™å­—ç¬¦é›†"><a class="markdownIt-Anchor" href="#3-ç®€å†™å­—ç¬¦é›†"></a> 3. ç®€å†™å­—ç¬¦é›†</h2>
<p>æ­£åˆ™è¡¨è¾¾å¼æä¾›ä¸€äº›å¸¸ç”¨çš„å­—ç¬¦é›†ç®€å†™ã€‚å¦‚ä¸‹:</p>
<table>
<thead>
<tr>
<th style="text-align:center">ç®€å†™</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">.</td>
<td>é™¤æ¢è¡Œç¬¦å¤–çš„æ‰€æœ‰å­—ç¬¦</td>
</tr>
<tr>
<td style="text-align:center">\w</td>
<td>åŒ¹é…æ‰€æœ‰å­—æ¯æ•°å­—ï¼Œç­‰åŒäº <code>[a-zA-Z0-9_]</code></td>
</tr>
<tr>
<td style="text-align:center">\W</td>
<td>åŒ¹é…æ‰€æœ‰éå­—æ¯æ•°å­—ï¼Œå³ç¬¦å·ï¼Œç­‰åŒäºï¼š <code>[^\w]</code></td>
</tr>
<tr>
<td style="text-align:center">\d</td>
<td>åŒ¹é…æ•°å­—ï¼š <code>[0-9]</code></td>
</tr>
<tr>
<td style="text-align:center">\D</td>
<td>åŒ¹é…éæ•°å­—ï¼š <code>[^\d]</code></td>
</tr>
<tr>
<td style="text-align:center">\s</td>
<td>åŒ¹é…æ‰€æœ‰ç©ºæ ¼å­—ç¬¦ï¼Œç­‰åŒäºï¼š <code>[\t\n\f\r\p&#123;Z&#125;]</code></td>
</tr>
<tr>
<td style="text-align:center">\S</td>
<td>åŒ¹é…æ‰€æœ‰éç©ºæ ¼å­—ç¬¦ï¼š <code>[^\s]</code></td>
</tr>
<tr>
<td style="text-align:center">\f</td>
<td>åŒ¹é…ä¸€ä¸ªæ¢é¡µç¬¦</td>
</tr>
<tr>
<td style="text-align:center">\n</td>
<td>åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦</td>
</tr>
<tr>
<td style="text-align:center">\r</td>
<td>åŒ¹é…ä¸€ä¸ªå›è½¦ç¬¦</td>
</tr>
<tr>
<td style="text-align:center">\t</td>
<td>åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦</td>
</tr>
<tr>
<td style="text-align:center">\v</td>
<td>åŒ¹é…ä¸€ä¸ªå‚ç›´åˆ¶è¡¨ç¬¦</td>
</tr>
<tr>
<td style="text-align:center">\p</td>
<td>åŒ¹é… CR/LFï¼ˆç­‰åŒäº <code>\r\n</code>ï¼‰ï¼Œç”¨æ¥åŒ¹é… DOS è¡Œç»ˆæ­¢ç¬¦</td>
</tr>
</tbody>
</table>
<h2 id="4-é›¶å®½åº¦æ–­è¨€å‰åé¢„æŸ¥"><a class="markdownIt-Anchor" href="#4-é›¶å®½åº¦æ–­è¨€å‰åé¢„æŸ¥"></a> 4. é›¶å®½åº¦æ–­è¨€ï¼ˆå‰åé¢„æŸ¥ï¼‰</h2>
<p>å…ˆè¡Œæ–­è¨€å’Œåå‘æ–­è¨€ï¼ˆåˆç§° lookaroundï¼‰éƒ½å±äº<strong>éæ•è·ç»„</strong>ï¼ˆç”¨äºåŒ¹é…æ¨¡å¼ï¼Œä½†ä¸åŒ…æ‹¬åœ¨åŒ¹é…åˆ—è¡¨ä¸­ï¼‰ã€‚å½“æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ¨¡å¼çš„å‰é¢æˆ–åé¢æœ‰å¦ä¸€ä¸ªç‰¹å®šçš„æ¨¡å¼æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨å®ƒä»¬ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¸Œæœ›ä»ä¸‹é¢çš„è¾“å…¥å­—ç¬¦ä¸² å­—ç¬¦å¼€å¤´çš„æ•°å­—ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä»¥ä¸‹çš„æ­£åˆ™è¡¨è¾¾å¼ <code>(?&lt;=\$)[0-9\.]*</code>ã€‚æ„æ€æ˜¯ï¼šè·å–æ‰€æœ‰åŒ…å« <code>.</code> å¹¶ä¸”å‰é¢æ˜¯ <code>$</code> çš„æ•°å­—ã€‚</p>
<p>é›¶å®½åº¦æ–­è¨€å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center">ç¬¦å·</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">?=</td>
<td>æ­£å…ˆè¡Œæ–­è¨€-å­˜åœ¨</td>
</tr>
<tr>
<td style="text-align:center">?!</td>
<td>è´Ÿå…ˆè¡Œæ–­è¨€-æ’é™¤</td>
</tr>
<tr>
<td style="text-align:center">?&lt;=</td>
<td>æ­£åå‘æ–­è¨€-å­˜åœ¨</td>
</tr>
<tr>
<td style="text-align:center">?&lt;!</td>
<td>è´Ÿåå‘æ–­è¨€-æ’é™¤</td>
</tr>
</tbody>
</table>
<h3 id="41-æ­£å…ˆè¡Œæ–­è¨€"><a class="markdownIt-Anchor" href="#41-æ­£å…ˆè¡Œæ–­è¨€"></a> 4.1 <code>?=...</code> æ­£å…ˆè¡Œæ–­è¨€</h3>
<p><code>?=...</code> æ­£å…ˆè¡Œæ–­è¨€ï¼Œè¡¨ç¤ºç¬¬ä¸€éƒ¨åˆ†è¡¨è¾¾å¼ä¹‹åå¿…é¡»è·Ÿç€ <code>?=...</code>å®šä¹‰çš„è¡¨è¾¾å¼ã€‚</p>
<p>è¿”å›ç»“æœåªåŒ…å«æ»¡è¶³åŒ¹é…æ¡ä»¶çš„ç¬¬ä¸€éƒ¨åˆ†è¡¨è¾¾å¼ã€‚<br />
å®šä¹‰ä¸€ä¸ªæ­£å…ˆè¡Œæ–­è¨€è¦ä½¿ç”¨ <code>()</code>ã€‚åœ¨æ‹¬å·å†…éƒ¨ä½¿ç”¨ä¸€ä¸ªé—®å·å’Œç­‰å·ï¼š <code>(?=...)</code>ã€‚</p>
<p>æ­£å…ˆè¡Œæ–­è¨€çš„å†…å®¹å†™åœ¨æ‹¬å·ä¸­çš„ç­‰å·åé¢ã€‚<br />
ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ <code>(T|t)he(?=\sfat)</code> åŒ¹é… <code>The</code> å’Œ <code>the</code>ï¼Œåœ¨æ‹¬å·ä¸­æˆ‘ä»¬åˆå®šä¹‰äº†æ­£å…ˆè¡Œæ–­è¨€ <code>(?=\sfat)</code> ï¼Œå³ <code>The</code> å’Œ <code>the</code> åé¢ç´§è·Ÿç€ <code>(ç©ºæ ¼)fat</code>ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;(T|t)he(?=\sfat)&quot; =&gt; The fat cat sat on the mat.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/IDDARt/1">åœ¨çº¿ç»ƒä¹ </a></p>
<h3 id="42-è´Ÿå…ˆè¡Œæ–­è¨€"><a class="markdownIt-Anchor" href="#42-è´Ÿå…ˆè¡Œæ–­è¨€"></a> 4.2 <code>?!...</code> è´Ÿå…ˆè¡Œæ–­è¨€</h3>
<p>è´Ÿå…ˆè¡Œæ–­è¨€ <code>?!</code> ç”¨äºç­›é€‰æ‰€æœ‰åŒ¹é…ç»“æœï¼Œç­›é€‰æ¡ä»¶ä¸º å…¶åä¸è·Ÿéšç€æ–­è¨€ä¸­å®šä¹‰çš„æ ¼å¼ã€‚<br />
<code>æ­£å…ˆè¡Œæ–­è¨€</code> å®šä¹‰å’Œ <code>è´Ÿå…ˆè¡Œæ–­è¨€</code> ä¸€æ ·ï¼ŒåŒºåˆ«å°±æ˜¯ <code>=</code> æ›¿æ¢æˆ <code>!</code> ä¹Ÿå°±æ˜¯ <code>(?!...)</code>ã€‚</p>
<p>è¡¨è¾¾å¼ <code>(T|t)he(?!\sfat)</code> åŒ¹é… <code>The</code> å’Œ <code>the</code>ï¼Œä¸”å…¶åä¸è·Ÿç€ <code>(ç©ºæ ¼)fat</code>ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;(T|t)he(?!\sfat)&quot; =&gt; The fat cat sat on the mat.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/V32Npg/1">åœ¨çº¿ç»ƒä¹ </a></p>
<h3 id="43-æ­£åå‘æ–­è¨€"><a class="markdownIt-Anchor" href="#43-æ­£åå‘æ–­è¨€"></a> 4.3 <code>?&lt;= ...</code> æ­£åå‘æ–­è¨€</h3>
<p>æ­£åå‘æ–­è¨€ è®°ä½œ<code>(?&lt;=...)</code> ç”¨äºç­›é€‰æ‰€æœ‰åŒ¹é…ç»“æœï¼Œç­›é€‰æ¡ä»¶ä¸º å…¶å‰è·Ÿéšç€æ–­è¨€ä¸­å®šä¹‰çš„æ ¼å¼ã€‚<br />
ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ <code>(?&lt;=(T|t)he\s)(fat|mat)</code> åŒ¹é… <code>fat</code> å’Œ <code>mat</code>ï¼Œä¸”å…¶å‰è·Ÿç€ <code>The</code> æˆ– <code>the</code>ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;(?&lt;=(T|t)he\s)(fat|mat)&quot; =&gt; The fat cat sat on the mat.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/avH165/1">åœ¨çº¿ç»ƒä¹ </a></p>
<h3 id="44-è´Ÿåå‘æ–­è¨€"><a class="markdownIt-Anchor" href="#44-è´Ÿåå‘æ–­è¨€"></a> 4.4 <code>?&lt;!...</code> è´Ÿåå‘æ–­è¨€</h3>
<p>è´Ÿåå‘æ–­è¨€ è®°ä½œ <code>(?&lt;!...)</code> ç”¨äºç­›é€‰æ‰€æœ‰åŒ¹é…ç»“æœï¼Œç­›é€‰æ¡ä»¶ä¸º å…¶å‰ä¸è·Ÿéšç€æ–­è¨€ä¸­å®šä¹‰çš„æ ¼å¼ã€‚<br />
ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ <code>(?&lt;!(T|t)he\s)(cat)</code> åŒ¹é… <code>cat</code>ï¼Œä¸”å…¶å‰ä¸è·Ÿç€ <code>The</code> æˆ– <code>the</code>ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;(?&lt;!(T|t)he\s)(cat)&quot; =&gt; The cat sat on cat.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/8Efx5G/1">åœ¨çº¿ç»ƒä¹ </a></p>
<h2 id="5-æ ‡å¿—"><a class="markdownIt-Anchor" href="#5-æ ‡å¿—"></a> 5. æ ‡å¿—</h2>
<p>æ ‡å¿—ä¹Ÿå«æ¨¡å¼ä¿®æ­£ç¬¦ï¼Œå› ä¸ºå®ƒå¯ä»¥ç”¨æ¥ä¿®æ”¹è¡¨è¾¾å¼çš„æœç´¢ç»“æœã€‚<br />
è¿™äº›æ ‡å¿—å¯ä»¥ä»»æ„çš„ç»„åˆä½¿ç”¨ï¼Œå®ƒä¹Ÿæ˜¯æ•´ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†ã€‚</p>
<table>
<thead>
<tr>
<th style="text-align:center">æ ‡å¿—</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">i</td>
<td>å¿½ç•¥å¤§å°å†™ã€‚</td>
</tr>
<tr>
<td style="text-align:center">g</td>
<td>å…¨å±€æœç´¢ã€‚</td>
</tr>
<tr>
<td style="text-align:center">m</td>
<td>å¤šè¡Œä¿®é¥°ç¬¦ï¼šé”šç‚¹å…ƒå­—ç¬¦ <code>^</code> <code>$</code> å·¥ä½œèŒƒå›´åœ¨æ¯è¡Œçš„èµ·å§‹ã€‚</td>
</tr>
</tbody>
</table>
<h3 id="51-å¿½ç•¥å¤§å°å†™-case-insensitive"><a class="markdownIt-Anchor" href="#51-å¿½ç•¥å¤§å°å†™-case-insensitive"></a> 5.1 å¿½ç•¥å¤§å°å†™ (Case Insensitive)</h3>
<p>ä¿®é¥°è¯­ <code>i</code> ç”¨äºå¿½ç•¥å¤§å°å†™ã€‚<br />
ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ <code>/The/gi</code> è¡¨ç¤ºåœ¨å…¨å±€æœç´¢ <code>The</code>ï¼Œåœ¨åé¢çš„ <code>i</code> å°†å…¶æ¡ä»¶ä¿®æ”¹ä¸ºå¿½ç•¥å¤§å°å†™ï¼Œåˆ™å˜æˆæœç´¢ <code>the</code> å’Œ <code>The</code>ï¼Œ<code>g</code> è¡¨ç¤ºå…¨å±€æœç´¢ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;The&quot; =&gt; The fat cat sat on the mat.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/dpQyf9/1">åœ¨çº¿ç»ƒä¹ </a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;/The/gi&quot; =&gt; The fat cat sat on the mat.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/ahfiuh/1">åœ¨çº¿ç»ƒä¹ </a></p>
<h3 id="52-å…¨å±€æœç´¢-global-search"><a class="markdownIt-Anchor" href="#52-å…¨å±€æœç´¢-global-search"></a> 5.2 å…¨å±€æœç´¢ (Global search)</h3>
<p>ä¿®é¥°ç¬¦ <code>g</code> å¸¸ç”¨äºæ‰§è¡Œä¸€ä¸ªå…¨å±€æœç´¢åŒ¹é…ï¼Œå³ï¼ˆä¸ä»…ä»…è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„ï¼Œè€Œæ˜¯è¿”å›å…¨éƒ¨ï¼‰ã€‚<br />
ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ <code>/.(at)/g</code> è¡¨ç¤ºæœç´¢ ä»»æ„å­—ç¬¦ï¼ˆé™¤äº†æ¢è¡Œï¼‰+ <code>at</code>ï¼Œå¹¶è¿”å›å…¨éƒ¨ç»“æœã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;/.(at)/&quot; =&gt; The fat cat sat on the mat.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/jnk6gM/1">åœ¨çº¿ç»ƒä¹ </a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;/.(at)/g&quot; =&gt; The fat cat sat on the mat.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/dO1nef/1">åœ¨çº¿ç»ƒä¹ </a></p>
<h3 id="53-å¤šè¡Œä¿®é¥°ç¬¦-multiline"><a class="markdownIt-Anchor" href="#53-å¤šè¡Œä¿®é¥°ç¬¦-multiline"></a> 5.3 å¤šè¡Œä¿®é¥°ç¬¦ (Multiline)</h3>
<p>å¤šè¡Œä¿®é¥°ç¬¦ <code>m</code> å¸¸ç”¨äºæ‰§è¡Œä¸€ä¸ªå¤šè¡ŒåŒ¹é…ã€‚</p>
<p>åƒä¹‹å‰ä»‹ç»çš„ <code>(^,$)</code> ç”¨äºæ£€æŸ¥æ ¼å¼æ˜¯å¦æ˜¯åœ¨å¾…æ£€æµ‹å­—ç¬¦ä¸²çš„å¼€å¤´æˆ–ç»“å°¾ã€‚ä½†æˆ‘ä»¬å¦‚æœæƒ³è¦å®ƒåœ¨æ¯è¡Œçš„å¼€å¤´å’Œç»“å°¾ç”Ÿæ•ˆï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°å¤šè¡Œä¿®é¥°ç¬¦ <code>m</code>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ <code>/at(.)?$/gm</code> è¡¨ç¤ºå°å†™å­—ç¬¦ <code>a</code> åè·Ÿå°å†™å­—ç¬¦ <code>t</code> ï¼Œæœ«å°¾å¯é€‰é™¤æ¢è¡Œç¬¦å¤–ä»»æ„å­—ç¬¦ã€‚æ ¹æ® <code>m</code> ä¿®é¥°ç¬¦ï¼Œç°åœ¨è¡¨è¾¾å¼åŒ¹é…æ¯è¡Œçš„ç»“å°¾ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;/.at(.)?$/&quot; =&gt; The fat</span><br><span class="line">                cat sat</span><br><span class="line">                on the mat.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/hoGMkP/1">åœ¨çº¿ç»ƒä¹ </a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;/.at(.)?$/gm&quot; =&gt; The fat</span><br><span class="line">                  cat sat</span><br><span class="line">                  on the mat.</span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/E88WE2/1">åœ¨çº¿ç»ƒä¹ </a></p>
<h3 id="6-è´ªå©ªåŒ¹é…ä¸æƒ°æ€§åŒ¹é…-greedy-vs-lazy-matching"><a class="markdownIt-Anchor" href="#6-è´ªå©ªåŒ¹é…ä¸æƒ°æ€§åŒ¹é…-greedy-vs-lazy-matching"></a> 6. è´ªå©ªåŒ¹é…ä¸æƒ°æ€§åŒ¹é… (Greedy vs lazy matching)</h3>
<p>æ­£åˆ™è¡¨è¾¾å¼é»˜è®¤é‡‡ç”¨è´ªå©ªåŒ¹é…æ¨¡å¼ï¼Œåœ¨è¯¥æ¨¡å¼ä¸‹æ„å‘³ç€ä¼šåŒ¹é…å°½å¯èƒ½é•¿çš„å­ä¸²ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>?</code> å°†è´ªå©ªåŒ¹é…æ¨¡å¼è½¬åŒ–ä¸ºæƒ°æ€§åŒ¹é…æ¨¡å¼ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;/(.*at)/&quot; =&gt; The fat cat sat on the mat. </span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/AyAdgJ/1">åœ¨çº¿ç»ƒä¹ </a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;/(.*?at)/&quot; =&gt; The fat cat sat on the mat. </span><br></pre></td></tr></table></figure>
<p><a href="https://regex101.com/r/AyAdgJ/2">åœ¨çº¿ç»ƒä¹ </a></p>
<h2 id="è´¡çŒ®"><a class="markdownIt-Anchor" href="#è´¡çŒ®"></a> è´¡çŒ®</h2>
<ul>
<li>æŠ¥å‘Šé—®é¢˜</li>
<li>å¼€æ”¾åˆå¹¶è¯·æ±‚</li>
<li>ä¼ æ’­æ­¤æ–‡æ¡£</li>
<li>ç›´æ¥å’Œæˆ‘è”ç³» <a href="mailto:ziishaned@gmail.com">ziishaned@gmail.com</a> æˆ–<a href="https://twitter.com/ziishaned"><img src="https://img.shields.io/twitter/url/https/twitter.com/ziishaned.svg?style=social&amp;label=Follow%20%40ziishaned" alt="Twitter URL" /></a></li>
</ul>
<h2 id="è®¸å¯è¯"><a class="markdownIt-Anchor" href="#è®¸å¯è¯"></a> è®¸å¯è¯</h2>
<p>MIT Â© <a href="https://twitter.com/ziishaned">Zeeshan Ahmad</a></p>
]]></content>
      <tags>
        <tag>study</tag>
        <tag>ç¬”è®°æ‘˜æŠ„</tag>
      </tags>
  </entry>
  <entry>
    <title>é»‘é©¬ç¬”è®°</title>
    <url>/2022/11/10/%E9%BB%91%E9%A9%AC%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<h1 id="é»‘é©¬ç¬”è®°"><a class="markdownIt-Anchor" href="#é»‘é©¬ç¬”è®°"></a> é»‘é©¬ç¬”è®°</h1>
<h2 id="1-æ¨¡æ¿"><a class="markdownIt-Anchor" href="#1-æ¨¡æ¿"></a> 1 æ¨¡æ¿</h2>
<h3 id="11-æ¨¡æ¿çš„æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#11-æ¨¡æ¿çš„æ¦‚å¿µ"></a> 1.1 æ¨¡æ¿çš„æ¦‚å¿µ</h3>
<p>æ¨¡æ¿å°±æ˜¯å»ºç«‹ <strong>é€šç”¨çš„æ¨¡å…·</strong> ï¼Œå¤§å¤§<strong>æé«˜å¤ç”¨æ€§</strong></p>
<span id="more"></span>
<p>æ¨¡æ¿çš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li>æ¨¡æ¿ä¸å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªæ¡†æ¶</li>
<li>æ¨¡æ¿çš„é€šç”¨å¹¶ä¸æ˜¯ä¸‡èƒ½çš„</li>
</ul>
<h3 id="12-å‡½æ•°æ¨¡æ¿"><a class="markdownIt-Anchor" href="#12-å‡½æ•°æ¨¡æ¿"></a> 1.2 å‡½æ•°æ¨¡æ¿</h3>
<ul>
<li>C++å¦ä¸€ç§ç¼–ç¨‹æ€æƒ³ç§°ä¸º =æ³›å‹ç¼–ç¨‹= ï¼Œä¸»è¦åˆ©ç”¨çš„æŠ€æœ¯å°±æ˜¯æ¨¡æ¿</li>
<li>C++æä¾›ä¸¤ç§æ¨¡æ¿æœºåˆ¶:<strong>å‡½æ•°æ¨¡æ¿</strong>å’Œ<strong>ç±»æ¨¡æ¿</strong></li>
</ul>
<h4 id="121-å‡½æ•°æ¨¡æ¿è¯­æ³•"><a class="markdownIt-Anchor" href="#121-å‡½æ•°æ¨¡æ¿è¯­æ³•"></a> 1.2.1 å‡½æ•°æ¨¡æ¿è¯­æ³•</h4>
<p>å‡½æ•°æ¨¡æ¿ä½œç”¨ï¼š</p>
<p>å»ºç«‹ä¸€ä¸ªé€šç”¨å‡½æ•°ï¼Œå…¶å‡½æ•°è¿”å›å€¼ç±»å‹å’Œå½¢å‚ç±»å‹å¯ä»¥ä¸å…·ä½“åˆ¶å®šï¼Œç”¨ä¸€ä¸ª<strong>è™šæ‹Ÿçš„ç±»å‹</strong>æ¥ä»£è¡¨ã€‚</p>
<p><strong>è¯­æ³•ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">å‡½æ•°å£°æ˜æˆ–å®šä¹‰</span><br></pre></td></tr></table></figure>
<p><strong>è§£é‡Šï¼š</strong></p>
<p>template â€” å£°æ˜åˆ›å»ºæ¨¡æ¿</p>
<p>typename â€” è¡¨é¢å…¶åé¢çš„ç¬¦å·æ˜¯ä¸€ç§æ•°æ®ç±»å‹ï¼Œå¯ä»¥ç”¨classä»£æ›¿</p>
<p>T â€” é€šç”¨çš„æ•°æ®ç±»å‹ï¼Œåç§°å¯ä»¥æ›¿æ¢ï¼Œé€šå¸¸ä¸ºå¤§å†™å­—æ¯</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//äº¤æ¢æ•´å‹å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swapInt</span><span class="params">(<span class="type">int</span>&amp; a, <span class="type">int</span>&amp; b)</span> </span>&#123;</span><br><span class="line">	<span class="type">int</span> temp = a;</span><br><span class="line">	a = b;</span><br><span class="line">	b = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//äº¤æ¢æµ®ç‚¹å‹å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swapDouble</span><span class="params">(<span class="type">double</span>&amp; a, <span class="type">double</span>&amp; b)</span> </span>&#123;</span><br><span class="line">	<span class="type">double</span> temp = a;</span><br><span class="line">	a = b;</span><br><span class="line">	b = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ©ç”¨æ¨¡æ¿æä¾›é€šç”¨çš„äº¤æ¢å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">mySwap</span><span class="params">(T&amp; a, T&amp; b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	T temp = a;</span><br><span class="line">	a = b;</span><br><span class="line">	b = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">	<span class="type">int</span> b = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//swapInt(a, b);</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//åˆ©ç”¨æ¨¡æ¿å®ç°äº¤æ¢</span></span><br><span class="line">	<span class="comment">//1ã€è‡ªåŠ¨ç±»å‹æ¨å¯¼</span></span><br><span class="line">	<span class="built_in">mySwap</span>(a, b);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//2ã€æ˜¾ç¤ºæŒ‡å®šç±»å‹</span></span><br><span class="line">	<span class="built_in">mySwap</span>&lt;<span class="type">int</span>&gt;(a, b);</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;a = &quot;</span> &lt;&lt; a &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;b = &quot;</span> &lt;&lt; b &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>å‡½æ•°æ¨¡æ¿åˆ©ç”¨å…³é”®å­— template</li>
<li>ä½¿ç”¨å‡½æ•°æ¨¡æ¿æœ‰ä¸¤ç§æ–¹å¼ï¼šè‡ªåŠ¨ç±»å‹æ¨å¯¼ã€æ˜¾ç¤ºæŒ‡å®šç±»å‹</li>
<li>æ¨¡æ¿çš„ç›®çš„æ˜¯ä¸ºäº†æé«˜å¤ç”¨æ€§ï¼Œå°†ç±»å‹å‚æ•°åŒ–</li>
</ul>
<h4 id="122-å‡½æ•°æ¨¡æ¿æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#122-å‡½æ•°æ¨¡æ¿æ³¨æ„äº‹é¡¹"></a> 1.2.2 å‡½æ•°æ¨¡æ¿æ³¨æ„äº‹é¡¹</h4>
<p>æ³¨æ„äº‹é¡¹ï¼š</p>
<ul>
<li>è‡ªåŠ¨ç±»å‹æ¨å¯¼ï¼Œå¿…é¡»æ¨å¯¼å‡ºä¸€è‡´çš„æ•°æ®ç±»å‹T,æ‰å¯ä»¥ä½¿ç”¨</li>
<li>æ¨¡æ¿å¿…é¡»è¦ç¡®å®šå‡ºTçš„æ•°æ®ç±»å‹ï¼Œæ‰å¯ä»¥ä½¿ç”¨</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆ©ç”¨æ¨¡æ¿æä¾›é€šç”¨çš„äº¤æ¢å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">mySwap</span><span class="params">(T&amp; a, T&amp; b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	T temp = a;</span><br><span class="line">	a = b;</span><br><span class="line">	b = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1ã€è‡ªåŠ¨ç±»å‹æ¨å¯¼ï¼Œå¿…é¡»æ¨å¯¼å‡ºä¸€è‡´çš„æ•°æ®ç±»å‹T,æ‰å¯ä»¥ä½¿ç”¨</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">	<span class="type">int</span> b = <span class="number">20</span>;</span><br><span class="line">	<span class="type">char</span> c = <span class="string">&#x27;c&#x27;</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">mySwap</span>(a, b); <span class="comment">// æ­£ç¡®ï¼Œå¯ä»¥æ¨å¯¼å‡ºä¸€è‡´çš„T</span></span><br><span class="line">	<span class="comment">//mySwap(a, c); // é”™è¯¯ï¼Œæ¨å¯¼ä¸å‡ºä¸€è‡´çš„Tç±»å‹</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2ã€æ¨¡æ¿å¿…é¡»è¦ç¡®å®šå‡ºTçš„æ•°æ®ç±»å‹ï¼Œæ‰å¯ä»¥ä½¿ç”¨</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;func è°ƒç”¨&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//func(); //é”™è¯¯ï¼Œæ¨¡æ¿ä¸èƒ½ç‹¬ç«‹ä½¿ç”¨ï¼Œå¿…é¡»ç¡®å®šå‡ºTçš„ç±»å‹</span></span><br><span class="line">	<span class="built_in">func</span>&lt;<span class="type">int</span>&gt;(); <span class="comment">//åˆ©ç”¨æ˜¾ç¤ºæŒ‡å®šç±»å‹çš„æ–¹å¼ï¼Œç»™Tä¸€ä¸ªç±»å‹ï¼Œæ‰å¯ä»¥ä½¿ç”¨è¯¥æ¨¡æ¿</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line">	<span class="built_in">test02</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>ä½¿ç”¨æ¨¡æ¿æ—¶å¿…é¡»ç¡®å®šå‡ºé€šç”¨æ•°æ®ç±»å‹Tï¼Œå¹¶ä¸”èƒ½å¤Ÿæ¨å¯¼å‡ºä¸€è‡´çš„ç±»å‹</li>
</ul>
<h4 id="123-å‡½æ•°æ¨¡æ¿æ¡ˆä¾‹"><a class="markdownIt-Anchor" href="#123-å‡½æ•°æ¨¡æ¿æ¡ˆä¾‹"></a> 1.2.3 å‡½æ•°æ¨¡æ¿æ¡ˆä¾‹</h4>
<p>æ¡ˆä¾‹æè¿°ï¼š</p>
<ul>
<li>åˆ©ç”¨å‡½æ•°æ¨¡æ¿å°è£…ä¸€ä¸ªæ’åºçš„å‡½æ•°ï¼Œå¯ä»¥å¯¹<strong>ä¸åŒæ•°æ®ç±»å‹æ•°ç»„</strong>è¿›è¡Œæ’åº</li>
<li>æ’åºè§„åˆ™ä»å¤§åˆ°å°ï¼Œæ’åºç®—æ³•ä¸º<strong>é€‰æ‹©æ’åº</strong></li>
<li>åˆ†åˆ«åˆ©ç”¨<strong>charæ•°ç»„</strong>å’Œ<strong>intæ•°ç»„</strong>è¿›è¡Œæµ‹è¯•</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//äº¤æ¢çš„å‡½æ•°æ¨¡æ¿</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">mySwap</span><span class="params">(T &amp;a, T&amp;b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	T temp = a;</span><br><span class="line">	a = b;</span><br><span class="line">	b = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="comment">// ä¹Ÿå¯ä»¥æ›¿æ¢æˆtypename</span></span><br><span class="line"><span class="comment">//åˆ©ç”¨é€‰æ‹©æ’åºï¼Œè¿›è¡Œå¯¹æ•°ç»„ä»å¤§åˆ°å°çš„æ’åº</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">mySort</span><span class="params">(T arr[], <span class="type">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> max = i; <span class="comment">//æœ€å¤§æ•°çš„ä¸‹æ ‡</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = i + <span class="number">1</span>; j &lt; len; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (arr[max] &lt; arr[j])</span><br><span class="line">			&#123;</span><br><span class="line">				max = j;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (max != i) <span class="comment">//å¦‚æœæœ€å¤§æ•°çš„ä¸‹æ ‡ä¸æ˜¯iï¼Œäº¤æ¢ä¸¤è€…</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">mySwap</span>(arr[max], arr[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printArray</span><span class="params">(T arr[], <span class="type">int</span> len)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">		cout &lt;&lt; arr[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//æµ‹è¯•charæ•°ç»„</span></span><br><span class="line">	<span class="type">char</span> charArr[] = <span class="string">&quot;bdcfeagh&quot;</span>;</span><br><span class="line">	<span class="type">int</span> num = <span class="built_in">sizeof</span>(charArr) / <span class="built_in">sizeof</span>(<span class="type">char</span>);</span><br><span class="line">	<span class="built_in">mySort</span>(charArr, num);</span><br><span class="line">	<span class="built_in">printArray</span>(charArr, num);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//æµ‹è¯•intæ•°ç»„</span></span><br><span class="line">	<span class="type">int</span> intArr[] = &#123; <span class="number">7</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">9</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span> &#125;;</span><br><span class="line">	<span class="type">int</span> num = <span class="built_in">sizeof</span>(intArr) / <span class="built_in">sizeof</span>(<span class="type">int</span>);</span><br><span class="line">	<span class="built_in">mySort</span>(intArr, num);</span><br><span class="line">	<span class="built_in">printArray</span>(intArr, num);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line">	<span class="built_in">test02</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šæ¨¡æ¿å¯ä»¥æé«˜ä»£ç å¤ç”¨ï¼Œéœ€è¦ç†Ÿç»ƒæŒæ¡</p>
<h4 id="124-æ™®é€šå‡½æ•°ä¸å‡½æ•°æ¨¡æ¿çš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#124-æ™®é€šå‡½æ•°ä¸å‡½æ•°æ¨¡æ¿çš„åŒºåˆ«"></a> 1.2.4 æ™®é€šå‡½æ•°ä¸å‡½æ•°æ¨¡æ¿çš„åŒºåˆ«</h4>
<p><strong>æ™®é€šå‡½æ•°ä¸å‡½æ•°æ¨¡æ¿åŒºåˆ«ï¼š</strong></p>
<ul>
<li>æ™®é€šå‡½æ•°è°ƒç”¨æ—¶å¯ä»¥å‘ç”Ÿè‡ªåŠ¨ç±»å‹è½¬æ¢ï¼ˆéšå¼ç±»å‹è½¬æ¢ï¼‰</li>
<li>å‡½æ•°æ¨¡æ¿è°ƒç”¨æ—¶ï¼Œå¦‚æœåˆ©ç”¨è‡ªåŠ¨ç±»å‹æ¨å¯¼ï¼Œä¸ä¼šå‘ç”Ÿéšå¼ç±»å‹è½¬æ¢</li>
<li>å¦‚æœåˆ©ç”¨æ˜¾ç¤ºæŒ‡å®šç±»å‹çš„æ–¹å¼ï¼Œå¯ä»¥å‘ç”Ÿéšå¼ç±»å‹è½¬æ¢</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ™®é€šå‡½æ•°</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">myAdd01</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‡½æ•°æ¨¡æ¿</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</span></span><br><span class="line"><span class="function">T <span class="title">myAdd02</span><span class="params">(T a, T b)</span>  </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨å‡½æ•°æ¨¡æ¿æ—¶ï¼Œå¦‚æœç”¨è‡ªåŠ¨ç±»å‹æ¨å¯¼ï¼Œä¸ä¼šå‘ç”Ÿè‡ªåŠ¨ç±»å‹è½¬æ¢,å³éšå¼ç±»å‹è½¬æ¢</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">	<span class="type">int</span> b = <span class="number">20</span>;</span><br><span class="line">	<span class="type">char</span> c = <span class="string">&#x27;c&#x27;</span>;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="built_in">myAdd01</span>(a, c) &lt;&lt; endl; <span class="comment">//æ­£ç¡®ï¼Œå°†charç±»å‹çš„&#x27;c&#x27;éšå¼è½¬æ¢ä¸ºintç±»å‹  &#x27;c&#x27; å¯¹åº” ASCIIç  99</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//myAdd02(a, c); // æŠ¥é”™ï¼Œä½¿ç”¨è‡ªåŠ¨ç±»å‹æ¨å¯¼æ—¶ï¼Œä¸ä¼šå‘ç”Ÿéšå¼ç±»å‹è½¬æ¢</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">myAdd02</span>&lt;<span class="type">int</span>&gt;(a, c); <span class="comment">//æ­£ç¡®ï¼Œå¦‚æœç”¨æ˜¾ç¤ºæŒ‡å®šç±»å‹ï¼Œå¯ä»¥å‘ç”Ÿéšå¼ç±»å‹è½¬æ¢</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šå»ºè®®ä½¿ç”¨æ˜¾ç¤ºæŒ‡å®šç±»å‹çš„æ–¹å¼ï¼Œè°ƒç”¨å‡½æ•°æ¨¡æ¿ï¼Œå› ä¸ºå¯ä»¥è‡ªå·±ç¡®å®šé€šç”¨ç±»å‹T</p>
<h4 id="125-æ™®é€šå‡½æ•°ä¸å‡½æ•°æ¨¡æ¿çš„è°ƒç”¨è§„åˆ™"><a class="markdownIt-Anchor" href="#125-æ™®é€šå‡½æ•°ä¸å‡½æ•°æ¨¡æ¿çš„è°ƒç”¨è§„åˆ™"></a> 1.2.5 æ™®é€šå‡½æ•°ä¸å‡½æ•°æ¨¡æ¿çš„è°ƒç”¨è§„åˆ™</h4>
<p>è°ƒç”¨è§„åˆ™å¦‚ä¸‹ï¼š</p>
<ol>
<li>å¦‚æœå‡½æ•°æ¨¡æ¿å’Œæ™®é€šå‡½æ•°éƒ½å¯ä»¥å®ç°ï¼Œä¼˜å…ˆè°ƒç”¨æ™®é€šå‡½æ•°</li>
<li>å¯ä»¥é€šè¿‡ç©ºæ¨¡æ¿å‚æ•°åˆ—è¡¨æ¥å¼ºåˆ¶è°ƒç”¨å‡½æ•°æ¨¡æ¿</li>
<li>å‡½æ•°æ¨¡æ¿ä¹Ÿå¯ä»¥å‘ç”Ÿé‡è½½</li>
<li>å¦‚æœå‡½æ•°æ¨¡æ¿å¯ä»¥äº§ç”Ÿæ›´å¥½çš„åŒ¹é…,ä¼˜å…ˆè°ƒç”¨å‡½æ•°æ¨¡æ¿</li>
</ol>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ™®é€šå‡½æ•°ä¸å‡½æ•°æ¨¡æ¿è°ƒç”¨è§„åˆ™</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">myPrint</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;è°ƒç”¨çš„æ™®é€šå‡½æ•°&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">myPrint</span><span class="params">(T a, T b)</span> </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;è°ƒç”¨çš„æ¨¡æ¿&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">myPrint</span><span class="params">(T a, T b, T c)</span> </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;è°ƒç”¨é‡è½½çš„æ¨¡æ¿&quot;</span> &lt;&lt; endl; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//1ã€å¦‚æœå‡½æ•°æ¨¡æ¿å’Œæ™®é€šå‡½æ•°éƒ½å¯ä»¥å®ç°ï¼Œä¼˜å…ˆè°ƒç”¨æ™®é€šå‡½æ•°</span></span><br><span class="line">	<span class="comment">// æ³¨æ„ å¦‚æœå‘Šè¯‰ç¼–è¯‘å™¨  æ™®é€šå‡½æ•°æ˜¯æœ‰çš„ï¼Œä½†åªæ˜¯å£°æ˜æ²¡æœ‰å®ç°ï¼Œæˆ–è€…ä¸åœ¨å½“å‰æ–‡ä»¶å†…å®ç°ï¼Œå°±ä¼šæŠ¥é”™æ‰¾ä¸åˆ°</span></span><br><span class="line">	<span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">	<span class="type">int</span> b = <span class="number">20</span>;</span><br><span class="line">	<span class="built_in">myPrint</span>(a, b); <span class="comment">//è°ƒç”¨æ™®é€šå‡½æ•°</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//2ã€å¯ä»¥é€šè¿‡ç©ºæ¨¡æ¿å‚æ•°åˆ—è¡¨æ¥å¼ºåˆ¶è°ƒç”¨å‡½æ•°æ¨¡æ¿</span></span><br><span class="line">	myPrint&lt;&gt;(a, b); <span class="comment">//è°ƒç”¨å‡½æ•°æ¨¡æ¿</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//3ã€å‡½æ•°æ¨¡æ¿ä¹Ÿå¯ä»¥å‘ç”Ÿé‡è½½</span></span><br><span class="line">	<span class="type">int</span> c = <span class="number">30</span>;</span><br><span class="line">	<span class="built_in">myPrint</span>(a, b, c); <span class="comment">//è°ƒç”¨é‡è½½çš„å‡½æ•°æ¨¡æ¿</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//4ã€ å¦‚æœå‡½æ•°æ¨¡æ¿å¯ä»¥äº§ç”Ÿæ›´å¥½çš„åŒ¹é…,ä¼˜å…ˆè°ƒç”¨å‡½æ•°æ¨¡æ¿</span></span><br><span class="line">	<span class="type">char</span> c1 = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">	<span class="type">char</span> c2 = <span class="string">&#x27;b&#x27;</span>;</span><br><span class="line">	<span class="built_in">myPrint</span>(c1, c2); <span class="comment">//è°ƒç”¨å‡½æ•°æ¨¡æ¿</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šæ—¢ç„¶æä¾›äº†å‡½æ•°æ¨¡æ¿ï¼Œæœ€å¥½å°±ä¸è¦æä¾›æ™®é€šå‡½æ•°ï¼Œå¦åˆ™å®¹æ˜“å‡ºç°äºŒä¹‰æ€§</p>
<h4 id="126-æ¨¡æ¿çš„å±€é™æ€§"><a class="markdownIt-Anchor" href="#126-æ¨¡æ¿çš„å±€é™æ€§"></a> 1.2.6 æ¨¡æ¿çš„å±€é™æ€§</h4>
<p><strong>å±€é™æ€§ï¼š</strong></p>
<ul>
<li>æ¨¡æ¿çš„é€šç”¨æ€§å¹¶ä¸æ˜¯ä¸‡èƒ½çš„</li>
</ul>
<p><strong>ä¾‹å¦‚ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">(T a, T b)</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">   	a = b;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­æä¾›çš„èµ‹å€¼æ“ä½œï¼Œå¦‚æœä¼ å…¥çš„aå’Œbæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå°±æ— æ³•å®ç°äº†</p>
<p>å†ä¾‹å¦‚ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">(T a, T b)</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">   	<span class="keyword">if</span>(a &gt; b) &#123; ... &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œå¦‚æœTçš„æ•°æ®ç±»å‹ä¼ å…¥çš„æ˜¯åƒPersonè¿™æ ·çš„è‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œä¹Ÿæ— æ³•æ­£å¸¸è¿è¡Œ</p>
<p>å› æ­¤C++ä¸ºäº†è§£å†³è¿™ç§é—®é¢˜ï¼Œæä¾›æ¨¡æ¿çš„é‡è½½ï¼Œå¯ä»¥ä¸ºè¿™äº›<strong>ç‰¹å®šçš„ç±»å‹</strong>æä¾›<strong>å…·ä½“åŒ–çš„æ¨¡æ¿</strong></p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Person</span>(string name, <span class="type">int</span> age)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	string m_Name;</span><br><span class="line">	<span class="type">int</span> m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ™®é€šå‡½æ•°æ¨¡æ¿</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">myCompare</span><span class="params">(T&amp; a, T&amp; b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (a == b)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//å…·ä½“åŒ–ï¼Œæ˜¾ç¤ºå…·ä½“åŒ–çš„åŸå‹å’Œå®šæ„æ€ä»¥template&lt;&gt;å¼€å¤´ï¼Œå¹¶é€šè¿‡åç§°æ¥æŒ‡å‡ºç±»å‹</span></span><br><span class="line"><span class="comment">//å…·ä½“åŒ–ä¼˜å…ˆäºå¸¸è§„æ¨¡æ¿</span></span><br><span class="line"><span class="keyword">template</span>&lt;&gt; <span class="function"><span class="type">bool</span> <span class="title">myCompare</span><span class="params">(Person &amp;p1, Person &amp;p2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> ( p1.m_Name  == p2.m_Name &amp;&amp; p1.m_Age == p2.m_Age)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">	<span class="type">int</span> b = <span class="number">20</span>;</span><br><span class="line">	<span class="comment">//å†…ç½®æ•°æ®ç±»å‹å¯ä»¥ç›´æ¥ä½¿ç”¨é€šç”¨çš„å‡½æ•°æ¨¡æ¿</span></span><br><span class="line">	<span class="type">bool</span> ret = <span class="built_in">myCompare</span>(a, b);</span><br><span class="line">	<span class="keyword">if</span> (ret)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;a == b &quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;a != b &quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">&quot;Tom&quot;</span>, <span class="number">10</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">&quot;Tom&quot;</span>, <span class="number">10</span>)</span></span>;</span><br><span class="line">	<span class="comment">//è‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œä¸ä¼šè°ƒç”¨æ™®é€šçš„å‡½æ•°æ¨¡æ¿</span></span><br><span class="line">	<span class="comment">//å¯ä»¥åˆ›å»ºå…·ä½“åŒ–çš„Personæ•°æ®ç±»å‹çš„æ¨¡æ¿ï¼Œç”¨äºç‰¹æ®Šå¤„ç†è¿™ä¸ªç±»å‹</span></span><br><span class="line">	<span class="type">bool</span> ret = <span class="built_in">myCompare</span>(p1, p2);</span><br><span class="line">	<span class="keyword">if</span> (ret)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;p1 == p2 &quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;p1 != p2 &quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test02</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>åˆ©ç”¨å…·ä½“åŒ–çš„æ¨¡æ¿ï¼Œå¯ä»¥è§£å†³è‡ªå®šä¹‰ç±»å‹çš„é€šç”¨åŒ–</li>
<li>å­¦ä¹ æ¨¡æ¿å¹¶ä¸æ˜¯ä¸ºäº†å†™æ¨¡æ¿ï¼Œè€Œæ˜¯åœ¨STLèƒ½å¤Ÿè¿ç”¨ç³»ç»Ÿæä¾›çš„æ¨¡æ¿</li>
</ul>
<h3 id="13-ç±»æ¨¡æ¿"><a class="markdownIt-Anchor" href="#13-ç±»æ¨¡æ¿"></a> 1.3 ç±»æ¨¡æ¿</h3>
<h4 id="131-ç±»æ¨¡æ¿è¯­æ³•"><a class="markdownIt-Anchor" href="#131-ç±»æ¨¡æ¿è¯­æ³•"></a> 1.3.1 ç±»æ¨¡æ¿è¯­æ³•</h4>
<p>ç±»æ¨¡æ¿ä½œç”¨ï¼š</p>
<ul>
<li>å»ºç«‹ä¸€ä¸ªé€šç”¨ç±»ï¼Œç±»ä¸­çš„æˆå‘˜ æ•°æ®ç±»å‹å¯ä»¥ä¸å…·ä½“åˆ¶å®šï¼Œç”¨ä¸€ä¸ª<strong>è™šæ‹Ÿçš„ç±»å‹</strong>æ¥ä»£è¡¨ã€‚</li>
</ul>
<p><strong>è¯­æ³•ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">ç±»</span><br></pre></td></tr></table></figure>
<p><strong>è§£é‡Šï¼š</strong></p>
<p>template â€” å£°æ˜åˆ›å»ºæ¨¡æ¿</p>
<p>typename â€” è¡¨é¢å…¶åé¢çš„ç¬¦å·æ˜¯ä¸€ç§æ•°æ®ç±»å‹ï¼Œå¯ä»¥ç”¨classä»£æ›¿</p>
<p>T â€” é€šç”¨çš„æ•°æ®ç±»å‹ï¼Œåç§°å¯ä»¥æ›¿æ¢ï¼Œé€šå¸¸ä¸ºå¤§å†™å­—æ¯</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="comment">//ç±»æ¨¡æ¿</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">NameType</span>, <span class="keyword">class</span> <span class="title class_">AgeType</span>&gt; </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Person</span>(NameType name, AgeType age)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;mName = name;</span><br><span class="line">		<span class="keyword">this</span>-&gt;mAge = age;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">showPerson</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;name: &quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;mName &lt;&lt; <span class="string">&quot; age: &quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;mAge &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	NameType mName;</span><br><span class="line">	AgeType mAge;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">// æŒ‡å®šNameType ä¸ºstringç±»å‹ï¼ŒAgeType ä¸º intç±»å‹</span></span><br><span class="line">	Person&lt;string, <span class="type">int</span>&gt;<span class="built_in">P1</span>(<span class="string">&quot;å­™æ‚Ÿç©º&quot;</span>, <span class="number">999</span>);</span><br><span class="line">	P1.<span class="built_in">showPerson</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šç±»æ¨¡æ¿å’Œå‡½æ•°æ¨¡æ¿è¯­æ³•ç›¸ä¼¼ï¼Œåœ¨å£°æ˜æ¨¡æ¿templateåé¢åŠ ç±»ï¼Œæ­¤ç±»ç§°ä¸ºç±»æ¨¡æ¿</p>
<h4 id="132-ç±»æ¨¡æ¿ä¸å‡½æ•°æ¨¡æ¿åŒºåˆ«"><a class="markdownIt-Anchor" href="#132-ç±»æ¨¡æ¿ä¸å‡½æ•°æ¨¡æ¿åŒºåˆ«"></a> 1.3.2 ç±»æ¨¡æ¿ä¸å‡½æ•°æ¨¡æ¿åŒºåˆ«</h4>
<p>ç±»æ¨¡æ¿ä¸å‡½æ•°æ¨¡æ¿åŒºåˆ«ä¸»è¦æœ‰ä¸¤ç‚¹ï¼š</p>
<ol>
<li>ç±»æ¨¡æ¿æ²¡æœ‰è‡ªåŠ¨ç±»å‹æ¨å¯¼çš„ä½¿ç”¨æ–¹å¼</li>
<li>ç±»æ¨¡æ¿åœ¨æ¨¡æ¿å‚æ•°åˆ—è¡¨ä¸­å¯ä»¥æœ‰é»˜è®¤å‚æ•°</li>
</ol>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="comment">//ç±»æ¨¡æ¿</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">NameType</span>, <span class="keyword">class</span> <span class="title class_">AgeType</span> = <span class="type">int</span>&gt; </span><br><span class="line"><span class="keyword">class</span> Person</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Person</span>(NameType name, AgeType age)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;mName = name;</span><br><span class="line">		<span class="keyword">this</span>-&gt;mAge = age;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">showPerson</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;name: &quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;mName &lt;&lt; <span class="string">&quot; age: &quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;mAge &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	NameType mName;</span><br><span class="line">	AgeType mAge;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1ã€ç±»æ¨¡æ¿æ²¡æœ‰è‡ªåŠ¨ç±»å‹æ¨å¯¼çš„ä½¿ç”¨æ–¹å¼</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">// Person p(&quot;å­™æ‚Ÿç©º&quot;, 1000); // é”™è¯¯ ç±»æ¨¡æ¿ä½¿ç”¨æ—¶å€™ï¼Œä¸å¯ä»¥ç”¨è‡ªåŠ¨ç±»å‹æ¨å¯¼</span></span><br><span class="line">	Person &lt;string ,<span class="type">int</span>&gt;<span class="built_in">p</span>(<span class="string">&quot;å­™æ‚Ÿç©º&quot;</span>, <span class="number">1000</span>); <span class="comment">//å¿…é¡»ä½¿ç”¨æ˜¾ç¤ºæŒ‡å®šç±»å‹çš„æ–¹å¼ï¼Œä½¿ç”¨ç±»æ¨¡æ¿</span></span><br><span class="line">	p.<span class="built_in">showPerson</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2ã€ç±»æ¨¡æ¿åœ¨æ¨¡æ¿å‚æ•°åˆ—è¡¨ä¸­å¯ä»¥æœ‰é»˜è®¤å‚æ•°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Person &lt;string&gt; <span class="built_in">p</span>(<span class="string">&quot;çŒªå…«æˆ’&quot;</span>, <span class="number">999</span>); <span class="comment">//ç±»æ¨¡æ¿ä¸­çš„æ¨¡æ¿å‚æ•°åˆ—è¡¨ å¯ä»¥æŒ‡å®šé»˜è®¤å‚æ•°</span></span><br><span class="line">	p.<span class="built_in">showPerson</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test02</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>ç±»æ¨¡æ¿ä½¿ç”¨åªèƒ½ç”¨æ˜¾ç¤ºæŒ‡å®šç±»å‹æ–¹å¼</li>
<li>ç±»æ¨¡æ¿ä¸­çš„æ¨¡æ¿å‚æ•°åˆ—è¡¨å¯ä»¥æœ‰é»˜è®¤å‚æ•°</li>
</ul>
<h4 id="133-ç±»æ¨¡æ¿ä¸­æˆå‘˜å‡½æ•°åˆ›å»ºæ—¶æœº"><a class="markdownIt-Anchor" href="#133-ç±»æ¨¡æ¿ä¸­æˆå‘˜å‡½æ•°åˆ›å»ºæ—¶æœº"></a> 1.3.3 ç±»æ¨¡æ¿ä¸­æˆå‘˜å‡½æ•°åˆ›å»ºæ—¶æœº</h4>
<p>ç±»æ¨¡æ¿ä¸­æˆå‘˜å‡½æ•°å’Œæ™®é€šç±»ä¸­æˆå‘˜å‡½æ•°åˆ›å»ºæ—¶æœºæ˜¯æœ‰åŒºåˆ«çš„ï¼š</p>
<ul>
<li>æ™®é€šç±»ä¸­çš„æˆå‘˜å‡½æ•°ä¸€å¼€å§‹å°±å¯ä»¥åˆ›å»º</li>
<li>ç±»æ¨¡æ¿ä¸­çš„æˆå‘˜å‡½æ•°åœ¨è°ƒç”¨æ—¶æ‰åˆ›å»º</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person1</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">showPerson1</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;Person1 show&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person2</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">showPerson2</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;Person2 show&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyClass</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	T obj;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//ç±»æ¨¡æ¿ä¸­çš„æˆå‘˜å‡½æ•°ï¼Œå¹¶ä¸æ˜¯ä¸€å¼€å§‹å°±åˆ›å»ºçš„ï¼Œè€Œæ˜¯åœ¨æ¨¡æ¿è°ƒç”¨æ—¶å†ç”Ÿæˆ</span></span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">fun1</span><span class="params">()</span> </span>&#123; obj.<span class="built_in">showPerson1</span>(); &#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">fun2</span><span class="params">()</span> </span>&#123; obj.<span class="built_in">showPerson2</span>(); &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	MyClass&lt;Person1&gt; m;</span><br><span class="line"></span><br><span class="line">	m.<span class="built_in">fun1</span>();</span><br><span class="line"></span><br><span class="line">	<span class="comment">//m.fun2();//ç¼–è¯‘ä¼šå‡ºé”™ï¼Œè¯´æ˜å‡½æ•°è°ƒç”¨æ‰ä¼šå»åˆ›å»ºæˆå‘˜å‡½æ•°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šç±»æ¨¡æ¿ä¸­çš„æˆå‘˜å‡½æ•°å¹¶ä¸æ˜¯ä¸€å¼€å§‹å°±åˆ›å»ºçš„ï¼Œåœ¨è°ƒç”¨æ—¶æ‰å»åˆ›å»º</p>
<h4 id="134-ç±»æ¨¡æ¿å¯¹è±¡åšå‡½æ•°å‚æ•°"><a class="markdownIt-Anchor" href="#134-ç±»æ¨¡æ¿å¯¹è±¡åšå‡½æ•°å‚æ•°"></a> 1.3.4 ç±»æ¨¡æ¿å¯¹è±¡åšå‡½æ•°å‚æ•°</h4>
<p>å­¦ä¹ ç›®æ ‡ï¼š</p>
<ul>
<li>ç±»æ¨¡æ¿å®ä¾‹åŒ–å‡ºçš„å¯¹è±¡ï¼Œå‘å‡½æ•°ä¼ å‚çš„æ–¹å¼</li>
</ul>
<p>ä¸€å…±æœ‰ä¸‰ç§ä¼ å…¥æ–¹å¼ï¼š</p>
<ol>
<li>æŒ‡å®šä¼ å…¥çš„ç±»å‹ â€” ç›´æ¥æ˜¾ç¤ºå¯¹è±¡çš„æ•°æ®ç±»å‹</li>
<li>å‚æ•°æ¨¡æ¿åŒ– â€” å°†å¯¹è±¡ä¸­çš„å‚æ•°å˜ä¸ºæ¨¡æ¿è¿›è¡Œä¼ é€’</li>
<li>æ•´ä¸ªç±»æ¨¡æ¿åŒ– â€” å°†è¿™ä¸ªå¯¹è±¡ç±»å‹ æ¨¡æ¿åŒ–è¿›è¡Œä¼ é€’</li>
</ol>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="comment">//ç±»æ¨¡æ¿</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">NameType</span>, <span class="keyword">class</span> <span class="title class_">AgeType</span> = <span class="type">int</span>&gt; </span><br><span class="line"><span class="keyword">class</span> Person</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Person</span>(NameType name, AgeType age)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;mName = name;</span><br><span class="line">		<span class="keyword">this</span>-&gt;mAge = age;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">showPerson</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;name: &quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;mName &lt;&lt; <span class="string">&quot; age: &quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;mAge &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	NameType mName;</span><br><span class="line">	AgeType mAge;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1ã€æŒ‡å®šä¼ å…¥çš„ç±»å‹</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printPerson1</span><span class="params">(Person&lt;string, <span class="type">int</span>&gt; &amp;p)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	p.<span class="built_in">showPerson</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Person &lt;string, <span class="type">int</span> &gt;<span class="built_in">p</span>(<span class="string">&quot;å­™æ‚Ÿç©º&quot;</span>, <span class="number">100</span>);</span><br><span class="line">	<span class="built_in">printPerson1</span>(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2ã€å‚æ•°æ¨¡æ¿åŒ–</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span>, <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printPerson2</span><span class="params">(Person&lt;T1, T2&gt;&amp;p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	p.<span class="built_in">showPerson</span>();</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;T1çš„ç±»å‹ä¸ºï¼š &quot;</span> &lt;&lt; <span class="built_in">typeid</span>(T1).<span class="built_in">name</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;T2çš„ç±»å‹ä¸ºï¼š &quot;</span> &lt;&lt; <span class="built_in">typeid</span>(T2).<span class="built_in">name</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Person &lt;string, <span class="type">int</span> &gt;<span class="built_in">p</span>(<span class="string">&quot;çŒªå…«æˆ’&quot;</span>, <span class="number">90</span>);</span><br><span class="line">	<span class="built_in">printPerson2</span>(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//3ã€æ•´ä¸ªç±»æ¨¡æ¿åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printPerson3</span><span class="params">(T &amp; p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;Tçš„ç±»å‹ä¸ºï¼š &quot;</span> &lt;&lt; <span class="built_in">typeid</span>(T).<span class="built_in">name</span>() &lt;&lt; endl;</span><br><span class="line">	p.<span class="built_in">showPerson</span>();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test03</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Person &lt;string, <span class="type">int</span> &gt;<span class="built_in">p</span>(<span class="string">&quot;å”åƒ§&quot;</span>, <span class="number">30</span>);</span><br><span class="line">	<span class="built_in">printPerson3</span>(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line">	<span class="built_in">test02</span>();</span><br><span class="line">	<span class="built_in">test03</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>é€šè¿‡ç±»æ¨¡æ¿åˆ›å»ºçš„å¯¹è±¡ï¼Œå¯ä»¥æœ‰ä¸‰ç§æ–¹å¼å‘å‡½æ•°ä¸­è¿›è¡Œä¼ å‚</li>
<li>ä½¿ç”¨æ¯”è¾ƒå¹¿æ³›æ˜¯ç¬¬ä¸€ç§ï¼šæŒ‡å®šä¼ å…¥çš„ç±»å‹</li>
</ul>
<h4 id="135-ç±»æ¨¡æ¿ä¸ç»§æ‰¿"><a class="markdownIt-Anchor" href="#135-ç±»æ¨¡æ¿ä¸ç»§æ‰¿"></a> 1.3.5 ç±»æ¨¡æ¿ä¸ç»§æ‰¿</h4>
<p>å½“ç±»æ¨¡æ¿ç¢°åˆ°ç»§æ‰¿æ—¶ï¼Œéœ€è¦æ³¨æ„ä¸€ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li>å½“å­ç±»ç»§æ‰¿çš„çˆ¶ç±»æ˜¯ä¸€ä¸ªç±»æ¨¡æ¿æ—¶ï¼Œå­ç±»åœ¨å£°æ˜çš„æ—¶å€™ï¼Œè¦æŒ‡å®šå‡ºçˆ¶ç±»ä¸­Tçš„ç±»å‹</li>
<li>å¦‚æœä¸æŒ‡å®šï¼Œç¼–è¯‘å™¨æ— æ³•ç»™å­ç±»åˆ†é…å†…å­˜</li>
<li>å¦‚æœæƒ³çµæ´»æŒ‡å®šå‡ºçˆ¶ç±»ä¸­Tçš„ç±»å‹ï¼Œå­ç±»ä¹Ÿéœ€å˜ä¸ºç±»æ¨¡æ¿</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span></span><br><span class="line">&#123;</span><br><span class="line">	T m;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//class Son:public Base  //é”™è¯¯ï¼Œc++ç¼–è¯‘éœ€è¦ç»™å­ç±»åˆ†é…å†…å­˜ï¼Œå¿…é¡»çŸ¥é“çˆ¶ç±»ä¸­Tçš„ç±»å‹æ‰å¯ä»¥å‘ä¸‹ç»§æ‰¿</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son</span> :<span class="keyword">public</span> Base&lt;<span class="type">int</span>&gt; <span class="comment">//å¿…é¡»æŒ‡å®šä¸€ä¸ªç±»å‹</span></span><br><span class="line">&#123;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Son c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç±»æ¨¡æ¿ç»§æ‰¿ç±»æ¨¡æ¿ ,å¯ä»¥ç”¨T2æŒ‡å®šçˆ¶ç±»ä¸­çš„Tç±»å‹</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>, <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son2</span> :<span class="keyword">public</span> Base&lt;T2&gt;</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Son2</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="built_in">typeid</span>(T1).<span class="built_in">name</span>() &lt;&lt; endl;</span><br><span class="line">		cout &lt;&lt; <span class="built_in">typeid</span>(T2).<span class="built_in">name</span>() &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Son2&lt;<span class="type">int</span>, <span class="type">char</span>&gt; child1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test02</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šå¦‚æœçˆ¶ç±»æ˜¯ç±»æ¨¡æ¿ï¼Œå­ç±»éœ€è¦æŒ‡å®šå‡ºçˆ¶ç±»ä¸­Tçš„æ•°æ®ç±»å‹</p>
<h4 id="136-ç±»æ¨¡æ¿æˆå‘˜å‡½æ•°ç±»å¤–å®ç°"><a class="markdownIt-Anchor" href="#136-ç±»æ¨¡æ¿æˆå‘˜å‡½æ•°ç±»å¤–å®ç°"></a> 1.3.6 ç±»æ¨¡æ¿æˆå‘˜å‡½æ•°ç±»å¤–å®ç°</h4>
<p>å­¦ä¹ ç›®æ ‡ï¼šèƒ½å¤ŸæŒæ¡ç±»æ¨¡æ¿ä¸­çš„æˆå‘˜å‡½æ•°ç±»å¤–å®ç°</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç±»æ¨¡æ¿ä¸­æˆå‘˜å‡½æ•°ç±»å¤–å®ç°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>, <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="comment">//æˆå‘˜å‡½æ•°ç±»å†…å£°æ˜</span></span><br><span class="line">	<span class="built_in">Person</span>(T1 name, T2 age);</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">showPerson</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	T1 m_Name;</span><br><span class="line">	T2 m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ„é€ å‡½æ•° ç±»å¤–å®ç°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>, <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line">Person&lt;T1, T2&gt;::<span class="built_in">Person</span>(T1 name, T2 age) &#123;</span><br><span class="line">	<span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line">	<span class="keyword">this</span>-&gt;m_Age = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æˆå‘˜å‡½æ•° ç±»å¤–å®ç°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>, <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="type">void</span> Person&lt;T1, T2&gt;::<span class="built_in">showPerson</span>() &#123;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;å§“å: &quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;m_Name &lt;&lt; <span class="string">&quot; å¹´é¾„:&quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;m_Age &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="function">Person&lt;string, <span class="type">int</span>&gt; <span class="title">p</span><span class="params">(<span class="string">&quot;Tom&quot;</span>, <span class="number">20</span>)</span></span>;</span><br><span class="line">	p.<span class="built_in">showPerson</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šç±»æ¨¡æ¿ä¸­æˆå‘˜å‡½æ•°ç±»å¤–å®ç°æ—¶ï¼Œéœ€è¦åŠ ä¸Šæ¨¡æ¿å‚æ•°åˆ—è¡¨</p>
<h4 id="137-ç±»æ¨¡æ¿åˆ†æ–‡ä»¶ç¼–å†™"><a class="markdownIt-Anchor" href="#137-ç±»æ¨¡æ¿åˆ†æ–‡ä»¶ç¼–å†™"></a> 1.3.7 ç±»æ¨¡æ¿åˆ†æ–‡ä»¶ç¼–å†™</h4>
<p>å­¦ä¹ ç›®æ ‡ï¼š</p>
<ul>
<li>æŒæ¡ç±»æ¨¡æ¿æˆå‘˜å‡½æ•°åˆ†æ–‡ä»¶ç¼–å†™äº§ç”Ÿçš„é—®é¢˜ä»¥åŠè§£å†³æ–¹å¼</li>
</ul>
<p>é—®é¢˜ï¼š</p>
<ul>
<li>ç±»æ¨¡æ¿ä¸­æˆå‘˜å‡½æ•°åˆ›å»ºæ—¶æœºæ˜¯åœ¨è°ƒç”¨é˜¶æ®µï¼Œå¯¼è‡´åˆ†æ–‡ä»¶ç¼–å†™æ—¶é“¾æ¥ä¸åˆ°</li>
</ul>
<p>è§£å†³ï¼š</p>
<ul>
<li>è§£å†³æ–¹å¼1ï¼šç›´æ¥åŒ…å«.cppæºæ–‡ä»¶</li>
<li>è§£å†³æ–¹å¼2ï¼šå°†å£°æ˜å’Œå®ç°å†™åˆ°åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå¹¶æ›´æ”¹åç¼€åä¸º.hppï¼Œhppæ˜¯çº¦å®šçš„åç§°ï¼Œå¹¶ä¸æ˜¯å¼ºåˆ¶</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<p>person.hppä¸­ä»£ç ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>, <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Person</span>(T1 name, T2 age);</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">showPerson</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	T1 m_Name;</span><br><span class="line">	T2 m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ„é€ å‡½æ•° ç±»å¤–å®ç°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>, <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line">Person&lt;T1, T2&gt;::<span class="built_in">Person</span>(T1 name, T2 age) &#123;</span><br><span class="line">	<span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line">	<span class="keyword">this</span>-&gt;m_Age = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æˆå‘˜å‡½æ•° ç±»å¤–å®ç°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>, <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="type">void</span> Person&lt;T1, T2&gt;::<span class="built_in">showPerson</span>() &#123;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;å§“å: &quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;m_Name &lt;&lt; <span class="string">&quot; å¹´é¾„:&quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;m_Age &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç±»æ¨¡æ¿åˆ†æ–‡ä»¶ç¼–å†™.cppä¸­ä»£ç </p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//#include &quot;person.h&quot;</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;person.cpp&quot;</span> <span class="comment">//è§£å†³æ–¹å¼1ï¼ŒåŒ…å«cppæºæ–‡ä»¶</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è§£å†³æ–¹å¼2ï¼Œå°†å£°æ˜å’Œå®ç°å†™åˆ°ä¸€èµ·ï¼Œæ–‡ä»¶åç¼€åæ”¹ä¸º.hpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;person.hpp&quot;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="function">Person&lt;string, <span class="type">int</span>&gt; <span class="title">p</span><span class="params">(<span class="string">&quot;Tom&quot;</span>, <span class="number">10</span>)</span></span>;</span><br><span class="line">	p.<span class="built_in">showPerson</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šä¸»æµçš„è§£å†³æ–¹å¼æ˜¯ç¬¬äºŒç§ï¼Œå°†ç±»æ¨¡æ¿æˆå‘˜å‡½æ•°å†™åˆ°ä¸€èµ·ï¼Œå¹¶å°†åç¼€åæ”¹ä¸º.hpp</p>
<h4 id="138-ç±»æ¨¡æ¿ä¸å‹å…ƒ"><a class="markdownIt-Anchor" href="#138-ç±»æ¨¡æ¿ä¸å‹å…ƒ"></a> 1.3.8 ç±»æ¨¡æ¿ä¸å‹å…ƒ</h4>
<p>å­¦ä¹ ç›®æ ‡ï¼š</p>
<ul>
<li>æŒæ¡ç±»æ¨¡æ¿é…åˆå‹å…ƒå‡½æ•°çš„ç±»å†…å’Œç±»å¤–å®ç°</li>
</ul>
<p>å…¨å±€å‡½æ•°ç±»å†…å®ç° - ç›´æ¥åœ¨ç±»å†…å£°æ˜å‹å…ƒå³å¯</p>
<p>å…¨å±€å‡½æ•°ç±»å¤–å®ç° - éœ€è¦æå‰è®©ç¼–è¯‘å™¨çŸ¥é“å…¨å±€å‡½æ•°çš„å­˜åœ¨</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2ã€å…¨å±€å‡½æ•°é…åˆå‹å…ƒ  ç±»å¤–å®ç° - å…ˆåšå‡½æ•°æ¨¡æ¿å£°æ˜ï¼Œä¸‹æ–¹åœ¨åšå‡½æ•°æ¨¡æ¿å®šä¹‰ï¼Œåœ¨åšå‹å…ƒ</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>, <span class="keyword">class</span> <span class="title class_">T2</span>&gt; <span class="keyword">class</span> <span class="title class_">Person</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¦‚æœå£°æ˜äº†å‡½æ•°æ¨¡æ¿ï¼Œå¯ä»¥å°†å®ç°å†™åˆ°åé¢ï¼Œå¦åˆ™éœ€è¦å°†å®ç°ä½“å†™åˆ°ç±»çš„å‰é¢è®©ç¼–è¯‘å™¨æå‰çœ‹åˆ°</span></span><br><span class="line"><span class="comment">//template&lt;class T1, class T2&gt; void printPerson2(Person&lt;T1, T2&gt; &amp; p); </span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printPerson2</span><span class="params">(Person&lt;T1, T2&gt; &amp; p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;ç±»å¤–å®ç° ---- å§“åï¼š &quot;</span> &lt;&lt; p.m_Name &lt;&lt; <span class="string">&quot; å¹´é¾„ï¼š&quot;</span> &lt;&lt; p.m_Age &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>, <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//1ã€å…¨å±€å‡½æ•°é…åˆå‹å…ƒ   ç±»å†…å®ç°</span></span><br><span class="line">	<span class="function"><span class="keyword">friend</span> <span class="type">void</span> <span class="title">printPerson</span><span class="params">(Person&lt;T1, T2&gt; &amp; p)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;å§“åï¼š &quot;</span> &lt;&lt; p.m_Name &lt;&lt; <span class="string">&quot; å¹´é¾„ï¼š&quot;</span> &lt;&lt; p.m_Age &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">//å…¨å±€å‡½æ•°é…åˆå‹å…ƒ  ç±»å¤–å®ç°</span></span><br><span class="line">	<span class="keyword">friend</span> <span class="type">void</span> printPerson2&lt;&gt;(Person&lt;T1, T2&gt; &amp; p);</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">	<span class="built_in">Person</span>(T1 name, T2 age)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Age = age;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	T1 m_Name;</span><br><span class="line">	T2 m_Age;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1ã€å…¨å±€å‡½æ•°åœ¨ç±»å†…å®ç°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Person &lt;string, <span class="type">int</span> &gt;<span class="built_in">p</span>(<span class="string">&quot;Tom&quot;</span>, <span class="number">20</span>);</span><br><span class="line">	<span class="built_in">printPerson</span>(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//2ã€å…¨å±€å‡½æ•°åœ¨ç±»å¤–å®ç°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Person &lt;string, <span class="type">int</span> &gt;<span class="built_in">p</span>(<span class="string">&quot;Jerry&quot;</span>, <span class="number">30</span>);</span><br><span class="line">	<span class="built_in">printPerson2</span>(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//test01();</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">test02</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šå»ºè®®å…¨å±€å‡½æ•°åšç±»å†…å®ç°ï¼Œç”¨æ³•ç®€å•ï¼Œè€Œä¸”ç¼–è¯‘å™¨å¯ä»¥ç›´æ¥è¯†åˆ«</p>
<h4 id="139-ç±»æ¨¡æ¿æ¡ˆä¾‹"><a class="markdownIt-Anchor" href="#139-ç±»æ¨¡æ¿æ¡ˆä¾‹"></a> 1.3.9 ç±»æ¨¡æ¿æ¡ˆä¾‹</h4>
<p>æ¡ˆä¾‹æè¿°: å®ç°ä¸€ä¸ªé€šç”¨çš„æ•°ç»„ç±»ï¼Œè¦æ±‚å¦‚ä¸‹ï¼š</p>
<ul>
<li>å¯ä»¥å¯¹å†…ç½®æ•°æ®ç±»å‹ä»¥åŠè‡ªå®šä¹‰æ•°æ®ç±»å‹çš„æ•°æ®è¿›è¡Œå­˜å‚¨</li>
<li>å°†æ•°ç»„ä¸­çš„æ•°æ®å­˜å‚¨åˆ°å †åŒº</li>
<li>æ„é€ å‡½æ•°ä¸­å¯ä»¥ä¼ å…¥æ•°ç»„çš„å®¹é‡</li>
<li>æä¾›å¯¹åº”çš„æ‹·è´æ„é€ å‡½æ•°ä»¥åŠoperator=é˜²æ­¢æµ…æ‹·è´é—®é¢˜</li>
<li>æä¾›å°¾æ’æ³•å’Œå°¾åˆ æ³•å¯¹æ•°ç»„ä¸­çš„æ•°æ®è¿›è¡Œå¢åŠ å’Œåˆ é™¤</li>
<li>å¯ä»¥é€šè¿‡ä¸‹æ ‡çš„æ–¹å¼è®¿é—®æ•°ç»„ä¸­çš„å…ƒç´ </li>
<li>å¯ä»¥è·å–æ•°ç»„ä¸­å½“å‰å…ƒç´ ä¸ªæ•°å’Œæ•°ç»„çš„å®¹é‡</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<p>myArray.hppä¸­ä»£ç </p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyArray</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  </span><br><span class="line">	<span class="comment">//æ„é€ å‡½æ•°</span></span><br><span class="line">	<span class="built_in">MyArray</span>(<span class="type">int</span> capacity)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Capacity = capacity;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Size = <span class="number">0</span>;</span><br><span class="line">		pAddress = <span class="keyword">new</span> T[<span class="keyword">this</span>-&gt;m_Capacity];</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//æ‹·è´æ„é€ </span></span><br><span class="line">	<span class="built_in">MyArray</span>(<span class="type">const</span> MyArray &amp; arr)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Capacity = arr.m_Capacity;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Size = arr.m_Size;</span><br><span class="line">		<span class="keyword">this</span>-&gt;pAddress = <span class="keyword">new</span> T[<span class="keyword">this</span>-&gt;m_Capacity];</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>-&gt;m_Size; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">//å¦‚æœTä¸ºå¯¹è±¡ï¼Œè€Œä¸”è¿˜åŒ…å«æŒ‡é’ˆï¼Œå¿…é¡»éœ€è¦é‡è½½ = æ“ä½œç¬¦ï¼Œå› ä¸ºè¿™ä¸ªç­‰å·ä¸æ˜¯ æ„é€  è€Œæ˜¯èµ‹å€¼ï¼Œ</span></span><br><span class="line">			<span class="comment">// æ™®é€šç±»å‹å¯ä»¥ç›´æ¥= ä½†æ˜¯æŒ‡é’ˆç±»å‹éœ€è¦æ·±æ‹·è´</span></span><br><span class="line">			<span class="keyword">this</span>-&gt;pAddress[i] = arr.pAddress[i];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//é‡è½½= æ“ä½œç¬¦  é˜²æ­¢æµ…æ‹·è´é—®é¢˜</span></span><br><span class="line">	MyArray&amp; <span class="keyword">operator</span>=(<span class="type">const</span> MyArray&amp; myarray) &#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (<span class="keyword">this</span>-&gt;pAddress != <span class="literal">NULL</span>) &#123;</span><br><span class="line">			<span class="keyword">delete</span>[] <span class="keyword">this</span>-&gt;pAddress;</span><br><span class="line">			<span class="keyword">this</span>-&gt;m_Capacity = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">this</span>-&gt;m_Size = <span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Capacity = myarray.m_Capacity;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Size = myarray.m_Size;</span><br><span class="line">		<span class="keyword">this</span>-&gt;pAddress = <span class="keyword">new</span> T[<span class="keyword">this</span>-&gt;m_Capacity];</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>-&gt;m_Size; i++) &#123;</span><br><span class="line">			<span class="keyword">this</span>-&gt;pAddress[i] = myarray[i];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//é‡è½½[] æ“ä½œç¬¦  arr[0]</span></span><br><span class="line">	T&amp; <span class="keyword">operator</span> [](<span class="type">int</span> index)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>-&gt;pAddress[index]; <span class="comment">//ä¸è€ƒè™‘è¶Šç•Œï¼Œç”¨æˆ·è‡ªå·±å»å¤„ç†</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//å°¾æ’æ³•</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Push_back</span><span class="params">(<span class="type">const</span> T &amp; val)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="keyword">this</span>-&gt;m_Capacity == <span class="keyword">this</span>-&gt;m_Size)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">this</span>-&gt;pAddress[<span class="keyword">this</span>-&gt;m_Size] = val;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Size++;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//å°¾åˆ æ³•</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Pop_back</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="keyword">this</span>-&gt;m_Size == <span class="number">0</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Size--;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//è·å–æ•°ç»„å®¹é‡</span></span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">getCapacity</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>-&gt;m_Capacity;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//è·å–æ•°ç»„å¤§å°</span></span><br><span class="line">	<span class="function"><span class="type">int</span>	<span class="title">getSize</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>-&gt;m_Size;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">//ææ„</span></span><br><span class="line">	~<span class="built_in">MyArray</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="keyword">this</span>-&gt;pAddress != <span class="literal">NULL</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">delete</span>[] <span class="keyword">this</span>-&gt;pAddress;</span><br><span class="line">			<span class="keyword">this</span>-&gt;pAddress = <span class="literal">NULL</span>;</span><br><span class="line">			<span class="keyword">this</span>-&gt;m_Capacity = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">this</span>-&gt;m_Size = <span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	T * pAddress;  <span class="comment">//æŒ‡å‘ä¸€ä¸ªå †ç©ºé—´ï¼Œè¿™ä¸ªç©ºé—´å­˜å‚¨çœŸæ­£çš„æ•°æ®</span></span><br><span class="line">	<span class="type">int</span> m_Capacity; <span class="comment">//å®¹é‡</span></span><br><span class="line">	<span class="type">int</span> m_Size;   <span class="comment">// å¤§å°</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>ç±»æ¨¡æ¿æ¡ˆä¾‹â€”æ•°ç»„ç±»å°è£….cppä¸­</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;myArray.hpp&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printIntArray</span><span class="params">(MyArray&lt;<span class="type">int</span>&gt;&amp; arr)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; arr.<span class="built_in">getSize</span>(); i++) &#123;</span><br><span class="line">		cout &lt;&lt; arr[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æµ‹è¯•å†…ç½®æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="function">MyArray&lt;<span class="type">int</span>&gt; <span class="title">array1</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		array1.<span class="built_in">Push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;array1æ‰“å°è¾“å‡ºï¼š&quot;</span> &lt;&lt; endl;</span><br><span class="line">	<span class="built_in">printIntArray</span>(array1);</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;array1çš„å¤§å°ï¼š&quot;</span> &lt;&lt; array1.<span class="built_in">getSize</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;array1çš„å®¹é‡ï¼š&quot;</span> &lt;&lt; array1.<span class="built_in">getCapacity</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;--------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="function">MyArray&lt;<span class="type">int</span>&gt; <span class="title">array2</span><span class="params">(array1)</span></span>;</span><br><span class="line">	array2.<span class="built_in">Pop_back</span>();</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;array2æ‰“å°è¾“å‡ºï¼š&quot;</span> &lt;&lt; endl;</span><br><span class="line">	<span class="built_in">printIntArray</span>(array2);</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;array2çš„å¤§å°ï¼š&quot;</span> &lt;&lt; array2.<span class="built_in">getSize</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;array2çš„å®¹é‡ï¼š&quot;</span> &lt;&lt; array2.<span class="built_in">getCapacity</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æµ‹è¯•è‡ªå®šä¹‰æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Person</span>() &#123;&#125; </span><br><span class="line">		<span class="built_in">Person</span>(string name, <span class="type">int</span> age) &#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Age = age;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	string m_Name;</span><br><span class="line">	<span class="type">int</span> m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printPersonArray</span><span class="params">(MyArray&lt;Person&gt;&amp; personArr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; personArr.<span class="built_in">getSize</span>(); i++) &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;å§“åï¼š&quot;</span> &lt;&lt; personArr[i].m_Name &lt;&lt; <span class="string">&quot; å¹´é¾„ï¼š &quot;</span> &lt;&lt; personArr[i].m_Age &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//åˆ›å»ºæ•°ç»„</span></span><br><span class="line">	<span class="function">MyArray&lt;Person&gt; <span class="title">pArray</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">&quot;å­™æ‚Ÿç©º&quot;</span>, <span class="number">30</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">&quot;éŸ©ä¿¡&quot;</span>, <span class="number">20</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p3</span><span class="params">(<span class="string">&quot;å¦²å·±&quot;</span>, <span class="number">18</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p4</span><span class="params">(<span class="string">&quot;ç‹æ˜­å›&quot;</span>, <span class="number">15</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p5</span><span class="params">(<span class="string">&quot;èµµäº‘&quot;</span>, <span class="number">24</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//æ’å…¥æ•°æ®</span></span><br><span class="line">	pArray.<span class="built_in">Push_back</span>(p1);</span><br><span class="line">	pArray.<span class="built_in">Push_back</span>(p2);</span><br><span class="line">	pArray.<span class="built_in">Push_back</span>(p3);</span><br><span class="line">	pArray.<span class="built_in">Push_back</span>(p4);</span><br><span class="line">	pArray.<span class="built_in">Push_back</span>(p5);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printPersonArray</span>(pArray);</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;pArrayçš„å¤§å°ï¼š&quot;</span> &lt;&lt; pArray.<span class="built_in">getSize</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;pArrayçš„å®¹é‡ï¼š&quot;</span> &lt;&lt; pArray.<span class="built_in">getCapacity</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//test01();</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">test02</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<p>èƒ½å¤Ÿåˆ©ç”¨æ‰€å­¦çŸ¥è¯†ç‚¹å®ç°é€šç”¨çš„æ•°ç»„</p>
<h2 id="2-stlåˆè¯†"><a class="markdownIt-Anchor" href="#2-stlåˆè¯†"></a> 2 STLåˆè¯†</h2>
<h3 id="21-stlçš„è¯ç”Ÿ"><a class="markdownIt-Anchor" href="#21-stlçš„è¯ç”Ÿ"></a> 2.1 STLçš„è¯ç”Ÿ</h3>
<ul>
<li>é•¿ä¹…ä»¥æ¥ï¼Œè½¯ä»¶ç•Œä¸€ç›´å¸Œæœ›å»ºç«‹ä¸€ç§å¯é‡å¤åˆ©ç”¨çš„ä¸œè¥¿</li>
<li>C++çš„<strong>é¢å‘å¯¹è±¡</strong>å’Œ<strong>æ³›å‹ç¼–ç¨‹</strong>æ€æƒ³ï¼Œç›®çš„å°±æ˜¯<strong>å¤ç”¨æ€§çš„æå‡</strong></li>
<li>å¤§å¤šæƒ…å†µä¸‹ï¼Œæ•°æ®ç»“æ„å’Œç®—æ³•éƒ½æœªèƒ½æœ‰ä¸€å¥—æ ‡å‡†,å¯¼è‡´è¢«è¿«ä»äº‹å¤§é‡é‡å¤å·¥ä½œ</li>
<li>ä¸ºäº†å»ºç«‹æ•°æ®ç»“æ„å’Œç®—æ³•çš„ä¸€å¥—æ ‡å‡†,è¯ç”Ÿäº†<strong>STL</strong></li>
</ul>
<h3 id="22-stlåŸºæœ¬æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#22-stlåŸºæœ¬æ¦‚å¿µ"></a> 2.2 STLåŸºæœ¬æ¦‚å¿µ</h3>
<ul>
<li>STL(Standard Template Library, <strong>æ ‡å‡†æ¨¡æ¿åº“</strong> )</li>
<li>STL ä»å¹¿ä¹‰ä¸Šåˆ†ä¸º: <strong>å®¹å™¨(container) ç®—æ³•(algorithm) è¿­ä»£å™¨(iterator)</strong></li>
<li><strong>å®¹å™¨</strong>å’Œ<strong>ç®—æ³•</strong>ä¹‹é—´é€šè¿‡<strong>è¿­ä»£å™¨</strong>è¿›è¡Œæ— ç¼è¿æ¥ã€‚</li>
<li>STL å‡ ä¹æ‰€æœ‰çš„ä»£ç éƒ½é‡‡ç”¨äº†æ¨¡æ¿ç±»æˆ–è€…æ¨¡æ¿å‡½æ•°</li>
</ul>
<h3 id="23-stlå…­å¤§ç»„ä»¶"><a class="markdownIt-Anchor" href="#23-stlå…­å¤§ç»„ä»¶"></a> 2.3 STLå…­å¤§ç»„ä»¶</h3>
<p>STLå¤§ä½“åˆ†ä¸ºå…­å¤§ç»„ä»¶ï¼Œåˆ†åˆ«æ˜¯:<strong>å®¹å™¨ã€ç®—æ³•ã€è¿­ä»£å™¨ã€ä»¿å‡½æ•°ã€é€‚é…å™¨ï¼ˆé…æ¥å™¨ï¼‰ã€ç©ºé—´é…ç½®å™¨</strong></p>
<ol>
<li>å®¹å™¨ï¼šå„ç§æ•°æ®ç»“æ„ï¼Œå¦‚vectorã€listã€dequeã€setã€mapç­‰,ç”¨æ¥å­˜æ”¾æ•°æ®ã€‚</li>
<li>ç®—æ³•ï¼šå„ç§å¸¸ç”¨çš„ç®—æ³•ï¼Œå¦‚sortã€findã€copyã€for_eachç­‰</li>
<li>è¿­ä»£å™¨ï¼šæ‰®æ¼”äº†å®¹å™¨ä¸ç®—æ³•ä¹‹é—´çš„èƒ¶åˆå‰‚ã€‚</li>
<li>ä»¿å‡½æ•°ï¼šè¡Œä¸ºç±»ä¼¼å‡½æ•°ï¼Œå¯ä½œä¸ºç®—æ³•çš„æŸç§ç­–ç•¥ã€‚</li>
<li>é€‚é…å™¨ï¼šä¸€ç§ç”¨æ¥ä¿®é¥°å®¹å™¨æˆ–è€…ä»¿å‡½æ•°æˆ–è¿­ä»£å™¨æ¥å£çš„ä¸œè¥¿ã€‚</li>
<li>ç©ºé—´é…ç½®å™¨ï¼šè´Ÿè´£ç©ºé—´çš„é…ç½®ä¸ç®¡ç†ã€‚</li>
</ol>
<h3 id="24-stlä¸­å®¹å™¨-ç®—æ³•-è¿­ä»£å™¨"><a class="markdownIt-Anchor" href="#24-stlä¸­å®¹å™¨-ç®—æ³•-è¿­ä»£å™¨"></a> 2.4 STLä¸­å®¹å™¨ã€ç®—æ³•ã€è¿­ä»£å™¨</h3>
<p>**å®¹å™¨ï¼š**ç½®ç‰©ä¹‹æ‰€ä¹Ÿ</p>
<p>STL<strong>å®¹å™¨</strong>å°±æ˜¯å°†è¿ç”¨<strong>æœ€å¹¿æ³›çš„ä¸€äº›æ•°æ®ç»“æ„</strong>å®ç°å‡ºæ¥</p>
<p>å¸¸ç”¨çš„æ•°æ®ç»“æ„ï¼šæ•°ç»„, é“¾è¡¨,æ ‘, æ ˆ, é˜Ÿåˆ—, é›†åˆ, æ˜ å°„è¡¨ ç­‰</p>
<p>è¿™äº›å®¹å™¨åˆ†ä¸º<strong>åºåˆ—å¼å®¹å™¨</strong>å’Œ<strong>å…³è”å¼å®¹å™¨</strong>ä¸¤ç§:</p>
<p><strong>åºåˆ—å¼å®¹å™¨</strong> :å¼ºè°ƒå€¼çš„æ’åºï¼Œåºåˆ—å¼å®¹å™¨ä¸­çš„æ¯ä¸ªå…ƒç´ å‡æœ‰å›ºå®šçš„ä½ç½®ã€‚<br />
<strong>å…³è”å¼å®¹å™¨</strong> :äºŒå‰æ ‘ç»“æ„ï¼Œå„å…ƒç´ ä¹‹é—´æ²¡æœ‰ä¸¥æ ¼çš„ç‰©ç†ä¸Šçš„é¡ºåºå…³ç³»</p>
<p>**ç®—æ³•ï¼š**é—®é¢˜ä¹‹è§£æ³•ä¹Ÿ</p>
<p>æœ‰é™çš„æ­¥éª¤ï¼Œè§£å†³é€»è¾‘æˆ–æ•°å­¦ä¸Šçš„é—®é¢˜ï¼Œè¿™ä¸€é—¨å­¦ç§‘æˆ‘ä»¬å«åšç®—æ³•(Algorithms)</p>
<p>ç®—æ³•åˆ†ä¸º:<strong>è´¨å˜ç®—æ³•</strong>å’Œ <strong>éè´¨å˜ç®—æ³•</strong> ã€‚</p>
<p>è´¨å˜ç®—æ³•ï¼šæ˜¯æŒ‡è¿ç®—è¿‡ç¨‹ä¸­ä¼šæ›´æ”¹åŒºé—´å†…çš„å…ƒç´ çš„å†…å®¹ã€‚ä¾‹å¦‚æ‹·è´ï¼Œæ›¿æ¢ï¼Œåˆ é™¤ç­‰ç­‰</p>
<p>éè´¨å˜ç®—æ³•ï¼šæ˜¯æŒ‡è¿ç®—è¿‡ç¨‹ä¸­ä¸ä¼šæ›´æ”¹åŒºé—´å†…çš„å…ƒç´ å†…å®¹ï¼Œä¾‹å¦‚æŸ¥æ‰¾ã€è®¡æ•°ã€éå†ã€å¯»æ‰¾æå€¼ç­‰ç­‰</p>
<p>**è¿­ä»£å™¨ï¼š**å®¹å™¨å’Œç®—æ³•ä¹‹é—´ç²˜åˆå‰‚</p>
<p>æä¾›ä¸€ç§æ–¹æ³•ï¼Œä½¿ä¹‹èƒ½å¤Ÿä¾åºå¯»è®¿æŸä¸ªå®¹å™¨æ‰€å«çš„å„ä¸ªå…ƒç´ ï¼Œè€Œåˆæ— éœ€æš´éœ²è¯¥å®¹å™¨çš„å†…éƒ¨è¡¨ç¤ºæ–¹å¼ã€‚</p>
<p>æ¯ä¸ªå®¹å™¨éƒ½æœ‰è‡ªå·±ä¸“å±çš„è¿­ä»£å™¨</p>
<p>è¿­ä»£å™¨ä½¿ç”¨éå¸¸ç±»ä¼¼äºæŒ‡é’ˆï¼Œåˆå­¦é˜¶æ®µæˆ‘ä»¬å¯ä»¥å…ˆç†è§£è¿­ä»£å™¨ä¸ºæŒ‡é’ˆ</p>
<p>è¿­ä»£å™¨ç§ç±»ï¼š</p>
<table>
<thead>
<tr>
<th>ç§ç±»</th>
<th>åŠŸèƒ½</th>
<th>æ”¯æŒè¿ç®—</th>
</tr>
</thead>
<tbody>
<tr>
<td>è¾“å…¥è¿­ä»£å™¨</td>
<td>å¯¹æ•°æ®çš„åªè¯»è®¿é—®</td>
<td>åªè¯»ï¼Œæ”¯æŒ++ã€==ã€ï¼=</td>
</tr>
<tr>
<td>è¾“å‡ºè¿­ä»£å™¨</td>
<td>å¯¹æ•°æ®çš„åªå†™è®¿é—®</td>
<td>åªå†™ï¼Œæ”¯æŒ++</td>
</tr>
<tr>
<td>å‰å‘è¿­ä»£å™¨</td>
<td>è¯»å†™æ“ä½œï¼Œå¹¶èƒ½å‘å‰æ¨è¿›è¿­ä»£å™¨</td>
<td>è¯»å†™ï¼Œæ”¯æŒ++ã€==ã€ï¼=</td>
</tr>
<tr>
<td>åŒå‘è¿­ä»£å™¨</td>
<td>è¯»å†™æ“ä½œï¼Œå¹¶èƒ½å‘å‰å’Œå‘åæ“ä½œ</td>
<td>è¯»å†™ï¼Œæ”¯æŒ++ã€â€“ï¼Œ</td>
</tr>
<tr>
<td>éšæœºè®¿é—®è¿­ä»£å™¨</td>
<td>è¯»å†™æ“ä½œï¼Œå¯ä»¥ä»¥è·³è·ƒçš„æ–¹å¼è®¿é—®ä»»æ„æ•°æ®ï¼ŒåŠŸèƒ½æœ€å¼ºçš„è¿­ä»£å™¨</td>
<td>è¯»å†™ï¼Œæ”¯æŒ++ã€â€“ã€[n]ã€-nã€&lt;ã€&lt;=ã€&gt;ã€&gt;=</td>
</tr>
</tbody>
</table>
<p>å¸¸ç”¨çš„å®¹å™¨ä¸­è¿­ä»£å™¨ç§ç±»ä¸ºåŒå‘è¿­ä»£å™¨ï¼Œå’Œéšæœºè®¿é—®è¿­ä»£å™¨</p>
<h3 id="25-å®¹å™¨ç®—æ³•è¿­ä»£å™¨åˆè¯†"><a class="markdownIt-Anchor" href="#25-å®¹å™¨ç®—æ³•è¿­ä»£å™¨åˆè¯†"></a> 2.5 å®¹å™¨ç®—æ³•è¿­ä»£å™¨åˆè¯†</h3>
<p>äº†è§£STLä¸­å®¹å™¨ã€ç®—æ³•ã€è¿­ä»£å™¨æ¦‚å¿µä¹‹åï¼Œæˆ‘ä»¬åˆ©ç”¨ä»£ç æ„Ÿå—STLçš„é­…åŠ›</p>
<p>STLä¸­æœ€å¸¸ç”¨çš„å®¹å™¨ä¸ºVectorï¼Œå¯ä»¥ç†è§£ä¸ºæ•°ç»„ï¼Œä¸‹é¢æˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•å‘è¿™ä¸ªå®¹å™¨ä¸­æ’å…¥æ•°æ®ã€å¹¶éå†è¿™ä¸ªå®¹å™¨</p>
<h4 id="251-vectorå­˜æ”¾å†…ç½®æ•°æ®ç±»å‹"><a class="markdownIt-Anchor" href="#251-vectorå­˜æ”¾å†…ç½®æ•°æ®ç±»å‹"></a> 2.5.1 vectorå­˜æ”¾å†…ç½®æ•°æ®ç±»å‹</h4>
<p>å®¹å™¨ï¼š <code>vector</code></p>
<p>ç®—æ³•ï¼š <code>for_each</code></p>
<p>è¿­ä»£å™¨ï¼š <code>vector&lt;int&gt;::iterator</code></p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">MyPrint</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt; val &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//åˆ›å»ºvectorå®¹å™¨å¯¹è±¡ï¼Œå¹¶ä¸”é€šè¿‡æ¨¡æ¿å‚æ•°æŒ‡å®šå®¹å™¨ä¸­å­˜æ”¾çš„æ•°æ®çš„ç±»å‹</span></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">	<span class="comment">//å‘å®¹å™¨ä¸­æ”¾æ•°æ®</span></span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">30</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">40</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//æ¯ä¸€ä¸ªå®¹å™¨éƒ½æœ‰è‡ªå·±çš„è¿­ä»£å™¨ï¼Œè¿­ä»£å™¨æ˜¯ç”¨æ¥éå†å®¹å™¨ä¸­çš„å…ƒç´ </span></span><br><span class="line">	<span class="comment">//v.begin()è¿”å›è¿­ä»£å™¨ï¼Œè¿™ä¸ªè¿­ä»£å™¨æŒ‡å‘å®¹å™¨ä¸­ç¬¬ä¸€ä¸ªæ•°æ®</span></span><br><span class="line">	<span class="comment">//v.end()è¿”å›è¿­ä»£å™¨ï¼Œè¿™ä¸ªè¿­ä»£å™¨æŒ‡å‘å®¹å™¨å…ƒç´ çš„æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®</span></span><br><span class="line">	<span class="comment">//vector&lt;int&gt;::iterator æ‹¿åˆ°vector&lt;int&gt;è¿™ç§å®¹å™¨çš„è¿­ä»£å™¨ç±»å‹</span></span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt;::iterator pBegin = v.<span class="built_in">begin</span>();</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt;::iterator pEnd = v.<span class="built_in">end</span>();</span><br><span class="line"></span><br><span class="line">	<span class="comment">//ç¬¬ä¸€ç§éå†æ–¹å¼ï¼š</span></span><br><span class="line">	<span class="keyword">while</span> (pBegin != pEnd) &#123;</span><br><span class="line">		cout &lt;&lt; *pBegin &lt;&lt; endl;</span><br><span class="line">		pBegin++;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">//ç¬¬äºŒç§éå†æ–¹å¼ï¼š</span></span><br><span class="line">	<span class="keyword">for</span> (vector&lt;<span class="type">int</span>&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//ç¬¬ä¸‰ç§éå†æ–¹å¼ï¼š</span></span><br><span class="line">	<span class="comment">//ä½¿ç”¨STLæä¾›æ ‡å‡†éå†ç®—æ³•  å¤´æ–‡ä»¶ algorithm</span></span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), MyPrint);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="252-vectorå­˜æ”¾è‡ªå®šä¹‰æ•°æ®ç±»å‹"><a class="markdownIt-Anchor" href="#252-vectorå­˜æ”¾è‡ªå®šä¹‰æ•°æ®ç±»å‹"></a> 2.5.2 Vectorå­˜æ”¾è‡ªå®šä¹‰æ•°æ®ç±»å‹</h4>
<p>å­¦ä¹ ç›®æ ‡ï¼švectorä¸­å­˜æ”¾è‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œå¹¶æ‰“å°è¾“å‡º</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è‡ªå®šä¹‰æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Person</span>(string name, <span class="type">int</span> age) &#123;</span><br><span class="line">		mName = name;</span><br><span class="line">		mAge = age;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	string mName;</span><br><span class="line">	<span class="type">int</span> mAge;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//å­˜æ”¾å¯¹è±¡</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	vector&lt;Person&gt; v;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//åˆ›å»ºæ•°æ®</span></span><br><span class="line">	<span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">&quot;aaa&quot;</span>, <span class="number">10</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">&quot;bbb&quot;</span>, <span class="number">20</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p3</span><span class="params">(<span class="string">&quot;ccc&quot;</span>, <span class="number">30</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p4</span><span class="params">(<span class="string">&quot;ddd&quot;</span>, <span class="number">40</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p5</span><span class="params">(<span class="string">&quot;eee&quot;</span>, <span class="number">50</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">	v.<span class="built_in">push_back</span>(p1);</span><br><span class="line">	v.<span class="built_in">push_back</span>(p2);</span><br><span class="line">	v.<span class="built_in">push_back</span>(p3);</span><br><span class="line">	v.<span class="built_in">push_back</span>(p4);</span><br><span class="line">	v.<span class="built_in">push_back</span>(p5);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (vector&lt;Person&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;Name:&quot;</span> &lt;&lt; (*it).mName &lt;&lt; <span class="string">&quot; Age:&quot;</span> &lt;&lt; (*it).mAge &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ”¾å¯¹è±¡æŒ‡é’ˆ</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	vector&lt;Person*&gt; v;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//åˆ›å»ºæ•°æ®</span></span><br><span class="line">	<span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">&quot;aaa&quot;</span>, <span class="number">10</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">&quot;bbb&quot;</span>, <span class="number">20</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p3</span><span class="params">(<span class="string">&quot;ccc&quot;</span>, <span class="number">30</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p4</span><span class="params">(<span class="string">&quot;ddd&quot;</span>, <span class="number">40</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p5</span><span class="params">(<span class="string">&quot;eee&quot;</span>, <span class="number">50</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">	v.<span class="built_in">push_back</span>(&amp;p1);</span><br><span class="line">	v.<span class="built_in">push_back</span>(&amp;p2);</span><br><span class="line">	v.<span class="built_in">push_back</span>(&amp;p3);</span><br><span class="line">	v.<span class="built_in">push_back</span>(&amp;p4);</span><br><span class="line">	v.<span class="built_in">push_back</span>(&amp;p5);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (vector&lt;Person*&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		Person * p = (*it);</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;Name:&quot;</span> &lt;&lt; p-&gt;mName &lt;&lt; <span class="string">&quot; Age:&quot;</span> &lt;&lt; (*it)-&gt;mAge &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line">  </span><br><span class="line">	<span class="built_in">test02</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="253-vectorå®¹å™¨åµŒå¥—å®¹å™¨"><a class="markdownIt-Anchor" href="#253-vectorå®¹å™¨åµŒå¥—å®¹å™¨"></a> 2.5.3 Vectorå®¹å™¨åµŒå¥—å®¹å™¨</h4>
<p>å­¦ä¹ ç›®æ ‡ï¼šå®¹å™¨ä¸­åµŒå¥—å®¹å™¨ï¼Œæˆ‘ä»¬å°†æ‰€æœ‰æ•°æ®è¿›è¡Œéå†è¾“å‡º</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å®¹å™¨åµŒå¥—å®¹å™¨</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	vector&lt; vector&lt;<span class="type">int</span>&gt; &gt;  v;</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v2;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v3;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v4;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i + <span class="number">1</span>);</span><br><span class="line">		v2.<span class="built_in">push_back</span>(i + <span class="number">2</span>);</span><br><span class="line">		v3.<span class="built_in">push_back</span>(i + <span class="number">3</span>);</span><br><span class="line">		v4.<span class="built_in">push_back</span>(i + <span class="number">4</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//å°†å®¹å™¨å…ƒç´ æ’å…¥åˆ°vector vä¸­</span></span><br><span class="line">	v.<span class="built_in">push_back</span>(v1);</span><br><span class="line">	v.<span class="built_in">push_back</span>(v2);</span><br><span class="line">	v.<span class="built_in">push_back</span>(v3);</span><br><span class="line">	v.<span class="built_in">push_back</span>(v4);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (vector&lt;<span class="type">int</span>&gt;::iterator vit = (*it).<span class="built_in">begin</span>(); vit != (*it).<span class="built_in">end</span>(); vit++) &#123;</span><br><span class="line">			cout &lt;&lt; *vit &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		cout &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-stl-å¸¸ç”¨å®¹å™¨"><a class="markdownIt-Anchor" href="#3-stl-å¸¸ç”¨å®¹å™¨"></a> 3 STL- å¸¸ç”¨å®¹å™¨</h2>
<h3 id="31-stringå®¹å™¨"><a class="markdownIt-Anchor" href="#31-stringå®¹å™¨"></a> 3.1 stringå®¹å™¨</h3>
<h4 id="311-stringåŸºæœ¬æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#311-stringåŸºæœ¬æ¦‚å¿µ"></a> 3.1.1 stringåŸºæœ¬æ¦‚å¿µ</h4>
<p><strong>æœ¬è´¨ï¼š</strong></p>
<ul>
<li>stringæ˜¯C++é£æ ¼çš„å­—ç¬¦ä¸²ï¼Œè€Œstringæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªç±»</li>
</ul>
<p><strong>stringå’Œchar * åŒºåˆ«ï¼š</strong></p>
<ul>
<li>char * æ˜¯ä¸€ä¸ªæŒ‡é’ˆ</li>
<li>stringæ˜¯ä¸€ä¸ªç±»ï¼Œç±»å†…éƒ¨å°è£…äº†char*ï¼Œç®¡ç†è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œæ˜¯ä¸€ä¸ªchar*å‹çš„å®¹å™¨ã€‚</li>
</ul>
<p><strong>ç‰¹ç‚¹ï¼š</strong></p>
<p>string ç±»å†…éƒ¨å°è£…äº†å¾ˆå¤šæˆå‘˜æ–¹æ³•</p>
<p>ä¾‹å¦‚ï¼šæŸ¥æ‰¾findï¼Œæ‹·è´copyï¼Œåˆ é™¤delete æ›¿æ¢replaceï¼Œæ’å…¥insert</p>
<p>stringç®¡ç†char*æ‰€åˆ†é…çš„å†…å­˜ï¼Œä¸ç”¨æ‹…å¿ƒå¤åˆ¶è¶Šç•Œå’Œå–å€¼è¶Šç•Œç­‰ï¼Œç”±ç±»å†…éƒ¨è¿›è¡Œè´Ÿè´£</p>
<h4 id="312-stringæ„é€ å‡½æ•°"><a class="markdownIt-Anchor" href="#312-stringæ„é€ å‡½æ•°"></a> 3.1.2 stringæ„é€ å‡½æ•°</h4>
<p>æ„é€ å‡½æ•°åŸå‹ï¼š</p>
<ul>
<li><code>string();</code> //åˆ›å»ºä¸€ä¸ªç©ºçš„å­—ç¬¦ä¸² ä¾‹å¦‚: string str;<br />
<code>string(const char* s);</code> //ä½¿ç”¨å­—ç¬¦ä¸²såˆå§‹åŒ–</li>
<li><code>string(const string&amp; str);</code> //ä½¿ç”¨ä¸€ä¸ªstringå¯¹è±¡åˆå§‹åŒ–å¦ä¸€ä¸ªstringå¯¹è±¡</li>
<li><code>string(int n, char c);</code> //ä½¿ç”¨nä¸ªå­—ç¬¦cåˆå§‹åŒ–</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="comment">//stringæ„é€ </span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	string s1; <span class="comment">//åˆ›å»ºç©ºå­—ç¬¦ä¸²ï¼Œè°ƒç”¨æ— å‚æ„é€ å‡½æ•°</span></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;str1 = &quot;</span> &lt;&lt; s1 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="type">const</span> <span class="type">char</span>* str = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line">	<span class="function">string <span class="title">s2</span><span class="params">(str)</span></span>; <span class="comment">//æŠŠc_stringè½¬æ¢æˆäº†string</span></span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;str2 = &quot;</span> &lt;&lt; s2 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="function">string <span class="title">s3</span><span class="params">(s2)</span></span>; <span class="comment">//è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;str3 = &quot;</span> &lt;&lt; s3 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="function">string <span class="title">s4</span><span class="params">(<span class="number">10</span>, <span class="string">&#x27;a&#x27;</span>)</span></span>;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;str3 = &quot;</span> &lt;&lt; s3 &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šstringçš„å¤šç§æ„é€ æ–¹å¼æ²¡æœ‰å¯æ¯”æ€§ï¼Œçµæ´»ä½¿ç”¨å³å¯</p>
<h4 id="313-stringèµ‹å€¼æ“ä½œ"><a class="markdownIt-Anchor" href="#313-stringèµ‹å€¼æ“ä½œ"></a> 3.1.3 stringèµ‹å€¼æ“ä½œ</h4>
<p>åŠŸèƒ½æè¿°ï¼š</p>
<ul>
<li>ç»™stringå­—ç¬¦ä¸²è¿›è¡Œèµ‹å€¼</li>
</ul>
<p>èµ‹å€¼çš„å‡½æ•°åŸå‹ï¼š</p>
<ul>
<li><code>string&amp; operator=(const char* s);</code> //char*ç±»å‹å­—ç¬¦ä¸² èµ‹å€¼ç»™å½“å‰çš„å­—ç¬¦ä¸²</li>
<li><code>string&amp; operator=(const string &amp;s);</code> //æŠŠå­—ç¬¦ä¸²sèµ‹ç»™å½“å‰çš„å­—ç¬¦ä¸²</li>
<li><code>string&amp; operator=(char c);</code> //å­—ç¬¦èµ‹å€¼ç»™å½“å‰çš„å­—ç¬¦ä¸²</li>
<li><code>string&amp; assign(const char *s);</code> //æŠŠå­—ç¬¦ä¸²sèµ‹ç»™å½“å‰çš„å­—ç¬¦ä¸²</li>
<li><code>string&amp; assign(const char *s, int n);</code> //æŠŠå­—ç¬¦ä¸²sçš„å‰nä¸ªå­—ç¬¦èµ‹ç»™å½“å‰çš„å­—ç¬¦ä¸²</li>
<li><code>string&amp; assign(const string &amp;s);</code> //æŠŠå­—ç¬¦ä¸²sèµ‹ç»™å½“å‰å­—ç¬¦ä¸²</li>
<li><code>string&amp; assign(int n, char c);</code> //ç”¨nä¸ªå­—ç¬¦cèµ‹ç»™å½“å‰å­—ç¬¦ä¸²</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//èµ‹å€¼</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	string str1;</span><br><span class="line">	str1 = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;str1 = &quot;</span> &lt;&lt; str1 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	string str2;</span><br><span class="line">	str2 = str1;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;str2 = &quot;</span> &lt;&lt; str2 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	string str3;</span><br><span class="line">	str3 = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;str3 = &quot;</span> &lt;&lt; str3 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	string str4;</span><br><span class="line">	str4.<span class="built_in">assign</span>(<span class="string">&quot;hello c++&quot;</span>);</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;str4 = &quot;</span> &lt;&lt; str4 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	string str5;</span><br><span class="line">	str5.<span class="built_in">assign</span>(<span class="string">&quot;hello c++&quot;</span>,<span class="number">5</span>);</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;str5 = &quot;</span> &lt;&lt; str5 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	string str6;</span><br><span class="line">	str6.<span class="built_in">assign</span>(str5);</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;str6 = &quot;</span> &lt;&lt; str6 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	string str7;</span><br><span class="line">	str7.<span class="built_in">assign</span>(<span class="number">5</span>, <span class="string">&#x27;x&#x27;</span>);</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;str7 = &quot;</span> &lt;&lt; str7 &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<p>stringçš„èµ‹å€¼æ–¹å¼å¾ˆå¤šï¼Œ<code>operator=</code> è¿™ç§æ–¹å¼æ˜¯æ¯”è¾ƒå®ç”¨çš„</p>
<h4 id="314-stringå­—ç¬¦ä¸²æ‹¼æ¥"><a class="markdownIt-Anchor" href="#314-stringå­—ç¬¦ä¸²æ‹¼æ¥"></a> 3.1.4 stringå­—ç¬¦ä¸²æ‹¼æ¥</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å®ç°åœ¨å­—ç¬¦ä¸²æœ«å°¾æ‹¼æ¥å­—ç¬¦ä¸²</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>string&amp; operator+=(const char* str);</code> //é‡è½½+=æ“ä½œç¬¦</li>
<li><code>string&amp; operator+=(const char c);</code> //é‡è½½+=æ“ä½œç¬¦</li>
<li><code>string&amp; operator+=(const string&amp; str);</code> //é‡è½½+=æ“ä½œç¬¦</li>
<li><code>string&amp; append(const char *s);</code> //æŠŠå­—ç¬¦ä¸²sè¿æ¥åˆ°å½“å‰å­—ç¬¦ä¸²ç»“å°¾</li>
<li><code>string&amp; append(const char *s, int n);</code> //æŠŠå­—ç¬¦ä¸²sçš„å‰nä¸ªå­—ç¬¦è¿æ¥åˆ°å½“å‰å­—ç¬¦ä¸²ç»“å°¾</li>
<li><code>string&amp; append(const string &amp;s);</code> //åŒoperator+=(const string&amp; str)</li>
<li><code>string&amp; append(const string &amp;s, int pos, int n);</code>//å­—ç¬¦ä¸²sä¸­ä»poså¼€å§‹çš„nä¸ªå­—ç¬¦è¿æ¥åˆ°å­—ç¬¦ä¸²ç»“å°¾</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å­—ç¬¦ä¸²æ‹¼æ¥</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	string str1 = <span class="string">&quot;æˆ‘&quot;</span>;</span><br><span class="line"></span><br><span class="line">	str1 += <span class="string">&quot;çˆ±ç©æ¸¸æˆ&quot;</span>;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;str1 = &quot;</span> &lt;&lt; str1 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	str1 += <span class="string">&#x27;:&#x27;</span>;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;str1 = &quot;</span> &lt;&lt; str1 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	string str2 = <span class="string">&quot;LOL DNF&quot;</span>;</span><br><span class="line"></span><br><span class="line">	str1 += str2;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;str1 = &quot;</span> &lt;&lt; str1 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	string str3 = <span class="string">&quot;I&quot;</span>;</span><br><span class="line">	str3.<span class="built_in">append</span>(<span class="string">&quot; love &quot;</span>);</span><br><span class="line">	str3.<span class="built_in">append</span>(<span class="string">&quot;game abcde&quot;</span>, <span class="number">4</span>);</span><br><span class="line">	<span class="comment">//str3.append(str2);</span></span><br><span class="line">	str3.<span class="built_in">append</span>(str2, <span class="number">4</span>, <span class="number">3</span>); <span class="comment">// ä»ä¸‹æ ‡4ä½ç½®å¼€å§‹ ï¼Œæˆªå–3ä¸ªå­—ç¬¦ï¼Œæ‹¼æ¥åˆ°å­—ç¬¦ä¸²æœ«å°¾</span></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;str3 = &quot;</span> &lt;&lt; str3 &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šå­—ç¬¦ä¸²æ‹¼æ¥çš„é‡è½½ç‰ˆæœ¬å¾ˆå¤šï¼Œåˆå­¦é˜¶æ®µè®°ä½å‡ ç§å³å¯</p>
<h4 id="315-stringæŸ¥æ‰¾å’Œæ›¿æ¢"><a class="markdownIt-Anchor" href="#315-stringæŸ¥æ‰¾å’Œæ›¿æ¢"></a> 3.1.5 stringæŸ¥æ‰¾å’Œæ›¿æ¢</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>æŸ¥æ‰¾ï¼šæŸ¥æ‰¾æŒ‡å®šå­—ç¬¦ä¸²æ˜¯å¦å­˜åœ¨</li>
<li>æ›¿æ¢ï¼šåœ¨æŒ‡å®šçš„ä½ç½®æ›¿æ¢å­—ç¬¦ä¸²</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>int find(const string&amp; str, int pos = 0) const;</code> //æŸ¥æ‰¾strç¬¬ä¸€æ¬¡å‡ºç°ä½ç½®,ä»poså¼€å§‹æŸ¥æ‰¾</li>
<li><code>int find(const char* s, int pos = 0) const;</code> //æŸ¥æ‰¾sç¬¬ä¸€æ¬¡å‡ºç°ä½ç½®,ä»poså¼€å§‹æŸ¥æ‰¾</li>
<li><code>int find(const char* s, int pos, int n) const;</code> //ä»posä½ç½®æŸ¥æ‰¾sçš„å‰nä¸ªå­—ç¬¦ç¬¬ä¸€æ¬¡ä½ç½®</li>
<li><code>int find(const char c, int pos = 0) const;</code> //æŸ¥æ‰¾å­—ç¬¦cç¬¬ä¸€æ¬¡å‡ºç°ä½ç½®</li>
<li><code>int rfind(const string&amp; str, int pos = npos) const;</code> //æŸ¥æ‰¾stræœ€åä¸€æ¬¡ä½ç½®,ä»poså¼€å§‹æŸ¥æ‰¾</li>
<li><code>int rfind(const char* s, int pos = npos) const;</code> //æŸ¥æ‰¾sæœ€åä¸€æ¬¡å‡ºç°ä½ç½®,ä»poså¼€å§‹æŸ¥æ‰¾</li>
<li><code>int rfind(const char* s, int pos, int n) const;</code> //ä»posæŸ¥æ‰¾sçš„å‰nä¸ªå­—ç¬¦æœ€åä¸€æ¬¡ä½ç½®</li>
<li><code>int rfind(const char c, int pos = 0) const;</code> //æŸ¥æ‰¾å­—ç¬¦cæœ€åä¸€æ¬¡å‡ºç°ä½ç½®</li>
<li><code>string&amp; replace(int pos, int n, const string&amp; str);</code> //æ›¿æ¢ä»poså¼€å§‹nä¸ªå­—ç¬¦ä¸ºå­—ç¬¦ä¸²str</li>
<li><code>string&amp; replace(int pos, int n,const char* s);</code> //æ›¿æ¢ä»poså¼€å§‹çš„nä¸ªå­—ç¬¦ä¸ºå­—ç¬¦ä¸²s</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æŸ¥æ‰¾å’Œæ›¿æ¢</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//æŸ¥æ‰¾</span></span><br><span class="line">	string str1 = <span class="string">&quot;abcdefgde&quot;</span>;</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> pos = str1.<span class="built_in">find</span>(<span class="string">&quot;de&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (pos == <span class="number">-1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;æœªæ‰¾åˆ°&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;pos = &quot;</span> &lt;&lt; pos &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	pos = str1.<span class="built_in">rfind</span>(<span class="string">&quot;de&quot;</span>);</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;pos = &quot;</span> &lt;&lt; pos &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//æ›¿æ¢</span></span><br><span class="line">	string str1 = <span class="string">&quot;abcdefgde&quot;</span>;</span><br><span class="line">	str1.<span class="built_in">replace</span>(<span class="number">1</span>, <span class="number">3</span>, <span class="string">&quot;1111&quot;</span>);</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;str1 = &quot;</span> &lt;&lt; str1 &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//test01();</span></span><br><span class="line">	<span class="comment">//test02();</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>findæŸ¥æ‰¾æ˜¯ä»å·¦å¾€åï¼Œrfindä»å³å¾€å·¦</li>
<li>findæ‰¾åˆ°å­—ç¬¦ä¸²åè¿”å›æŸ¥æ‰¾çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä½ç½®ï¼Œæ‰¾ä¸åˆ°è¿”å›-1</li>
<li>replaceåœ¨æ›¿æ¢æ—¶ï¼Œè¦æŒ‡å®šä»å“ªä¸ªä½ç½®èµ·ï¼Œå¤šå°‘ä¸ªå­—ç¬¦ï¼Œæ›¿æ¢æˆä»€ä¹ˆæ ·çš„å­—ç¬¦ä¸²</li>
</ul>
<h4 id="316-stringå­—ç¬¦ä¸²æ¯”è¾ƒ"><a class="markdownIt-Anchor" href="#316-stringå­—ç¬¦ä¸²æ¯”è¾ƒ"></a> 3.1.6 stringå­—ç¬¦ä¸²æ¯”è¾ƒ</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å­—ç¬¦ä¸²ä¹‹é—´çš„æ¯”è¾ƒ</li>
</ul>
<p><strong>æ¯”è¾ƒæ–¹å¼ï¼š</strong></p>
<ul>
<li>å­—ç¬¦ä¸²æ¯”è¾ƒæ˜¯æŒ‰å­—ç¬¦çš„ASCIIç è¿›è¡Œå¯¹æ¯”</li>
</ul>
<p>= è¿”å› 0</p>
<p>&gt;è¿”å› 1</p>
<p>&lt; è¿”å› -1</p>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>int compare(const string &amp;s) const;</code> //ä¸å­—ç¬¦ä¸²sæ¯”è¾ƒ</li>
<li><code>int compare(const char *s) const;</code> //ä¸å­—ç¬¦ä¸²sæ¯”è¾ƒ</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å­—ç¬¦ä¸²æ¯”è¾ƒ</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	string s1 = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">	string s2 = <span class="string">&quot;aello&quot;</span>;</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> ret = s1.<span class="built_in">compare</span>(s2);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (ret == <span class="number">0</span>) &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;s1 ç­‰äº s2&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (ret &gt; <span class="number">0</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;s1 å¤§äº s2&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;s1 å°äº s2&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šå­—ç¬¦ä¸²å¯¹æ¯”ä¸»è¦æ˜¯ç”¨äºæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œåˆ¤æ–­è°å¤§è°å°çš„æ„ä¹‰å¹¶ä¸æ˜¯å¾ˆå¤§</p>
<h4 id="317-stringå­—ç¬¦å­˜å–"><a class="markdownIt-Anchor" href="#317-stringå­—ç¬¦å­˜å–"></a> 3.1.7 stringå­—ç¬¦å­˜å–</h4>
<p>stringä¸­å•ä¸ªå­—ç¬¦å­˜å–æ–¹å¼æœ‰ä¸¤ç§</p>
<ul>
<li><code>char&amp; operator[](int n);</code> //é€šè¿‡[]æ–¹å¼å–å­—ç¬¦</li>
<li><code>char&amp; at(int n);</code> //é€šè¿‡atæ–¹æ³•è·å–å­—ç¬¦</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	string str = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; str.<span class="built_in">size</span>(); i++)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; str[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; str.<span class="built_in">size</span>(); i++)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; str.<span class="built_in">at</span>(i) &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">//å­—ç¬¦ä¿®æ”¹</span></span><br><span class="line">	str[<span class="number">0</span>] = <span class="string">&#x27;x&#x27;</span>;</span><br><span class="line">	str.<span class="built_in">at</span>(<span class="number">1</span>) = <span class="string">&#x27;x&#x27;</span>;</span><br><span class="line">	cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šstringå­—ç¬¦ä¸²ä¸­å•ä¸ªå­—ç¬¦å­˜å–æœ‰ä¸¤ç§æ–¹å¼ï¼Œåˆ©ç”¨ [ ] æˆ– at</p>
<h4 id="318-stringæ’å…¥å’Œåˆ é™¤"><a class="markdownIt-Anchor" href="#318-stringæ’å…¥å’Œåˆ é™¤"></a> 3.1.8 stringæ’å…¥å’Œåˆ é™¤</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å¯¹stringå­—ç¬¦ä¸²è¿›è¡Œæ’å…¥å’Œåˆ é™¤å­—ç¬¦æ“ä½œ</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>string&amp; insert(int pos, const char* s);</code> //æ’å…¥å­—ç¬¦ä¸²</li>
<li><code>string&amp; insert(int pos, const string&amp; str);</code> //æ’å…¥å­—ç¬¦ä¸²</li>
<li><code>string&amp; insert(int pos, int n, char c);</code> //åœ¨æŒ‡å®šä½ç½®æ’å…¥nä¸ªå­—ç¬¦c</li>
<li><code>string&amp; erase(int pos, int n = npos);</code> //åˆ é™¤ä»Poså¼€å§‹çš„nä¸ªå­—ç¬¦</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å­—ç¬¦ä¸²æ’å…¥å’Œåˆ é™¤</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	string str = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">	str.<span class="built_in">insert</span>(<span class="number">1</span>, <span class="string">&quot;111&quot;</span>);</span><br><span class="line">	cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	str.<span class="built_in">erase</span>(<span class="number">1</span>, <span class="number">3</span>);  <span class="comment">//ä»1å·ä½ç½®å¼€å§‹3ä¸ªå­—ç¬¦</span></span><br><span class="line">	cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>**æ€»ç»“ï¼š**æ’å…¥å’Œåˆ é™¤çš„èµ·å§‹ä¸‹æ ‡éƒ½æ˜¯ä»0å¼€å§‹</p>
<h4 id="319-stringå­ä¸²"><a class="markdownIt-Anchor" href="#319-stringå­ä¸²"></a> 3.1.9 stringå­ä¸²</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>ä»å­—ç¬¦ä¸²ä¸­è·å–æƒ³è¦çš„å­ä¸²</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>string substr(int pos = 0, int n = npos) const;</code> //è¿”å›ç”±poså¼€å§‹çš„nä¸ªå­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å­ä¸²</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	string str = <span class="string">&quot;abcdefg&quot;</span>;</span><br><span class="line">	string subStr = str.<span class="built_in">substr</span>(<span class="number">1</span>, <span class="number">3</span>);</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;subStr = &quot;</span> &lt;&lt; subStr &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	string email = <span class="string">&quot;hello@sina.com&quot;</span>;</span><br><span class="line">	<span class="type">int</span> pos = email.<span class="built_in">find</span>(<span class="string">&quot;@&quot;</span>);</span><br><span class="line">	string username = email.<span class="built_in">substr</span>(<span class="number">0</span>, pos);</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;username: &quot;</span> &lt;&lt; username &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>**æ€»ç»“ï¼š**çµæ´»çš„è¿ç”¨æ±‚å­ä¸²åŠŸèƒ½ï¼Œå¯ä»¥åœ¨å®é™…å¼€å‘ä¸­è·å–æœ‰æ•ˆçš„ä¿¡æ¯</p>
<h3 id="32-vectorå®¹å™¨"><a class="markdownIt-Anchor" href="#32-vectorå®¹å™¨"></a> 3.2 vectorå®¹å™¨</h3>
<h4 id="321-vectoråŸºæœ¬æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#321-vectoråŸºæœ¬æ¦‚å¿µ"></a> 3.2.1 vectoråŸºæœ¬æ¦‚å¿µ</h4>
<p><strong>åŠŸèƒ½ï¼š</strong></p>
<ul>
<li>vectoræ•°æ®ç»“æ„å’Œ <strong>æ•°ç»„éå¸¸ç›¸ä¼¼</strong> ï¼Œä¹Ÿç§°ä¸º<strong>å•ç«¯æ•°ç»„</strong></li>
</ul>
<p><strong>vectorä¸æ™®é€šæ•°ç»„åŒºåˆ«ï¼š</strong></p>
<ul>
<li>ä¸åŒä¹‹å¤„åœ¨äºæ•°ç»„æ˜¯é™æ€ç©ºé—´ï¼Œè€Œvectorå¯ä»¥<strong>åŠ¨æ€æ‰©å±•</strong></li>
</ul>
<p><strong>åŠ¨æ€æ‰©å±•ï¼š</strong></p>
<ul>
<li>å¹¶ä¸æ˜¯åœ¨åŸç©ºé—´ä¹‹åç»­æ¥æ–°ç©ºé—´ï¼Œè€Œæ˜¯æ‰¾æ›´å¤§çš„å†…å­˜ç©ºé—´ï¼Œç„¶åå°†åŸæ•°æ®æ‹·è´æ–°ç©ºé—´ï¼Œé‡Šæ”¾åŸç©ºé—´</li>
</ul>
<p>[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-p7chZeA2-1599302221765)(assets/clip_image002.jpg)]</p>
<ul>
<li>vectorå®¹å™¨çš„è¿­ä»£å™¨æ˜¯æ”¯æŒéšæœºè®¿é—®çš„è¿­ä»£å™¨</li>
</ul>
<h4 id="322-vectoræ„é€ å‡½æ•°"><a class="markdownIt-Anchor" href="#322-vectoræ„é€ å‡½æ•°"></a> 3.2.2 vectoræ„é€ å‡½æ•°</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>åˆ›å»ºvectorå®¹å™¨</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>vector&lt;T&gt; v;</code> //é‡‡ç”¨æ¨¡æ¿å®ç°ç±»å®ç°ï¼Œé»˜è®¤æ„é€ å‡½æ•°</li>
<li><code>vector(v.begin(), v.end());</code> //å°†v[begin(), end())åŒºé—´ä¸­çš„å…ƒç´ æ‹·è´ç»™æœ¬èº«ã€‚</li>
<li><code>vector(n, elem);</code> //æ„é€ å‡½æ•°å°†nä¸ªelemæ‹·è´ç»™æœ¬èº«ã€‚</li>
<li><code>vector(const vector &amp;vec);</code> //æ‹·è´æ„é€ å‡½æ•°ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printVector</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; v)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (vector&lt;<span class="type">int</span>&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v1; <span class="comment">//æ— å‚æ„é€ </span></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printVector</span>(v1);</span><br><span class="line"></span><br><span class="line">	<span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v2</span><span class="params">(v1.begin(), v1.end())</span></span>;</span><br><span class="line">	<span class="built_in">printVector</span>(v2);</span><br><span class="line"></span><br><span class="line">	<span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v3</span><span class="params">(<span class="number">10</span>, <span class="number">100</span>)</span></span>;</span><br><span class="line">	<span class="built_in">printVector</span>(v3);</span><br><span class="line"></span><br><span class="line">	<span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v4</span><span class="params">(v3)</span></span>;</span><br><span class="line">	<span class="built_in">printVector</span>(v4);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>**æ€»ç»“ï¼š**vectorçš„å¤šç§æ„é€ æ–¹å¼æ²¡æœ‰å¯æ¯”æ€§ï¼Œçµæ´»ä½¿ç”¨å³å¯</p>
<h4 id="323-vectorèµ‹å€¼æ“ä½œ"><a class="markdownIt-Anchor" href="#323-vectorèµ‹å€¼æ“ä½œ"></a> 3.2.3 vectorèµ‹å€¼æ“ä½œ</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>ç»™vectorå®¹å™¨è¿›è¡Œèµ‹å€¼</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>vector&amp; operator=(const vector &amp;vec);</code>//é‡è½½ç­‰å·æ“ä½œç¬¦</li>
<li><code>assign(beg, end);</code> //å°†[beg, end)åŒºé—´ä¸­çš„æ•°æ®æ‹·è´èµ‹å€¼ç»™æœ¬èº«ã€‚</li>
<li><code>assign(n, elem);</code> //å°†nä¸ªelemæ‹·è´èµ‹å€¼ç»™æœ¬èº«ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printVector</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; v)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (vector&lt;<span class="type">int</span>&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//èµ‹å€¼æ“ä½œ</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v1; <span class="comment">//æ— å‚æ„é€ </span></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printVector</span>(v1);</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt;v2;</span><br><span class="line">	v2 = v1;</span><br><span class="line">	<span class="built_in">printVector</span>(v2);</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt;v3;</span><br><span class="line">	v3.<span class="built_in">assign</span>(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>());</span><br><span class="line">	<span class="built_in">printVector</span>(v3);</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt;v4;</span><br><span class="line">	v4.<span class="built_in">assign</span>(<span class="number">10</span>, <span class="number">100</span>);</span><br><span class="line">	<span class="built_in">printVector</span>(v4);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š vectorèµ‹å€¼æ–¹å¼æ¯”è¾ƒç®€å•ï¼Œä½¿ç”¨operator=ï¼Œæˆ–è€…assignéƒ½å¯ä»¥</p>
<h4 id="324-vectorå®¹é‡å’Œå¤§å°"><a class="markdownIt-Anchor" href="#324-vectorå®¹é‡å’Œå¤§å°"></a> 3.2.4 vectorå®¹é‡å’Œå¤§å°</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å¯¹vectorå®¹å™¨çš„å®¹é‡å’Œå¤§å°æ“ä½œ</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>empty();</code> //åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©º</li>
<li><code>capacity();</code> //å®¹å™¨çš„å®¹é‡</li>
<li><code>size();</code> //è¿”å›å®¹å™¨ä¸­å…ƒç´ çš„ä¸ªæ•°</li>
<li><code>resize(int num);</code> //é‡æ–°æŒ‡å®šå®¹å™¨çš„é•¿åº¦ä¸ºnumï¼Œè‹¥å®¹å™¨å˜é•¿ï¼Œåˆ™ä»¥é»˜è®¤å€¼å¡«å……æ–°ä½ç½®ã€‚<br />
//å¦‚æœå®¹å™¨å˜çŸ­ï¼Œåˆ™æœ«å°¾è¶…å‡ºå®¹å™¨é•¿åº¦çš„å…ƒç´ è¢«åˆ é™¤ã€‚</li>
<li><code>resize(int num, elem);</code> //é‡æ–°æŒ‡å®šå®¹å™¨çš„é•¿åº¦ä¸ºnumï¼Œè‹¥å®¹å™¨å˜é•¿ï¼Œåˆ™ä»¥elemå€¼å¡«å……æ–°ä½ç½®ã€‚<br />
//å¦‚æœå®¹å™¨å˜çŸ­ï¼Œåˆ™æœ«å°¾è¶…å‡ºå®¹å™¨é•¿åº¦çš„å…ƒç´ è¢«åˆ é™¤</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printVector</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; v)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (vector&lt;<span class="type">int</span>&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printVector</span>(v1);</span><br><span class="line">	<span class="keyword">if</span> (v1.<span class="built_in">empty</span>())</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;v1ä¸ºç©º&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;v1ä¸ä¸ºç©º&quot;</span> &lt;&lt; endl;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;v1çš„å®¹é‡ = &quot;</span> &lt;&lt; v1.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;v1çš„å¤§å° = &quot;</span> &lt;&lt; v1.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//resize é‡æ–°æŒ‡å®šå¤§å° ï¼Œè‹¥æŒ‡å®šçš„æ›´å¤§ï¼Œé»˜è®¤ç”¨0å¡«å……æ–°ä½ç½®ï¼Œå¯ä»¥åˆ©ç”¨é‡è½½ç‰ˆæœ¬æ›¿æ¢é»˜è®¤å¡«å……</span></span><br><span class="line">	v1.<span class="built_in">resize</span>(<span class="number">15</span>,<span class="number">10</span>);</span><br><span class="line">	<span class="built_in">printVector</span>(v1);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//resize é‡æ–°æŒ‡å®šå¤§å° ï¼Œè‹¥æŒ‡å®šçš„æ›´å°ï¼Œè¶…å‡ºéƒ¨åˆ†å…ƒç´ è¢«åˆ é™¤</span></span><br><span class="line">	v1.<span class="built_in">resize</span>(<span class="number">5</span>);</span><br><span class="line">	<span class="built_in">printVector</span>(v1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>åˆ¤æ–­æ˜¯å¦ä¸ºç©º â€” empty</li>
<li>è¿”å›å…ƒç´ ä¸ªæ•° â€” size</li>
<li>è¿”å›å®¹å™¨å®¹é‡ â€” capacity</li>
<li>é‡æ–°æŒ‡å®šå¤§å° â€” resize</li>
</ul>
<h4 id="325-vectoræ’å…¥å’Œåˆ é™¤"><a class="markdownIt-Anchor" href="#325-vectoræ’å…¥å’Œåˆ é™¤"></a> 3.2.5 vectoræ’å…¥å’Œåˆ é™¤</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å¯¹vectorå®¹å™¨è¿›è¡Œæ’å…¥ã€åˆ é™¤æ“ä½œ</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>push_back(ele);</code> //å°¾éƒ¨æ’å…¥å…ƒç´ ele</li>
<li><code>pop_back();</code> //åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ </li>
<li><code>insert(const_iterator pos, ele);</code> //è¿­ä»£å™¨æŒ‡å‘ä½ç½®posæ’å…¥å…ƒç´ ele</li>
<li><code>insert(const_iterator pos, int count,ele);</code>//è¿­ä»£å™¨æŒ‡å‘ä½ç½®posæ’å…¥countä¸ªå…ƒç´ ele</li>
<li><code>erase(const_iterator pos);</code> //åˆ é™¤è¿­ä»£å™¨æŒ‡å‘çš„å…ƒç´ </li>
<li><code>erase(const_iterator start, const_iterator end);</code>//åˆ é™¤è¿­ä»£å™¨ä»startåˆ°endä¹‹é—´çš„å…ƒç´ </li>
<li><code>clear();</code> //åˆ é™¤å®¹å™¨ä¸­æ‰€æœ‰å…ƒç´ </li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printVector</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; v)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (vector&lt;<span class="type">int</span>&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ’å…¥å’Œåˆ é™¤</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">	<span class="comment">//å°¾æ’</span></span><br><span class="line">	v1.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">	v1.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">	v1.<span class="built_in">push_back</span>(<span class="number">30</span>);</span><br><span class="line">	v1.<span class="built_in">push_back</span>(<span class="number">40</span>);</span><br><span class="line">	v1.<span class="built_in">push_back</span>(<span class="number">50</span>);</span><br><span class="line">	<span class="built_in">printVector</span>(v1);</span><br><span class="line">	<span class="comment">//å°¾åˆ </span></span><br><span class="line">	v1.<span class="built_in">pop_back</span>();</span><br><span class="line">	<span class="built_in">printVector</span>(v1);</span><br><span class="line">	<span class="comment">//æ’å…¥</span></span><br><span class="line">	v1.<span class="built_in">insert</span>(v1.<span class="built_in">begin</span>(), <span class="number">100</span>);</span><br><span class="line">	<span class="built_in">printVector</span>(v1);</span><br><span class="line"></span><br><span class="line">	v1.<span class="built_in">insert</span>(v1.<span class="built_in">begin</span>(), <span class="number">2</span>, <span class="number">1000</span>);</span><br><span class="line">	<span class="built_in">printVector</span>(v1);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//åˆ é™¤</span></span><br><span class="line">	v1.<span class="built_in">erase</span>(v1.<span class="built_in">begin</span>());</span><br><span class="line">	<span class="built_in">printVector</span>(v1);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//æ¸…ç©º</span></span><br><span class="line">	v1.<span class="built_in">erase</span>(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>());</span><br><span class="line">	v1.<span class="built_in">clear</span>();</span><br><span class="line">	<span class="built_in">printVector</span>(v1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>å°¾æ’ â€” push_back</li>
<li>å°¾åˆ  â€” pop_back</li>
<li>æ’å…¥ â€” insert (ä½ç½®è¿­ä»£å™¨)</li>
<li>åˆ é™¤ â€” erase ï¼ˆä½ç½®è¿­ä»£å™¨ï¼‰</li>
<li>æ¸…ç©º â€” clear</li>
</ul>
<h4 id="326-vectoræ•°æ®å­˜å–"><a class="markdownIt-Anchor" href="#326-vectoræ•°æ®å­˜å–"></a> 3.2.6 vectoræ•°æ®å­˜å–</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å¯¹vectorä¸­çš„æ•°æ®çš„å­˜å–æ“ä½œ</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>at(int idx);</code> //è¿”å›ç´¢å¼•idxæ‰€æŒ‡çš„æ•°æ®</li>
<li><code>operator[];</code> //è¿”å›ç´¢å¼•idxæ‰€æŒ‡çš„æ•°æ®</li>
<li><code>front();</code> //è¿”å›å®¹å™¨ä¸­ç¬¬ä¸€ä¸ªæ•°æ®å…ƒç´ </li>
<li><code>back();</code> //è¿”å›å®¹å™¨ä¸­æœ€åä¸€ä¸ªæ•°æ®å…ƒç´ </li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt;v1;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; v1.<span class="built_in">size</span>(); i++)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; v1[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; v1.<span class="built_in">size</span>(); i++)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; v1.<span class="built_in">at</span>(i) &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;v1çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºï¼š &quot;</span> &lt;&lt; v1.<span class="built_in">front</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;v1çš„æœ€åä¸€ä¸ªå…ƒç´ ä¸ºï¼š &quot;</span> &lt;&lt; v1.<span class="built_in">back</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>é™¤äº†ç”¨è¿­ä»£å™¨è·å–vectorå®¹å™¨ä¸­å…ƒç´ ï¼Œ[ ]å’Œatä¹Ÿå¯ä»¥</li>
<li>frontè¿”å›å®¹å™¨ç¬¬ä¸€ä¸ªå…ƒç´ </li>
<li>backè¿”å›å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ </li>
</ul>
<h4 id="327-vectoräº’æ¢å®¹å™¨"><a class="markdownIt-Anchor" href="#327-vectoräº’æ¢å®¹å™¨"></a> 3.2.7 vectoräº’æ¢å®¹å™¨</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å®ç°ä¸¤ä¸ªå®¹å™¨å†…å…ƒç´ è¿›è¡Œäº’æ¢</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>swap(vec);</code> // å°†vecä¸æœ¬èº«çš„å…ƒç´ äº’æ¢</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printVector</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; v)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (vector&lt;<span class="type">int</span>&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt;v1;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printVector</span>(v1);</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt;v2;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">10</span>; i &gt; <span class="number">0</span>; i--)</span><br><span class="line">	&#123;</span><br><span class="line">		v2.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printVector</span>(v2);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//äº’æ¢å®¹å™¨</span></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;äº’æ¢å&quot;</span> &lt;&lt; endl;</span><br><span class="line">	v1.<span class="built_in">swap</span>(v2);</span><br><span class="line">	<span class="built_in">printVector</span>(v1);</span><br><span class="line">	<span class="built_in">printVector</span>(v2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100000</span>; i++) &#123;</span><br><span class="line">		v.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;vçš„å®¹é‡ä¸ºï¼š&quot;</span> &lt;&lt; v.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;vçš„å¤§å°ä¸ºï¼š&quot;</span> &lt;&lt; v.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	v.<span class="built_in">resize</span>(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;vçš„å®¹é‡ä¸ºï¼š&quot;</span> &lt;&lt; v.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;vçš„å¤§å°ä¸ºï¼š&quot;</span> &lt;&lt; v.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//æ”¶ç¼©å†…å­˜</span></span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(v).<span class="built_in">swap</span>(v); <span class="comment">//åŒ¿åå¯¹è±¡</span></span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;vçš„å®¹é‡ä¸ºï¼š&quot;</span> &lt;&lt; v.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;vçš„å¤§å°ä¸ºï¼š&quot;</span> &lt;&lt; v.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test02</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šswapå¯ä»¥ä½¿ä¸¤ä¸ªå®¹å™¨äº’æ¢ï¼Œå¯ä»¥è¾¾åˆ°å®ç”¨çš„æ”¶ç¼©å†…å­˜æ•ˆæœ</p>
<h4 id="328-vectoré¢„ç•™ç©ºé—´"><a class="markdownIt-Anchor" href="#328-vectoré¢„ç•™ç©ºé—´"></a> 3.2.8 vectoré¢„ç•™ç©ºé—´</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å‡å°‘vectoråœ¨åŠ¨æ€æ‰©å±•å®¹é‡æ—¶çš„æ‰©å±•æ¬¡æ•°</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>reserve(int len);</code>//å®¹å™¨é¢„ç•™lenä¸ªå…ƒç´ é•¿åº¦ï¼Œé¢„ç•™ä½ç½®ä¸åˆå§‹åŒ–ï¼Œå…ƒç´ ä¸å¯è®¿é—®ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//é¢„ç•™ç©ºé—´</span></span><br><span class="line">	v.<span class="built_in">reserve</span>(<span class="number">100000</span>);</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> num = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span>* p = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100000</span>; i++) &#123;</span><br><span class="line">		v.<span class="built_in">push_back</span>(i);</span><br><span class="line">		<span class="keyword">if</span> (p != &amp;v[<span class="number">0</span>]) &#123;</span><br><span class="line">			p = &amp;v[<span class="number">0</span>];</span><br><span class="line">			num++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;num:&quot;</span> &lt;&lt; num &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line">  </span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šå¦‚æœæ•°æ®é‡è¾ƒå¤§ï¼Œå¯ä»¥ä¸€å¼€å§‹åˆ©ç”¨reserveé¢„ç•™ç©ºé—´</p>
<h3 id="33-dequeå®¹å™¨"><a class="markdownIt-Anchor" href="#33-dequeå®¹å™¨"></a> 3.3 dequeå®¹å™¨</h3>
<h4 id="331-dequeå®¹å™¨åŸºæœ¬æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#331-dequeå®¹å™¨åŸºæœ¬æ¦‚å¿µ"></a> 3.3.1 dequeå®¹å™¨åŸºæœ¬æ¦‚å¿µ</h4>
<p><strong>åŠŸèƒ½ï¼š</strong></p>
<ul>
<li>åŒç«¯æ•°ç»„ï¼Œå¯ä»¥å¯¹å¤´ç«¯è¿›è¡Œæ’å…¥åˆ é™¤æ“ä½œ</li>
</ul>
<p><strong>dequeä¸vectoråŒºåˆ«ï¼š</strong></p>
<ul>
<li>vectorå¯¹äºå¤´éƒ¨çš„æ’å…¥åˆ é™¤æ•ˆç‡ä½ï¼Œæ•°æ®é‡è¶Šå¤§ï¼Œæ•ˆç‡è¶Šä½</li>
<li>dequeç›¸å¯¹è€Œè¨€ï¼Œå¯¹å¤´éƒ¨çš„æ’å…¥åˆ é™¤é€Ÿåº¦å›æ¯”vectorå¿«</li>
<li>vectorè®¿é—®å…ƒç´ æ—¶çš„é€Ÿåº¦ä¼šæ¯”dequeå¿«,è¿™å’Œä¸¤è€…å†…éƒ¨å®ç°æœ‰å…³</li>
</ul>
<p>dequeå†…éƒ¨å·¥ä½œåŸç†:</p>
<p>dequeå†…éƒ¨æœ‰ä¸ª <strong>ä¸­æ§å™¨</strong> ï¼Œç»´æŠ¤æ¯æ®µç¼“å†²åŒºä¸­çš„å†…å®¹ï¼Œç¼“å†²åŒºä¸­å­˜æ”¾çœŸå®æ•°æ®</p>
<p>ä¸­æ§å™¨ç»´æŠ¤çš„æ˜¯æ¯ä¸ªç¼“å†²åŒºçš„åœ°å€ï¼Œä½¿å¾—ä½¿ç”¨dequeæ—¶åƒä¸€ç‰‡è¿ç»­çš„å†…å­˜ç©ºé—´</p>
<p>[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-VTzWcXKx-1599302221768)(assets/clip_image002-1547547896341.jpg)]</p>
<ul>
<li>dequeå®¹å™¨çš„è¿­ä»£å™¨ä¹Ÿæ˜¯æ”¯æŒéšæœºè®¿é—®çš„</li>
</ul>
<h4 id="332-dequeæ„é€ å‡½æ•°"><a class="markdownIt-Anchor" href="#332-dequeæ„é€ å‡½æ•°"></a> 3.3.2 dequeæ„é€ å‡½æ•°</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>dequeå®¹å™¨æ„é€ </li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>deque&lt;T&gt;</code> deqT; //é»˜è®¤æ„é€ å½¢å¼</li>
<li><code>deque(beg, end);</code> //æ„é€ å‡½æ•°å°†[beg, end)åŒºé—´ä¸­çš„å…ƒç´ æ‹·è´ç»™æœ¬èº«ã€‚</li>
<li><code>deque(n, elem);</code> //æ„é€ å‡½æ•°å°†nä¸ªelemæ‹·è´ç»™æœ¬èº«ã€‚</li>
<li><code>deque(const deque &amp;deq);</code> //æ‹·è´æ„é€ å‡½æ•°</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;deque&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printDeque</span><span class="params">(<span class="type">const</span> deque&lt;<span class="type">int</span>&gt;&amp; d)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (deque&lt;<span class="type">int</span>&gt;::const_iterator it = d.<span class="built_in">begin</span>(); it != d.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//dequeæ„é€ </span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	deque&lt;<span class="type">int</span>&gt; d1; <span class="comment">//æ— å‚æ„é€ å‡½æ•°</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		d1.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printDeque</span>(d1);</span><br><span class="line">	<span class="function">deque&lt;<span class="type">int</span>&gt; <span class="title">d2</span><span class="params">(d1.begin(),d1.end())</span></span>;</span><br><span class="line">	<span class="built_in">printDeque</span>(d2);</span><br><span class="line"></span><br><span class="line">	deque&lt;<span class="type">int</span>&gt;<span class="built_in">d3</span>(<span class="number">10</span>,<span class="number">100</span>);</span><br><span class="line">	<span class="built_in">printDeque</span>(d3);</span><br><span class="line"></span><br><span class="line">	deque&lt;<span class="type">int</span>&gt;d4 = d3;</span><br><span class="line">	<span class="built_in">printDeque</span>(d4);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>**æ€»ç»“ï¼š**dequeå®¹å™¨å’Œvectorå®¹å™¨çš„æ„é€ æ–¹å¼å‡ ä¹ä¸€è‡´ï¼Œçµæ´»ä½¿ç”¨å³å¯</p>
<h4 id="333-dequeèµ‹å€¼æ“ä½œ"><a class="markdownIt-Anchor" href="#333-dequeèµ‹å€¼æ“ä½œ"></a> 3.3.3 dequeèµ‹å€¼æ“ä½œ</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>ç»™dequeå®¹å™¨è¿›è¡Œèµ‹å€¼</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>deque&amp; operator=(const deque &amp;deq);</code> //é‡è½½ç­‰å·æ“ä½œç¬¦</li>
<li><code>assign(beg, end);</code> //å°†[beg, end)åŒºé—´ä¸­çš„æ•°æ®æ‹·è´èµ‹å€¼ç»™æœ¬èº«ã€‚</li>
<li><code>assign(n, elem);</code> //å°†nä¸ªelemæ‹·è´èµ‹å€¼ç»™æœ¬èº«ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;deque&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printDeque</span><span class="params">(<span class="type">const</span> deque&lt;<span class="type">int</span>&gt;&amp; d)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (deque&lt;<span class="type">int</span>&gt;::const_iterator it = d.<span class="built_in">begin</span>(); it != d.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//èµ‹å€¼æ“ä½œ</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	deque&lt;<span class="type">int</span>&gt; d1;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		d1.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printDeque</span>(d1);</span><br><span class="line"></span><br><span class="line">	deque&lt;<span class="type">int</span>&gt;d2;</span><br><span class="line">	d2 = d1;</span><br><span class="line">	<span class="built_in">printDeque</span>(d2);</span><br><span class="line"></span><br><span class="line">	deque&lt;<span class="type">int</span>&gt;d3;</span><br><span class="line">	d3.<span class="built_in">assign</span>(d1.<span class="built_in">begin</span>(), d1.<span class="built_in">end</span>());</span><br><span class="line">	<span class="built_in">printDeque</span>(d3);</span><br><span class="line"></span><br><span class="line">	deque&lt;<span class="type">int</span>&gt;d4;</span><br><span class="line">	d4.<span class="built_in">assign</span>(<span class="number">10</span>, <span class="number">100</span>);</span><br><span class="line">	<span class="built_in">printDeque</span>(d4);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šdequeèµ‹å€¼æ“ä½œä¹Ÿä¸vectorç›¸åŒï¼Œéœ€ç†Ÿç»ƒæŒæ¡</p>
<h4 id="334-dequeå¤§å°æ“ä½œ"><a class="markdownIt-Anchor" href="#334-dequeå¤§å°æ“ä½œ"></a> 3.3.4 dequeå¤§å°æ“ä½œ</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å¯¹dequeå®¹å™¨çš„å¤§å°è¿›è¡Œæ“ä½œ</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>deque.empty();</code> //åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©º</li>
<li><code>deque.size();</code> //è¿”å›å®¹å™¨ä¸­å…ƒç´ çš„ä¸ªæ•°</li>
<li><code>deque.resize(num);</code> //é‡æ–°æŒ‡å®šå®¹å™¨çš„é•¿åº¦ä¸ºnum,è‹¥å®¹å™¨å˜é•¿ï¼Œåˆ™ä»¥é»˜è®¤å€¼å¡«å……æ–°ä½ç½®ã€‚<br />
//å¦‚æœå®¹å™¨å˜çŸ­ï¼Œåˆ™æœ«å°¾è¶…å‡ºå®¹å™¨é•¿åº¦çš„å…ƒç´ è¢«åˆ é™¤ã€‚</li>
<li><code>deque.resize(num, elem);</code> //é‡æ–°æŒ‡å®šå®¹å™¨çš„é•¿åº¦ä¸ºnum,è‹¥å®¹å™¨å˜é•¿ï¼Œåˆ™ä»¥elemå€¼å¡«å……æ–°ä½ç½®ã€‚<br />
//å¦‚æœå®¹å™¨å˜çŸ­ï¼Œåˆ™æœ«å°¾è¶…å‡ºå®¹å™¨é•¿åº¦çš„å…ƒç´ è¢«åˆ é™¤ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;deque&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printDeque</span><span class="params">(<span class="type">const</span> deque&lt;<span class="type">int</span>&gt;&amp; d)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (deque&lt;<span class="type">int</span>&gt;::const_iterator it = d.<span class="built_in">begin</span>(); it != d.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¤§å°æ“ä½œ</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	deque&lt;<span class="type">int</span>&gt; d1;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		d1.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printDeque</span>(d1);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">	<span class="keyword">if</span> (d1.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;d1ä¸ºç©º!&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;d1ä¸ä¸ºç©º!&quot;</span> &lt;&lt; endl;</span><br><span class="line">		<span class="comment">//ç»Ÿè®¡å¤§å°</span></span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;d1çš„å¤§å°ä¸ºï¼š&quot;</span> &lt;&lt; d1.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//é‡æ–°æŒ‡å®šå¤§å°</span></span><br><span class="line">	d1.<span class="built_in">resize</span>(<span class="number">15</span>, <span class="number">1</span>);</span><br><span class="line">	<span class="built_in">printDeque</span>(d1);</span><br><span class="line"></span><br><span class="line">	d1.<span class="built_in">resize</span>(<span class="number">5</span>);</span><br><span class="line">	<span class="built_in">printDeque</span>(d1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>dequeæ²¡æœ‰å®¹é‡çš„æ¦‚å¿µ</li>
<li>åˆ¤æ–­æ˜¯å¦ä¸ºç©º â€” empty</li>
<li>è¿”å›å…ƒç´ ä¸ªæ•° â€” size</li>
<li>é‡æ–°æŒ‡å®šä¸ªæ•° â€” resize</li>
</ul>
<h4 id="335-deque-æ’å…¥å’Œåˆ é™¤"><a class="markdownIt-Anchor" href="#335-deque-æ’å…¥å’Œåˆ é™¤"></a> 3.3.5 deque æ’å…¥å’Œåˆ é™¤</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å‘dequeå®¹å™¨ä¸­æ’å…¥å’Œåˆ é™¤æ•°æ®</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<p>ä¸¤ç«¯æ’å…¥æ“ä½œï¼š</p>
<ul>
<li><code>push_back(elem);</code> //åœ¨å®¹å™¨å°¾éƒ¨æ·»åŠ ä¸€ä¸ªæ•°æ®</li>
<li><code>push_front(elem);</code> //åœ¨å®¹å™¨å¤´éƒ¨æ’å…¥ä¸€ä¸ªæ•°æ®</li>
<li><code>pop_back();</code> //åˆ é™¤å®¹å™¨æœ€åä¸€ä¸ªæ•°æ®</li>
<li><code>pop_front();</code> //åˆ é™¤å®¹å™¨ç¬¬ä¸€ä¸ªæ•°æ®</li>
</ul>
<p>æŒ‡å®šä½ç½®æ“ä½œï¼š</p>
<ul>
<li><code>insert(pos,elem);</code> //åœ¨posä½ç½®æ’å…¥ä¸€ä¸ªelemå…ƒç´ çš„æ‹·è´ï¼Œè¿”å›æ–°æ•°æ®çš„ä½ç½®ã€‚</li>
<li><code>insert(pos,n,elem);</code> //åœ¨posä½ç½®æ’å…¥nä¸ªelemæ•°æ®ï¼Œæ— è¿”å›å€¼ã€‚</li>
<li><code>insert(pos,beg,end);</code> //åœ¨posä½ç½®æ’å…¥[beg,end)åŒºé—´çš„æ•°æ®ï¼Œæ— è¿”å›å€¼ã€‚</li>
<li><code>clear();</code> //æ¸…ç©ºå®¹å™¨çš„æ‰€æœ‰æ•°æ®</li>
<li><code>erase(beg,end);</code> //åˆ é™¤[beg,end)åŒºé—´çš„æ•°æ®ï¼Œè¿”å›ä¸‹ä¸€ä¸ªæ•°æ®çš„ä½ç½®ã€‚</li>
<li><code>erase(pos);</code> //åˆ é™¤posä½ç½®çš„æ•°æ®ï¼Œè¿”å›ä¸‹ä¸€ä¸ªæ•°æ®çš„ä½ç½®ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;deque&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printDeque</span><span class="params">(<span class="type">const</span> deque&lt;<span class="type">int</span>&gt;&amp; d)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (deque&lt;<span class="type">int</span>&gt;::const_iterator it = d.<span class="built_in">begin</span>(); it != d.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ä¸¤ç«¯æ“ä½œ</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	deque&lt;<span class="type">int</span>&gt; d;</span><br><span class="line">	<span class="comment">//å°¾æ’</span></span><br><span class="line">	d.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">	d.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">	<span class="comment">//å¤´æ’</span></span><br><span class="line">	d.<span class="built_in">push_front</span>(<span class="number">100</span>);</span><br><span class="line">	d.<span class="built_in">push_front</span>(<span class="number">200</span>);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printDeque</span>(d);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//å°¾åˆ </span></span><br><span class="line">	d.<span class="built_in">pop_back</span>();</span><br><span class="line">	<span class="comment">//å¤´åˆ </span></span><br><span class="line">	d.<span class="built_in">pop_front</span>();</span><br><span class="line">	<span class="built_in">printDeque</span>(d);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ’å…¥</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	deque&lt;<span class="type">int</span>&gt; d;</span><br><span class="line">	d.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">	d.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">	d.<span class="built_in">push_front</span>(<span class="number">100</span>);</span><br><span class="line">	d.<span class="built_in">push_front</span>(<span class="number">200</span>);</span><br><span class="line">	<span class="built_in">printDeque</span>(d);</span><br><span class="line"></span><br><span class="line">	d.<span class="built_in">insert</span>(d.<span class="built_in">begin</span>(), <span class="number">1000</span>);</span><br><span class="line">	<span class="built_in">printDeque</span>(d);</span><br><span class="line"></span><br><span class="line">	d.<span class="built_in">insert</span>(d.<span class="built_in">begin</span>(), <span class="number">2</span>,<span class="number">10000</span>);</span><br><span class="line">	<span class="built_in">printDeque</span>(d);</span><br><span class="line"></span><br><span class="line">	deque&lt;<span class="type">int</span>&gt;d2;</span><br><span class="line">	d2.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">	d2.<span class="built_in">push_back</span>(<span class="number">2</span>);</span><br><span class="line">	d2.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">	d.<span class="built_in">insert</span>(d.<span class="built_in">begin</span>(), d2.<span class="built_in">begin</span>(), d2.<span class="built_in">end</span>());</span><br><span class="line">	<span class="built_in">printDeque</span>(d);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ é™¤</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test03</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	deque&lt;<span class="type">int</span>&gt; d;</span><br><span class="line">	d.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">	d.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">	d.<span class="built_in">push_front</span>(<span class="number">100</span>);</span><br><span class="line">	d.<span class="built_in">push_front</span>(<span class="number">200</span>);</span><br><span class="line">	<span class="built_in">printDeque</span>(d);</span><br><span class="line"></span><br><span class="line">	d.<span class="built_in">erase</span>(d.<span class="built_in">begin</span>());</span><br><span class="line">	<span class="built_in">printDeque</span>(d);</span><br><span class="line"></span><br><span class="line">	d.<span class="built_in">erase</span>(d.<span class="built_in">begin</span>(), d.<span class="built_in">end</span>());</span><br><span class="line">	d.<span class="built_in">clear</span>();</span><br><span class="line">	<span class="built_in">printDeque</span>(d);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//test01();</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//test02();</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">test03</span>();</span><br><span class="line">  </span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>æ’å…¥å’Œåˆ é™¤æä¾›çš„ä½ç½®æ˜¯è¿­ä»£å™¨ï¼</li>
<li>å°¾æ’ â€” push_back</li>
<li>å°¾åˆ  â€” pop_back</li>
<li>å¤´æ’ â€” push_front</li>
<li>å¤´åˆ  â€” pop_front</li>
</ul>
<h4 id="336-deque-æ•°æ®å­˜å–"><a class="markdownIt-Anchor" href="#336-deque-æ•°æ®å­˜å–"></a> 3.3.6 deque æ•°æ®å­˜å–</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å¯¹deque ä¸­çš„æ•°æ®çš„å­˜å–æ“ä½œ</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>at(int idx);</code> //è¿”å›ç´¢å¼•idxæ‰€æŒ‡çš„æ•°æ®</li>
<li><code>operator[];</code> //è¿”å›ç´¢å¼•idxæ‰€æŒ‡çš„æ•°æ®</li>
<li><code>front();</code> //è¿”å›å®¹å™¨ä¸­ç¬¬ä¸€ä¸ªæ•°æ®å…ƒç´ </li>
<li><code>back();</code> //è¿”å›å®¹å™¨ä¸­æœ€åä¸€ä¸ªæ•°æ®å…ƒç´ </li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;deque&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printDeque</span><span class="params">(<span class="type">const</span> deque&lt;<span class="type">int</span>&gt;&amp; d)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (deque&lt;<span class="type">int</span>&gt;::const_iterator it = d.<span class="built_in">begin</span>(); it != d.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ•°æ®å­˜å–</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	deque&lt;<span class="type">int</span>&gt; d;</span><br><span class="line">	d.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">	d.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">	d.<span class="built_in">push_front</span>(<span class="number">100</span>);</span><br><span class="line">	d.<span class="built_in">push_front</span>(<span class="number">200</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; d.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">		cout &lt;&lt; d[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; d.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">		cout &lt;&lt; d.<span class="built_in">at</span>(i) &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;front:&quot;</span> &lt;&lt; d.<span class="built_in">front</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;back:&quot;</span> &lt;&lt; d.<span class="built_in">back</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>é™¤äº†ç”¨è¿­ä»£å™¨è·å–dequeå®¹å™¨ä¸­å…ƒç´ ï¼Œ[ ]å’Œatä¹Ÿå¯ä»¥</li>
<li>frontè¿”å›å®¹å™¨ç¬¬ä¸€ä¸ªå…ƒç´ </li>
<li>backè¿”å›å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ </li>
</ul>
<h4 id="337-deque-æ’åº"><a class="markdownIt-Anchor" href="#337-deque-æ’åº"></a> 3.3.7 deque æ’åº</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>åˆ©ç”¨ç®—æ³•å®ç°å¯¹dequeå®¹å™¨è¿›è¡Œæ’åº</li>
</ul>
<p><strong>ç®—æ³•ï¼š</strong></p>
<ul>
<li><code>sort(iterator beg, iterator end)</code> //å¯¹begå’ŒendåŒºé—´å†…å…ƒç´ è¿›è¡Œæ’åº</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printDeque</span><span class="params">(<span class="type">const</span> deque&lt;<span class="type">int</span>&gt;&amp; d)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (deque&lt;<span class="type">int</span>&gt;::const_iterator it = d.<span class="built_in">begin</span>(); it != d.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	deque&lt;<span class="type">int</span>&gt; d;</span><br><span class="line">	d.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">	d.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">	d.<span class="built_in">push_front</span>(<span class="number">100</span>);</span><br><span class="line">	d.<span class="built_in">push_front</span>(<span class="number">200</span>);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printDeque</span>(d);</span><br><span class="line">	<span class="built_in">sort</span>(d.<span class="built_in">begin</span>(), d.<span class="built_in">end</span>());</span><br><span class="line">	<span class="built_in">printDeque</span>(d);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šsortç®—æ³•éå¸¸å®ç”¨ï¼Œä½¿ç”¨æ—¶åŒ…å«å¤´æ–‡ä»¶ algorithmå³å¯</p>
<h3 id="34-æ¡ˆä¾‹-è¯„å§”æ‰“åˆ†"><a class="markdownIt-Anchor" href="#34-æ¡ˆä¾‹-è¯„å§”æ‰“åˆ†"></a> 3.4 æ¡ˆä¾‹-è¯„å§”æ‰“åˆ†</h3>
<h4 id="341-æ¡ˆä¾‹æè¿°"><a class="markdownIt-Anchor" href="#341-æ¡ˆä¾‹æè¿°"></a> 3.4.1 æ¡ˆä¾‹æè¿°</h4>
<p>æœ‰5åé€‰æ‰‹ï¼šé€‰æ‰‹ABCDEï¼Œ10ä¸ªè¯„å§”åˆ†åˆ«å¯¹æ¯ä¸€åé€‰æ‰‹æ‰“åˆ†ï¼Œå»é™¤æœ€é«˜åˆ†ï¼Œå»é™¤è¯„å§”ä¸­æœ€ä½åˆ†ï¼Œå–å¹³å‡åˆ†ã€‚</p>
<h4 id="342-å®ç°æ­¥éª¤"><a class="markdownIt-Anchor" href="#342-å®ç°æ­¥éª¤"></a> 3.4.2 å®ç°æ­¥éª¤</h4>
<ol>
<li>åˆ›å»ºäº”åé€‰æ‰‹ï¼Œæ”¾åˆ°vectorä¸­</li>
<li>éå†vectorå®¹å™¨ï¼Œå–å‡ºæ¥æ¯ä¸€ä¸ªé€‰æ‰‹ï¼Œæ‰§è¡Œforå¾ªç¯ï¼Œå¯ä»¥æŠŠ10ä¸ªè¯„åˆ†æ‰“åˆ†å­˜åˆ°dequeå®¹å™¨ä¸­</li>
<li>sortç®—æ³•å¯¹dequeå®¹å™¨ä¸­åˆ†æ•°æ’åºï¼Œå»é™¤æœ€é«˜å’Œæœ€ä½åˆ†</li>
<li>dequeå®¹å™¨éå†ä¸€éï¼Œç´¯åŠ æ€»åˆ†</li>
<li>è·å–å¹³å‡åˆ†</li>
</ol>
<p><strong>ç¤ºä¾‹ä»£ç ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//é€‰æ‰‹ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Person</span>(string name, <span class="type">int</span> score)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Score = score;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	string m_Name; <span class="comment">//å§“å</span></span><br><span class="line">	<span class="type">int</span> m_Score;  <span class="comment">//å¹³å‡åˆ†</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">createPerson</span><span class="params">(vector&lt;Person&gt;&amp;v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	string nameSeed = <span class="string">&quot;ABCDE&quot;</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		string name = <span class="string">&quot;é€‰æ‰‹&quot;</span>;</span><br><span class="line">		name += nameSeed[i];</span><br><span class="line"></span><br><span class="line">		<span class="type">int</span> score = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="function">Person <span class="title">p</span><span class="params">(name, score)</span></span>;</span><br><span class="line"></span><br><span class="line">		<span class="comment">//å°†åˆ›å»ºçš„personå¯¹è±¡ æ”¾å…¥åˆ°å®¹å™¨ä¸­</span></span><br><span class="line">		v.<span class="built_in">push_back</span>(p);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰“åˆ†</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setScore</span><span class="params">(vector&lt;Person&gt;&amp;v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (vector&lt;Person&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//å°†è¯„å§”çš„åˆ†æ•° æ”¾å…¥åˆ°dequeå®¹å™¨ä¸­</span></span><br><span class="line">		deque&lt;<span class="type">int</span>&gt;d;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="type">int</span> score = <span class="built_in">rand</span>() % <span class="number">41</span> + <span class="number">60</span>;  <span class="comment">// 60 ~ 100</span></span><br><span class="line">			d.<span class="built_in">push_back</span>(score);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">//cout &lt;&lt; &quot;é€‰æ‰‹ï¼š &quot; &lt;&lt; it-&gt;m_Name &lt;&lt; &quot; æ‰“åˆ†ï¼š &quot; &lt;&lt; endl;</span></span><br><span class="line">		<span class="comment">//for (deque&lt;int&gt;::iterator dit = d.begin(); dit != d.end(); dit++)</span></span><br><span class="line">		<span class="comment">//&#123;</span></span><br><span class="line">		<span class="comment">//	cout &lt;&lt; *dit &lt;&lt; &quot; &quot;;</span></span><br><span class="line">		<span class="comment">//&#125;</span></span><br><span class="line">		<span class="comment">//cout &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">//æ’åº</span></span><br><span class="line">		<span class="built_in">sort</span>(d.<span class="built_in">begin</span>(), d.<span class="built_in">end</span>());</span><br><span class="line"></span><br><span class="line">		<span class="comment">//å»é™¤æœ€é«˜å’Œæœ€ä½åˆ†</span></span><br><span class="line">		d.<span class="built_in">pop_back</span>();</span><br><span class="line">		d.<span class="built_in">pop_front</span>();</span><br><span class="line"></span><br><span class="line">		<span class="comment">//å–å¹³å‡åˆ†</span></span><br><span class="line">		<span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (deque&lt;<span class="type">int</span>&gt;::iterator dit = d.<span class="built_in">begin</span>(); dit != d.<span class="built_in">end</span>(); dit++)</span><br><span class="line">		&#123;</span><br><span class="line">			sum += *dit; <span class="comment">//ç´¯åŠ æ¯ä¸ªè¯„å§”çš„åˆ†æ•°</span></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="type">int</span> avg = sum / d.<span class="built_in">size</span>();</span><br><span class="line"></span><br><span class="line">		<span class="comment">//å°†å¹³å‡åˆ† èµ‹å€¼ç»™é€‰æ‰‹èº«ä¸Š</span></span><br><span class="line">		it-&gt;m_Score = avg;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">showScore</span><span class="params">(vector&lt;Person&gt;&amp;v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (vector&lt;Person&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;å§“åï¼š &quot;</span> &lt;&lt; it-&gt;m_Name &lt;&lt; <span class="string">&quot; å¹³å‡åˆ†ï¼š &quot;</span> &lt;&lt; it-&gt;m_Score &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//éšæœºæ•°ç§å­</span></span><br><span class="line">	<span class="built_in">srand</span>((<span class="type">unsigned</span> <span class="type">int</span>)<span class="built_in">time</span>(<span class="literal">NULL</span>));</span><br><span class="line"></span><br><span class="line">	<span class="comment">//1ã€åˆ›å»º5åé€‰æ‰‹</span></span><br><span class="line">	vector&lt;Person&gt;v;  <span class="comment">//å­˜æ”¾é€‰æ‰‹å®¹å™¨</span></span><br><span class="line">	<span class="built_in">createPerson</span>(v);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//æµ‹è¯•</span></span><br><span class="line">	<span class="comment">//for (vector&lt;Person&gt;::iterator it = v.begin(); it != v.end(); it++)</span></span><br><span class="line">	<span class="comment">//&#123;</span></span><br><span class="line">	<span class="comment">//	cout &lt;&lt; &quot;å§“åï¼š &quot; &lt;&lt; (*it).m_Name &lt;&lt; &quot; åˆ†æ•°ï¼š &quot; &lt;&lt; (*it).m_Score &lt;&lt; endl;</span></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//2ã€ç»™5åé€‰æ‰‹æ‰“åˆ†</span></span><br><span class="line">	<span class="built_in">setScore</span>(v);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//3ã€æ˜¾ç¤ºæœ€åå¾—åˆ†</span></span><br><span class="line">	<span class="built_in">showScore</span>(v);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ€»ç»“ï¼š</strong> é€‰å–ä¸åŒçš„å®¹å™¨æ“ä½œæ•°æ®ï¼Œå¯ä»¥æå‡ä»£ç çš„æ•ˆç‡</p>
<h3 id="35-stackå®¹å™¨"><a class="markdownIt-Anchor" href="#35-stackå®¹å™¨"></a> 3.5 stackå®¹å™¨</h3>
<h4 id="351-stack-åŸºæœ¬æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#351-stack-åŸºæœ¬æ¦‚å¿µ"></a> 3.5.1 stack åŸºæœ¬æ¦‚å¿µ</h4>
<p><strong>æ¦‚å¿µï¼š<strong>stackæ˜¯ä¸€ç§</strong>å…ˆè¿›åå‡º</strong> (First In Last Out,FILO)çš„æ•°æ®ç»“æ„ï¼Œå®ƒåªæœ‰ä¸€ä¸ªå‡ºå£</p>
<p>æ ˆä¸­åªæœ‰é¡¶ç«¯çš„å…ƒç´ æ‰å¯ä»¥è¢«å¤–ç•Œä½¿ç”¨ï¼Œå› æ­¤æ ˆä¸å…è®¸æœ‰éå†è¡Œä¸º</p>
<p>æ ˆä¸­è¿›å…¥æ•°æ®ç§°ä¸º â€” <strong>å…¥æ ˆ</strong> <code>push</code></p>
<p>æ ˆä¸­å¼¹å‡ºæ•°æ®ç§°ä¸º â€” <strong>å‡ºæ ˆ</strong> <code>pop</code></p>
<h4 id="352-stack-å¸¸ç”¨æ¥å£"><a class="markdownIt-Anchor" href="#352-stack-å¸¸ç”¨æ¥å£"></a> 3.5.2 stack å¸¸ç”¨æ¥å£</h4>
<p>åŠŸèƒ½æè¿°ï¼šæ ˆå®¹å™¨å¸¸ç”¨çš„å¯¹å¤–æ¥å£</p>
<p>æ„é€ å‡½æ•°ï¼š</p>
<ul>
<li><code>stack&lt;T&gt; stk;</code> //stacké‡‡ç”¨æ¨¡æ¿ç±»å®ç°ï¼Œ stackå¯¹è±¡çš„é»˜è®¤æ„é€ å½¢å¼</li>
<li><code>stack(const stack &amp;stk);</code> //æ‹·è´æ„é€ å‡½æ•°</li>
</ul>
<p>èµ‹å€¼æ“ä½œï¼š</p>
<ul>
<li><code>stack&amp; operator=(const stack &amp;stk);</code> //é‡è½½ç­‰å·æ“ä½œç¬¦</li>
</ul>
<p>æ•°æ®å­˜å–ï¼š</p>
<ul>
<li><code>push(elem);</code> //å‘æ ˆé¡¶æ·»åŠ å…ƒç´ </li>
<li><code>pop();</code> //ä»æ ˆé¡¶ç§»é™¤ç¬¬ä¸€ä¸ªå…ƒç´ </li>
<li><code>top();</code> //è¿”å›æ ˆé¡¶å…ƒç´ </li>
</ul>
<p>å¤§å°æ“ä½œï¼š</p>
<ul>
<li><code>empty();</code> //åˆ¤æ–­å †æ ˆæ˜¯å¦ä¸ºç©º</li>
<li><code>size();</code> //è¿”å›æ ˆçš„å¤§å°</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ ˆå®¹å™¨å¸¸ç”¨æ¥å£</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//åˆ›å»ºæ ˆå®¹å™¨ æ ˆå®¹å™¨å¿…é¡»ç¬¦åˆå…ˆè¿›åå‡º</span></span><br><span class="line">	stack&lt;<span class="type">int</span>&gt; s;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//å‘æ ˆä¸­æ·»åŠ å…ƒç´ ï¼Œå«åš å‹æ ˆ å…¥æ ˆ</span></span><br><span class="line">	s.<span class="built_in">push</span>(<span class="number">10</span>);</span><br><span class="line">	s.<span class="built_in">push</span>(<span class="number">20</span>);</span><br><span class="line">	s.<span class="built_in">push</span>(<span class="number">30</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (!s.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">		<span class="comment">//è¾“å‡ºæ ˆé¡¶å…ƒç´ </span></span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;æ ˆé¡¶å…ƒç´ ä¸ºï¼š &quot;</span> &lt;&lt; s.<span class="built_in">top</span>() &lt;&lt; endl;</span><br><span class="line">		<span class="comment">//å¼¹å‡ºæ ˆé¡¶å…ƒç´ </span></span><br><span class="line">		s.<span class="built_in">pop</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;æ ˆçš„å¤§å°ä¸ºï¼š&quot;</span> &lt;&lt; s.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>å…¥æ ˆ â€” push</li>
<li>å‡ºæ ˆ â€” pop</li>
<li>è¿”å›æ ˆé¡¶ â€” top</li>
<li>åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º â€” empty</li>
<li>è¿”å›æ ˆå¤§å° â€” size</li>
</ul>
<h3 id="36-queue-å®¹å™¨"><a class="markdownIt-Anchor" href="#36-queue-å®¹å™¨"></a> 3.6 queue å®¹å™¨</h3>
<h4 id="361-queue-åŸºæœ¬æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#361-queue-åŸºæœ¬æ¦‚å¿µ"></a> 3.6.1 queue åŸºæœ¬æ¦‚å¿µ</h4>
<p><strong>æ¦‚å¿µï¼š<strong>Queueæ˜¯ä¸€ç§</strong>å…ˆè¿›å…ˆå‡º</strong> (First In First Out,FIFO)çš„æ•°æ®ç»“æ„ï¼Œå®ƒæœ‰ä¸¤ä¸ªå‡ºå£</p>
<p>é˜Ÿåˆ—å®¹å™¨å…è®¸ä»ä¸€ç«¯æ–°å¢å…ƒç´ ï¼Œä»å¦ä¸€ç«¯ç§»é™¤å…ƒç´ </p>
<p>é˜Ÿåˆ—ä¸­åªæœ‰é˜Ÿå¤´å’Œé˜Ÿå°¾æ‰å¯ä»¥è¢«å¤–ç•Œä½¿ç”¨ï¼Œå› æ­¤é˜Ÿåˆ—ä¸å…è®¸æœ‰éå†è¡Œä¸º</p>
<p>é˜Ÿåˆ—ä¸­è¿›æ•°æ®ç§°ä¸º â€” <strong>å…¥é˜Ÿ</strong> <code>push</code></p>
<p>é˜Ÿåˆ—ä¸­å‡ºæ•°æ®ç§°ä¸º â€” <strong>å‡ºé˜Ÿ</strong> <code>pop</code></p>
<h4 id="362-queue-å¸¸ç”¨æ¥å£"><a class="markdownIt-Anchor" href="#362-queue-å¸¸ç”¨æ¥å£"></a> 3.6.2 queue å¸¸ç”¨æ¥å£</h4>
<p>åŠŸèƒ½æè¿°ï¼šæ ˆå®¹å™¨å¸¸ç”¨çš„å¯¹å¤–æ¥å£</p>
<p>æ„é€ å‡½æ•°ï¼š</p>
<ul>
<li><code>queue&lt;T&gt; que;</code> //queueé‡‡ç”¨æ¨¡æ¿ç±»å®ç°ï¼Œqueueå¯¹è±¡çš„é»˜è®¤æ„é€ å½¢å¼</li>
<li><code>queue(const queue &amp;que);</code> //æ‹·è´æ„é€ å‡½æ•°</li>
</ul>
<p>èµ‹å€¼æ“ä½œï¼š</p>
<ul>
<li><code>queue&amp; operator=(const queue &amp;que);</code> //é‡è½½ç­‰å·æ“ä½œç¬¦</li>
</ul>
<p>æ•°æ®å­˜å–ï¼š</p>
<ul>
<li><code>push(elem);</code> //å¾€é˜Ÿå°¾æ·»åŠ å…ƒç´ </li>
<li><code>pop();</code> //ä»é˜Ÿå¤´ç§»é™¤ç¬¬ä¸€ä¸ªå…ƒç´ </li>
<li><code>back();</code> //è¿”å›æœ€åä¸€ä¸ªå…ƒç´ </li>
<li><code>front();</code> //è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ </li>
</ul>
<p>å¤§å°æ“ä½œï¼š</p>
<ul>
<li><code>empty();</code> //åˆ¤æ–­å †æ ˆæ˜¯å¦ä¸ºç©º</li>
<li><code>size();</code> //è¿”å›æ ˆçš„å¤§å°</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Person</span>(string name, <span class="type">int</span> age)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Age = age;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	string m_Name;</span><br><span class="line">	<span class="type">int</span> m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//åˆ›å»ºé˜Ÿåˆ—</span></span><br><span class="line">	queue&lt;Person&gt; q;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//å‡†å¤‡æ•°æ®</span></span><br><span class="line">	<span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">&quot;å”åƒ§&quot;</span>, <span class="number">30</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">&quot;å­™æ‚Ÿç©º&quot;</span>, <span class="number">1000</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p3</span><span class="params">(<span class="string">&quot;çŒªå…«æˆ’&quot;</span>, <span class="number">900</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p4</span><span class="params">(<span class="string">&quot;æ²™åƒ§&quot;</span>, <span class="number">800</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//å‘é˜Ÿåˆ—ä¸­æ·»åŠ å…ƒç´   å…¥é˜Ÿæ“ä½œ</span></span><br><span class="line">	q.<span class="built_in">push</span>(p1);</span><br><span class="line">	q.<span class="built_in">push</span>(p2);</span><br><span class="line">	q.<span class="built_in">push</span>(p3);</span><br><span class="line">	q.<span class="built_in">push</span>(p4);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//é˜Ÿåˆ—ä¸æä¾›è¿­ä»£å™¨ï¼Œæ›´ä¸æ”¯æŒéšæœºè®¿é—®</span></span><br><span class="line">	<span class="keyword">while</span> (!q.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">		<span class="comment">//è¾“å‡ºé˜Ÿå¤´å…ƒç´ </span></span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;é˜Ÿå¤´å…ƒç´ -- å§“åï¼š &quot;</span> &lt;&lt; q.<span class="built_in">front</span>().m_Name </span><br><span class="line">              &lt;&lt; <span class="string">&quot; å¹´é¾„ï¼š &quot;</span>&lt;&lt; q.<span class="built_in">front</span>().m_Age &lt;&lt; endl;</span><br><span class="line">      </span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;é˜Ÿå°¾å…ƒç´ -- å§“åï¼š &quot;</span> &lt;&lt; q.<span class="built_in">back</span>().m_Name  </span><br><span class="line">              &lt;&lt; <span class="string">&quot; å¹´é¾„ï¼š &quot;</span> &lt;&lt; q.<span class="built_in">back</span>().m_Age &lt;&lt; endl;</span><br><span class="line">      </span><br><span class="line">		cout &lt;&lt; endl;</span><br><span class="line">		<span class="comment">//å¼¹å‡ºé˜Ÿå¤´å…ƒç´ </span></span><br><span class="line">		q.<span class="built_in">pop</span>();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;é˜Ÿåˆ—å¤§å°ä¸ºï¼š&quot;</span> &lt;&lt; q.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>å…¥é˜Ÿ â€” push</li>
<li>å‡ºé˜Ÿ â€” pop</li>
<li>è¿”å›é˜Ÿå¤´å…ƒç´  â€” front</li>
<li>è¿”å›é˜Ÿå°¾å…ƒç´  â€” back</li>
<li>åˆ¤æ–­é˜Ÿæ˜¯å¦ä¸ºç©º â€” empty</li>
<li>è¿”å›é˜Ÿåˆ—å¤§å° â€” size</li>
</ul>
<h3 id="37-listå®¹å™¨"><a class="markdownIt-Anchor" href="#37-listå®¹å™¨"></a> 3.7 listå®¹å™¨</h3>
<h4 id="371-liståŸºæœ¬æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#371-liståŸºæœ¬æ¦‚å¿µ"></a> 3.7.1 liståŸºæœ¬æ¦‚å¿µ</h4>
<p>**åŠŸèƒ½ï¼š**å°†æ•°æ®è¿›è¡Œé“¾å¼å­˜å‚¨</p>
<p><strong>é“¾è¡¨</strong> ï¼ˆlistï¼‰æ˜¯ä¸€ç§ç‰©ç†å­˜å‚¨å•å…ƒä¸Šéè¿ç»­çš„å­˜å‚¨ç»“æ„ï¼Œæ•°æ®å…ƒç´ çš„é€»è¾‘é¡ºåºæ˜¯é€šè¿‡é“¾è¡¨ä¸­çš„æŒ‡é’ˆé“¾æ¥å®ç°çš„</p>
<p>é“¾è¡¨çš„ç»„æˆï¼šé“¾è¡¨ç”±ä¸€ç³»åˆ—<strong>ç»“ç‚¹</strong>ç»„æˆ</p>
<p>ç»“ç‚¹çš„ç»„æˆï¼šä¸€ä¸ªæ˜¯å­˜å‚¨æ•°æ®å…ƒç´ çš„ <strong>æ•°æ®åŸŸ</strong> ï¼Œå¦ä¸€ä¸ªæ˜¯å­˜å‚¨ä¸‹ä¸€ä¸ªç»“ç‚¹åœ°å€çš„<strong>æŒ‡é’ˆåŸŸ</strong></p>
<p>STLä¸­çš„é“¾è¡¨æ˜¯ä¸€ä¸ªåŒå‘å¾ªç¯é“¾è¡¨</p>
<p>ç”±äºé“¾è¡¨çš„å­˜å‚¨æ–¹å¼å¹¶ä¸æ˜¯è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œå› æ­¤é“¾è¡¨listä¸­çš„è¿­ä»£å™¨åªæ”¯æŒå‰ç§»å’Œåç§»ï¼Œå±äº<strong>åŒå‘è¿­ä»£å™¨</strong></p>
<p>listçš„ä¼˜ç‚¹ï¼š</p>
<ul>
<li>é‡‡ç”¨åŠ¨æ€å­˜å‚¨åˆ†é…ï¼Œä¸ä¼šé€ æˆå†…å­˜æµªè´¹å’Œæº¢å‡º</li>
<li>é“¾è¡¨æ‰§è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œååˆ†æ–¹ä¾¿ï¼Œä¿®æ”¹æŒ‡é’ˆå³å¯ï¼Œä¸éœ€è¦ç§»åŠ¨å¤§é‡å…ƒç´ </li>
</ul>
<p>listçš„ç¼ºç‚¹ï¼š</p>
<ul>
<li>é“¾è¡¨çµæ´»ï¼Œä½†æ˜¯ç©ºé—´(æŒ‡é’ˆåŸŸ) å’Œ æ—¶é—´ï¼ˆéå†ï¼‰é¢å¤–è€—è´¹è¾ƒå¤§</li>
</ul>
<p>Listæœ‰ä¸€ä¸ªé‡è¦çš„æ€§è´¨ï¼Œæ’å…¥æ“ä½œå’Œåˆ é™¤æ“ä½œéƒ½ä¸ä¼šé€ æˆåŸæœ‰listè¿­ä»£å™¨çš„å¤±æ•ˆï¼Œè¿™åœ¨vectoræ˜¯ä¸æˆç«‹çš„ã€‚</p>
<p>æ€»ç»“ï¼šSTLä¸­ <strong>Listå’Œvectoræ˜¯ä¸¤ä¸ªæœ€å¸¸è¢«ä½¿ç”¨çš„å®¹å™¨</strong> ï¼Œå„æœ‰ä¼˜ç¼ºç‚¹</p>
<h4 id="372-listæ„é€ å‡½æ•°"><a class="markdownIt-Anchor" href="#372-listæ„é€ å‡½æ•°"></a> 3.7.2 listæ„é€ å‡½æ•°</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>åˆ›å»ºlistå®¹å™¨</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>list&lt;T&gt; lst;</code> //listé‡‡ç”¨é‡‡ç”¨æ¨¡æ¿ç±»å®ç°,å¯¹è±¡çš„é»˜è®¤æ„é€ å½¢å¼ï¼š</li>
<li><code>list(beg,end);</code> //æ„é€ å‡½æ•°å°†[beg, end)åŒºé—´ä¸­çš„å…ƒç´ æ‹·è´ç»™æœ¬èº«ã€‚</li>
<li><code>list(n,elem);</code> //æ„é€ å‡½æ•°å°†nä¸ªelemæ‹·è´ç»™æœ¬èº«ã€‚</li>
<li><code>list(const list &amp;lst);</code> //æ‹·è´æ„é€ å‡½æ•°ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printList</span><span class="params">(<span class="type">const</span> list&lt;<span class="type">int</span>&gt;&amp; L)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (list&lt;<span class="type">int</span>&gt;::const_iterator it = L.<span class="built_in">begin</span>(); it != L.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	list&lt;<span class="type">int</span>&gt;L1;</span><br><span class="line">	L1.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">	L1.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">	L1.<span class="built_in">push_back</span>(<span class="number">30</span>);</span><br><span class="line">	L1.<span class="built_in">push_back</span>(<span class="number">40</span>);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printList</span>(L1);</span><br><span class="line"></span><br><span class="line">	list&lt;<span class="type">int</span>&gt;<span class="built_in">L2</span>(L1.<span class="built_in">begin</span>(),L1.<span class="built_in">end</span>());</span><br><span class="line">	<span class="built_in">printList</span>(L2);</span><br><span class="line"></span><br><span class="line">	list&lt;<span class="type">int</span>&gt;<span class="built_in">L3</span>(L2);</span><br><span class="line">	<span class="built_in">printList</span>(L3);</span><br><span class="line"></span><br><span class="line">	list&lt;<span class="type">int</span>&gt;<span class="built_in">L4</span>(<span class="number">10</span>, <span class="number">1000</span>);</span><br><span class="line">	<span class="built_in">printList</span>(L4);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šlistæ„é€ æ–¹å¼åŒå…¶ä»–å‡ ä¸ªSTLå¸¸ç”¨å®¹å™¨ï¼Œç†Ÿç»ƒæŒæ¡å³å¯</p>
<h4 id="373-list-èµ‹å€¼å’Œäº¤æ¢"><a class="markdownIt-Anchor" href="#373-list-èµ‹å€¼å’Œäº¤æ¢"></a> 3.7.3 list èµ‹å€¼å’Œäº¤æ¢</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>ç»™listå®¹å™¨è¿›è¡Œèµ‹å€¼ï¼Œä»¥åŠäº¤æ¢listå®¹å™¨</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>assign(beg, end);</code> //å°†[beg, end)åŒºé—´ä¸­çš„æ•°æ®æ‹·è´èµ‹å€¼ç»™æœ¬èº«ã€‚</li>
<li><code>assign(n, elem);</code> //å°†nä¸ªelemæ‹·è´èµ‹å€¼ç»™æœ¬èº«ã€‚</li>
<li><code>list&amp; operator=(const list &amp;lst);</code> //é‡è½½ç­‰å·æ“ä½œç¬¦</li>
<li><code>swap(lst);</code> //å°†lstä¸æœ¬èº«çš„å…ƒç´ äº’æ¢ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printList</span><span class="params">(<span class="type">const</span> list&lt;<span class="type">int</span>&gt;&amp; L)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (list&lt;<span class="type">int</span>&gt;::const_iterator it = L.<span class="built_in">begin</span>(); it != L.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//èµ‹å€¼å’Œäº¤æ¢</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	list&lt;<span class="type">int</span>&gt;L1;</span><br><span class="line">	L1.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">	L1.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">	L1.<span class="built_in">push_back</span>(<span class="number">30</span>);</span><br><span class="line">	L1.<span class="built_in">push_back</span>(<span class="number">40</span>);</span><br><span class="line">	<span class="built_in">printList</span>(L1);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//èµ‹å€¼</span></span><br><span class="line">	list&lt;<span class="type">int</span>&gt;L2;</span><br><span class="line">	L2 = L1;</span><br><span class="line">	<span class="built_in">printList</span>(L2);</span><br><span class="line"></span><br><span class="line">	list&lt;<span class="type">int</span>&gt;L3;</span><br><span class="line">	L3.<span class="built_in">assign</span>(L2.<span class="built_in">begin</span>(), L2.<span class="built_in">end</span>());</span><br><span class="line">	<span class="built_in">printList</span>(L3);</span><br><span class="line"></span><br><span class="line">	list&lt;<span class="type">int</span>&gt;L4;</span><br><span class="line">	L4.<span class="built_in">assign</span>(<span class="number">10</span>, <span class="number">100</span>);</span><br><span class="line">	<span class="built_in">printList</span>(L4);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//äº¤æ¢</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	list&lt;<span class="type">int</span>&gt;L1;</span><br><span class="line">	L1.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">	L1.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">	L1.<span class="built_in">push_back</span>(<span class="number">30</span>);</span><br><span class="line">	L1.<span class="built_in">push_back</span>(<span class="number">40</span>);</span><br><span class="line"></span><br><span class="line">	list&lt;<span class="type">int</span>&gt;L2;</span><br><span class="line">	L2.<span class="built_in">assign</span>(<span class="number">10</span>, <span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;äº¤æ¢å‰ï¼š &quot;</span> &lt;&lt; endl;</span><br><span class="line">	<span class="built_in">printList</span>(L1);</span><br><span class="line">	<span class="built_in">printList</span>(L2);</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	L1.<span class="built_in">swap</span>(L2);</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;äº¤æ¢åï¼š &quot;</span> &lt;&lt; endl;</span><br><span class="line">	<span class="built_in">printList</span>(L1);</span><br><span class="line">	<span class="built_in">printList</span>(L2);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//test01();</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">test02</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šlistèµ‹å€¼å’Œäº¤æ¢æ“ä½œèƒ½å¤Ÿçµæ´»è¿ç”¨å³å¯</p>
<h4 id="374-list-å¤§å°æ“ä½œ"><a class="markdownIt-Anchor" href="#374-list-å¤§å°æ“ä½œ"></a> 3.7.4 list å¤§å°æ“ä½œ</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å¯¹listå®¹å™¨çš„å¤§å°è¿›è¡Œæ“ä½œ</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li>
<p><code>size();</code> //è¿”å›å®¹å™¨ä¸­å…ƒç´ çš„ä¸ªæ•°</p>
</li>
<li>
<p><code>empty();</code> //åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©º</p>
</li>
<li>
<p><code>resize(num);</code> //é‡æ–°æŒ‡å®šå®¹å™¨çš„é•¿åº¦ä¸ºnumï¼Œè‹¥å®¹å™¨å˜é•¿ï¼Œåˆ™ä»¥é»˜è®¤å€¼å¡«å……æ–°ä½ç½®ã€‚<br />
//å¦‚æœå®¹å™¨å˜çŸ­ï¼Œåˆ™æœ«å°¾è¶…å‡ºå®¹å™¨é•¿åº¦çš„å…ƒç´ è¢«åˆ é™¤ã€‚</p>
</li>
<li>
<p><code>resize(num, elem);</code> //é‡æ–°æŒ‡å®šå®¹å™¨çš„é•¿åº¦ä¸ºnumï¼Œè‹¥å®¹å™¨å˜é•¿ï¼Œåˆ™ä»¥elemå€¼å¡«å……æ–°ä½ç½®ã€‚</p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å¦‚æœå®¹å™¨å˜çŸ­ï¼Œåˆ™æœ«å°¾è¶…å‡ºå®¹å™¨é•¿åº¦çš„å…ƒç´ è¢«åˆ é™¤ã€‚</span></span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printList</span><span class="params">(<span class="type">const</span> list&lt;<span class="type">int</span>&gt;&amp; L)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (list&lt;<span class="type">int</span>&gt;::const_iterator it = L.<span class="built_in">begin</span>(); it != L.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¤§å°æ“ä½œ</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	list&lt;<span class="type">int</span>&gt;L1;</span><br><span class="line">	L1.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">	L1.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">	L1.<span class="built_in">push_back</span>(<span class="number">30</span>);</span><br><span class="line">	L1.<span class="built_in">push_back</span>(<span class="number">40</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (L1.<span class="built_in">empty</span>())</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;L1ä¸ºç©º&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;L1ä¸ä¸ºç©º&quot;</span> &lt;&lt; endl;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;L1çš„å¤§å°ä¸ºï¼š &quot;</span> &lt;&lt; L1.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//é‡æ–°æŒ‡å®šå¤§å°</span></span><br><span class="line">	L1.<span class="built_in">resize</span>(<span class="number">10</span>);</span><br><span class="line">	<span class="built_in">printList</span>(L1);</span><br><span class="line"></span><br><span class="line">	L1.<span class="built_in">resize</span>(<span class="number">2</span>);</span><br><span class="line">	<span class="built_in">printList</span>(L1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>åˆ¤æ–­æ˜¯å¦ä¸ºç©º â€” empty</li>
<li>è¿”å›å…ƒç´ ä¸ªæ•° â€” size</li>
<li>é‡æ–°æŒ‡å®šä¸ªæ•° â€” resize</li>
</ul>
<h4 id="375-list-æ’å…¥å’Œåˆ é™¤"><a class="markdownIt-Anchor" href="#375-list-æ’å…¥å’Œåˆ é™¤"></a> 3.7.5 list æ’å…¥å’Œåˆ é™¤</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å¯¹listå®¹å™¨è¿›è¡Œæ•°æ®çš„æ’å…¥å’Œåˆ é™¤</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li>push_back(elem);//åœ¨å®¹å™¨å°¾éƒ¨åŠ å…¥ä¸€ä¸ªå…ƒç´ </li>
<li>pop_back();//åˆ é™¤å®¹å™¨ä¸­æœ€åä¸€ä¸ªå…ƒç´ </li>
<li>push_front(elem);//åœ¨å®¹å™¨å¼€å¤´æ’å…¥ä¸€ä¸ªå…ƒç´ </li>
<li>pop_front();//ä»å®¹å™¨å¼€å¤´ç§»é™¤ç¬¬ä¸€ä¸ªå…ƒç´ </li>
<li>insert(pos,elem);//åœ¨posä½ç½®æ’elemå…ƒç´ çš„æ‹·è´ï¼Œè¿”å›æ–°æ•°æ®çš„ä½ç½®ã€‚</li>
<li>insert(pos,n,elem);//åœ¨posä½ç½®æ’å…¥nä¸ªelemæ•°æ®ï¼Œæ— è¿”å›å€¼ã€‚</li>
<li>insert(pos,beg,end);//åœ¨posä½ç½®æ’å…¥[beg,end)åŒºé—´çš„æ•°æ®ï¼Œæ— è¿”å›å€¼ã€‚</li>
<li>clear();//ç§»é™¤å®¹å™¨çš„æ‰€æœ‰æ•°æ®</li>
<li>erase(beg,end);//åˆ é™¤[beg,end)åŒºé—´çš„æ•°æ®ï¼Œè¿”å›ä¸‹ä¸€ä¸ªæ•°æ®çš„ä½ç½®ã€‚</li>
<li>erase(pos);//åˆ é™¤posä½ç½®çš„æ•°æ®ï¼Œè¿”å›ä¸‹ä¸€ä¸ªæ•°æ®çš„ä½ç½®ã€‚</li>
<li>remove(elem);//åˆ é™¤å®¹å™¨ä¸­æ‰€æœ‰ä¸elemå€¼åŒ¹é…çš„å…ƒç´ ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printList</span><span class="params">(<span class="type">const</span> list&lt;<span class="type">int</span>&gt;&amp; L)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (list&lt;<span class="type">int</span>&gt;::const_iterator it = L.<span class="built_in">begin</span>(); it != L.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ’å…¥å’Œåˆ é™¤</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	list&lt;<span class="type">int</span>&gt; L;</span><br><span class="line">	<span class="comment">//å°¾æ’</span></span><br><span class="line">	L.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">	L.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">	L.<span class="built_in">push_back</span>(<span class="number">30</span>);</span><br><span class="line">	<span class="comment">//å¤´æ’</span></span><br><span class="line">	L.<span class="built_in">push_front</span>(<span class="number">100</span>);</span><br><span class="line">	L.<span class="built_in">push_front</span>(<span class="number">200</span>);</span><br><span class="line">	L.<span class="built_in">push_front</span>(<span class="number">300</span>);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printList</span>(L);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//å°¾åˆ </span></span><br><span class="line">	L.<span class="built_in">pop_back</span>();</span><br><span class="line">	<span class="built_in">printList</span>(L);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//å¤´åˆ </span></span><br><span class="line">	L.<span class="built_in">pop_front</span>();</span><br><span class="line">	<span class="built_in">printList</span>(L);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//æ’å…¥</span></span><br><span class="line">	list&lt;<span class="type">int</span>&gt;::iterator it = L.<span class="built_in">begin</span>();</span><br><span class="line">	L.<span class="built_in">insert</span>(++it, <span class="number">1000</span>);</span><br><span class="line">	<span class="built_in">printList</span>(L);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//åˆ é™¤</span></span><br><span class="line">	it = L.<span class="built_in">begin</span>();</span><br><span class="line">	L.<span class="built_in">erase</span>(++it);</span><br><span class="line">	<span class="built_in">printList</span>(L);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//ç§»é™¤</span></span><br><span class="line">	L.<span class="built_in">push_back</span>(<span class="number">10000</span>);</span><br><span class="line">	L.<span class="built_in">push_back</span>(<span class="number">10000</span>);</span><br><span class="line">	L.<span class="built_in">push_back</span>(<span class="number">10000</span>);</span><br><span class="line">	<span class="built_in">printList</span>(L);</span><br><span class="line">	L.<span class="built_in">remove</span>(<span class="number">10000</span>);</span><br><span class="line">	<span class="built_in">printList</span>(L);</span><br><span class="line">  </span><br><span class="line">    <span class="comment">//æ¸…ç©º</span></span><br><span class="line">	L.<span class="built_in">clear</span>();</span><br><span class="line">	<span class="built_in">printList</span>(L);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>å°¾æ’ â€” push_back</li>
<li>å°¾åˆ  â€” pop_back</li>
<li>å¤´æ’ â€” push_front</li>
<li>å¤´åˆ  â€” pop_front</li>
<li>æ’å…¥ â€” insert</li>
<li>åˆ é™¤ â€” erase</li>
<li>ç§»é™¤ â€” remove</li>
<li>æ¸…ç©º â€” clear</li>
</ul>
<h4 id="376-list-æ•°æ®å­˜å–"><a class="markdownIt-Anchor" href="#376-list-æ•°æ®å­˜å–"></a> 3.7.6 list æ•°æ®å­˜å–</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å¯¹listå®¹å™¨ä¸­æ•°æ®è¿›è¡Œå­˜å–</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>front();</code> //è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</li>
<li><code>back();</code> //è¿”å›æœ€åä¸€ä¸ªå…ƒç´ ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ•°æ®å­˜å–</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	list&lt;<span class="type">int</span>&gt;L1;</span><br><span class="line">	L1.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">	L1.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">	L1.<span class="built_in">push_back</span>(<span class="number">30</span>);</span><br><span class="line">	L1.<span class="built_in">push_back</span>(<span class="number">40</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">//cout &lt;&lt; L1.at(0) &lt;&lt; endl;//é”™è¯¯ ä¸æ”¯æŒatè®¿é—®æ•°æ®</span></span><br><span class="line">	<span class="comment">//cout &lt;&lt; L1[0] &lt;&lt; endl; //é”™è¯¯  ä¸æ”¯æŒ[]æ–¹å¼è®¿é—®æ•°æ®</span></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºï¼š &quot;</span> &lt;&lt; L1.<span class="built_in">front</span>() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;æœ€åä¸€ä¸ªå…ƒç´ ä¸ºï¼š &quot;</span> &lt;&lt; L1.<span class="built_in">back</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//listå®¹å™¨çš„è¿­ä»£å™¨æ˜¯åŒå‘è¿­ä»£å™¨ï¼Œä¸æ”¯æŒéšæœºè®¿é—®</span></span><br><span class="line">	list&lt;<span class="type">int</span>&gt;::iterator it = L1.<span class="built_in">begin</span>();</span><br><span class="line">	<span class="comment">//it = it + 1;//é”™è¯¯ï¼Œä¸å¯ä»¥è·³è·ƒè®¿é—®ï¼Œå³ä½¿æ˜¯+1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>listå®¹å™¨ä¸­ä¸å¯ä»¥é€šè¿‡[]æˆ–è€…atæ–¹å¼è®¿é—®æ•°æ®</li>
<li>è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´  â€” front</li>
<li>è¿”å›æœ€åä¸€ä¸ªå…ƒç´  â€” back</li>
</ul>
<h4 id="377-list-åè½¬å’Œæ’åº"><a class="markdownIt-Anchor" href="#377-list-åè½¬å’Œæ’åº"></a> 3.7.7 list åè½¬å’Œæ’åº</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å°†å®¹å™¨ä¸­çš„å…ƒç´ åè½¬ï¼Œä»¥åŠå°†å®¹å™¨ä¸­çš„æ•°æ®è¿›è¡Œæ’åº</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>reverse();</code> //åè½¬é“¾è¡¨</li>
<li><code>sort();</code> //é“¾è¡¨æ’åº</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">printList</span><span class="params">(<span class="type">const</span> list&lt;<span class="type">int</span>&gt;&amp; L)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (list&lt;<span class="type">int</span>&gt;::const_iterator it = L.<span class="built_in">begin</span>(); it != L.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">myCompare</span><span class="params">(<span class="type">int</span> val1 , <span class="type">int</span> val2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> val1 &gt; val2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åè½¬å’Œæ’åº</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	list&lt;<span class="type">int</span>&gt; L;</span><br><span class="line">	L.<span class="built_in">push_back</span>(<span class="number">90</span>);</span><br><span class="line">	L.<span class="built_in">push_back</span>(<span class="number">30</span>);</span><br><span class="line">	L.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">	L.<span class="built_in">push_back</span>(<span class="number">70</span>);</span><br><span class="line">	<span class="built_in">printList</span>(L);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//åè½¬å®¹å™¨çš„å…ƒç´ </span></span><br><span class="line">	L.<span class="built_in">reverse</span>();</span><br><span class="line">	<span class="built_in">printList</span>(L);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//æ’åº</span></span><br><span class="line">	L.<span class="built_in">sort</span>(); <span class="comment">//é»˜è®¤çš„æ’åºè§„åˆ™ ä»å°åˆ°å¤§</span></span><br><span class="line">	<span class="built_in">printList</span>(L);</span><br><span class="line"></span><br><span class="line">	L.<span class="built_in">sort</span>(myCompare); <span class="comment">//æŒ‡å®šè§„åˆ™ï¼Œä»å¤§åˆ°å°</span></span><br><span class="line">	<span class="built_in">printList</span>(L);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>åè½¬ â€” reverse</li>
<li>æ’åº â€” sort ï¼ˆæˆå‘˜å‡½æ•°ï¼‰</li>
</ul>
<h4 id="378-æ’åºæ¡ˆä¾‹"><a class="markdownIt-Anchor" href="#378-æ’åºæ¡ˆä¾‹"></a> 3.7.8 æ’åºæ¡ˆä¾‹</h4>
<p>æ¡ˆä¾‹æè¿°ï¼šå°†Personè‡ªå®šä¹‰æ•°æ®ç±»å‹è¿›è¡Œæ’åºï¼ŒPersonä¸­å±æ€§æœ‰å§“åã€å¹´é¾„ã€èº«é«˜</p>
<p>æ’åºè§„åˆ™ï¼šæŒ‰ç…§å¹´é¾„è¿›è¡Œå‡åºï¼Œå¦‚æœå¹´é¾„ç›¸åŒæŒ‰ç…§èº«é«˜è¿›è¡Œé™åº</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Person</span>(string name, <span class="type">int</span> age , <span class="type">int</span> height) &#123;</span><br><span class="line">		m_Name = name;</span><br><span class="line">		m_Age = age;</span><br><span class="line">		m_Height = height;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	string m_Name;  <span class="comment">//å§“å</span></span><br><span class="line">	<span class="type">int</span> m_Age;      <span class="comment">//å¹´é¾„</span></span><br><span class="line">	<span class="type">int</span> m_Height;   <span class="comment">//èº«é«˜</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">ComparePerson</span><span class="params">(Person&amp; p1, Person&amp; p2)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (p1.m_Age == p2.m_Age) &#123;</span><br><span class="line">		<span class="keyword">return</span> p1.m_Height  &gt; p2.m_Height;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span>  p1.m_Age &lt; p2.m_Age;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	list&lt;Person&gt; L;</span><br><span class="line"></span><br><span class="line">	<span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">&quot;åˆ˜å¤‡&quot;</span>, <span class="number">35</span> , <span class="number">175</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">&quot;æ›¹æ“&quot;</span>, <span class="number">45</span> , <span class="number">180</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p3</span><span class="params">(<span class="string">&quot;å­™æƒ&quot;</span>, <span class="number">40</span> , <span class="number">170</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p4</span><span class="params">(<span class="string">&quot;èµµäº‘&quot;</span>, <span class="number">25</span> , <span class="number">190</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p5</span><span class="params">(<span class="string">&quot;å¼ é£&quot;</span>, <span class="number">35</span> , <span class="number">160</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p6</span><span class="params">(<span class="string">&quot;å…³ç¾½&quot;</span>, <span class="number">35</span> , <span class="number">200</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">	L.<span class="built_in">push_back</span>(p1);</span><br><span class="line">	L.<span class="built_in">push_back</span>(p2);</span><br><span class="line">	L.<span class="built_in">push_back</span>(p3);</span><br><span class="line">	L.<span class="built_in">push_back</span>(p4);</span><br><span class="line">	L.<span class="built_in">push_back</span>(p5);</span><br><span class="line">	L.<span class="built_in">push_back</span>(p6);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (list&lt;Person&gt;::iterator it = L.<span class="built_in">begin</span>(); it != L.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;å§“åï¼š &quot;</span> &lt;&lt; it-&gt;m_Name &lt;&lt; <span class="string">&quot; å¹´é¾„ï¼š &quot;</span> &lt;&lt; it-&gt;m_Age </span><br><span class="line">              &lt;&lt; <span class="string">&quot; èº«é«˜ï¼š &quot;</span> &lt;&lt; it-&gt;m_Height &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;---------------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">	L.<span class="built_in">sort</span>(ComparePerson); <span class="comment">//æ’åº</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (list&lt;Person&gt;::iterator it = L.<span class="built_in">begin</span>(); it != L.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;å§“åï¼š &quot;</span> &lt;&lt; it-&gt;m_Name &lt;&lt; <span class="string">&quot; å¹´é¾„ï¼š &quot;</span> &lt;&lt; it-&gt;m_Age </span><br><span class="line">              &lt;&lt; <span class="string">&quot; èº«é«˜ï¼š &quot;</span> &lt;&lt; it-&gt;m_Height &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>å¯¹äºè‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œå¿…é¡»è¦æŒ‡å®šæ’åºè§„åˆ™ï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¸çŸ¥é“å¦‚ä½•è¿›è¡Œæ’åº</li>
<li>é«˜çº§æ’åºåªæ˜¯åœ¨æ’åºè§„åˆ™ä¸Šå†è¿›è¡Œä¸€æ¬¡é€»è¾‘è§„åˆ™åˆ¶å®šï¼Œå¹¶ä¸å¤æ‚</li>
</ul>
<h3 id="38-set-multiset-å®¹å™¨"><a class="markdownIt-Anchor" href="#38-set-multiset-å®¹å™¨"></a> 3.8 set/ multiset å®¹å™¨</h3>
<h4 id="381-setåŸºæœ¬æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#381-setåŸºæœ¬æ¦‚å¿µ"></a> 3.8.1 setåŸºæœ¬æ¦‚å¿µ</h4>
<p><strong>ç®€ä»‹ï¼š</strong></p>
<ul>
<li>æ‰€æœ‰å…ƒç´ éƒ½ä¼šåœ¨æ’å…¥æ—¶è‡ªåŠ¨è¢«æ’åº</li>
</ul>
<p><strong>æœ¬è´¨ï¼š</strong></p>
<ul>
<li>
<p>set/multisetå±äº <strong>å…³è”å¼å®¹å™¨</strong> ï¼Œåº•å±‚ç»“æ„æ˜¯ç”¨<strong>äºŒå‰æ ‘</strong>å®ç°ã€‚</p>
<p><strong>setå’ŒmultisetåŒºåˆ«</strong> ï¼š</p>
</li>
<li>
<p>setä¸å…è®¸å®¹å™¨ä¸­æœ‰é‡å¤çš„å…ƒç´ </p>
</li>
<li>
<p>multisetå…è®¸å®¹å™¨ä¸­æœ‰é‡å¤çš„å…ƒç´ </p>
</li>
</ul>
<h4 id="382-setæ„é€ å’Œèµ‹å€¼"><a class="markdownIt-Anchor" href="#382-setæ„é€ å’Œèµ‹å€¼"></a> 3.8.2 setæ„é€ å’Œèµ‹å€¼</h4>
<p>åŠŸèƒ½æè¿°ï¼šåˆ›å»ºsetå®¹å™¨ä»¥åŠèµ‹å€¼</p>
<p>æ„é€ ï¼š</p>
<ul>
<li><code>set&lt;T&gt; st;</code> //é»˜è®¤æ„é€ å‡½æ•°ï¼š</li>
<li><code>set(const set &amp;st);</code> //æ‹·è´æ„é€ å‡½æ•°</li>
</ul>
<p>èµ‹å€¼ï¼š</p>
<ul>
<li><code>set&amp; operator=(const set &amp;st);</code> //é‡è½½ç­‰å·æ“ä½œç¬¦</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printSet</span><span class="params">(set&lt;<span class="type">int</span>&gt; &amp; s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (set&lt;<span class="type">int</span>&gt;::iterator it = s.<span class="built_in">begin</span>(); it != s.<span class="built_in">end</span>(); it++)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ„é€ å’Œèµ‹å€¼</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	set&lt;<span class="type">int</span>&gt; s1;</span><br><span class="line"></span><br><span class="line">	s1.<span class="built_in">insert</span>(<span class="number">10</span>);</span><br><span class="line">	s1.<span class="built_in">insert</span>(<span class="number">30</span>);</span><br><span class="line">	s1.<span class="built_in">insert</span>(<span class="number">20</span>);</span><br><span class="line">	s1.<span class="built_in">insert</span>(<span class="number">40</span>);</span><br><span class="line">	<span class="built_in">printSet</span>(s1);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//æ‹·è´æ„é€ </span></span><br><span class="line">	set&lt;<span class="type">int</span>&gt;<span class="built_in">s2</span>(s1);</span><br><span class="line">	<span class="built_in">printSet</span>(s2);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//èµ‹å€¼</span></span><br><span class="line">	set&lt;<span class="type">int</span>&gt;s3;</span><br><span class="line">	s3 = s2;</span><br><span class="line">	<span class="built_in">printSet</span>(s3);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>setå®¹å™¨æ’å…¥æ•°æ®æ—¶ç”¨insert</li>
<li>setå®¹å™¨æ’å…¥æ•°æ®çš„æ•°æ®ä¼šè‡ªåŠ¨æ’åº</li>
</ul>
<h4 id="383-setå¤§å°å’Œäº¤æ¢"><a class="markdownIt-Anchor" href="#383-setå¤§å°å’Œäº¤æ¢"></a> 3.8.3 setå¤§å°å’Œäº¤æ¢</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>ç»Ÿè®¡setå®¹å™¨å¤§å°ä»¥åŠäº¤æ¢setå®¹å™¨</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>size();</code> //è¿”å›å®¹å™¨ä¸­å…ƒç´ çš„æ•°ç›®</li>
<li><code>empty();</code> //åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©º</li>
<li><code>swap(st);</code> //äº¤æ¢ä¸¤ä¸ªé›†åˆå®¹å™¨</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printSet</span><span class="params">(set&lt;<span class="type">int</span>&gt; &amp; s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (set&lt;<span class="type">int</span>&gt;::iterator it = s.<span class="built_in">begin</span>(); it != s.<span class="built_in">end</span>(); it++)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¤§å°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	set&lt;<span class="type">int</span>&gt; s1;</span><br><span class="line"></span><br><span class="line">	s1.<span class="built_in">insert</span>(<span class="number">10</span>);</span><br><span class="line">	s1.<span class="built_in">insert</span>(<span class="number">30</span>);</span><br><span class="line">	s1.<span class="built_in">insert</span>(<span class="number">20</span>);</span><br><span class="line">	s1.<span class="built_in">insert</span>(<span class="number">40</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (s1.<span class="built_in">empty</span>())</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;s1ä¸ºç©º&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;s1ä¸ä¸ºç©º&quot;</span> &lt;&lt; endl;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;s1çš„å¤§å°ä¸ºï¼š &quot;</span> &lt;&lt; s1.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//äº¤æ¢</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	set&lt;<span class="type">int</span>&gt; s1;</span><br><span class="line"></span><br><span class="line">	s1.<span class="built_in">insert</span>(<span class="number">10</span>);</span><br><span class="line">	s1.<span class="built_in">insert</span>(<span class="number">30</span>);</span><br><span class="line">	s1.<span class="built_in">insert</span>(<span class="number">20</span>);</span><br><span class="line">	s1.<span class="built_in">insert</span>(<span class="number">40</span>);</span><br><span class="line"></span><br><span class="line">	set&lt;<span class="type">int</span>&gt; s2;</span><br><span class="line"></span><br><span class="line">	s2.<span class="built_in">insert</span>(<span class="number">100</span>);</span><br><span class="line">	s2.<span class="built_in">insert</span>(<span class="number">300</span>);</span><br><span class="line">	s2.<span class="built_in">insert</span>(<span class="number">200</span>);</span><br><span class="line">	s2.<span class="built_in">insert</span>(<span class="number">400</span>);</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;äº¤æ¢å‰&quot;</span> &lt;&lt; endl;</span><br><span class="line">	<span class="built_in">printSet</span>(s1);</span><br><span class="line">	<span class="built_in">printSet</span>(s2);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;äº¤æ¢å&quot;</span> &lt;&lt; endl;</span><br><span class="line">	s1.<span class="built_in">swap</span>(s2);</span><br><span class="line">	<span class="built_in">printSet</span>(s1);</span><br><span class="line">	<span class="built_in">printSet</span>(s2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//test01();</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">test02</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>ç»Ÿè®¡å¤§å° â€” size</li>
<li>åˆ¤æ–­æ˜¯å¦ä¸ºç©º â€” empty</li>
<li>äº¤æ¢å®¹å™¨ â€” swap</li>
</ul>
<h4 id="384-setæ’å…¥å’Œåˆ é™¤"><a class="markdownIt-Anchor" href="#384-setæ’å…¥å’Œåˆ é™¤"></a> 3.8.4 setæ’å…¥å’Œåˆ é™¤</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>setå®¹å™¨è¿›è¡Œæ’å…¥æ•°æ®å’Œåˆ é™¤æ•°æ®</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>insert(elem);</code> //åœ¨å®¹å™¨ä¸­æ’å…¥å…ƒç´ ã€‚</li>
<li><code>clear();</code> //æ¸…é™¤æ‰€æœ‰å…ƒç´ </li>
<li><code>erase(pos);</code> //åˆ é™¤posè¿­ä»£å™¨æ‰€æŒ‡çš„å…ƒç´ ï¼Œè¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ã€‚</li>
<li><code>erase(beg, end);</code> //åˆ é™¤åŒºé—´[beg,end)çš„æ‰€æœ‰å…ƒç´  ï¼Œè¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ã€‚</li>
<li><code>erase(elem);</code> //åˆ é™¤å®¹å™¨ä¸­å€¼ä¸ºelemçš„å…ƒç´ ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printSet</span><span class="params">(set&lt;<span class="type">int</span>&gt; &amp; s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (set&lt;<span class="type">int</span>&gt;::iterator it = s.<span class="built_in">begin</span>(); it != s.<span class="built_in">end</span>(); it++)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ’å…¥å’Œåˆ é™¤</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	set&lt;<span class="type">int</span>&gt; s1;</span><br><span class="line">	<span class="comment">//æ’å…¥</span></span><br><span class="line">	s1.<span class="built_in">insert</span>(<span class="number">10</span>);</span><br><span class="line">	s1.<span class="built_in">insert</span>(<span class="number">30</span>);</span><br><span class="line">	s1.<span class="built_in">insert</span>(<span class="number">20</span>);</span><br><span class="line">	s1.<span class="built_in">insert</span>(<span class="number">40</span>);</span><br><span class="line">	<span class="built_in">printSet</span>(s1);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//åˆ é™¤</span></span><br><span class="line">	s1.<span class="built_in">erase</span>(s1.<span class="built_in">begin</span>());</span><br><span class="line">	<span class="built_in">printSet</span>(s1);</span><br><span class="line"></span><br><span class="line">	s1.<span class="built_in">erase</span>(<span class="number">30</span>);</span><br><span class="line">	<span class="built_in">printSet</span>(s1);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//æ¸…ç©º</span></span><br><span class="line">	<span class="comment">//s1.erase(s1.begin(), s1.end());</span></span><br><span class="line">	s1.<span class="built_in">clear</span>();</span><br><span class="line">	<span class="built_in">printSet</span>(s1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>æ’å…¥ â€” insert</li>
<li>åˆ é™¤ â€” erase</li>
<li>æ¸…ç©º â€” clear</li>
</ul>
<h4 id="385-setæŸ¥æ‰¾å’Œç»Ÿè®¡"><a class="markdownIt-Anchor" href="#385-setæŸ¥æ‰¾å’Œç»Ÿè®¡"></a> 3.8.5 setæŸ¥æ‰¾å’Œç»Ÿè®¡</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å¯¹setå®¹å™¨è¿›è¡ŒæŸ¥æ‰¾æ•°æ®ä»¥åŠç»Ÿè®¡æ•°æ®</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>find(key);</code> //æŸ¥æ‰¾keyæ˜¯å¦å­˜åœ¨,è‹¥å­˜åœ¨ï¼Œè¿”å›è¯¥é”®çš„å…ƒç´ çš„è¿­ä»£å™¨ï¼›è‹¥ä¸å­˜åœ¨ï¼Œè¿”å›set.end();</li>
<li><code>count(key);</code> //ç»Ÿè®¡keyçš„å…ƒç´ ä¸ªæ•°</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æŸ¥æ‰¾å’Œç»Ÿè®¡</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	set&lt;<span class="type">int</span>&gt; s1;</span><br><span class="line">	<span class="comment">//æ’å…¥</span></span><br><span class="line">	s1.<span class="built_in">insert</span>(<span class="number">10</span>);</span><br><span class="line">	s1.<span class="built_in">insert</span>(<span class="number">30</span>);</span><br><span class="line">	s1.<span class="built_in">insert</span>(<span class="number">20</span>);</span><br><span class="line">	s1.<span class="built_in">insert</span>(<span class="number">40</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//æŸ¥æ‰¾</span></span><br><span class="line">	set&lt;<span class="type">int</span>&gt;::iterator pos = s1.<span class="built_in">find</span>(<span class="number">30</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (pos != s1.<span class="built_in">end</span>())</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;æ‰¾åˆ°äº†å…ƒç´  ï¼š &quot;</span> &lt;&lt; *pos &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;æœªæ‰¾åˆ°å…ƒç´ &quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//ç»Ÿè®¡</span></span><br><span class="line">	<span class="type">int</span> num = s1.<span class="built_in">count</span>(<span class="number">30</span>);</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;num = &quot;</span> &lt;&lt; num &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>æŸ¥æ‰¾ â€” find ï¼ˆè¿”å›çš„æ˜¯è¿­ä»£å™¨ï¼‰</li>
<li>ç»Ÿè®¡ â€” count ï¼ˆå¯¹äºsetï¼Œç»“æœä¸º0æˆ–è€…1ï¼‰</li>
</ul>
<h4 id="386-setå’ŒmultisetåŒºåˆ«"><a class="markdownIt-Anchor" href="#386-setå’ŒmultisetåŒºåˆ«"></a> 3.8.6 setå’ŒmultisetåŒºåˆ«</h4>
<p><strong>å­¦ä¹ ç›®æ ‡ï¼š</strong></p>
<ul>
<li>æŒæ¡setå’Œmultisetçš„åŒºåˆ«</li>
</ul>
<p><strong>åŒºåˆ«ï¼š</strong></p>
<ul>
<li>setä¸å¯ä»¥æ’å…¥é‡å¤æ•°æ®ï¼Œè€Œmultisetå¯ä»¥</li>
<li>setæ’å…¥æ•°æ®çš„åŒæ—¶ä¼šè¿”å›æ’å…¥ç»“æœï¼Œè¡¨ç¤ºæ’å…¥æ˜¯å¦æˆåŠŸ</li>
<li>multisetä¸ä¼šæ£€æµ‹æ•°æ®ï¼Œå› æ­¤å¯ä»¥æ’å…¥é‡å¤æ•°æ®</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//setå’ŒmultisetåŒºåˆ«</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	set&lt;<span class="type">int</span>&gt; s;</span><br><span class="line">	pair&lt;set&lt;<span class="type">int</span>&gt;::iterator, <span class="type">bool</span>&gt;  ret = s.<span class="built_in">insert</span>(<span class="number">10</span>);</span><br><span class="line">	<span class="keyword">if</span> (ret.second) &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;ç¬¬ä¸€æ¬¡æ’å…¥æˆåŠŸ!&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;ç¬¬ä¸€æ¬¡æ’å…¥å¤±è´¥!&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	ret = s.<span class="built_in">insert</span>(<span class="number">10</span>);</span><br><span class="line">	<span class="keyword">if</span> (ret.second) &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;ç¬¬äºŒæ¬¡æ’å…¥æˆåŠŸ!&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;ç¬¬äºŒæ¬¡æ’å…¥å¤±è´¥!&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">  </span><br><span class="line">	<span class="comment">//multiset</span></span><br><span class="line">	multiset&lt;<span class="type">int</span>&gt; ms;</span><br><span class="line">	ms.<span class="built_in">insert</span>(<span class="number">10</span>);</span><br><span class="line">	ms.<span class="built_in">insert</span>(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (multiset&lt;<span class="type">int</span>&gt;::iterator it = ms.<span class="built_in">begin</span>(); it != ms.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>å¦‚æœä¸å…è®¸æ’å…¥é‡å¤æ•°æ®å¯ä»¥åˆ©ç”¨set</li>
<li>å¦‚æœéœ€è¦æ’å…¥é‡å¤æ•°æ®åˆ©ç”¨multiset</li>
</ul>
<h4 id="387-pairå¯¹ç»„åˆ›å»º"><a class="markdownIt-Anchor" href="#387-pairå¯¹ç»„åˆ›å»º"></a> 3.8.7 pairå¯¹ç»„åˆ›å»º</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>æˆå¯¹å‡ºç°çš„æ•°æ®ï¼Œåˆ©ç”¨å¯¹ç»„å¯ä»¥è¿”å›ä¸¤ä¸ªæ•°æ®</li>
</ul>
<p><strong>ä¸¤ç§åˆ›å»ºæ–¹å¼ï¼š</strong></p>
<ul>
<li><code>pair&lt;type, type&gt; p ( value1, value2 );</code></li>
<li><code>pair&lt;type, type&gt; p = make_pair( value1, value2 );</code></li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯¹ç»„åˆ›å»º</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="function">pair&lt;string, <span class="type">int</span>&gt; <span class="title">p</span><span class="params">(string(<span class="string">&quot;Tom&quot;</span>), <span class="number">20</span>)</span></span>;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;å§“åï¼š &quot;</span> &lt;&lt;  p.first &lt;&lt; <span class="string">&quot; å¹´é¾„ï¼š &quot;</span> &lt;&lt; p.second &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	pair&lt;string, <span class="type">int</span>&gt; p2 = <span class="built_in">make_pair</span>(<span class="string">&quot;Jerry&quot;</span>, <span class="number">10</span>);</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;å§“åï¼š &quot;</span> &lt;&lt; p2.first &lt;&lt; <span class="string">&quot; å¹´é¾„ï¼š &quot;</span> &lt;&lt; p2.second &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<p>ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥åˆ›å»ºå¯¹ç»„ï¼Œè®°ä½ä¸€ç§å³å¯</p>
<h4 id="388-setå®¹å™¨æ’åº"><a class="markdownIt-Anchor" href="#388-setå®¹å™¨æ’åº"></a> 3.8.8 setå®¹å™¨æ’åº</h4>
<p>å­¦ä¹ ç›®æ ‡ï¼š</p>
<ul>
<li>setå®¹å™¨é»˜è®¤æ’åºè§„åˆ™ä¸ºä»å°åˆ°å¤§ï¼ŒæŒæ¡å¦‚ä½•æ”¹å˜æ’åºè§„åˆ™</li>
</ul>
<p>ä¸»è¦æŠ€æœ¯ç‚¹ï¼š</p>
<ul>
<li>åˆ©ç”¨ä»¿å‡½æ•°ï¼Œå¯ä»¥æ”¹å˜æ’åºè§„åˆ™</li>
</ul>
<p><strong>ç¤ºä¾‹ä¸€</strong> setå­˜æ”¾å†…ç½®æ•°æ®ç±»å‹</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyCompare</span> </span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> v1, <span class="type">int</span> v2)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> v1 &gt; v2;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">	set&lt;<span class="type">int</span>&gt; s1;</span><br><span class="line">	s1.<span class="built_in">insert</span>(<span class="number">10</span>);</span><br><span class="line">	s1.<span class="built_in">insert</span>(<span class="number">40</span>);</span><br><span class="line">	s1.<span class="built_in">insert</span>(<span class="number">20</span>);</span><br><span class="line">	s1.<span class="built_in">insert</span>(<span class="number">30</span>);</span><br><span class="line">	s1.<span class="built_in">insert</span>(<span class="number">50</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//é»˜è®¤ä»å°åˆ°å¤§</span></span><br><span class="line">	<span class="keyword">for</span> (set&lt;<span class="type">int</span>&gt;::iterator it = s1.<span class="built_in">begin</span>(); it != s1.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//æŒ‡å®šæ’åºè§„åˆ™</span></span><br><span class="line">	set&lt;<span class="type">int</span>,MyCompare&gt; s2;</span><br><span class="line">	s2.<span class="built_in">insert</span>(<span class="number">10</span>);</span><br><span class="line">	s2.<span class="built_in">insert</span>(<span class="number">40</span>);</span><br><span class="line">	s2.<span class="built_in">insert</span>(<span class="number">20</span>);</span><br><span class="line">	s2.<span class="built_in">insert</span>(<span class="number">30</span>);</span><br><span class="line">	s2.<span class="built_in">insert</span>(<span class="number">50</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (set&lt;<span class="type">int</span>, MyCompare&gt;::iterator it = s2.<span class="built_in">begin</span>(); it != s2.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šåˆ©ç”¨ä»¿å‡½æ•°å¯ä»¥æŒ‡å®šsetå®¹å™¨çš„æ’åºè§„åˆ™</p>
<p><strong>ç¤ºä¾‹äºŒ</strong> setå­˜æ”¾è‡ªå®šä¹‰æ•°æ®ç±»å‹</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Person</span>(string name, <span class="type">int</span> age)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Age = age;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	string m_Name;</span><br><span class="line">	<span class="type">int</span> m_Age;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">comparePerson</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">const</span> Person&amp; p1, <span class="type">const</span> Person &amp;p2)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="comment">//æŒ‰ç…§å¹´é¾„è¿›è¡Œæ’åº  é™åº</span></span><br><span class="line">		<span class="keyword">return</span> p1.m_Age &gt; p2.m_Age;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	set&lt;Person, comparePerson&gt; s;</span><br><span class="line"></span><br><span class="line">	<span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">&quot;åˆ˜å¤‡&quot;</span>, <span class="number">23</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">&quot;å…³ç¾½&quot;</span>, <span class="number">27</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p3</span><span class="params">(<span class="string">&quot;å¼ é£&quot;</span>, <span class="number">25</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p4</span><span class="params">(<span class="string">&quot;èµµäº‘&quot;</span>, <span class="number">21</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">	s.<span class="built_in">insert</span>(p1);</span><br><span class="line">	s.<span class="built_in">insert</span>(p2);</span><br><span class="line">	s.<span class="built_in">insert</span>(p3);</span><br><span class="line">	s.<span class="built_in">insert</span>(p4);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (set&lt;Person, comparePerson&gt;::iterator it = s.<span class="built_in">begin</span>(); it != s.<span class="built_in">end</span>(); it++)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;å§“åï¼š &quot;</span> &lt;&lt; it-&gt;m_Name &lt;&lt; <span class="string">&quot; å¹´é¾„ï¼š &quot;</span> &lt;&lt; it-&gt;m_Age &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<p>å¯¹äºè‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œsetå¿…é¡»æŒ‡å®šæ’åºè§„åˆ™æ‰å¯ä»¥æ’å…¥æ•°æ®</p>
<h3 id="39-map-multimapå®¹å™¨"><a class="markdownIt-Anchor" href="#39-map-multimapå®¹å™¨"></a> 3.9 map/ multimapå®¹å™¨</h3>
<h4 id="391-mapåŸºæœ¬æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#391-mapåŸºæœ¬æ¦‚å¿µ"></a> 3.9.1 mapåŸºæœ¬æ¦‚å¿µ</h4>
<p><strong>ç®€ä»‹ï¼š</strong></p>
<ul>
<li>mapä¸­æ‰€æœ‰å…ƒç´ éƒ½æ˜¯pair</li>
<li>pairä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºkeyï¼ˆé”®å€¼ï¼‰ï¼Œèµ·åˆ°ç´¢å¼•ä½œç”¨ï¼Œç¬¬äºŒä¸ªå…ƒç´ ä¸ºvalueï¼ˆå®å€¼ï¼‰</li>
<li>æ‰€æœ‰å…ƒç´ éƒ½ä¼šæ ¹æ®å…ƒç´ çš„é”®å€¼è‡ªåŠ¨æ’åº</li>
</ul>
<p><strong>æœ¬è´¨ï¼š</strong></p>
<ul>
<li>map/multimapå±äº <strong>å…³è”å¼å®¹å™¨</strong> ï¼Œåº•å±‚ç»“æ„æ˜¯ç”¨äºŒå‰æ ‘å®ç°ã€‚</li>
</ul>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>å¯ä»¥æ ¹æ®keyå€¼å¿«é€Ÿæ‰¾åˆ°valueå€¼</li>
</ul>
<p>mapå’Œmultimap <strong>åŒºåˆ«</strong> ï¼š</p>
<ul>
<li>mapä¸å…è®¸å®¹å™¨ä¸­æœ‰é‡å¤keyå€¼å…ƒç´ </li>
<li>multimapå…è®¸å®¹å™¨ä¸­æœ‰é‡å¤keyå€¼å…ƒç´ </li>
</ul>
<h4 id="392-mapæ„é€ å’Œèµ‹å€¼"><a class="markdownIt-Anchor" href="#392-mapæ„é€ å’Œèµ‹å€¼"></a> 3.9.2 mapæ„é€ å’Œèµ‹å€¼</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å¯¹mapå®¹å™¨è¿›è¡Œæ„é€ å’Œèµ‹å€¼æ“ä½œ</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<p><strong>æ„é€ ï¼š</strong></p>
<ul>
<li><code>map&lt;T1, T2&gt; mp;</code> //mapé»˜è®¤æ„é€ å‡½æ•°:</li>
<li><code>map(const map &amp;mp);</code> //æ‹·è´æ„é€ å‡½æ•°</li>
</ul>
<p><strong>èµ‹å€¼ï¼š</strong></p>
<ul>
<li><code>map&amp; operator=(const map &amp;mp);</code> //é‡è½½ç­‰å·æ“ä½œç¬¦</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printMap</span><span class="params">(map&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&amp;m)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (map&lt;<span class="type">int</span>, <span class="type">int</span>&gt;::iterator it = m.<span class="built_in">begin</span>(); it != m.<span class="built_in">end</span>(); it++)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;key = &quot;</span> &lt;&lt; it-&gt;first &lt;&lt; <span class="string">&quot; value = &quot;</span> &lt;&lt; it-&gt;second &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	map&lt;<span class="type">int</span>,<span class="type">int</span>&gt;m; <span class="comment">//é»˜è®¤æ„é€ </span></span><br><span class="line">	m.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>, <span class="type">int</span>&gt;(<span class="number">1</span>, <span class="number">10</span>));</span><br><span class="line">	m.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>, <span class="type">int</span>&gt;(<span class="number">2</span>, <span class="number">20</span>));</span><br><span class="line">	m.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>, <span class="type">int</span>&gt;(<span class="number">3</span>, <span class="number">30</span>));</span><br><span class="line">	<span class="built_in">printMap</span>(m);</span><br><span class="line"></span><br><span class="line">	map&lt;<span class="type">int</span>, <span class="type">int</span>&gt;<span class="built_in">m2</span>(m); <span class="comment">//æ‹·è´æ„é€ </span></span><br><span class="line">	<span class="built_in">printMap</span>(m2);</span><br><span class="line"></span><br><span class="line">	map&lt;<span class="type">int</span>, <span class="type">int</span>&gt;m3;</span><br><span class="line">	m3 = m2; <span class="comment">//èµ‹å€¼</span></span><br><span class="line">	<span class="built_in">printMap</span>(m3);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šmapä¸­æ‰€æœ‰å…ƒç´ éƒ½æ˜¯æˆå¯¹å‡ºç°ï¼Œæ’å…¥æ•°æ®æ—¶å€™è¦ä½¿ç”¨å¯¹ç»„</p>
<h4 id="393-mapå¤§å°å’Œäº¤æ¢"><a class="markdownIt-Anchor" href="#393-mapå¤§å°å’Œäº¤æ¢"></a> 3.9.3 mapå¤§å°å’Œäº¤æ¢</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>ç»Ÿè®¡mapå®¹å™¨å¤§å°ä»¥åŠäº¤æ¢mapå®¹å™¨</li>
</ul>
<p>å‡½æ•°åŸå‹ï¼š</p>
<ul>
<li><code>size();</code> //è¿”å›å®¹å™¨ä¸­å…ƒç´ çš„æ•°ç›®</li>
<li><code>empty();</code> //åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©º</li>
<li><code>swap(st);</code> //äº¤æ¢ä¸¤ä¸ªé›†åˆå®¹å™¨</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printMap</span><span class="params">(map&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&amp;m)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (map&lt;<span class="type">int</span>, <span class="type">int</span>&gt;::iterator it = m.<span class="built_in">begin</span>(); it != m.<span class="built_in">end</span>(); it++)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;key = &quot;</span> &lt;&lt; it-&gt;first &lt;&lt; <span class="string">&quot; value = &quot;</span> &lt;&lt; it-&gt;second &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	map&lt;<span class="type">int</span>, <span class="type">int</span>&gt;m;</span><br><span class="line">	m.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>, <span class="type">int</span>&gt;(<span class="number">1</span>, <span class="number">10</span>));</span><br><span class="line">	m.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>, <span class="type">int</span>&gt;(<span class="number">2</span>, <span class="number">20</span>));</span><br><span class="line">	m.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>, <span class="type">int</span>&gt;(<span class="number">3</span>, <span class="number">30</span>));</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (m.<span class="built_in">empty</span>())</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;mä¸ºç©º&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;mä¸ä¸ºç©º&quot;</span> &lt;&lt; endl;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;mçš„å¤§å°ä¸ºï¼š &quot;</span> &lt;&lt; m.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//äº¤æ¢</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	map&lt;<span class="type">int</span>, <span class="type">int</span>&gt;m;</span><br><span class="line">	m.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>, <span class="type">int</span>&gt;(<span class="number">1</span>, <span class="number">10</span>));</span><br><span class="line">	m.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>, <span class="type">int</span>&gt;(<span class="number">2</span>, <span class="number">20</span>));</span><br><span class="line">	m.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>, <span class="type">int</span>&gt;(<span class="number">3</span>, <span class="number">30</span>));</span><br><span class="line"></span><br><span class="line">	map&lt;<span class="type">int</span>, <span class="type">int</span>&gt;m2;</span><br><span class="line">	m2.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>, <span class="type">int</span>&gt;(<span class="number">4</span>, <span class="number">100</span>));</span><br><span class="line">	m2.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>, <span class="type">int</span>&gt;(<span class="number">5</span>, <span class="number">200</span>));</span><br><span class="line">	m2.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>, <span class="type">int</span>&gt;(<span class="number">6</span>, <span class="number">300</span>));</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;äº¤æ¢å‰&quot;</span> &lt;&lt; endl;</span><br><span class="line">	<span class="built_in">printMap</span>(m);</span><br><span class="line">	<span class="built_in">printMap</span>(m2);</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;äº¤æ¢å&quot;</span> &lt;&lt; endl;</span><br><span class="line">	m.<span class="built_in">swap</span>(m2);</span><br><span class="line">	<span class="built_in">printMap</span>(m);</span><br><span class="line">	<span class="built_in">printMap</span>(m2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test02</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>ç»Ÿè®¡å¤§å° â€” size</li>
<li>åˆ¤æ–­æ˜¯å¦ä¸ºç©º â€” empty</li>
<li>äº¤æ¢å®¹å™¨ â€” swap</li>
</ul>
<h4 id="394-mapæ’å…¥å’Œåˆ é™¤"><a class="markdownIt-Anchor" href="#394-mapæ’å…¥å’Œåˆ é™¤"></a> 3.9.4 mapæ’å…¥å’Œåˆ é™¤</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>mapå®¹å™¨è¿›è¡Œæ’å…¥æ•°æ®å’Œåˆ é™¤æ•°æ®</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>insert(elem);</code> //åœ¨å®¹å™¨ä¸­æ’å…¥å…ƒç´ ã€‚</li>
<li><code>clear();</code> //æ¸…é™¤æ‰€æœ‰å…ƒç´ </li>
<li><code>erase(pos);</code> //åˆ é™¤posè¿­ä»£å™¨æ‰€æŒ‡çš„å…ƒç´ ï¼Œè¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ã€‚</li>
<li><code>erase(beg, end);</code> //åˆ é™¤åŒºé—´[beg,end)çš„æ‰€æœ‰å…ƒç´  ï¼Œè¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ã€‚</li>
<li><code>erase(key);</code> //åˆ é™¤å®¹å™¨ä¸­å€¼ä¸ºkeyçš„å…ƒç´ ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printMap</span><span class="params">(map&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&amp;m)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (map&lt;<span class="type">int</span>, <span class="type">int</span>&gt;::iterator it = m.<span class="built_in">begin</span>(); it != m.<span class="built_in">end</span>(); it++)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;key = &quot;</span> &lt;&lt; it-&gt;first &lt;&lt; <span class="string">&quot; value = &quot;</span> &lt;&lt; it-&gt;second &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//æ’å…¥</span></span><br><span class="line">	map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; m;</span><br><span class="line">	<span class="comment">//ç¬¬ä¸€ç§æ’å…¥æ–¹å¼</span></span><br><span class="line">	m.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>, <span class="type">int</span>&gt;(<span class="number">1</span>, <span class="number">10</span>));</span><br><span class="line">	<span class="comment">//ç¬¬äºŒç§æ’å…¥æ–¹å¼</span></span><br><span class="line">	m.<span class="built_in">insert</span>(<span class="built_in">make_pair</span>(<span class="number">2</span>, <span class="number">20</span>));</span><br><span class="line">	<span class="comment">//ç¬¬ä¸‰ç§æ’å…¥æ–¹å¼</span></span><br><span class="line">	m.<span class="built_in">insert</span>(map&lt;<span class="type">int</span>, <span class="type">int</span>&gt;::<span class="built_in">value_type</span>(<span class="number">3</span>, <span class="number">30</span>));</span><br><span class="line">	<span class="comment">//ç¬¬å››ç§æ’å…¥æ–¹å¼</span></span><br><span class="line">	m[<span class="number">4</span>] = <span class="number">40</span>; </span><br><span class="line">	<span class="built_in">printMap</span>(m);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//åˆ é™¤</span></span><br><span class="line">	m.<span class="built_in">erase</span>(m.<span class="built_in">begin</span>());</span><br><span class="line">	<span class="built_in">printMap</span>(m);</span><br><span class="line"></span><br><span class="line">	m.<span class="built_in">erase</span>(<span class="number">3</span>);</span><br><span class="line">	<span class="built_in">printMap</span>(m);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//æ¸…ç©º</span></span><br><span class="line">	m.<span class="built_in">erase</span>(m.<span class="built_in">begin</span>(),m.<span class="built_in">end</span>());</span><br><span class="line">	m.<span class="built_in">clear</span>();</span><br><span class="line">	<span class="built_in">printMap</span>(m);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>mapæ’å…¥æ–¹å¼å¾ˆå¤šï¼Œè®°ä½å…¶ä¸€å³å¯</li>
<li>æ’å…¥ â€” insert</li>
<li>åˆ é™¤ â€” erase</li>
<li>æ¸…ç©º â€” clear</li>
</ul>
<h4 id="395-mapæŸ¥æ‰¾å’Œç»Ÿè®¡"><a class="markdownIt-Anchor" href="#395-mapæŸ¥æ‰¾å’Œç»Ÿè®¡"></a> 3.9.5 mapæŸ¥æ‰¾å’Œç»Ÿè®¡</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å¯¹mapå®¹å™¨è¿›è¡ŒæŸ¥æ‰¾æ•°æ®ä»¥åŠç»Ÿè®¡æ•°æ®</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>find(key);</code> //æŸ¥æ‰¾keyæ˜¯å¦å­˜åœ¨,è‹¥å­˜åœ¨ï¼Œè¿”å›è¯¥é”®çš„å…ƒç´ çš„è¿­ä»£å™¨ï¼›è‹¥ä¸å­˜åœ¨ï¼Œè¿”å›set.end();</li>
<li><code>count(key);</code> //ç»Ÿè®¡keyçš„å…ƒç´ ä¸ªæ•°</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æŸ¥æ‰¾å’Œç»Ÿè®¡</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	map&lt;<span class="type">int</span>, <span class="type">int</span>&gt;m; </span><br><span class="line">	m.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>, <span class="type">int</span>&gt;(<span class="number">1</span>, <span class="number">10</span>));</span><br><span class="line">	m.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>, <span class="type">int</span>&gt;(<span class="number">2</span>, <span class="number">20</span>));</span><br><span class="line">	m.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>, <span class="type">int</span>&gt;(<span class="number">3</span>, <span class="number">30</span>));</span><br><span class="line"></span><br><span class="line">	<span class="comment">//æŸ¥æ‰¾</span></span><br><span class="line">	map&lt;<span class="type">int</span>, <span class="type">int</span>&gt;::iterator pos = m.<span class="built_in">find</span>(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (pos != m.<span class="built_in">end</span>())</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;æ‰¾åˆ°äº†å…ƒç´  key = &quot;</span> &lt;&lt; (*pos).first &lt;&lt; <span class="string">&quot; value = &quot;</span> &lt;&lt; (*pos).second &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;æœªæ‰¾åˆ°å…ƒç´ &quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//ç»Ÿè®¡</span></span><br><span class="line">	<span class="type">int</span> num = m.<span class="built_in">count</span>(<span class="number">3</span>);</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;num = &quot;</span> &lt;&lt; num &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>æŸ¥æ‰¾ â€” find ï¼ˆè¿”å›çš„æ˜¯è¿­ä»£å™¨ï¼‰</li>
<li>ç»Ÿè®¡ â€” count ï¼ˆå¯¹äºmapï¼Œç»“æœä¸º0æˆ–è€…1ï¼‰</li>
</ul>
<h4 id="396-mapå®¹å™¨æ’åº"><a class="markdownIt-Anchor" href="#396-mapå®¹å™¨æ’åº"></a> 3.9.6 mapå®¹å™¨æ’åº</h4>
<p><strong>å­¦ä¹ ç›®æ ‡ï¼š</strong></p>
<ul>
<li>mapå®¹å™¨é»˜è®¤æ’åºè§„åˆ™ä¸º æŒ‰ç…§keyå€¼è¿›è¡Œ ä»å°åˆ°å¤§æ’åºï¼ŒæŒæ¡å¦‚ä½•æ”¹å˜æ’åºè§„åˆ™</li>
</ul>
<p><strong>ä¸»è¦æŠ€æœ¯ç‚¹:</strong></p>
<ul>
<li>åˆ©ç”¨ä»¿å‡½æ•°ï¼Œå¯ä»¥æ”¹å˜æ’åºè§„åˆ™</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyCompare</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> v1, <span class="type">int</span> v2)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> v1 &gt; v2;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//é»˜è®¤ä»å°åˆ°å¤§æ’åº</span></span><br><span class="line">	<span class="comment">//åˆ©ç”¨ä»¿å‡½æ•°å®ç°ä»å¤§åˆ°å°æ’åº</span></span><br><span class="line">	map&lt;<span class="type">int</span>, <span class="type">int</span>, MyCompare&gt; m;</span><br><span class="line"></span><br><span class="line">	m.<span class="built_in">insert</span>(<span class="built_in">make_pair</span>(<span class="number">1</span>, <span class="number">10</span>));</span><br><span class="line">	m.<span class="built_in">insert</span>(<span class="built_in">make_pair</span>(<span class="number">2</span>, <span class="number">20</span>));</span><br><span class="line">	m.<span class="built_in">insert</span>(<span class="built_in">make_pair</span>(<span class="number">3</span>, <span class="number">30</span>));</span><br><span class="line">	m.<span class="built_in">insert</span>(<span class="built_in">make_pair</span>(<span class="number">4</span>, <span class="number">40</span>));</span><br><span class="line">	m.<span class="built_in">insert</span>(<span class="built_in">make_pair</span>(<span class="number">5</span>, <span class="number">50</span>));</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (map&lt;<span class="type">int</span>, <span class="type">int</span>, MyCompare&gt;::iterator it = m.<span class="built_in">begin</span>(); it != m.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;key:&quot;</span> &lt;&lt; it-&gt;first &lt;&lt; <span class="string">&quot; value:&quot;</span> &lt;&lt; it-&gt;second &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>åˆ©ç”¨ä»¿å‡½æ•°å¯ä»¥æŒ‡å®šmapå®¹å™¨çš„æ’åºè§„åˆ™</li>
<li>å¯¹äºè‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œmapå¿…é¡»è¦æŒ‡å®šæ’åºè§„åˆ™,åŒsetå®¹å™¨</li>
</ul>
<h3 id="310-æ¡ˆä¾‹-å‘˜å·¥åˆ†ç»„"><a class="markdownIt-Anchor" href="#310-æ¡ˆä¾‹-å‘˜å·¥åˆ†ç»„"></a> 3.10 æ¡ˆä¾‹-å‘˜å·¥åˆ†ç»„</h3>
<h4 id="3101-æ¡ˆä¾‹æè¿°"><a class="markdownIt-Anchor" href="#3101-æ¡ˆä¾‹æè¿°"></a> 3.10.1 æ¡ˆä¾‹æè¿°</h4>
<ul>
<li>å…¬å¸ä»Šå¤©æ‹›è˜äº†10ä¸ªå‘˜å·¥ï¼ˆABCDEFGHIJï¼‰ï¼Œ10åå‘˜å·¥è¿›å…¥å…¬å¸ä¹‹åï¼Œéœ€è¦æŒ‡æ´¾å‘˜å·¥åœ¨é‚£ä¸ªéƒ¨é—¨å·¥ä½œ</li>
<li>å‘˜å·¥ä¿¡æ¯æœ‰: å§“å å·¥èµ„ç»„æˆï¼›éƒ¨é—¨åˆ†ä¸ºï¼šç­–åˆ’ã€ç¾æœ¯ã€ç ”å‘</li>
<li>éšæœºç»™10åå‘˜å·¥åˆ†é…éƒ¨é—¨å’Œå·¥èµ„</li>
<li>é€šè¿‡multimapè¿›è¡Œä¿¡æ¯çš„æ’å…¥ key(éƒ¨é—¨ç¼–å·) value(å‘˜å·¥)</li>
<li>åˆ†éƒ¨é—¨æ˜¾ç¤ºå‘˜å·¥ä¿¡æ¯</li>
</ul>
<h4 id="3102-å®ç°æ­¥éª¤"><a class="markdownIt-Anchor" href="#3102-å®ç°æ­¥éª¤"></a> 3.10.2 å®ç°æ­¥éª¤</h4>
<ol>
<li>åˆ›å»º10åå‘˜å·¥ï¼Œæ”¾åˆ°vectorä¸­</li>
<li>éå†vectorå®¹å™¨ï¼Œå–å‡ºæ¯ä¸ªå‘˜å·¥ï¼Œè¿›è¡Œéšæœºåˆ†ç»„</li>
<li>åˆ†ç»„åï¼Œå°†å‘˜å·¥éƒ¨é—¨ç¼–å·ä½œä¸ºkeyï¼Œå…·ä½“å‘˜å·¥ä½œä¸ºvalueï¼Œæ”¾å…¥åˆ°multimapå®¹å™¨ä¸­</li>
<li>åˆ†éƒ¨é—¨æ˜¾ç¤ºå‘˜å·¥ä¿¡æ¯</li>
</ol>
<p><strong>æ¡ˆä¾‹ä»£ç ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">- å…¬å¸ä»Šå¤©æ‹›è˜äº†10ä¸ªå‘˜å·¥ï¼ˆABCDEFGHIJï¼‰ï¼Œ10åå‘˜å·¥è¿›å…¥å…¬å¸ä¹‹åï¼Œéœ€è¦æŒ‡æ´¾å‘˜å·¥åœ¨é‚£ä¸ªéƒ¨é—¨å·¥ä½œ</span></span><br><span class="line"><span class="comment">- å‘˜å·¥ä¿¡æ¯æœ‰: å§“å  å·¥èµ„ç»„æˆï¼›éƒ¨é—¨åˆ†ä¸ºï¼šç­–åˆ’ã€ç¾æœ¯ã€ç ”å‘</span></span><br><span class="line"><span class="comment">- éšæœºç»™10åå‘˜å·¥åˆ†é…éƒ¨é—¨å’Œå·¥èµ„</span></span><br><span class="line"><span class="comment">- é€šè¿‡multimapè¿›è¡Œä¿¡æ¯çš„æ’å…¥  key(éƒ¨é—¨ç¼–å·) value(å‘˜å·¥)</span></span><br><span class="line"><span class="comment">- åˆ†éƒ¨é—¨æ˜¾ç¤ºå‘˜å·¥ä¿¡æ¯</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CEHUA  0</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MEISHU 1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> YANFA  2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Worker</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	string m_Name;</span><br><span class="line">	<span class="type">int</span> m_Salary;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">createWorker</span><span class="params">(vector&lt;Worker&gt;&amp;v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	string nameSeed = <span class="string">&quot;ABCDEFGHIJ&quot;</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		Worker worker;</span><br><span class="line">		worker.m_Name = <span class="string">&quot;å‘˜å·¥&quot;</span>;</span><br><span class="line">		worker.m_Name += nameSeed[i];</span><br><span class="line"></span><br><span class="line">		worker.m_Salary = <span class="built_in">rand</span>() % <span class="number">10000</span> + <span class="number">10000</span>; <span class="comment">// 10000 ~ 19999</span></span><br><span class="line">		<span class="comment">//å°†å‘˜å·¥æ”¾å…¥åˆ°å®¹å™¨ä¸­</span></span><br><span class="line">		v.<span class="built_in">push_back</span>(worker);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‘˜å·¥åˆ†ç»„</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setGroup</span><span class="params">(vector&lt;Worker&gt;&amp;v,multimap&lt;<span class="type">int</span>,Worker&gt;&amp;m)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (vector&lt;Worker&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//äº§ç”Ÿéšæœºéƒ¨é—¨ç¼–å·</span></span><br><span class="line">		<span class="type">int</span> deptId = <span class="built_in">rand</span>() % <span class="number">3</span>; <span class="comment">// 0 1 2 </span></span><br><span class="line"></span><br><span class="line">		<span class="comment">//å°†å‘˜å·¥æ’å…¥åˆ°åˆ†ç»„ä¸­</span></span><br><span class="line">		<span class="comment">//keyéƒ¨é—¨ç¼–å·ï¼Œvalueå…·ä½“å‘˜å·¥</span></span><br><span class="line">		m.<span class="built_in">insert</span>(<span class="built_in">make_pair</span>(deptId, *it));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">showWorkerByGourp</span><span class="params">(multimap&lt;<span class="type">int</span>,Worker&gt;&amp;m)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">// 0  A  B  C   1  D  E   2  F G ...</span></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;ç­–åˆ’éƒ¨é—¨ï¼š&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	multimap&lt;<span class="type">int</span>,Worker&gt;::iterator pos = m.<span class="built_in">find</span>(CEHUA);</span><br><span class="line">	<span class="type">int</span> count = m.<span class="built_in">count</span>(CEHUA); <span class="comment">// ç»Ÿè®¡å…·ä½“äººæ•°</span></span><br><span class="line">	<span class="type">int</span> index = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (; pos != m.<span class="built_in">end</span>() &amp;&amp; index &lt; count; pos++ , index++)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;å§“åï¼š &quot;</span> &lt;&lt; pos-&gt;second.m_Name &lt;&lt; <span class="string">&quot; å·¥èµ„ï¼š &quot;</span> &lt;&lt; pos-&gt;second.m_Salary &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;----------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;ç¾æœ¯éƒ¨é—¨ï¼š &quot;</span> &lt;&lt; endl;</span><br><span class="line">	pos = m.<span class="built_in">find</span>(MEISHU);</span><br><span class="line">	count = m.<span class="built_in">count</span>(MEISHU); <span class="comment">// ç»Ÿè®¡å…·ä½“äººæ•°</span></span><br><span class="line">	index = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (; pos != m.<span class="built_in">end</span>() &amp;&amp; index &lt; count; pos++, index++)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;å§“åï¼š &quot;</span> &lt;&lt; pos-&gt;second.m_Name &lt;&lt; <span class="string">&quot; å·¥èµ„ï¼š &quot;</span> &lt;&lt; pos-&gt;second.m_Salary &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;----------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;ç ”å‘éƒ¨é—¨ï¼š &quot;</span> &lt;&lt; endl;</span><br><span class="line">	pos = m.<span class="built_in">find</span>(YANFA);</span><br><span class="line">	count = m.<span class="built_in">count</span>(YANFA); <span class="comment">// ç»Ÿè®¡å…·ä½“äººæ•°</span></span><br><span class="line">	index = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (; pos != m.<span class="built_in">end</span>() &amp;&amp; index &lt; count; pos++, index++)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;å§“åï¼š &quot;</span> &lt;&lt; pos-&gt;second.m_Name &lt;&lt; <span class="string">&quot; å·¥èµ„ï¼š &quot;</span> &lt;&lt; pos-&gt;second.m_Salary &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">srand</span>((<span class="type">unsigned</span> <span class="type">int</span>)<span class="built_in">time</span>(<span class="literal">NULL</span>));</span><br><span class="line"></span><br><span class="line">	<span class="comment">//1ã€åˆ›å»ºå‘˜å·¥</span></span><br><span class="line">	vector&lt;Worker&gt;vWorker;</span><br><span class="line">	<span class="built_in">createWorker</span>(vWorker);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//2ã€å‘˜å·¥åˆ†ç»„</span></span><br><span class="line">	multimap&lt;<span class="type">int</span>, Worker&gt;mWorker;</span><br><span class="line">	<span class="built_in">setGroup</span>(vWorker, mWorker);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">//3ã€åˆ†ç»„æ˜¾ç¤ºå‘˜å·¥</span></span><br><span class="line">	<span class="built_in">showWorkerByGourp</span>(mWorker);</span><br><span class="line"></span><br><span class="line">	æµ‹è¯•</span><br><span class="line">	<span class="comment">//for (vector&lt;Worker&gt;::iterator it = vWorker.begin(); it != vWorker.end(); it++)</span></span><br><span class="line">	<span class="comment">//&#123;</span></span><br><span class="line">	<span class="comment">//	cout &lt;&lt; &quot;å§“åï¼š &quot; &lt;&lt; it-&gt;m_Name &lt;&lt; &quot; å·¥èµ„ï¼š &quot; &lt;&lt; it-&gt;m_Salary &lt;&lt; endl;</span></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>å½“æ•°æ®ä»¥é”®å€¼å¯¹å½¢å¼å­˜åœ¨ï¼Œå¯ä»¥è€ƒè™‘ç”¨map æˆ– multimap</li>
</ul>
<h2 id="4-stl-å‡½æ•°å¯¹è±¡"><a class="markdownIt-Anchor" href="#4-stl-å‡½æ•°å¯¹è±¡"></a> 4 STL- å‡½æ•°å¯¹è±¡</h2>
<h3 id="41-å‡½æ•°å¯¹è±¡"><a class="markdownIt-Anchor" href="#41-å‡½æ•°å¯¹è±¡"></a> 4.1 å‡½æ•°å¯¹è±¡</h3>
<h4 id="411-å‡½æ•°å¯¹è±¡æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#411-å‡½æ•°å¯¹è±¡æ¦‚å¿µ"></a> 4.1.1 å‡½æ•°å¯¹è±¡æ¦‚å¿µ</h4>
<p><strong>æ¦‚å¿µï¼š</strong></p>
<ul>
<li>é‡è½½<strong>å‡½æ•°è°ƒç”¨æ“ä½œç¬¦</strong>çš„ç±»ï¼Œå…¶å¯¹è±¡å¸¸ç§°ä¸º<strong>å‡½æ•°å¯¹è±¡</strong></li>
<li><strong>å‡½æ•°å¯¹è±¡</strong>ä½¿ç”¨é‡è½½çš„()æ—¶ï¼Œè¡Œä¸ºç±»ä¼¼å‡½æ•°è°ƒç”¨ï¼Œä¹Ÿå«<strong>ä»¿å‡½æ•°</strong></li>
</ul>
<p><strong>æœ¬è´¨ï¼š</strong></p>
<p>å‡½æ•°å¯¹è±¡(ä»¿å‡½æ•°)æ˜¯ä¸€ä¸ª <strong>ç±»</strong> ï¼Œä¸æ˜¯ä¸€ä¸ªå‡½æ•°</p>
<h4 id="412-å‡½æ•°å¯¹è±¡ä½¿ç”¨"><a class="markdownIt-Anchor" href="#412-å‡½æ•°å¯¹è±¡ä½¿ç”¨"></a> 4.1.2 å‡½æ•°å¯¹è±¡ä½¿ç”¨</h4>
<p><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>å‡½æ•°å¯¹è±¡åœ¨ä½¿ç”¨æ—¶ï¼Œå¯ä»¥åƒæ™®é€šå‡½æ•°é‚£æ ·è°ƒç”¨, å¯ä»¥æœ‰å‚æ•°ï¼Œå¯ä»¥æœ‰è¿”å›å€¼</li>
<li>å‡½æ•°å¯¹è±¡è¶…å‡ºæ™®é€šå‡½æ•°çš„æ¦‚å¿µï¼Œå‡½æ•°å¯¹è±¡å¯ä»¥æœ‰è‡ªå·±çš„çŠ¶æ€</li>
<li>å‡½æ•°å¯¹è±¡å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’</li>
</ul>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//1ã€å‡½æ•°å¯¹è±¡åœ¨ä½¿ç”¨æ—¶ï¼Œå¯ä»¥åƒæ™®é€šå‡½æ•°é‚£æ ·è°ƒç”¨, å¯ä»¥æœ‰å‚æ•°ï¼Œå¯ä»¥æœ‰è¿”å›å€¼</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyAdd</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span> :</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> v1,<span class="type">int</span> v2)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> v1 + v2;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	MyAdd myAdd;</span><br><span class="line">	cout &lt;&lt; <span class="built_in">myAdd</span>(<span class="number">10</span>, <span class="number">10</span>) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2ã€å‡½æ•°å¯¹è±¡å¯ä»¥æœ‰è‡ªå·±çš„çŠ¶æ€</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyPrint</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">MyPrint</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		count = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(string test)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; test &lt;&lt; endl;</span><br><span class="line">		count++; <span class="comment">//ç»Ÿè®¡ä½¿ç”¨æ¬¡æ•°</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> count; <span class="comment">//å†…éƒ¨è‡ªå·±çš„çŠ¶æ€</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	MyPrint myPrint;</span><br><span class="line">	<span class="built_in">myPrint</span>(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line">	<span class="built_in">myPrint</span>(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line">	<span class="built_in">myPrint</span>(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;myPrintè°ƒç”¨æ¬¡æ•°ä¸ºï¼š &quot;</span> &lt;&lt; myPrint.count &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//3ã€å‡½æ•°å¯¹è±¡å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">doPrint</span><span class="params">(MyPrint &amp;mp , string test)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">mp</span>(test);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test03</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	MyPrint myPrint;</span><br><span class="line">	<span class="built_in">doPrint</span>(myPrint, <span class="string">&quot;Hello C++&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//test01();</span></span><br><span class="line">	<span class="comment">//test02();</span></span><br><span class="line">	<span class="built_in">test03</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>ä»¿å‡½æ•°å†™æ³•éå¸¸çµæ´»ï¼Œå¯ä»¥ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’ã€‚</li>
</ul>
<h3 id="42-è°“è¯"><a class="markdownIt-Anchor" href="#42-è°“è¯"></a> 4.2 è°“è¯</h3>
<h4 id="421-è°“è¯æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#421-è°“è¯æ¦‚å¿µ"></a> 4.2.1 è°“è¯æ¦‚å¿µ</h4>
<p><strong>æ¦‚å¿µï¼š</strong></p>
<ul>
<li>è¿”å›boolç±»å‹çš„ä»¿å‡½æ•°ç§°ä¸º<strong>è°“è¯</strong></li>
<li>å¦‚æœoperator()æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå«åšä¸€å…ƒè°“è¯</li>
<li>å¦‚æœoperator()æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå«åšäºŒå…ƒè°“è¯</li>
</ul>
<h4 id="422-ä¸€å…ƒè°“è¯"><a class="markdownIt-Anchor" href="#422-ä¸€å…ƒè°“è¯"></a> 4.2.2 ä¸€å…ƒè°“è¯</h4>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//1.ä¸€å…ƒè°“è¯</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">GreaterFive</span>&#123;</span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> val &gt; <span class="number">5</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		v.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt;::iterator it = <span class="built_in">find_if</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">GreaterFive</span>());</span><br><span class="line">	<span class="keyword">if</span> (it == v.<span class="built_in">end</span>()) &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;æ²¡æ‰¾åˆ°!&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;æ‰¾åˆ°:&quot;</span> &lt;&lt; *it &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šå‚æ•°åªæœ‰ä¸€ä¸ªçš„è°“è¯ï¼Œç§°ä¸ºä¸€å…ƒè°“è¯</p>
<h4 id="423-äºŒå…ƒè°“è¯"><a class="markdownIt-Anchor" href="#423-äºŒå…ƒè°“è¯"></a> 4.2.3 äºŒå…ƒè°“è¯</h4>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="comment">//äºŒå…ƒè°“è¯</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyCompare</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> num1, <span class="type">int</span> num2)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> num1 &gt; num2;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">40</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">30</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">50</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//é»˜è®¤ä»å°åˆ°å¤§</span></span><br><span class="line">	<span class="built_in">sort</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());</span><br><span class="line">	<span class="keyword">for</span> (vector&lt;<span class="type">int</span>&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;----------------------------&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//ä½¿ç”¨å‡½æ•°å¯¹è±¡æ”¹å˜ç®—æ³•ç­–ç•¥ï¼Œæ’åºä»å¤§åˆ°å°</span></span><br><span class="line">	<span class="built_in">sort</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">MyCompare</span>());</span><br><span class="line">	<span class="keyword">for</span> (vector&lt;<span class="type">int</span>&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šå‚æ•°åªæœ‰ä¸¤ä¸ªçš„è°“è¯ï¼Œç§°ä¸ºäºŒå…ƒè°“è¯</p>
<h3 id="43-å†…å»ºå‡½æ•°å¯¹è±¡"><a class="markdownIt-Anchor" href="#43-å†…å»ºå‡½æ•°å¯¹è±¡"></a> 4.3 å†…å»ºå‡½æ•°å¯¹è±¡</h3>
<h4 id="431-å†…å»ºå‡½æ•°å¯¹è±¡æ„ä¹‰"><a class="markdownIt-Anchor" href="#431-å†…å»ºå‡½æ•°å¯¹è±¡æ„ä¹‰"></a> 4.3.1 å†…å»ºå‡½æ•°å¯¹è±¡æ„ä¹‰</h4>
<p><strong>æ¦‚å¿µï¼š</strong></p>
<ul>
<li>STLå†…å»ºäº†ä¸€äº›å‡½æ•°å¯¹è±¡</li>
</ul>
<p><strong>åˆ†ç±»:</strong></p>
<ul>
<li>ç®—æœ¯ä»¿å‡½æ•°</li>
<li>å…³ç³»ä»¿å‡½æ•°</li>
<li>é€»è¾‘ä»¿å‡½æ•°</li>
</ul>
<p><strong>ç”¨æ³•ï¼š</strong></p>
<ul>
<li>è¿™äº›ä»¿å‡½æ•°æ‰€äº§ç”Ÿçš„å¯¹è±¡ï¼Œç”¨æ³•å’Œä¸€èˆ¬å‡½æ•°å®Œå…¨ç›¸åŒ</li>
<li>ä½¿ç”¨å†…å»ºå‡½æ•°å¯¹è±¡ï¼Œéœ€è¦å¼•å…¥å¤´æ–‡ä»¶ <code>#include&lt;functional&gt;</code></li>
</ul>
<h4 id="432-ç®—æœ¯ä»¿å‡½æ•°"><a class="markdownIt-Anchor" href="#432-ç®—æœ¯ä»¿å‡½æ•°"></a> 4.3.2 ç®—æœ¯ä»¿å‡½æ•°</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å®ç°å››åˆ™è¿ç®—</li>
<li>å…¶ä¸­negateæ˜¯ä¸€å…ƒè¿ç®—ï¼Œå…¶ä»–éƒ½æ˜¯äºŒå…ƒè¿ç®—</li>
</ul>
<p><strong>ä»¿å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>template&lt;class T&gt; T plus&lt;T&gt;</code> //åŠ æ³•ä»¿å‡½æ•°</li>
<li><code>template&lt;class T&gt; T minus&lt;T&gt;</code> //å‡æ³•ä»¿å‡½æ•°</li>
<li><code>template&lt;class T&gt; T multiplies&lt;T&gt;</code> //ä¹˜æ³•ä»¿å‡½æ•°</li>
<li><code>template&lt;class T&gt; T divides&lt;T&gt;</code> //é™¤æ³•ä»¿å‡½æ•°</li>
<li><code>template&lt;class T&gt; T modulus&lt;T&gt;</code> //å–æ¨¡ä»¿å‡½æ•°</li>
<li><code>template&lt;class T&gt; T negate&lt;T&gt;</code> //å–åä»¿å‡½æ•°</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="comment">//negate</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	negate&lt;<span class="type">int</span>&gt; n;</span><br><span class="line">	cout &lt;&lt; <span class="built_in">n</span>(<span class="number">50</span>) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//plus</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	plus&lt;<span class="type">int</span>&gt; p;</span><br><span class="line">	cout &lt;&lt; <span class="built_in">p</span>(<span class="number">10</span>, <span class="number">20</span>) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line">	<span class="built_in">test02</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šä½¿ç”¨å†…å»ºå‡½æ•°å¯¹è±¡æ—¶ï¼Œéœ€è¦å¼•å…¥å¤´æ–‡ä»¶ <code>#include &lt;functional&gt;</code></p>
<h4 id="433-å…³ç³»ä»¿å‡½æ•°"><a class="markdownIt-Anchor" href="#433-å…³ç³»ä»¿å‡½æ•°"></a> 4.3.3 å…³ç³»ä»¿å‡½æ•°</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å®ç°å…³ç³»å¯¹æ¯”</li>
</ul>
<p><strong>ä»¿å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>template&lt;class T&gt; bool equal_to&lt;T&gt;</code> //ç­‰äº</li>
<li><code>template&lt;class T&gt; bool not_equal_to&lt;T&gt;</code> //ä¸ç­‰äº</li>
<li><code>template&lt;class T&gt; bool greater&lt;T&gt;</code> //å¤§äº</li>
<li><code>template&lt;class T&gt; bool greater_equal&lt;T&gt;</code> //å¤§äºç­‰äº</li>
<li><code>template&lt;class T&gt; bool less&lt;T&gt;</code> //å°äº</li>
<li><code>template&lt;class T&gt; bool less_equal&lt;T&gt;</code> //å°äºç­‰äº</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyCompare</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> v1,<span class="type">int</span> v2)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> v1 &gt; v2;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line"></span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">30</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">50</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">40</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (vector&lt;<span class="type">int</span>&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//è‡ªå·±å®ç°ä»¿å‡½æ•°</span></span><br><span class="line">	<span class="comment">//sort(v.begin(), v.end(), MyCompare());</span></span><br><span class="line">	<span class="comment">//STLå†…å»ºä»¿å‡½æ•°  å¤§äºä»¿å‡½æ•°</span></span><br><span class="line">	<span class="built_in">sort</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">greater</span>&lt;<span class="type">int</span>&gt;());</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (vector&lt;<span class="type">int</span>&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šå…³ç³»ä»¿å‡½æ•°ä¸­æœ€å¸¸ç”¨çš„å°±æ˜¯greater&lt;&gt;å¤§äº</p>
<h4 id="434-é€»è¾‘ä»¿å‡½æ•°"><a class="markdownIt-Anchor" href="#434-é€»è¾‘ä»¿å‡½æ•°"></a> 4.3.4 é€»è¾‘ä»¿å‡½æ•°</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å®ç°é€»è¾‘è¿ç®—</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>template&lt;class T&gt; bool logical_and&lt;T&gt;</code> //é€»è¾‘ä¸</li>
<li><code>template&lt;class T&gt; bool logical_or&lt;T&gt;</code> //é€»è¾‘æˆ–</li>
<li><code>template&lt;class T&gt; bool logical_not&lt;T&gt;</code> //é€»è¾‘é</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">bool</span>&gt; v;</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="literal">true</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="literal">false</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="literal">true</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (vector&lt;<span class="type">bool</span>&gt;::iterator it = v.<span class="built_in">begin</span>();it!= v.<span class="built_in">end</span>();it++)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//é€»è¾‘é  å°†vå®¹å™¨æ¬è¿åˆ°v2ä¸­ï¼Œå¹¶æ‰§è¡Œé€»è¾‘éè¿ç®—</span></span><br><span class="line">	vector&lt;<span class="type">bool</span>&gt; v2;</span><br><span class="line">	v2.<span class="built_in">resize</span>(v.<span class="built_in">size</span>());</span><br><span class="line">	<span class="built_in">transform</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(),  v2.<span class="built_in">begin</span>(), <span class="built_in">logical_not</span>&lt;<span class="type">bool</span>&gt;());</span><br><span class="line">	<span class="keyword">for</span> (vector&lt;<span class="type">bool</span>&gt;::iterator it = v2.<span class="built_in">begin</span>(); it != v2.<span class="built_in">end</span>(); it++)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šé€»è¾‘ä»¿å‡½æ•°å®é™…åº”ç”¨è¾ƒå°‘ï¼Œäº†è§£å³å¯</p>
<h2 id="5-stl-å¸¸ç”¨ç®—æ³•"><a class="markdownIt-Anchor" href="#5-stl-å¸¸ç”¨ç®—æ³•"></a> 5 STL- å¸¸ç”¨ç®—æ³•</h2>
<p><strong>æ¦‚è¿°</strong> :</p>
<ul>
<li>ç®—æ³•ä¸»è¦æ˜¯ç”±å¤´æ–‡ä»¶<code>&lt;algorithm&gt;</code> <code>&lt;functional&gt;</code> <code>&lt;numeric&gt;</code>ç»„æˆã€‚</li>
<li><code>&lt;algorithm&gt;</code>æ˜¯æ‰€æœ‰STLå¤´æ–‡ä»¶ä¸­æœ€å¤§çš„ä¸€ä¸ªï¼ŒèŒƒå›´æ¶‰åŠåˆ°æ¯”è¾ƒã€ äº¤æ¢ã€æŸ¥æ‰¾ã€éå†æ“ä½œã€å¤åˆ¶ã€ä¿®æ”¹ç­‰ç­‰</li>
<li><code>&lt;numeric&gt;</code>ä½“ç§¯å¾ˆå°ï¼ŒåªåŒ…æ‹¬å‡ ä¸ªåœ¨åºåˆ—ä¸Šé¢è¿›è¡Œç®€å•æ•°å­¦è¿ç®—çš„æ¨¡æ¿å‡½æ•°</li>
<li><code>&lt;functional&gt;</code>å®šä¹‰äº†ä¸€äº›æ¨¡æ¿ç±»,ç”¨ä»¥å£°æ˜å‡½æ•°å¯¹è±¡ã€‚</li>
</ul>
<h3 id="51-å¸¸ç”¨éå†ç®—æ³•"><a class="markdownIt-Anchor" href="#51-å¸¸ç”¨éå†ç®—æ³•"></a> 5.1 å¸¸ç”¨éå†ç®—æ³•</h3>
<p><strong>å­¦ä¹ ç›®æ ‡ï¼š</strong></p>
<ul>
<li>æŒæ¡å¸¸ç”¨çš„éå†ç®—æ³•</li>
</ul>
<p><strong>ç®—æ³•ç®€ä»‹ï¼š</strong></p>
<ul>
<li><code>for_each</code> //éå†å®¹å™¨</li>
<li><code>transform</code> //æ¬è¿å®¹å™¨åˆ°å¦ä¸€ä¸ªå®¹å™¨ä¸­</li>
</ul>
<h4 id="511-for_each"><a class="markdownIt-Anchor" href="#511-for_each"></a> 5.1.1 for_each</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å®ç°éå†å®¹å™¨</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>for_each(iterator beg, iterator end, _func);</code><br />
// éå†ç®—æ³• éå†å®¹å™¨å…ƒç´ <br />
// beg å¼€å§‹è¿­ä»£å™¨<br />
// end ç»“æŸè¿­ä»£å™¨<br />
// _func å‡½æ•°æˆ–è€…å‡½æ•°å¯¹è±¡</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ™®é€šå‡½æ•°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print01</span><span class="params">(<span class="type">int</span> val)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å‡½æ•°å¯¹è±¡</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">print02</span> </span><br><span class="line">&#123;</span><br><span class="line"> <span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span> </span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//for_eachç®—æ³•åŸºæœ¬ç”¨æ³•</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) </span><br><span class="line">	&#123;</span><br><span class="line">		v.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//éå†ç®—æ³•</span></span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), print01);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">print02</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>**æ€»ç»“ï¼š**for_eachåœ¨å®é™…å¼€å‘ä¸­æ˜¯æœ€å¸¸ç”¨éå†ç®—æ³•ï¼Œéœ€è¦ç†Ÿç»ƒæŒæ¡</p>
<h4 id="512-transform"><a class="markdownIt-Anchor" href="#512-transform"></a> 5.1.2 transform</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>æ¬è¿å®¹å™¨åˆ°å¦ä¸€ä¸ªå®¹å™¨ä¸­</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>transform(iterator beg1, iterator end1, iterator beg2, _func);</code></li>
</ul>
<p>//beg1 æºå®¹å™¨å¼€å§‹è¿­ä»£å™¨</p>
<p>//end1 æºå®¹å™¨ç»“æŸè¿­ä»£å™¨</p>
<p>//beg2 ç›®æ ‡å®¹å™¨å¼€å§‹è¿­ä»£å™¨</p>
<p>//_func å‡½æ•°æˆ–è€…å‡½æ•°å¯¹è±¡</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¸¸ç”¨éå†ç®—æ³•  æ¬è¿ transform</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TransForm</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> val;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyPrint</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt;v;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		v.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt;vTarget; <span class="comment">//ç›®æ ‡å®¹å™¨</span></span><br><span class="line"></span><br><span class="line">	vTarget.<span class="built_in">resize</span>(v.<span class="built_in">size</span>()); <span class="comment">// ç›®æ ‡å®¹å™¨éœ€è¦æå‰å¼€è¾Ÿç©ºé—´</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">transform</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), vTarget.<span class="built_in">begin</span>(), <span class="built_in">TransForm</span>());</span><br><span class="line"></span><br><span class="line">	for_each(vTarget.<span class="built_in">begin</span>(), vTarget.<span class="built_in">end</span>(), <span class="built_in">MyPrint</span>());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ€»ç»“ï¼š</strong> æ¬è¿çš„ç›®æ ‡å®¹å™¨å¿…é¡»è¦æå‰å¼€è¾Ÿç©ºé—´ï¼Œå¦åˆ™æ— æ³•æ­£å¸¸æ¬è¿</p>
<h3 id="52-å¸¸ç”¨æŸ¥æ‰¾ç®—æ³•"><a class="markdownIt-Anchor" href="#52-å¸¸ç”¨æŸ¥æ‰¾ç®—æ³•"></a> 5.2 å¸¸ç”¨æŸ¥æ‰¾ç®—æ³•</h3>
<p>å­¦ä¹ ç›®æ ‡ï¼š</p>
<ul>
<li>æŒæ¡å¸¸ç”¨çš„æŸ¥æ‰¾ç®—æ³•</li>
</ul>
<p><strong>ç®—æ³•ç®€ä»‹ï¼š</strong></p>
<ul>
<li><code>find</code> //æŸ¥æ‰¾å…ƒç´ </li>
<li><code>find_if</code> //æŒ‰æ¡ä»¶æŸ¥æ‰¾å…ƒç´ </li>
<li><code>adjacent_find</code> //æŸ¥æ‰¾ç›¸é‚»é‡å¤å…ƒç´ </li>
<li><code>binary_search</code> //äºŒåˆ†æŸ¥æ‰¾æ³•</li>
<li><code>count</code> //ç»Ÿè®¡å…ƒç´ ä¸ªæ•°</li>
<li><code>count_if</code> //æŒ‰æ¡ä»¶ç»Ÿè®¡å…ƒç´ ä¸ªæ•°</li>
</ul>
<h4 id="521-find"><a class="markdownIt-Anchor" href="#521-find"></a> 5.2.1 find</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>æŸ¥æ‰¾æŒ‡å®šå…ƒç´ ï¼Œæ‰¾åˆ°è¿”å›æŒ‡å®šå…ƒç´ çš„è¿­ä»£å™¨ï¼Œæ‰¾ä¸åˆ°è¿”å›ç»“æŸè¿­ä»£å™¨end()</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>find(iterator beg, iterator end, value);</code><br />
// æŒ‰å€¼æŸ¥æ‰¾å…ƒç´ ï¼Œæ‰¾åˆ°è¿”å›æŒ‡å®šä½ç½®è¿­ä»£å™¨ï¼Œæ‰¾ä¸åˆ°è¿”å›ç»“æŸè¿­ä»£å™¨ä½ç½®<br />
// beg å¼€å§‹è¿­ä»£å™¨<br />
// end ç»“æŸè¿­ä»£å™¨<br />
// value æŸ¥æ‰¾çš„å…ƒç´ </li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">		v.<span class="built_in">push_back</span>(i + <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//æŸ¥æ‰¾å®¹å™¨ä¸­æ˜¯å¦æœ‰ 5 è¿™ä¸ªå…ƒç´ </span></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt;::iterator it = <span class="built_in">find</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">5</span>);</span><br><span class="line">	<span class="keyword">if</span> (it == v.<span class="built_in">end</span>()) </span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;æ²¡æœ‰æ‰¾åˆ°!&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> </span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;æ‰¾åˆ°:&quot;</span> &lt;&lt; *it &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Person</span>(string name, <span class="type">int</span> age) </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//é‡è½½==</span></span><br><span class="line">	<span class="type">bool</span> <span class="keyword">operator</span>==(<span class="type">const</span> Person&amp; p) </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="keyword">this</span>-&gt;m_Name == p.m_Name &amp;&amp; <span class="keyword">this</span>-&gt;m_Age == p.m_Age) </span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	string m_Name;</span><br><span class="line">	<span class="type">int</span> m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	vector&lt;Person&gt; v;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//åˆ›å»ºæ•°æ®</span></span><br><span class="line">	<span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">&quot;aaa&quot;</span>, <span class="number">10</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">&quot;bbb&quot;</span>, <span class="number">20</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p3</span><span class="params">(<span class="string">&quot;ccc&quot;</span>, <span class="number">30</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p4</span><span class="params">(<span class="string">&quot;ddd&quot;</span>, <span class="number">40</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">	v.<span class="built_in">push_back</span>(p1);</span><br><span class="line">	v.<span class="built_in">push_back</span>(p2);</span><br><span class="line">	v.<span class="built_in">push_back</span>(p3);</span><br><span class="line">	v.<span class="built_in">push_back</span>(p4);</span><br><span class="line"></span><br><span class="line">	vector&lt;Person&gt;::iterator it = <span class="built_in">find</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), p2);</span><br><span class="line">	<span class="keyword">if</span> (it == v.<span class="built_in">end</span>()) </span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;æ²¡æœ‰æ‰¾åˆ°!&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> </span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;æ‰¾åˆ°å§“å:&quot;</span> &lt;&lt; it-&gt;m_Name &lt;&lt; <span class="string">&quot; å¹´é¾„: &quot;</span> &lt;&lt; it-&gt;m_Age &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š åˆ©ç”¨findå¯ä»¥åœ¨å®¹å™¨ä¸­æ‰¾æŒ‡å®šçš„å…ƒç´ ï¼Œè¿”å›å€¼æ˜¯<strong>è¿­ä»£å™¨</strong></p>
<h4 id="522-find_if"><a class="markdownIt-Anchor" href="#522-find_if"></a> 5.2.2 find_if</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>æŒ‰æ¡ä»¶æŸ¥æ‰¾å…ƒç´ </li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>find_if(iterator beg, iterator end, _Pred);</code><br />
// æŒ‰å€¼æŸ¥æ‰¾å…ƒç´ ï¼Œæ‰¾åˆ°è¿”å›æŒ‡å®šä½ç½®è¿­ä»£å™¨ï¼Œæ‰¾ä¸åˆ°è¿”å›ç»“æŸè¿­ä»£å™¨ä½ç½®<br />
// beg å¼€å§‹è¿­ä»£å™¨<br />
// end ç»“æŸè¿­ä»£å™¨<br />
// _Pred å‡½æ•°æˆ–è€…è°“è¯ï¼ˆè¿”å›boolç±»å‹çš„ä»¿å‡½æ•°ï¼‰</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å†…ç½®æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GreaterFive</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> val &gt; <span class="number">5</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">		v.<span class="built_in">push_back</span>(i + <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt;::iterator it = <span class="built_in">find_if</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">GreaterFive</span>());</span><br><span class="line">	<span class="keyword">if</span> (it == v.<span class="built_in">end</span>()) &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;æ²¡æœ‰æ‰¾åˆ°!&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;æ‰¾åˆ°å¤§äº5çš„æ•°å­—:&quot;</span> &lt;&lt; *it &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è‡ªå®šä¹‰æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Person</span>(string name, <span class="type">int</span> age)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Age = age;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	string m_Name;</span><br><span class="line">	<span class="type">int</span> m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Greater20</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(Person &amp;p)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> p.m_Age &gt; <span class="number">20</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	vector&lt;Person&gt; v;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//åˆ›å»ºæ•°æ®</span></span><br><span class="line">	<span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">&quot;aaa&quot;</span>, <span class="number">10</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">&quot;bbb&quot;</span>, <span class="number">20</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p3</span><span class="params">(<span class="string">&quot;ccc&quot;</span>, <span class="number">30</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p4</span><span class="params">(<span class="string">&quot;ddd&quot;</span>, <span class="number">40</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">	v.<span class="built_in">push_back</span>(p1);</span><br><span class="line">	v.<span class="built_in">push_back</span>(p2);</span><br><span class="line">	v.<span class="built_in">push_back</span>(p3);</span><br><span class="line">	v.<span class="built_in">push_back</span>(p4);</span><br><span class="line"></span><br><span class="line">	vector&lt;Person&gt;::iterator it = <span class="built_in">find_if</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">Greater20</span>());</span><br><span class="line">	<span class="keyword">if</span> (it == v.<span class="built_in">end</span>())</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;æ²¡æœ‰æ‰¾åˆ°!&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;æ‰¾åˆ°å§“å:&quot;</span> &lt;&lt; it-&gt;m_Name &lt;&lt; <span class="string">&quot; å¹´é¾„: &quot;</span> &lt;&lt; it-&gt;m_Age &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//test01();</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">test02</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šfind_ifæŒ‰æ¡ä»¶æŸ¥æ‰¾ä½¿æŸ¥æ‰¾æ›´åŠ çµæ´»ï¼Œæä¾›çš„ä»¿å‡½æ•°å¯ä»¥æ”¹å˜ä¸åŒçš„ç­–ç•¥</p>
<h4 id="523-adjacent_find"><a class="markdownIt-Anchor" href="#523-adjacent_find"></a> 5.2.3 adjacent_find</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>æŸ¥æ‰¾ç›¸é‚»é‡å¤å…ƒç´ </li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>adjacent_find(iterator beg, iterator end);</code><br />
// æŸ¥æ‰¾ç›¸é‚»é‡å¤å…ƒç´ ,è¿”å›ç›¸é‚»å…ƒç´ çš„ç¬¬ä¸€ä¸ªä½ç½®çš„è¿­ä»£å™¨<br />
// beg å¼€å§‹è¿­ä»£å™¨<br />
// end ç»“æŸè¿­ä»£å™¨</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">2</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">5</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">2</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">4</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">4</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//æŸ¥æ‰¾ç›¸é‚»é‡å¤å…ƒç´ </span></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt;::iterator it = <span class="built_in">adjacent_find</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());</span><br><span class="line">	<span class="keyword">if</span> (it == v.<span class="built_in">end</span>()) &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;æ‰¾ä¸åˆ°!&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;æ‰¾åˆ°ç›¸é‚»é‡å¤å…ƒç´ ä¸º:&quot;</span> &lt;&lt; *it &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šé¢è¯•é¢˜ä¸­å¦‚æœå‡ºç°æŸ¥æ‰¾ç›¸é‚»é‡å¤å…ƒç´ ï¼Œè®°å¾—ç”¨STLä¸­çš„adjacent_findç®—æ³•</p>
<h4 id="524-binary_search"><a class="markdownIt-Anchor" href="#524-binary_search"></a> 5.2.4 binary_search</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>æŸ¥æ‰¾æŒ‡å®šå…ƒç´ æ˜¯å¦å­˜åœ¨</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>bool binary_search(iterator beg, iterator end, value);</code><br />
// æŸ¥æ‰¾æŒ‡å®šçš„å…ƒç´ ï¼ŒæŸ¥åˆ° è¿”å›true å¦åˆ™false<br />
// æ³¨æ„: åœ¨<strong>æ— åºåºåˆ—ä¸­ä¸å¯ç”¨</strong><br />
// beg å¼€å§‹è¿­ä»£å™¨<br />
// end ç»“æŸè¿­ä»£å™¨<br />
// value æŸ¥æ‰¾çš„å…ƒç´ </li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt;v;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		v.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//äºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line">	<span class="type">bool</span> ret = <span class="built_in">binary_search</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(),<span class="number">2</span>);</span><br><span class="line">	<span class="keyword">if</span> (ret)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;æ‰¾åˆ°äº†&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;æœªæ‰¾åˆ°&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>**æ€»ç»“ï¼š**äºŒåˆ†æŸ¥æ‰¾æ³•æŸ¥æ‰¾æ•ˆç‡å¾ˆé«˜ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯æŸ¥æ‰¾çš„å®¹å™¨ä¸­å…ƒç´ å¿…é¡»çš„æœ‰åºåºåˆ—</p>
<h4 id="525-count"><a class="markdownIt-Anchor" href="#525-count"></a> 5.2.5 count</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>ç»Ÿè®¡å…ƒç´ ä¸ªæ•°</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>count(iterator beg, iterator end, value);</code><br />
// ç»Ÿè®¡å…ƒç´ å‡ºç°æ¬¡æ•°<br />
// beg å¼€å§‹è¿­ä»£å™¨<br />
// end ç»“æŸè¿­ä»£å™¨<br />
// value ç»Ÿè®¡çš„å…ƒç´ </li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å†…ç½®æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">2</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">4</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">5</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">4</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> num = <span class="built_in">count</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;4çš„ä¸ªæ•°ä¸ºï¼š &quot;</span> &lt;&lt; num &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è‡ªå®šä¹‰æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Person</span>(string name, <span class="type">int</span> age)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">bool</span> <span class="keyword">operator</span>==(<span class="type">const</span> Person &amp; p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="keyword">this</span>-&gt;m_Age == p.m_Age)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	string m_Name;</span><br><span class="line">	<span class="type">int</span> m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;Person&gt; v;</span><br><span class="line"></span><br><span class="line">	<span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">&quot;åˆ˜å¤‡&quot;</span>, <span class="number">35</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">&quot;å…³ç¾½&quot;</span>, <span class="number">35</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p3</span><span class="params">(<span class="string">&quot;å¼ é£&quot;</span>, <span class="number">35</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p4</span><span class="params">(<span class="string">&quot;èµµäº‘&quot;</span>, <span class="number">30</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p5</span><span class="params">(<span class="string">&quot;æ›¹æ“&quot;</span>, <span class="number">25</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">	v.<span class="built_in">push_back</span>(p1);</span><br><span class="line">	v.<span class="built_in">push_back</span>(p2);</span><br><span class="line">	v.<span class="built_in">push_back</span>(p3);</span><br><span class="line">	v.<span class="built_in">push_back</span>(p4);</span><br><span class="line">	v.<span class="built_in">push_back</span>(p5);</span><br><span class="line">  </span><br><span class="line">    <span class="function">Person <span class="title">p</span><span class="params">(<span class="string">&quot;è¯¸è‘›äº®&quot;</span>,<span class="number">35</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> num = <span class="built_in">count</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), p);</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;num = &quot;</span> &lt;&lt; num &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//test01();</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">test02</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ€»ç»“ï¼š</strong> ç»Ÿè®¡è‡ªå®šä¹‰æ•°æ®ç±»å‹æ—¶å€™ï¼Œéœ€è¦é…åˆé‡è½½ <code>operator==</code></p>
<h4 id="526-count_if"><a class="markdownIt-Anchor" href="#526-count_if"></a> 5.2.6 count_if</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>æŒ‰æ¡ä»¶ç»Ÿè®¡å…ƒç´ ä¸ªæ•°</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>count_if(iterator beg, iterator end, _Pred);</code><br />
// æŒ‰æ¡ä»¶ç»Ÿè®¡å…ƒç´ å‡ºç°æ¬¡æ•°<br />
// beg å¼€å§‹è¿­ä»£å™¨<br />
// end ç»“æŸè¿­ä»£å™¨<br />
// _Pred è°“è¯</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Greater4</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> val &gt;= <span class="number">4</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å†…ç½®æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">2</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">4</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">5</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">4</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> num = <span class="built_in">count_if</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">Greater4</span>());</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;å¤§äº4çš„ä¸ªæ•°ä¸ºï¼š &quot;</span> &lt;&lt; num &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è‡ªå®šä¹‰æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Person</span>(string name, <span class="type">int</span> age)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line">		<span class="keyword">this</span>-&gt;m_Age = age;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	string m_Name;</span><br><span class="line">	<span class="type">int</span> m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AgeLess35</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">const</span> Person &amp;p)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> p.m_Age &lt; <span class="number">35</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;Person&gt; v;</span><br><span class="line"></span><br><span class="line">	<span class="function">Person <span class="title">p1</span><span class="params">(<span class="string">&quot;åˆ˜å¤‡&quot;</span>, <span class="number">35</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p2</span><span class="params">(<span class="string">&quot;å…³ç¾½&quot;</span>, <span class="number">35</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p3</span><span class="params">(<span class="string">&quot;å¼ é£&quot;</span>, <span class="number">35</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p4</span><span class="params">(<span class="string">&quot;èµµäº‘&quot;</span>, <span class="number">30</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p5</span><span class="params">(<span class="string">&quot;æ›¹æ“&quot;</span>, <span class="number">25</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">	v.<span class="built_in">push_back</span>(p1);</span><br><span class="line">	v.<span class="built_in">push_back</span>(p2);</span><br><span class="line">	v.<span class="built_in">push_back</span>(p3);</span><br><span class="line">	v.<span class="built_in">push_back</span>(p4);</span><br><span class="line">	v.<span class="built_in">push_back</span>(p5);</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> num = <span class="built_in">count_if</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">AgeLess35</span>());</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;å°äº35å²çš„ä¸ªæ•°ï¼š&quot;</span> &lt;&lt; num &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//test01();</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">test02</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>**æ€»ç»“ï¼š**æŒ‰å€¼ç»Ÿè®¡ç”¨countï¼ŒæŒ‰æ¡ä»¶ç»Ÿè®¡ç”¨count_if</p>
<h3 id="53-å¸¸ç”¨æ’åºç®—æ³•"><a class="markdownIt-Anchor" href="#53-å¸¸ç”¨æ’åºç®—æ³•"></a> 5.3 å¸¸ç”¨æ’åºç®—æ³•</h3>
<p><strong>å­¦ä¹ ç›®æ ‡ï¼š</strong></p>
<ul>
<li>æŒæ¡å¸¸ç”¨çš„æ’åºç®—æ³•</li>
</ul>
<p><strong>ç®—æ³•ç®€ä»‹ï¼š</strong></p>
<ul>
<li><code>sort</code> //å¯¹å®¹å™¨å†…å…ƒç´ è¿›è¡Œæ’åº</li>
<li><code>random_shuffle</code> //æ´—ç‰Œ æŒ‡å®šèŒƒå›´å†…çš„å…ƒç´ éšæœºè°ƒæ•´æ¬¡åº</li>
<li><code>merge</code> // å®¹å™¨å…ƒç´ åˆå¹¶ï¼Œå¹¶å­˜å‚¨åˆ°å¦ä¸€å®¹å™¨ä¸­</li>
<li><code>reverse</code> // åè½¬æŒ‡å®šèŒƒå›´çš„å…ƒç´ </li>
</ul>
<h4 id="531-sort"><a class="markdownIt-Anchor" href="#531-sort"></a> 5.3.1 sort</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å¯¹å®¹å™¨å†…å…ƒç´ è¿›è¡Œæ’åº</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>sort(iterator beg, iterator end, _Pred);</code><br />
// æŒ‰å€¼æŸ¥æ‰¾å…ƒç´ ï¼Œæ‰¾åˆ°è¿”å›æŒ‡å®šä½ç½®è¿­ä»£å™¨ï¼Œæ‰¾ä¸åˆ°è¿”å›ç»“æŸè¿­ä»£å™¨ä½ç½®<br />
// beg å¼€å§‹è¿­ä»£å™¨<br />
// end ç»“æŸè¿­ä»£å™¨<br />
// _Pred è°“è¯</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">myPrint</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">30</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">50</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">40</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//sorté»˜è®¤ä»å°åˆ°å¤§æ’åº</span></span><br><span class="line">	<span class="built_in">sort</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());</span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), myPrint);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//ä»å¤§åˆ°å°æ’åº</span></span><br><span class="line">	<span class="built_in">sort</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">greater</span>&lt;<span class="type">int</span>&gt;());</span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), myPrint);</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>**æ€»ç»“ï¼š**sortå±äºå¼€å‘ä¸­æœ€å¸¸ç”¨çš„ç®—æ³•ä¹‹ä¸€ï¼Œéœ€ç†Ÿç»ƒæŒæ¡</p>
<h4 id="532-random_shuffle"><a class="markdownIt-Anchor" href="#532-random_shuffle"></a> 5.3.2 random_shuffle</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>æ´—ç‰Œ æŒ‡å®šèŒƒå›´å†…çš„å…ƒç´ éšæœºè°ƒæ•´æ¬¡åº</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>random_shuffle(iterator beg, iterator end);</code><br />
// æŒ‡å®šèŒƒå›´å†…çš„å…ƒç´ éšæœºè°ƒæ•´æ¬¡åº<br />
// beg å¼€å§‹è¿­ä»£å™¨<br />
// end ç»“æŸè¿­ä»£å™¨</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myPrint</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">srand</span>((<span class="type">unsigned</span> <span class="type">int</span>)<span class="built_in">time</span>(<span class="literal">NULL</span>));</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">10</span>;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		v.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//æ‰“ä¹±é¡ºåº</span></span><br><span class="line">	<span class="built_in">random_shuffle</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());</span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>**æ€»ç»“ï¼š**random_shuffleæ´—ç‰Œç®—æ³•æ¯”è¾ƒå®ç”¨ï¼Œä½¿ç”¨æ—¶è®°å¾—åŠ éšæœºæ•°ç§å­</p>
<h4 id="533-merge"><a class="markdownIt-Anchor" href="#533-merge"></a> 5.3.3 merge</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>ä¸¤ä¸ªå®¹å™¨å…ƒç´ åˆå¹¶ï¼Œå¹¶å­˜å‚¨åˆ°å¦ä¸€å®¹å™¨ä¸­</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>merge(iterator beg1, iterator end1, iterator beg2, iterator end2, iterator dest);</code><br />
// å®¹å™¨å…ƒç´ åˆå¹¶ï¼Œå¹¶å­˜å‚¨åˆ°å¦ä¸€å®¹å™¨ä¸­<br />
// æ³¨æ„: ä¸¤ä¸ªå®¹å™¨å¿…é¡»æ˜¯<strong>æœ‰åºçš„</strong><br />
// beg1 å®¹å™¨1å¼€å§‹è¿­ä»£å™¨<br />
// end1 å®¹å™¨1ç»“æŸè¿­ä»£å™¨<br />
// beg2 å®¹å™¨2å¼€å§‹è¿­ä»£å™¨<br />
// end2 å®¹å™¨2ç»“æŸè¿­ä»£å™¨<br />
// dest ç›®æ ‡å®¹å™¨å¼€å§‹è¿­ä»£å™¨</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myPrint</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v2;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span> ; i++) </span><br><span class="line">    &#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">		v2.<span class="built_in">push_back</span>(i + <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; vtarget;</span><br><span class="line">	<span class="comment">//ç›®æ ‡å®¹å™¨éœ€è¦æå‰å¼€è¾Ÿç©ºé—´</span></span><br><span class="line">	vtarget.<span class="built_in">resize</span>(v1.<span class="built_in">size</span>() + v2.<span class="built_in">size</span>());</span><br><span class="line">	<span class="comment">//åˆå¹¶  éœ€è¦ä¸¤ä¸ªæœ‰åºåºåˆ—</span></span><br><span class="line">	<span class="built_in">merge</span>(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), vtarget.<span class="built_in">begin</span>());</span><br><span class="line">	for_each(vtarget.<span class="built_in">begin</span>(), vtarget.<span class="built_in">end</span>(), <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>**æ€»ç»“ï¼š**mergeåˆå¹¶çš„ä¸¤ä¸ªå®¹å™¨å¿…é¡»çš„æœ‰åºåºåˆ—</p>
<h4 id="534-reverse"><a class="markdownIt-Anchor" href="#534-reverse"></a> 5.3.4 reverse</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å°†å®¹å™¨å†…å…ƒç´ è¿›è¡Œåè½¬</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>reverse(iterator beg, iterator end);</code><br />
// åè½¬æŒ‡å®šèŒƒå›´çš„å…ƒç´ <br />
// beg å¼€å§‹è¿­ä»£å™¨<br />
// end ç»“æŸè¿­ä»£å™¨</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myPrint</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">30</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">50</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">40</span>);</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;åè½¬å‰ï¼š &quot;</span> &lt;&lt; endl;</span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;åè½¬åï¼š &quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">reverse</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());</span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>**æ€»ç»“ï¼š**reverseåè½¬åŒºé—´å†…å…ƒç´ ï¼Œé¢è¯•é¢˜å¯èƒ½æ¶‰åŠåˆ°</p>
<h3 id="54-å¸¸ç”¨æ‹·è´å’Œæ›¿æ¢ç®—æ³•"><a class="markdownIt-Anchor" href="#54-å¸¸ç”¨æ‹·è´å’Œæ›¿æ¢ç®—æ³•"></a> 5.4 å¸¸ç”¨æ‹·è´å’Œæ›¿æ¢ç®—æ³•</h3>
<p><strong>å­¦ä¹ ç›®æ ‡ï¼š</strong></p>
<ul>
<li>æŒæ¡å¸¸ç”¨çš„æ‹·è´å’Œæ›¿æ¢ç®—æ³•</li>
</ul>
<p><strong>ç®—æ³•ç®€ä»‹ï¼š</strong></p>
<ul>
<li><code>copy</code> // å®¹å™¨å†…æŒ‡å®šèŒƒå›´çš„å…ƒç´ æ‹·è´åˆ°å¦ä¸€å®¹å™¨ä¸­</li>
<li><code>replace</code> // å°†å®¹å™¨å†…æŒ‡å®šèŒƒå›´çš„æ—§å…ƒç´ ä¿®æ”¹ä¸ºæ–°å…ƒç´ </li>
<li><code>replace_if</code> // å®¹å™¨å†…æŒ‡å®šèŒƒå›´æ»¡è¶³æ¡ä»¶çš„å…ƒç´ æ›¿æ¢ä¸ºæ–°å…ƒç´ </li>
<li><code>swap</code> // äº’æ¢ä¸¤ä¸ªå®¹å™¨çš„å…ƒç´ </li>
</ul>
<h4 id="541-copy"><a class="markdownIt-Anchor" href="#541-copy"></a> 5.4.1 copy</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å®¹å™¨å†…æŒ‡å®šèŒƒå›´çš„å…ƒç´ æ‹·è´åˆ°å¦ä¸€å®¹å™¨ä¸­</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>copy(iterator beg, iterator end, iterator dest);</code><br />
// æŒ‰å€¼æŸ¥æ‰¾å…ƒç´ ï¼Œæ‰¾åˆ°è¿”å›æŒ‡å®šä½ç½®è¿­ä»£å™¨ï¼Œæ‰¾ä¸åˆ°è¿”å›ç»“æŸè¿­ä»£å™¨ä½ç½®<br />
// beg å¼€å§‹è¿­ä»£å™¨<br />
// end ç»“æŸè¿­ä»£å™¨<br />
// dest ç›®æ ‡èµ·å§‹è¿­ä»£å™¨</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myPrint</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i + <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v2;</span><br><span class="line">	v2.<span class="built_in">resize</span>(v1.<span class="built_in">size</span>());</span><br><span class="line">	<span class="built_in">copy</span>(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), v2.<span class="built_in">begin</span>());</span><br><span class="line"></span><br><span class="line">	for_each(v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>**æ€»ç»“ï¼š**åˆ©ç”¨copyç®—æ³•åœ¨æ‹·è´æ—¶ï¼Œç›®æ ‡å®¹å™¨è®°å¾—æå‰å¼€è¾Ÿç©ºé—´</p>
<h4 id="542-replace"><a class="markdownIt-Anchor" href="#542-replace"></a> 5.4.2 replace</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å°†å®¹å™¨å†…æŒ‡å®šèŒƒå›´çš„æ—§å…ƒç´ ä¿®æ”¹ä¸ºæ–°å…ƒç´ </li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>replace(iterator beg, iterator end, oldvalue, newvalue);</code><br />
// å°†åŒºé—´å†…æ—§å…ƒç´  æ›¿æ¢æˆ æ–°å…ƒç´ <br />
// beg å¼€å§‹è¿­ä»£å™¨<br />
// end ç»“æŸè¿­ä»£å™¨<br />
// oldvalue æ—§å…ƒç´ <br />
// newvalue æ–°å…ƒç´ </li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myPrint</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">30</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">40</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">50</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;æ›¿æ¢å‰ï¼š&quot;</span> &lt;&lt; endl;</span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//å°†å®¹å™¨ä¸­çš„20 æ›¿æ¢æˆ 2000</span></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;æ›¿æ¢åï¼š&quot;</span> &lt;&lt; endl;</span><br><span class="line">	<span class="built_in">replace</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">20</span>,<span class="number">2000</span>);</span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>**æ€»ç»“ï¼š**replaceä¼šæ›¿æ¢åŒºé—´å†…æ»¡è¶³æ¡ä»¶çš„å…ƒç´ </p>
<h4 id="543-replace_if"><a class="markdownIt-Anchor" href="#543-replace_if"></a> 5.4.3 replace_if</h4>
<p><strong>åŠŸèƒ½æè¿°:</strong></p>
<ul>
<li>å°†åŒºé—´å†…æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ï¼Œæ›¿æ¢æˆæŒ‡å®šå…ƒç´ </li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>replace_if(iterator beg, iterator end, _pred, newvalue);</code><br />
// æŒ‰æ¡ä»¶æ›¿æ¢å…ƒç´ ï¼Œæ»¡è¶³æ¡ä»¶çš„æ›¿æ¢æˆæŒ‡å®šå…ƒç´ <br />
// beg å¼€å§‹è¿­ä»£å™¨<br />
// end ç»“æŸè¿­ä»£å™¨<br />
// _pred è°“è¯<br />
// newvalue æ›¿æ¢çš„æ–°å…ƒç´ </li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myPrint</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ReplaceGreater30</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> val &gt;= <span class="number">30</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">30</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">40</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">50</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;æ›¿æ¢å‰ï¼š&quot;</span> &lt;&lt; endl;</span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//å°†å®¹å™¨ä¸­å¤§äºç­‰äºçš„30 æ›¿æ¢æˆ 3000</span></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;æ›¿æ¢åï¼š&quot;</span> &lt;&lt; endl;</span><br><span class="line">	<span class="built_in">replace_if</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ReplaceGreater30</span>(), <span class="number">3000</span>);</span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>**æ€»ç»“ï¼š**replace_ifæŒ‰æ¡ä»¶æŸ¥æ‰¾ï¼Œå¯ä»¥åˆ©ç”¨ä»¿å‡½æ•°çµæ´»ç­›é€‰æ»¡è¶³çš„æ¡ä»¶</p>
<h4 id="544-swap"><a class="markdownIt-Anchor" href="#544-swap"></a> 5.4.4 swap</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>äº’æ¢ä¸¤ä¸ªå®¹å™¨çš„å…ƒç´ </li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>swap(container c1, container c2);</code><br />
// äº’æ¢ä¸¤ä¸ªå®¹å™¨çš„å…ƒç´ <br />
// c1å®¹å™¨1<br />
// c2å®¹å™¨2</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myPrint</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v2;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">		v2.<span class="built_in">push_back</span>(i+<span class="number">100</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;äº¤æ¢å‰ï¼š &quot;</span> &lt;&lt; endl;</span><br><span class="line">	for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	for_each(v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;äº¤æ¢åï¼š &quot;</span> &lt;&lt; endl;</span><br><span class="line">	<span class="built_in">swap</span>(v1, v2);</span><br><span class="line">	for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	for_each(v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>**æ€»ç»“ï¼š**swapäº¤æ¢å®¹å™¨æ—¶ï¼Œæ³¨æ„äº¤æ¢çš„å®¹å™¨è¦åŒç§ç±»å‹</p>
<h3 id="55-å¸¸ç”¨ç®—æœ¯ç”Ÿæˆç®—æ³•"><a class="markdownIt-Anchor" href="#55-å¸¸ç”¨ç®—æœ¯ç”Ÿæˆç®—æ³•"></a> 5.5 å¸¸ç”¨ç®—æœ¯ç”Ÿæˆç®—æ³•</h3>
<p><strong>å­¦ä¹ ç›®æ ‡ï¼š</strong></p>
<ul>
<li>æŒæ¡å¸¸ç”¨çš„ç®—æœ¯ç”Ÿæˆç®—æ³•</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>ç®—æœ¯ç”Ÿæˆç®—æ³•å±äºå°å‹ç®—æ³•ï¼Œä½¿ç”¨æ—¶åŒ…å«çš„å¤´æ–‡ä»¶ä¸º <code>#include &lt;numeric&gt;</code></li>
</ul>
<p><strong>ç®—æ³•ç®€ä»‹ï¼š</strong></p>
<ul>
<li><code>accumulate</code> // è®¡ç®—å®¹å™¨å…ƒç´ ç´¯è®¡æ€»å’Œ</li>
<li><code>fill</code> // å‘å®¹å™¨ä¸­æ·»åŠ å…ƒç´ </li>
</ul>
<h4 id="551-accumulate"><a class="markdownIt-Anchor" href="#551-accumulate"></a> 5.5.1 accumulate</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>è®¡ç®—åŒºé—´å†… å®¹å™¨å…ƒç´ ç´¯è®¡æ€»å’Œ</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>accumulate(iterator beg, iterator end, value);</code><br />
// è®¡ç®—å®¹å™¨å…ƒç´ ç´¯è®¡æ€»å’Œ<br />
// beg å¼€å§‹è¿­ä»£å™¨<br />
// end ç»“æŸè¿­ä»£å™¨<br />
// value èµ·å§‹å€¼</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;numeric&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">		v.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> total = <span class="built_in">accumulate</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;total = &quot;</span> &lt;&lt; total &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>**æ€»ç»“ï¼š**accumulateä½¿ç”¨æ—¶å¤´æ–‡ä»¶æ³¨æ„æ˜¯ numericï¼Œè¿™ä¸ªç®—æ³•å¾ˆå®ç”¨</p>
<h4 id="552-fill"><a class="markdownIt-Anchor" href="#552-fill"></a> 5.5.2 fill</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å‘å®¹å™¨ä¸­å¡«å……æŒ‡å®šçš„å…ƒç´ </li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>fill(iterator beg, iterator end, value);</code><br />
// å‘å®¹å™¨ä¸­å¡«å……å…ƒç´ <br />
// beg å¼€å§‹è¿­ä»£å™¨<br />
// end ç»“æŸè¿­ä»£å™¨<br />
// value å¡«å……çš„å€¼</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;numeric&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myPrint</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">	v.<span class="built_in">resize</span>(<span class="number">10</span>);</span><br><span class="line">	<span class="comment">//å¡«å……</span></span><br><span class="line">	<span class="built_in">fill</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>**æ€»ç»“ï¼š**åˆ©ç”¨fillå¯ä»¥å°†å®¹å™¨åŒºé—´å†…å…ƒç´ å¡«å……ä¸º æŒ‡å®šçš„å€¼</p>
<h3 id="56-å¸¸ç”¨é›†åˆç®—æ³•"><a class="markdownIt-Anchor" href="#56-å¸¸ç”¨é›†åˆç®—æ³•"></a> 5.6 å¸¸ç”¨é›†åˆç®—æ³•</h3>
<p><strong>å­¦ä¹ ç›®æ ‡ï¼š</strong></p>
<ul>
<li>æŒæ¡å¸¸ç”¨çš„é›†åˆç®—æ³•</li>
</ul>
<p><strong>ç®—æ³•ç®€ä»‹ï¼š</strong></p>
<ul>
<li><code>set_intersection</code> // æ±‚ä¸¤ä¸ªå®¹å™¨çš„äº¤é›†</li>
<li><code>set_union</code> // æ±‚ä¸¤ä¸ªå®¹å™¨çš„å¹¶é›†</li>
<li><code>set_difference</code> // æ±‚ä¸¤ä¸ªå®¹å™¨çš„å·®é›†</li>
</ul>
<h4 id="561-set_intersection"><a class="markdownIt-Anchor" href="#561-set_intersection"></a> 5.6.1 set_intersection</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>æ±‚ä¸¤ä¸ªå®¹å™¨çš„äº¤é›†</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>set_intersection(iterator beg1, iterator end1, iterator beg2, iterator end2, iterator dest);</code><br />
// æ±‚ä¸¤ä¸ªé›†åˆçš„äº¤é›†<br />
// <strong>æ³¨æ„:ä¸¤ä¸ªé›†åˆå¿…é¡»æ˜¯æœ‰åºåºåˆ—</strong><br />
// beg1 å®¹å™¨1å¼€å§‹è¿­ä»£å™¨<br />
// end1 å®¹å™¨1ç»“æŸè¿­ä»£å™¨<br />
// beg2 å®¹å™¨2å¼€å§‹è¿­ä»£å™¨<br />
// end2 å®¹å™¨2ç»“æŸè¿­ä»£å™¨<br />
// dest ç›®æ ‡å®¹å™¨å¼€å§‹è¿­ä»£å™¨</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myPrint</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v2;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">		v2.<span class="built_in">push_back</span>(i+<span class="number">5</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; vTarget;</span><br><span class="line">	<span class="comment">//å–ä¸¤ä¸ªé‡Œé¢è¾ƒå°çš„å€¼ç»™ç›®æ ‡å®¹å™¨å¼€è¾Ÿç©ºé—´</span></span><br><span class="line">	vTarget.<span class="built_in">resize</span>(<span class="built_in">min</span>(v1.<span class="built_in">size</span>(), v2.<span class="built_in">size</span>()));</span><br><span class="line"></span><br><span class="line">	<span class="comment">//è¿”å›ç›®æ ‡å®¹å™¨çš„æœ€åä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨åœ°å€</span></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt;::iterator itEnd = </span><br><span class="line">        <span class="built_in">set_intersection</span>(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), vTarget.<span class="built_in">begin</span>());</span><br><span class="line"></span><br><span class="line">	for_each(vTarget.<span class="built_in">begin</span>(), itEnd, <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ€»ç»“ï¼š</strong></p>
<ul>
<li>æ±‚äº¤é›†çš„ä¸¤ä¸ªé›†åˆå¿…é¡»çš„æœ‰åºåºåˆ—</li>
<li>ç›®æ ‡å®¹å™¨å¼€è¾Ÿç©ºé—´éœ€è¦ä»<strong>ä¸¤ä¸ªå®¹å™¨ä¸­å–å°å€¼</strong></li>
<li>set_intersectionè¿”å›å€¼æ—¢æ˜¯äº¤é›†ä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½®</li>
</ul>
<h4 id="562-set_union"><a class="markdownIt-Anchor" href="#562-set_union"></a> 5.6.2 set_union</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>æ±‚ä¸¤ä¸ªé›†åˆçš„å¹¶é›†</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>set_union(iterator beg1, iterator end1, iterator beg2, iterator end2, iterator dest);</code><br />
// æ±‚ä¸¤ä¸ªé›†åˆçš„å¹¶é›†<br />
// <strong>æ³¨æ„:ä¸¤ä¸ªé›†åˆå¿…é¡»æ˜¯æœ‰åºåºåˆ—</strong><br />
// beg1 å®¹å™¨1å¼€å§‹è¿­ä»£å™¨<br />
// end1 å®¹å™¨1ç»“æŸè¿­ä»£å™¨<br />
// beg2 å®¹å™¨2å¼€å§‹è¿­ä»£å™¨<br />
// end2 å®¹å™¨2ç»“æŸè¿­ä»£å™¨<br />
// dest ç›®æ ‡å®¹å™¨å¼€å§‹è¿­ä»£å™¨</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myPrint</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v2;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">		v2.<span class="built_in">push_back</span>(i+<span class="number">5</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; vTarget;</span><br><span class="line">	<span class="comment">//å–ä¸¤ä¸ªå®¹å™¨çš„å’Œç»™ç›®æ ‡å®¹å™¨å¼€è¾Ÿç©ºé—´</span></span><br><span class="line">	vTarget.<span class="built_in">resize</span>(v1.<span class="built_in">size</span>() + v2.<span class="built_in">size</span>());</span><br><span class="line"></span><br><span class="line">	<span class="comment">//è¿”å›ç›®æ ‡å®¹å™¨çš„æœ€åä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨åœ°å€</span></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt;::iterator itEnd = </span><br><span class="line">        <span class="built_in">set_union</span>(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), vTarget.<span class="built_in">begin</span>());</span><br><span class="line"></span><br><span class="line">	for_each(vTarget.<span class="built_in">begin</span>(), itEnd, <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ€»ç»“ï¼š</strong></p>
<ul>
<li>æ±‚å¹¶é›†çš„ä¸¤ä¸ªé›†åˆå¿…é¡»çš„æœ‰åºåºåˆ—</li>
<li>ç›®æ ‡å®¹å™¨å¼€è¾Ÿç©ºé—´éœ€è¦<strong>ä¸¤ä¸ªå®¹å™¨ç›¸åŠ </strong></li>
<li>set_unionè¿”å›å€¼æ—¢æ˜¯å¹¶é›†ä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½®</li>
</ul>
<h4 id="563-set_difference"><a class="markdownIt-Anchor" href="#563-set_difference"></a> 5.6.3 set_difference</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>æ±‚ä¸¤ä¸ªé›†åˆçš„å·®é›†</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>set_difference(iterator beg1, iterator end1, iterator beg2, iterator end2, iterator dest);</code><br />
// æ±‚ä¸¤ä¸ªé›†åˆçš„å·®é›†<br />
// <strong>æ³¨æ„:ä¸¤ä¸ªé›†åˆå¿…é¡»æ˜¯æœ‰åºåºåˆ—</strong><br />
// beg1 å®¹å™¨1å¼€å§‹è¿­ä»£å™¨<br />
// end1 å®¹å™¨1ç»“æŸè¿­ä»£å™¨<br />
// beg2 å®¹å™¨2å¼€å§‹è¿­ä»£å™¨<br />
// end2 å®¹å™¨2ç»“æŸè¿­ä»£å™¨<br />
// dest ç›®æ ‡å®¹å™¨å¼€å§‹è¿­ä»£å™¨</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myPrint</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v2;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">		v2.<span class="built_in">push_back</span>(i+<span class="number">5</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; vTarget;</span><br><span class="line">	<span class="comment">//å–ä¸¤ä¸ªé‡Œé¢è¾ƒå¤§çš„å€¼ç»™ç›®æ ‡å®¹å™¨å¼€è¾Ÿç©ºé—´</span></span><br><span class="line">	vTarget.<span class="built_in">resize</span>( <span class="built_in">max</span>(v1.<span class="built_in">size</span>() , v2.<span class="built_in">size</span>()));</span><br><span class="line"></span><br><span class="line">	<span class="comment">//è¿”å›ç›®æ ‡å®¹å™¨çš„æœ€åä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨åœ°å€</span></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;v1ä¸v2çš„å·®é›†ä¸ºï¼š &quot;</span> &lt;&lt; endl;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt;::iterator itEnd = </span><br><span class="line">        <span class="built_in">set_difference</span>(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), vTarget.<span class="built_in">begin</span>());</span><br><span class="line">	for_each(vTarget.<span class="built_in">begin</span>(), itEnd, <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;v2ä¸v1çš„å·®é›†ä¸ºï¼š &quot;</span> &lt;&lt; endl;</span><br><span class="line">	itEnd = <span class="built_in">set_difference</span>(v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), vTarget.<span class="built_in">begin</span>());</span><br><span class="line">	for_each(vTarget.<span class="built_in">begin</span>(), itEnd, <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ€»ç»“ï¼š</strong></p>
<ul>
<li>æ±‚å·®é›†çš„ä¸¤ä¸ªé›†åˆå¿…é¡»çš„æœ‰åºåºåˆ—</li>
<li>ç›®æ ‡å®¹å™¨å¼€è¾Ÿç©ºé—´éœ€è¦ä»<strong>ä¸¤ä¸ªå®¹å™¨å–è¾ƒå¤§å€¼</strong><br />
id test01()<br />
{<br />
vector v1;<br />
for (int i = 0; i &lt; 10; i++) {<br />
v1.push_back(i + 1);<br />
}<br />
vector v2;<br />
v2.resize(v1.size());<br />
copy(v1.begin(), v1.end(), v2.begin());<br />
for_each(v2.begin(), v2.end(), myPrint());<br />
cout &lt;&lt; endl;<br />
}</li>
</ul>
<p>int main() {</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line"><span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure>
<p>}</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">**æ€»ç»“ï¼š**åˆ©ç”¨copyç®—æ³•åœ¨æ‹·è´æ—¶ï¼Œç›®æ ‡å®¹å™¨è®°å¾—æå‰å¼€è¾Ÿç©ºé—´</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### <span class="number">5.4</span><span class="number">.2</span> replace</span><br><span class="line"></span><br><span class="line">**åŠŸèƒ½æè¿°ï¼š**</span><br><span class="line"></span><br><span class="line">* å°†å®¹å™¨å†…æŒ‡å®šèŒƒå›´çš„æ—§å…ƒç´ ä¿®æ”¹ä¸ºæ–°å…ƒç´ </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">**å‡½æ•°åŸå‹ï¼š**</span><br><span class="line"></span><br><span class="line">- `<span class="built_in">replace</span>(iterator beg, iterator end, oldvalue, newvalue);  `</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å°†åŒºé—´å†…æ—§å…ƒç´  æ›¿æ¢æˆ æ–°å…ƒç´ </span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// beg å¼€å§‹è¿­ä»£å™¨</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// end ç»“æŸè¿­ä»£å™¨</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// oldvalue æ—§å…ƒç´ </span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// newvalue æ–°å…ƒç´ </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">**ç¤ºä¾‹ï¼š**</span><br><span class="line"></span><br><span class="line">```c++</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myPrint</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">30</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">40</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">50</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;æ›¿æ¢å‰ï¼š&quot;</span> &lt;&lt; endl;</span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//å°†å®¹å™¨ä¸­çš„20 æ›¿æ¢æˆ 2000</span></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;æ›¿æ¢åï¼š&quot;</span> &lt;&lt; endl;</span><br><span class="line">	<span class="built_in">replace</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">20</span>,<span class="number">2000</span>);</span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>**æ€»ç»“ï¼š**replaceä¼šæ›¿æ¢åŒºé—´å†…æ»¡è¶³æ¡ä»¶çš„å…ƒç´ </p>
<h4 id="543-replace_if-2"><a class="markdownIt-Anchor" href="#543-replace_if-2"></a> 5.4.3 replace_if</h4>
<p><strong>åŠŸèƒ½æè¿°:</strong></p>
<ul>
<li>å°†åŒºé—´å†…æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ï¼Œæ›¿æ¢æˆæŒ‡å®šå…ƒç´ </li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>replace_if(iterator beg, iterator end, _pred, newvalue);</code><br />
// æŒ‰æ¡ä»¶æ›¿æ¢å…ƒç´ ï¼Œæ»¡è¶³æ¡ä»¶çš„æ›¿æ¢æˆæŒ‡å®šå…ƒç´ <br />
// beg å¼€å§‹è¿­ä»£å™¨<br />
// end ç»“æŸè¿­ä»£å™¨<br />
// _pred è°“è¯<br />
// newvalue æ›¿æ¢çš„æ–°å…ƒç´ </li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myPrint</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ReplaceGreater30</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> val &gt;= <span class="number">30</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">30</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">40</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">50</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">	v.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;æ›¿æ¢å‰ï¼š&quot;</span> &lt;&lt; endl;</span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//å°†å®¹å™¨ä¸­å¤§äºç­‰äºçš„30 æ›¿æ¢æˆ 3000</span></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;æ›¿æ¢åï¼š&quot;</span> &lt;&lt; endl;</span><br><span class="line">	<span class="built_in">replace_if</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ReplaceGreater30</span>(), <span class="number">3000</span>);</span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>**æ€»ç»“ï¼š**replace_ifæŒ‰æ¡ä»¶æŸ¥æ‰¾ï¼Œå¯ä»¥åˆ©ç”¨ä»¿å‡½æ•°çµæ´»ç­›é€‰æ»¡è¶³çš„æ¡ä»¶</p>
<h4 id="544-swap-2"><a class="markdownIt-Anchor" href="#544-swap-2"></a> 5.4.4 swap</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>äº’æ¢ä¸¤ä¸ªå®¹å™¨çš„å…ƒç´ </li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>swap(container c1, container c2);</code><br />
// äº’æ¢ä¸¤ä¸ªå®¹å™¨çš„å…ƒç´ <br />
// c1å®¹å™¨1<br />
// c2å®¹å™¨2</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myPrint</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v2;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">		v2.<span class="built_in">push_back</span>(i+<span class="number">100</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;äº¤æ¢å‰ï¼š &quot;</span> &lt;&lt; endl;</span><br><span class="line">	for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	for_each(v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;äº¤æ¢åï¼š &quot;</span> &lt;&lt; endl;</span><br><span class="line">	<span class="built_in">swap</span>(v1, v2);</span><br><span class="line">	for_each(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	for_each(v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>**æ€»ç»“ï¼š**swapäº¤æ¢å®¹å™¨æ—¶ï¼Œæ³¨æ„äº¤æ¢çš„å®¹å™¨è¦åŒç§ç±»å‹</p>
<h3 id="55-å¸¸ç”¨ç®—æœ¯ç”Ÿæˆç®—æ³•-2"><a class="markdownIt-Anchor" href="#55-å¸¸ç”¨ç®—æœ¯ç”Ÿæˆç®—æ³•-2"></a> 5.5 å¸¸ç”¨ç®—æœ¯ç”Ÿæˆç®—æ³•</h3>
<p><strong>å­¦ä¹ ç›®æ ‡ï¼š</strong></p>
<ul>
<li>æŒæ¡å¸¸ç”¨çš„ç®—æœ¯ç”Ÿæˆç®—æ³•</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>ç®—æœ¯ç”Ÿæˆç®—æ³•å±äºå°å‹ç®—æ³•ï¼Œä½¿ç”¨æ—¶åŒ…å«çš„å¤´æ–‡ä»¶ä¸º <code>#include &lt;numeric&gt;</code></li>
</ul>
<p><strong>ç®—æ³•ç®€ä»‹ï¼š</strong></p>
<ul>
<li><code>accumulate</code> // è®¡ç®—å®¹å™¨å…ƒç´ ç´¯è®¡æ€»å’Œ</li>
<li><code>fill</code> // å‘å®¹å™¨ä¸­æ·»åŠ å…ƒç´ </li>
</ul>
<h4 id="551-accumulate-2"><a class="markdownIt-Anchor" href="#551-accumulate-2"></a> 5.5.1 accumulate</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>è®¡ç®—åŒºé—´å†… å®¹å™¨å…ƒç´ ç´¯è®¡æ€»å’Œ</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>accumulate(iterator beg, iterator end, value);</code><br />
// è®¡ç®—å®¹å™¨å…ƒç´ ç´¯è®¡æ€»å’Œ<br />
// beg å¼€å§‹è¿­ä»£å™¨<br />
// end ç»“æŸè¿­ä»£å™¨<br />
// value èµ·å§‹å€¼</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;numeric&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">		v.<span class="built_in">push_back</span>(i);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> total = <span class="built_in">accumulate</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;total = &quot;</span> &lt;&lt; total &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>**æ€»ç»“ï¼š**accumulateä½¿ç”¨æ—¶å¤´æ–‡ä»¶æ³¨æ„æ˜¯ numericï¼Œè¿™ä¸ªç®—æ³•å¾ˆå®ç”¨</p>
<h4 id="552-fill-2"><a class="markdownIt-Anchor" href="#552-fill-2"></a> 5.5.2 fill</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>å‘å®¹å™¨ä¸­å¡«å……æŒ‡å®šçš„å…ƒç´ </li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>fill(iterator beg, iterator end, value);</code><br />
// å‘å®¹å™¨ä¸­å¡«å……å…ƒç´ <br />
// beg å¼€å§‹è¿­ä»£å™¨<br />
// end ç»“æŸè¿­ä»£å™¨<br />
// value å¡«å……çš„å€¼</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;numeric&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myPrint</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">	v.<span class="built_in">resize</span>(<span class="number">10</span>);</span><br><span class="line">	<span class="comment">//å¡«å……</span></span><br><span class="line">	<span class="built_in">fill</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">	for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>**æ€»ç»“ï¼š**åˆ©ç”¨fillå¯ä»¥å°†å®¹å™¨åŒºé—´å†…å…ƒç´ å¡«å……ä¸º æŒ‡å®šçš„å€¼</p>
<h3 id="56-å¸¸ç”¨é›†åˆç®—æ³•-2"><a class="markdownIt-Anchor" href="#56-å¸¸ç”¨é›†åˆç®—æ³•-2"></a> 5.6 å¸¸ç”¨é›†åˆç®—æ³•</h3>
<p><strong>å­¦ä¹ ç›®æ ‡ï¼š</strong></p>
<ul>
<li>æŒæ¡å¸¸ç”¨çš„é›†åˆç®—æ³•</li>
</ul>
<p><strong>ç®—æ³•ç®€ä»‹ï¼š</strong></p>
<ul>
<li><code>set_intersection</code> // æ±‚ä¸¤ä¸ªå®¹å™¨çš„äº¤é›†</li>
<li><code>set_union</code> // æ±‚ä¸¤ä¸ªå®¹å™¨çš„å¹¶é›†</li>
<li><code>set_difference</code> // æ±‚ä¸¤ä¸ªå®¹å™¨çš„å·®é›†</li>
</ul>
<h4 id="561-set_intersection-2"><a class="markdownIt-Anchor" href="#561-set_intersection-2"></a> 5.6.1 set_intersection</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>æ±‚ä¸¤ä¸ªå®¹å™¨çš„äº¤é›†</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>set_intersection(iterator beg1, iterator end1, iterator beg2, iterator end2, iterator dest);</code><br />
// æ±‚ä¸¤ä¸ªé›†åˆçš„äº¤é›†<br />
// <strong>æ³¨æ„:ä¸¤ä¸ªé›†åˆå¿…é¡»æ˜¯æœ‰åºåºåˆ—</strong><br />
// beg1 å®¹å™¨1å¼€å§‹è¿­ä»£å™¨<br />
// end1 å®¹å™¨1ç»“æŸè¿­ä»£å™¨<br />
// beg2 å®¹å™¨2å¼€å§‹è¿­ä»£å™¨<br />
// end2 å®¹å™¨2ç»“æŸè¿­ä»£å™¨<br />
// dest ç›®æ ‡å®¹å™¨å¼€å§‹è¿­ä»£å™¨</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myPrint</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v2;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">		v2.<span class="built_in">push_back</span>(i+<span class="number">5</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; vTarget;</span><br><span class="line">	<span class="comment">//å–ä¸¤ä¸ªé‡Œé¢è¾ƒå°çš„å€¼ç»™ç›®æ ‡å®¹å™¨å¼€è¾Ÿç©ºé—´</span></span><br><span class="line">	vTarget.<span class="built_in">resize</span>(<span class="built_in">min</span>(v1.<span class="built_in">size</span>(), v2.<span class="built_in">size</span>()));</span><br><span class="line"></span><br><span class="line">	<span class="comment">//è¿”å›ç›®æ ‡å®¹å™¨çš„æœ€åä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨åœ°å€</span></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt;::iterator itEnd = </span><br><span class="line">        <span class="built_in">set_intersection</span>(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), vTarget.<span class="built_in">begin</span>());</span><br><span class="line"></span><br><span class="line">	for_each(vTarget.<span class="built_in">begin</span>(), itEnd, <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ€»ç»“ï¼š</strong></p>
<ul>
<li>æ±‚äº¤é›†çš„ä¸¤ä¸ªé›†åˆå¿…é¡»çš„æœ‰åºåºåˆ—</li>
<li>ç›®æ ‡å®¹å™¨å¼€è¾Ÿç©ºé—´éœ€è¦ä»<strong>ä¸¤ä¸ªå®¹å™¨ä¸­å–å°å€¼</strong></li>
<li>set_intersectionè¿”å›å€¼æ—¢æ˜¯äº¤é›†ä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½®</li>
</ul>
<h4 id="562-set_union-2"><a class="markdownIt-Anchor" href="#562-set_union-2"></a> 5.6.2 set_union</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>æ±‚ä¸¤ä¸ªé›†åˆçš„å¹¶é›†</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>set_union(iterator beg1, iterator end1, iterator beg2, iterator end2, iterator dest);</code><br />
// æ±‚ä¸¤ä¸ªé›†åˆçš„å¹¶é›†<br />
// <strong>æ³¨æ„:ä¸¤ä¸ªé›†åˆå¿…é¡»æ˜¯æœ‰åºåºåˆ—</strong><br />
// beg1 å®¹å™¨1å¼€å§‹è¿­ä»£å™¨<br />
// end1 å®¹å™¨1ç»“æŸè¿­ä»£å™¨<br />
// beg2 å®¹å™¨2å¼€å§‹è¿­ä»£å™¨<br />
// end2 å®¹å™¨2ç»“æŸè¿­ä»£å™¨<br />
// dest ç›®æ ‡å®¹å™¨å¼€å§‹è¿­ä»£å™¨</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myPrint</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v2;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">		v2.<span class="built_in">push_back</span>(i+<span class="number">5</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; vTarget;</span><br><span class="line">	<span class="comment">//å–ä¸¤ä¸ªå®¹å™¨çš„å’Œç»™ç›®æ ‡å®¹å™¨å¼€è¾Ÿç©ºé—´</span></span><br><span class="line">	vTarget.<span class="built_in">resize</span>(v1.<span class="built_in">size</span>() + v2.<span class="built_in">size</span>());</span><br><span class="line"></span><br><span class="line">	<span class="comment">//è¿”å›ç›®æ ‡å®¹å™¨çš„æœ€åä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨åœ°å€</span></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt;::iterator itEnd = </span><br><span class="line">        <span class="built_in">set_union</span>(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), vTarget.<span class="built_in">begin</span>());</span><br><span class="line"></span><br><span class="line">	for_each(vTarget.<span class="built_in">begin</span>(), itEnd, <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ€»ç»“ï¼š</strong></p>
<ul>
<li>æ±‚å¹¶é›†çš„ä¸¤ä¸ªé›†åˆå¿…é¡»çš„æœ‰åºåºåˆ—</li>
<li>ç›®æ ‡å®¹å™¨å¼€è¾Ÿç©ºé—´éœ€è¦<strong>ä¸¤ä¸ªå®¹å™¨ç›¸åŠ </strong></li>
<li>set_unionè¿”å›å€¼æ—¢æ˜¯å¹¶é›†ä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½®</li>
</ul>
<h4 id="563-set_difference-2"><a class="markdownIt-Anchor" href="#563-set_difference-2"></a> 5.6.3 set_difference</h4>
<p><strong>åŠŸèƒ½æè¿°ï¼š</strong></p>
<ul>
<li>æ±‚ä¸¤ä¸ªé›†åˆçš„å·®é›†</li>
</ul>
<p><strong>å‡½æ•°åŸå‹ï¼š</strong></p>
<ul>
<li><code>set_difference(iterator beg1, iterator end1, iterator beg2, iterator end2, iterator dest);</code><br />
// æ±‚ä¸¤ä¸ªé›†åˆçš„å·®é›†<br />
// <strong>æ³¨æ„:ä¸¤ä¸ªé›†åˆå¿…é¡»æ˜¯æœ‰åºåºåˆ—</strong><br />
// beg1 å®¹å™¨1å¼€å§‹è¿­ä»£å™¨<br />
// end1 å®¹å™¨1ç»“æŸè¿­ä»£å™¨<br />
// beg2 å®¹å™¨2å¼€å§‹è¿­ä»£å™¨<br />
// end2 å®¹å™¨2ç»“æŸè¿­ä»£å™¨<br />
// dest ç›®æ ‡å®¹å™¨å¼€å§‹è¿­ä»£å™¨</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myPrint</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v2;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">		v1.<span class="built_in">push_back</span>(i);</span><br><span class="line">		v2.<span class="built_in">push_back</span>(i+<span class="number">5</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; vTarget;</span><br><span class="line">	<span class="comment">//å–ä¸¤ä¸ªé‡Œé¢è¾ƒå¤§çš„å€¼ç»™ç›®æ ‡å®¹å™¨å¼€è¾Ÿç©ºé—´</span></span><br><span class="line">	vTarget.<span class="built_in">resize</span>( <span class="built_in">max</span>(v1.<span class="built_in">size</span>() , v2.<span class="built_in">size</span>()));</span><br><span class="line"></span><br><span class="line">	<span class="comment">//è¿”å›ç›®æ ‡å®¹å™¨çš„æœ€åä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨åœ°å€</span></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;v1ä¸v2çš„å·®é›†ä¸ºï¼š &quot;</span> &lt;&lt; endl;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt;::iterator itEnd = </span><br><span class="line">        <span class="built_in">set_difference</span>(v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), vTarget.<span class="built_in">begin</span>());</span><br><span class="line">	for_each(vTarget.<span class="built_in">begin</span>(), itEnd, <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;v2ä¸v1çš„å·®é›†ä¸ºï¼š &quot;</span> &lt;&lt; endl;</span><br><span class="line">	itEnd = <span class="built_in">set_difference</span>(v2.<span class="built_in">begin</span>(), v2.<span class="built_in">end</span>(), v1.<span class="built_in">begin</span>(), v1.<span class="built_in">end</span>(), vTarget.<span class="built_in">begin</span>());</span><br><span class="line">	for_each(vTarget.<span class="built_in">begin</span>(), itEnd, <span class="built_in">myPrint</span>());</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ€»ç»“ï¼š</strong></p>
<ul>
<li>æ±‚å·®é›†çš„ä¸¤ä¸ªé›†åˆå¿…é¡»çš„æœ‰åºåºåˆ—</li>
<li>ç›®æ ‡å®¹å™¨å¼€è¾Ÿç©ºé—´éœ€è¦ä»<strong>ä¸¤ä¸ªå®¹å™¨å–è¾ƒå¤§å€¼</strong></li>
<li>set_differenceè¿”å›å€¼æ—¢æ˜¯å·®é›†ä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½®</li>
</ul>
]]></content>
      <tags>
        <tag>study</tag>
        <tag>ç¬”è®°æ‘˜æŠ„</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcode_204_è®¡æ•°è´¨æ•°</title>
    <url>/2022/11/10/leetcode-204-%E8%AE%A1%E6%95%B0%E8%B4%A8%E6%95%B0/</url>
    <content><![CDATA[<p>è¿™ä¸€é¢˜æš´åŠ›æ³•è‚¯å®šä¸è¡Œâ€¦â€¦</p>
<p>ä½†æ˜¯è¿˜æ˜¯æœ‰å‡ ä¸ªå¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹, é¦–å…ˆå°±æ˜¯, å¦‚æœæƒ³åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯è´¨æ•°, ä¸éœ€è¦è®©ä¸€ä¸ªå˜é‡ä»2å¼€å§‹ä¸€ç›´é™¤åˆ°n-1, äº‹å®ä¸Šå‡å¦‚è¿™ä¸ªå¤§æ•°ä¸æ˜¯è´¨æ•°çš„è¯, å®ƒçš„ä¸€ä¸ªå› æ•°ä¸€å®šåœ¨sqrt(n)ä»¥å†…(å°äºç­‰äº), æ‰€ä»¥å¾ªç¯åšåˆ°è¿™æ ·å°±å¤Ÿäº†.</p>
<span id="more"></span>
<p>ç„¶åå°±æ˜¯å…³äºsqrtä¸éœ€è¦æ”¾åœ¨forå¾ªç¯è¯­å¥é‡Œé¢, æ¯”å¦‚åƒæ˜¯è¿™æ ·:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;=<span class="built_in">sqrt</span>(n); i++)&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·å…¶å®å¾ˆä¸å¥½, æ¯ä¸€æ¬¡å¾ªç¯åˆ°è¿™é‡Œéƒ½è¦ç®—ä¸€æ¬¡sqrt(n), ä¸€ä¸ªä¼˜åŒ–åŠæ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªå·²ç»ç®—å¥½çš„sqrt(n), è¿™æ ·ä¸ç”¨æ¯æ¬¡éƒ½ç®—.</p>
<p>å®é™…ä¸Šæœ€åæ˜¯ä½¿ç”¨è¿™ä¸ªå«åšåŸƒæ°ç­›é€‰çš„æ–¹æ³•:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">countPrimes</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">isPrime</span><span class="params">(n, <span class="number">1</span>)</span></span>;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (isPrime[i]) &#123;</span><br><span class="line">                ans += <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> ((<span class="type">long</span> <span class="type">long</span>)i * i &lt; n) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="type">int</span> j = i * i; j &lt; n; j += i) &#123;</span><br><span class="line">                        isPrime[j] = <span class="number">0</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">#ä½œè€…ï¼šLeetCode-Solution</span><br><span class="line">#é“¾æ¥ï¼šhttps:<span class="comment">//leetcode.cn/problems/count-primes/solution/ji-shu-zhi-shu-by-leetcode-solution/</span></span><br><span class="line">#æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰</span><br><span class="line">#è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯å®˜ç½‘çš„è§£æ. å…ˆåˆ›å»ºä¸€ä¸ªå¤§æ•°ç»„(å¤§å°æ˜¯n), ä¸€å¼€å§‹å…¨éƒ¨ç½®1è¡¨ç¤ºé»˜è®¤å…¨éƒ½æ˜¯è´¨æ•°. ç„¶åä»2å¼€å§‹, æ¯æ¬¡è¯»åˆ°ä¸€ä¸ªä¸º1çš„æ•°å­—, å°±æŠŠæ‰€æœ‰å®ƒçš„å€æ•°å…¨éƒ¨ç½®0, å¹¶ä¸”æŠŠæœ€åçš„ç»“æœ++, è¯»åˆ°0å°±è·³è¿‡.</p>
<p>æˆ‘ä¸€å¼€å§‹æ²¡æœ‰ç»†çœ‹ä¸Šé¢çš„å®˜æ–¹é¢˜è§£, ç…§ç€å®˜æ–¹çš„æ€è·¯å†™äº†ä¸€é, ä»£ç æ˜¯ä¸‹é¢:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">countPrimes</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">prime</span><span class="params">(n + <span class="number">1</span>, <span class="number">1</span>)</span></span>;  <span class="comment">//ä½¿ç”¨nä¸ª1åˆå§‹åŒ–prime</span></span><br><span class="line">    <span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt; n; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (prime[i]) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = i; j &lt;= n; j = j + i) &#123;</span><br><span class="line">          prime[j] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        count++;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯å®é™…ä¸Šè¿™æ ·è‚¯å®šæ˜¯æ…¢äº†. å¯ä»¥å‘ç°å¤§ä½“æ€è·¯éƒ½å·®ä¸å¤š, ä½†æ˜¯æœ‰å‡ ç‚¹ä¸åŒçš„å°±æ˜¯è¿™ä¸€æ®µ:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> ((<span class="type">long</span> <span class="type">long</span>)i * i &lt; n) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> j = i * i; j &lt; n; j += i) &#123;</span><br><span class="line">    isPrime[j] = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ç½®0çš„æ—¶å€™, æˆ‘æ˜¯æŠŠæ‰€æœ‰iåˆ°nä¹‹é—´çš„æ‰€æœ‰å€æ•°ç½®0, è€Œè¿™é‡Œçš„ä»£ç åªæŠŠi*iåˆ°nä¹‹é—´éƒ¨åˆ†ç½®0. è¿™å°±çœä¸‹æ¥äº†ä¸€éƒ¨åˆ†. ç®€å•æ¥è¯´, å¯¹äºåˆæ•°(æ­£æ˜¯æˆ‘ä»¬è¦æ ‡è®°çš„), éƒ½å¯ä»¥åˆ†è§£æˆä¸¤ä¸ªæ•°çš„ä¹˜ç§¯(æ¯”å¦‚è¯´æ˜¯aä¹˜b). è€Œå¦‚æœaå’Œbç›¸ç­‰, åˆ™è¿™ä¸ªåˆæ•°ä¼šåœ¨å¾ªç¯å˜é‡ä¸ºaçš„æ—¶å€™è¢«æ ‡è®°. å¦‚æœè¯´aå’Œbä¸ç›¸ç­‰, ä¸€å®šæ˜¯ä¸€å¤§ä¸€å°. ä¸ºä»€ä¹ˆå¾ªç¯åˆ°içš„æ—¶å€™, åªéœ€è¦æŸ¥çœ‹i*iåˆ°nçš„éƒ¨åˆ†å‘¢? æ¯”å¦‚è¯´<code>a&lt;b</code>é‚£ä¹ˆ<code>a*b</code>æ˜¯è½åœ¨<code>a*a ~ n</code>è¿™ä¸ªåŒºé—´é‡Œé¢çš„, æ‰€ä»¥ç­‰åˆ°å¾ªç¯å˜é‡ä¸ºb(è¾ƒå¤§è€…)çš„æ—¶å€™å°±ä¸ç”¨è®¨è®º<code>a*b</code>è¿™ä¸ªåˆæ•°äº†. æ‰€ä»¥å¯¹äºæ¯ä¸ªå¾ªç¯æ¥è¯´éƒ½åªéœ€è¦è®¨è®º<code>i*i ~ n</code>. ç„¶åå®˜æ–¹é¢˜è§£é‡Œé¢æœ‰ä¸€ä¸ª<code>if ((long long)i * i &lt; n)</code>æ­¤æ—¶ä¹Ÿå°±å¾ˆå¥½ç†è§£äº†. å› ä¸ºå¦‚æœ<code>i*i&gt;n</code>é‚£ä¹ˆä¹Ÿå°±æ²¡æœ‰ä¸è¢«è®¨è®ºçš„åˆæ•°äº†. æ‰€ä»¥è™½ç„¶å¤§è‡´çš„æ€è·¯èƒ½å¤ŸçŸ¥é“, åœ¨å°ç»†èŠ‚ä¸Šè¿˜æ˜¯è¦å¤šå­¦ä¹ .</p>
]]></content>
      <tags>
        <tag>study</tag>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title>missing_semesterç²—çœ‹</title>
    <url>/2022/11/10/missing-semester%E7%B2%97%E7%9C%8B/</url>
    <content><![CDATA[<p>è™½ç„¶Missing semesterçš„ç½‘ç«™å¾ˆè´´å¿ƒå‡†å¤‡äº†ç¬”è®°, ä½†æ˜¯ç¬”è®°é‡Œé¢æåˆ°çš„çŸ¥è¯†ç‚¹éå¸¸å¤šè€Œä¸”ç¹æ‚. è¿˜æ˜¯æœ‰å¿…è¦å¼€ä¸€ç¯‡æ–‡ç« æ¥æ³¨è§£ä¸€ä¸‹. å®˜æ–¹å¯¹è¿™ä¸ªè¯¾çœŸçš„å¾ˆç”¨å¿ƒ, è¿˜æœ‰ä¸“é—¨çš„ä¸­æ–‡ç¿»è¯‘(å½“ç„¶è¿™ä¸ªæœ‰å¯èƒ½æ˜¯åˆ«çš„ä¸­å›½äººè´¡çŒ®çš„). å®é™…ä¸Šå³ä½¿æ˜¯æœ‰ç¬”è®°æˆ‘è¿˜æ˜¯æ²¡åŠæ³•ç†è§£æ¯ä¸€æ¡å‘½ä»¤çš„å†…æ¶µ, ä¹Ÿåªæ˜¯ç¨ç¨ç†è§£ä¸€ä¸‹ç½¢äº†.</p>
<p><a href="https://missing-semester-cn.github.io/">å®˜æ–¹ç¬”è®°</a></p>
<span id="more"></span>
<h1 id="æ•°æ®æ•´ç†"><a class="markdownIt-Anchor" href="#æ•°æ®æ•´ç†"></a> æ•°æ®æ•´ç†</h1>
<h2 id="ssh"><a class="markdownIt-Anchor" href="#ssh"></a> ssh</h2>
<p>è™½ç„¶æ•°æ®æ•´ç†å’ŒSSHæ²¡æœ‰ä»€ä¹ˆå…³ç³», ä»…ä»…åªæ˜¯ä½¿ç”¨sshä¸¾äº†ä¸€ä¸ªä¾‹å­. ä½†æ˜¯ç§‰æŒç€æ¢ç´¢çš„æ€åº¦, è¿˜æ˜¯æœ‰å¿…è¦äº†è§£ä¸€ä¸‹ssh. æ¯•ç«Ÿåœ¨æˆ‘å‰é¢çš„å­¦ä¹ ç”Ÿæ´»ä¸­å…¶å®å·²ç»ä¸å°‘è§äº†.</p>
<p>sshå…¨åå«åšSecure Shell. æä¾›äº†ä¸€ç§å®‰å…¨çš„æ–¹å¼ç™»å½•è¿œç¨‹æ¡Œé¢. åœ¨åŒä¸€ä¸ªå±€åŸŸç½‘ä¸‹é¢sshçš„ç”¨æ³•ååˆ†ç®€å•, æˆ‘æ‰‹æœºtermuxä½¿ç”¨sshå¯ä»¥åœ¨å±€åŸŸç½‘ä¸‹é¢è½»æ¾ç™»å½•ç”µè„‘çš„shell. åœ¨tldr(ä¸€ä¸ªæˆ‘éå¸¸å–œæ¬¢çš„ç®€æ´ç‰ˆæœ¬çš„manæ‰‹å†Œ)é‡Œé¢åˆ—å‡ºæ¥äº†ä¸€äº›æœ€ç»å…¸çš„sshå‘½ä»¤:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Secure Shell is a protocol used to securely log onto remote systems.It can be used for logging or executing commands on a remote server.More information: https://man.openbsd.org/ssh.</span><br><span class="line"></span><br><span class="line"> - Connect to a remote server:</span><br><span class="line">   ssh &#123;&#123;username&#125;&#125;@&#123;&#123;remote_host&#125;&#125;</span><br><span class="line"></span><br><span class="line"> - Connect to a remote server with a specific identity (private key):</span><br><span class="line">   ssh -i &#123;&#123;path/to/key_file&#125;&#125; &#123;&#123;username&#125;&#125;@&#123;&#123;remote_host&#125;&#125;</span><br><span class="line"></span><br><span class="line"> - Connect to a remote server using a specific port:</span><br><span class="line">   ssh &#123;&#123;username&#125;&#125;@&#123;&#123;remote_host&#125;&#125; -p &#123;&#123;2222&#125;&#125;</span><br><span class="line"></span><br><span class="line"> - Run a command on a remote server with a [t]ty allocation allowing interaction with the remote command:</span><br><span class="line">   ssh &#123;&#123;username&#125;&#125;@&#123;&#123;remote_host&#125;&#125; -t &#123;&#123;command&#125;&#125; &#123;&#123;command_arguments&#125;&#125;</span><br><span class="line"></span><br><span class="line"> - SSH tunneling: Dynamic port forwarding (SOCKS proxy on localhost:1080):</span><br><span class="line">   ssh -D &#123;&#123;1080&#125;&#125; &#123;&#123;username&#125;&#125;@&#123;&#123;remote_host&#125;&#125;</span><br><span class="line"></span><br><span class="line"> - SSH tunneling: Forward a specific port (localhost:9999 to example.org:80) along with disabling pseudo-[T]ty allocation and executio[N] of remote commands:</span><br><span class="line">   ssh -L &#123;&#123;9999&#125;&#125;:&#123;&#123;example.org&#125;&#125;:&#123;&#123;80&#125;&#125; -N -T &#123;&#123;username&#125;&#125;@&#123;&#123;remote_host&#125;&#125;</span><br><span class="line"></span><br><span class="line"> - SSH jumping: Connect through a jumphost to a remote server (Multiple jump hops may be specified separated by comma characters):</span><br><span class="line">   ssh -J &#123;&#123;username&#125;&#125;@&#123;&#123;jump_host&#125;&#125; &#123;&#123;username&#125;&#125;@&#123;&#123;remote_host&#125;&#125;</span><br><span class="line"></span><br><span class="line"> - Agent forwarding: Forward the authentication information to the remote machine (see man ssh_config for available options):</span><br><span class="line">   ssh -A &#123;&#123;username&#125;&#125;@&#123;&#123;remote_host&#125;&#125;</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶åœ¨ä½¿ç”¨sshçš„è¿‡ç¨‹ä¸­è¿˜å¯ä»¥é…ç½®å…å¯†ç ç™»å½•ä¹‹ç±»çš„æ“ä½œ, [è¿™ä¸ªBç«™è§†é¢‘](<a href="https://oiaom.github.io/2022/08/29/missing-semester/%E3%80%90%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E5%9C%B0%E8%AE%BF%E9%97%AE%E8%BF%9C%E7%A8%8B%E4%B8%BB%E6%9C%BA%EF%BC%9FSSH%E4%B8%8Efrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B%E3%80%91">https://oiaom.github.io/2022/08/29/missing-semester/ã€å¦‚ä½•ä¼˜é›…åœ°è®¿é—®è¿œç¨‹ä¸»æœºï¼ŸSSHä¸frpå†…ç½‘ç©¿é€é…ç½®æ•™ç¨‹ã€‘</a> <a href="https://www.bilibili.com/video/BV13L411w7XU?share_source=copy_web&amp;vd_source=c825e8a8735a644c2c384d551af8125e">https://www.bilibili.com/video/BV13L411w7XU?share_source=copy_web&amp;vd_source=c825e8a8735a644c2c384d551af8125e</a>)è®²å¾—å¾ˆå¥½.</p>
<p>ä¸è¿‡åœ¨è¿™é‡Œsshå…¶å®ä¹Ÿå°±æ˜¯èµ·åˆ°ä¸€ä¸ªæ¥è¾“å‡ºæ—¥å¿—çš„ä½œç”¨, ç›®çš„è¿˜æ˜¯è®²è§£grepçš„ç”¨æ³•.</p>
<p>å…¶ä¸­æœ‰ä¸€ä¸ªå¾ˆå¦™çš„æ€æƒ³. é¦–å…ˆsshä¼ è¾“æ˜¯æ¯”è¾ƒæ…¢çš„, è¿œç¨‹è¿è¡Œå‘½ä»¤å’Œæœ¬æœºè¿è¡Œå‘½ä»¤æ˜¯è¿œè¿œå¿«äºsshçš„ä¼ è¾“çš„.</p>
<p>çœ‹ä¸‹é¢å‘½ä»¤:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh myserver journalctl | grep sshd</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ„æ€æ˜¯, æŠŠè¿™ä¸ªæ—¥å¿—æ‰“å°å‡ºæ¥, å¹¶ä¸”è¿‡æ»¤å‡ºå«æœ‰sshdçš„å†…å®¹.</p>
<p>ä½†æ˜¯è¿™ä¸ªç¼ºé™·å¾ˆå¤§. é¦–å…ˆ, æˆ‘æ˜¯åœ¨æœ¬æœºä¸Šé¢è¿è¡Œè¿™æ¡å‘½ä»¤, grepæ˜¯åœ¨æœ¬æœºä¸Šé¢è¿è¡Œçš„, æ‰€ä»¥å¯¹äºsshæ¥è¯´, è¿˜æ˜¯éœ€è¦ä¼ è¾“å®Œæ•´çš„æ—¥å¿—è¾“å‡ºåˆ°æœ¬æœº, ä¹‹åæœ¬æœºæ‰§è¡Œgrepæ¥è¿‡æ»¤åˆ°æˆ‘éœ€è¦çš„æ•°æ®. ä¸­é—´ä¼ è¾“æ¯”è¾ƒæ…¢.</p>
<p>æ‰€ä»¥å¯ä»¥ä½œå¦‚ä¸‹æ”¹è¿›:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh &#x27;myserver journalctl | grep sshd&#x27;</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯ä¸çŸ¥é“æ˜¯ä¸æ˜¯å› ä¸ºæ‰‹æœºæ˜¯termuxçš„ç¼˜æ•…, ç›®å‰è¿˜æ²¡æœ‰æˆåŠŸæ‰“å°å‡ºæ¥æ­£å¸¸çš„sshæ—¥å¿—.</p>
<h2 id="æ­£åˆ™è¡¨è¾¾å¼"><a class="markdownIt-Anchor" href="#æ­£åˆ™è¡¨è¾¾å¼"></a> æ­£åˆ™è¡¨è¾¾å¼</h2>
<p>æ­£åˆ™è¡¨è¾¾å¼åœ¨è®¡ç®—æœºä¸­çš„åº”ç”¨å¾ˆå¹¿æ³›, å¾ˆå¤šä»£ç è¡¥å…¨çš„æ’ä»¶å°±æ˜¯ä½¿ç”¨è¿™ä¸ªå·¥å…·æ¥åˆ¤æ–­çš„. å¯¹äºåŸºæœ¬çš„æ­£åˆ™è¡¨è¾¾å¼äº†è§£å¯ä»¥å‚çœ‹:<a href="https://www.bilibili.com/video/BV1da4y1p7iZ?share_source=copy_web&amp;vd_source=c825e8a8735a644c2c384d551af8125e">10åˆ†é’Ÿå¿«é€ŸæŒæ¡æ­£åˆ™è¡¨è¾¾å¼</a></p>
<p>è¯¦ç»†ä¸€ç‚¹çš„æ–‡æ¡£å¯ä»¥å‚çœ‹:<a href="https://github.com/ziishaned/learn-regex/blob/master/translations/README-cn.md">ziishaned/learn-regex</a></p>
<p>æˆ‘ä¼°è®¡åœ¨æˆ‘çœ‹llvmçš„é‚£ä¸ªæ—¶å€™å¯ä»¥ç”¨åˆ°ç›¸å…³çŸ¥è¯†, æ‰€ä»¥è¿™ä¸ªæ–‡æ¡£æˆ‘å°±æ˜¯ç²—ç•¥åœ°è¿‡ä¸€éå§.</p>
<h2 id="awk"><a class="markdownIt-Anchor" href="#awk"></a> awk</h2>
<p>grep, sed, awkæ˜¯æ¯”è¾ƒå‡ºåçš„å¤„ç†æ–‡æœ¬çš„ä¸‰ä¸ªå·¥å…·.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">âœ  ~ which awk         </span><br><span class="line">/usr/bin/awk</span><br><span class="line">âœ  ~ ls -l /usr/bin/awk</span><br><span class="line">lrwxrwxrwx root root 21 B Thu Aug 11 07:05:20 2022 ï’ /usr/bin/awk â‡’ /etc/alternatives/awk</span><br><span class="line">âœ  ~ </span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯æˆ‘ç”µè„‘ä¸Šé¢çš„awkæƒ…å†µ.</p>
<p>è¿™ä¸ªå·¥å…·éå¸¸æŠ½è±¡, æˆ‘å°±ä¸å­¦äº†. <a href="https://www.runoob.com/linux/linux-comm-awk.html">èœé¸Ÿæ•™ç¨‹ç‚¹æ­¤</a></p>
<p>è™½ç„¶åœ¨grep sed awké‡Œé¢awkåº”è¯¥æ˜¯æœ€å¼ºå¤§çš„.</p>
<h1 id="å‘½ä»¤è¡Œç¯å¢ƒ"><a class="markdownIt-Anchor" href="#å‘½ä»¤è¡Œç¯å¢ƒ"></a> å‘½ä»¤è¡Œç¯å¢ƒ</h1>
<h2 id="killå‘½ä»¤"><a class="markdownIt-Anchor" href="#killå‘½ä»¤"></a> killå‘½ä»¤</h2>
<p><a href="https://www.runoob.com/linux/linux-comm-kill.html">èœé¸Ÿæ•™ç¨‹kill</a></p>
<h2 id="pså‘½ä»¤"><a class="markdownIt-Anchor" href="#pså‘½ä»¤"></a> pså‘½ä»¤</h2>
<p><a href="https://www.runoob.com/linux/linux-comm-ps.html">èœé¸Ÿæ•™ç¨‹ps</a></p>
<p>è¿™ä¸ªå†…å®¹å¤ªæ‚äº†, æˆ‘è¿˜æ˜¯å¤šå­¦ä¸€ç‚¹ä¸œè¥¿ä¹‹åå†æ¥å­¦å§, åªæ˜¯ç²—ç•¥åœ°çœ‹äº†ä¸€é.</p>
]]></content>
      <tags>
        <tag>touchfish</tag>
        <tag>æ®‹ç¼ºçš„ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°å­¦å…¬å¼ç¬¦å·</title>
    <url>/2022/11/10/%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F%E7%AC%A6%E5%8F%B7/</url>
    <content><![CDATA[<p>ä¸»è¦æ˜¯ç¦»æ•£æ•°å­¦çš„ç¬”è®°éœ€è¦ä¸€äº›ç¬¦å·, ä½†æ˜¯åˆä¸æƒ³è€æ˜¯ç™¾åº¦ä¸Šé¢æ‰¾, å¯ä»¥è®°ç¬”è®°çš„è¿‡ç¨‹ä¸­è‡ªå·±å°±ç•™ä¸‹æ¥ä¸€äº›, æ–¹ä¾¿è‡ªå·±æ‰¾. ç”¨äº†Latexçš„éƒ¨åˆ†è¯­æ³•.</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding="application/x-tex">\LaTeX
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.89883em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">L</span><span class="mspace" style="margin-right:-0.36em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.68333em;"><span style="top:-2.904999em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord"><span class="mord textrm mtight sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.46782999999999997em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span></span></p>
<p><a href="https://blog.csdn.net/xxzhangx/article/details/52778539">latexä¸­çš„å¸Œè…Šå­—æ¯</a></p>
<span id="more"></span>
<p>\times <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>Ã—</mo></mrow><annotation encoding="application/x-tex">\times</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">Ã—</span></span></span></span> å‰ä¹˜</p>
<p>\cdot <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‹…</mo></mrow><annotation encoding="application/x-tex">\cdot</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.44445em;vertical-align:0em;"></span><span class="mord">â‹…</span></span></span></span> ç‚¹ä¹˜</p>
<p>\mid <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ£</mo></mrow><annotation encoding="application/x-tex">\mid</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mrel">âˆ£</span></span></span></span> ä¸­ç«–çº¿ æ•´é™¤</p>
<p>\nmid <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ¤</mo></mrow><annotation encoding="application/x-tex">\nmid</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.99253em;vertical-align:-0.25142em;"></span><span class="mrel amsrm">âˆ¤</span></span></span></span> åä¸­ç«–çº¿ ä¸­ç«–çº¿ä¸Šä¸€æ–œçº¿</p>
<p>\in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆˆ</mo></mrow><annotation encoding="application/x-tex">\in</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">âˆˆ</span></span></span></span> å±äº</p>
<p>\notin <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo mathvariant="normal">âˆ‰</mo></mrow><annotation encoding="application/x-tex">\notin</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mrel"><span class="mord"><span class="mrel">âˆˆ</span></span><span class="mord vbox"><span class="thinbox"><span class="llap"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="inner"><span class="mord"><span class="mord">/</span><span class="mspace" style="margin-right:0.05555555555555555em;"></span></span></span><span class="fix"></span></span></span></span></span></span></span></span> ä¸å±äº</p>
<p>\supset <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âŠƒ</mo></mrow><annotation encoding="application/x-tex">\supset</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">âŠƒ</span></span></span></span> å«äº</p>
<p>\supseteq <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âŠ‡</mo></mrow><annotation encoding="application/x-tex">\supseteq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">âŠ‡</span></span></span></span> å«äº</p>
<p>\subset <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âŠ‚</mo></mrow><annotation encoding="application/x-tex">\subset</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">âŠ‚</span></span></span></span> å«äº</p>
<p>\subseteq <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âŠ†</mo></mrow><annotation encoding="application/x-tex">\subseteq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">âŠ†</span></span></span></span> å«äº</p>
<p>\cup <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆª</mo></mrow><annotation encoding="application/x-tex">\cup</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.55556em;vertical-align:0em;"></span><span class="mord">âˆª</span></span></span></span> å¹¶</p>
<p>\varnothing <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">âˆ…</mi></mrow><annotation encoding="application/x-tex">\varnothing</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66334em;vertical-align:-0.08167em;"></span><span class="mord amsrm">âˆ…</span></span></span></span> ç©ºé›†</p>
<p>\neq <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo mathvariant="normal">â‰ </mo></mrow><annotation encoding="application/x-tex">\neq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel">î€ </span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span></span></span></span> ä¸ç­‰äº</p>
<p>\leq <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰¤</mo></mrow><annotation encoding="application/x-tex">\leq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">â‰¤</span></span></span></span> å°äºç­‰äº</p>
<p>\geq <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰¥</mo></mrow><annotation encoding="application/x-tex">\geq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">â‰¥</span></span></span></span> å¤§äºç­‰äº</p>
<p>\vee <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ¨</mo></mrow><annotation encoding="application/x-tex">\vee</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.55556em;vertical-align:0em;"></span><span class="mord">âˆ¨</span></span></span></span> æå–(æˆ–)</p>
<p>\wedge <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ§</mo></mrow><annotation encoding="application/x-tex">\wedge</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.55556em;vertical-align:0em;"></span><span class="mord">âˆ§</span></span></span></span> åˆå–(ä¸”)</p>
<p>\rightarrow <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">â†’</span></span></span></span> å³ç®­å¤´</p>
<p>\Rightarrow <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‡’</mo></mrow><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">â‡’</span></span></span></span> æ¨å‡º</p>
<p>\leftarrow <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†</mo></mrow><annotation encoding="application/x-tex">\leftarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">â†</span></span></span></span> å·¦ç®­å¤´</p>
<p>\Leftarrow <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‡</mo></mrow><annotation encoding="application/x-tex">\Leftarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">â‡</span></span></span></span> å·¦æ¨å‡º</p>
<p>\leftrightarrow <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†”</mo></mrow><annotation encoding="application/x-tex">\leftrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">â†”</span></span></span></span> ç­‰ä»·</p>
<p>\Leftrightarrow <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‡”</mo></mrow><annotation encoding="application/x-tex">\Leftrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">â‡”</span></span></span></span> å¤§ç­‰ä»·</p>
<p>\exists <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">âˆƒ</mi></mrow><annotation encoding="application/x-tex">\exists</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">âˆƒ</span></span></span></span> å­˜åœ¨</p>
<p>\forall <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">âˆ€</mi></mrow><annotation encoding="application/x-tex">\forall</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">âˆ€</span></span></span></span> ä»»æ„</p>
<p>\neg <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Â¬</mi></mrow><annotation encoding="application/x-tex">\neg</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord">Â¬</span></span></span></span> é</p>
<p>\equiv <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰¡</mo></mrow><annotation encoding="application/x-tex">\equiv</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.46375em;vertical-align:0em;"></span><span class="mrel">â‰¡</span></span></span></span> åˆåŒäº æ’ç­‰äº</p>
<p>\quad <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mspace width="1em"/></mrow><annotation encoding="application/x-tex">\quad</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0em;vertical-align:0em;"></span><span class="mspace" style="margin-right:1em;"></span></span></span></span> ç©ºæ ¼</p>
<p>; <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>â€…â€Š</mtext></mrow><annotation encoding="application/x-tex">\;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0em;vertical-align:0em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span></span></span> çŸ­ç©ºæ ¼é•¿åº¦</p>
<p>\space <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Â </mtext></mrow><annotation encoding="application/x-tex">\space</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0em;vertical-align:0em;"></span><span class="mspace">Â </span></span></span></span> ç©ºæ ¼</p>
<p>\pm <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>Â±</mo></mrow><annotation encoding="application/x-tex">\pm</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">Â±</span></span></span></span> æ­£è´Ÿå·</p>
<p>\underline <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><munder accentunder="true"><mi>a</mi><mo stretchy="true">â€¾</mo></munder></mrow><annotation encoding="application/x-tex">\underline{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.63056em;vertical-align:-0.19999999999999996em;"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.43056000000000005em;"><span style="top:-2.84em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.19999999999999996em;"><span></span></span></span></span></span></span></span></span> ç»™å­—æ¯æ·»åŠ ä¸‹åˆ’çº¿</p>
<p>\overline <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>a</mi><mo stretchy="true">â€¾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.63056em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.63056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3.55056em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span> ç»™å­—æ¯æ·»åŠ ä¸Šåˆ’çº¿</p>
<p>\frac{a}{b} <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mi>a</mi><mi>b</mi></mfrac></mrow><annotation encoding="application/x-tex">\frac{a}{b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.040392em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> åˆ†æ•°çº¿</p>
<p>\sqrt[2]{} <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mroot><mrow></mrow><mn>2</mn></mroot></mrow><annotation encoding="application/x-tex">\sqrt[2]{}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.2395em;"></span><span class="mord sqrt"><span class="root"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.65882em;"><span style="top:-2.8366em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size6 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8005em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"></span></span><span style="top:-2.7605em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2395em;"><span></span></span></span></span></span></span></span></span> æ ¹å·(æ–¹æ¡†é‡Œé¢æ§åˆ¶æ•°å­—)</p>
<p>\lim_{} <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mo><mi>lim</mi><mo>â¡</mo></mo><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\lim_{1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mop"><span class="mop">lim</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> æé™ä¸‹æ ‡</p>
<p>\partial <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">âˆ‚</mi></mrow><annotation encoding="application/x-tex">\partial</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord" style="margin-right:0.05556em;">âˆ‚</span></span></span></span> åå¯¼</p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\left</span>[</span><br><span class="line">    <span class="keyword">\begin</span>&#123;array&#125;&#123;ccc&#125;</span><br><span class="line">        1 <span class="built_in">&amp;</span> 0 <span class="built_in">&amp;</span> 0<span class="keyword">\\</span></span><br><span class="line">        0 <span class="built_in">&amp;</span> 1 <span class="built_in">&amp;</span> 0<span class="keyword">\\</span></span><br><span class="line">        0 <span class="built_in">&amp;</span> 0 <span class="built_in">&amp;</span> 1<span class="keyword">\\</span></span><br><span class="line">    <span class="keyword">\end</span>&#123;array&#125;</span><br><span class="line"><span class="keyword">\right</span>]</span><br></pre></td></tr></table></figure>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">[</mo><mtable rowspacing="0.15999999999999992em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><annotation encoding="application/x-tex">\left[
    \begin{array}{ccc}
        1 &amp; 0 &amp; 0\\
        0 &amp; 1 &amp; 0\\
        0 &amp; 0 &amp; 1\\
    \end{array}
\right]
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.6010299999999997em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0510099999999998em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â£</span></span></span><span style="top:-2.8099900000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â¢</span></span></span><span style="top:-4.05101em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â¡</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0510099999999998em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â¦</span></span></span><span style="top:-2.8099900000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â¥</span></span></span><span style="top:-4.05101em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>â¤</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>çŸ©é˜µ({ccc}æ˜¯æŒ‡å…ƒç´ çš„å¯¹é½æ–¹æ³•ï¼ˆå±…ä¸­ï¼‰ï¼Œæ­¤å¤–è¿˜æœ‰<code>l</code>å’Œ<code>r</code>çš„å‚æ•°å¯é€‰ï¼Œåˆ†åˆ«è¡¨ç¤ºå·¦å’Œå³)</p>
<p>\int_{a}^{b} <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>âˆ«</mo><mi>a</mi><mi>b</mi></msubsup></mrow><annotation encoding="application/x-tex">\int_{a}^{b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.399828em;vertical-align:-0.35582em;"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">âˆ«</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.044008em;"><span style="top:-2.34418em;margin-left:-0.19445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span style="top:-3.2579000000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.35582em;"><span></span></span></span></span></span></span></span></span></span> ç§¯åˆ†å·å’Œä¸Šä¸‹é™</p>
<p>\iint_{a}^{b} <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>âˆ¬</mo><mi>a</mi><mi>b</mi></msubsup></mrow><annotation encoding="application/x-tex">\iint_{a}^{b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.399708em;vertical-align:-0.3557em;"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0004999999999999727em;">âˆ¬</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.044008em;"><span style="top:-2.3443em;margin-left:-0.19445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span style="top:-3.2579000000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3557em;"><span></span></span></span></span></span></span></span></span></span> äºŒé‡ç§¯åˆ†</p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\left</span><span class="keyword">\&#123;</span><span class="keyword">\begin</span>&#123;aligned&#125;</span><br><span class="line">x=x(t)<span class="keyword">\\</span></span><br><span class="line">y=y(t)<span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\end</span>&#123;aligned&#125;<span class="keyword">\right</span>.</span><br></pre></td></tr></table></figure>
<p>æ–¹ç¨‹ç»„</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.24999999999999992em" columnalign="right" columnspacing=""><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>x</mi><mo>=</mo><mi>x</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>y</mi><mo>=</mo><mi>y</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">\left\{\begin{aligned}
x=x(t)\\
y=y(t)\\
\end{aligned}\right.
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.00003em;vertical-align:-1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7500000000000002em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2500000000000002em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>è¿™é‡Œ, <code>\left\å’Œ\right.</code>æ˜¯ç”¨æ¥ç¡®å®šå·¦æ‹¬å·çš„, ä¸­é—´çš„\æ˜¯ç”¨æ¥æ¢è¡Œçš„, alignedè¡¨ç¤ºæŒ‰ç…§alignedçš„æ–¹å¼æ¥æ’ç‰ˆå…¬å¼, ä¸€èˆ¬æ¨èä½¿ç”¨è¿™ç§å…¬å¼.</p>
<p>å½“ç„¶ä¹Ÿå¯ä»¥å·¦å¯¹é½:</p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;array&#125;&#123;l&#125;</span><br><span class="line"><span class="keyword">\int</span><span class="built_in">_</span>&#123;L&#125;f(x,y)ds=<span class="keyword">\int</span><span class="built_in">_</span>&#123;a&#125;<span class="built_in">^</span>&#123;b&#125;f(x(t), y(t)) <span class="keyword">\sqrt</span>&#123;x<span class="built_in">^</span>&#123;&#x27;2&#125;(t)+y<span class="built_in">^</span>&#123;&#x27;2&#125;(t)&#125; dt <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\int</span><span class="built_in">_</span>&#123;<span class="keyword">\Gamma</span>&#125;f(x,y,z)ds=<span class="keyword">\int</span><span class="built_in">_</span>&#123;a&#125;<span class="built_in">^</span>&#123;b&#125;f(x(t), y(t), z(t)) <span class="keyword">\sqrt</span>&#123;x<span class="built_in">^</span>&#123;&#x27;2&#125;(t)+y<span class="built_in">^</span>&#123;&#x27;2&#125;(t)+z<span class="built_in">^</span>&#123;&#x27;2&#125;(t)&#125; dt</span><br><span class="line"><span class="keyword">\end</span>&#123;array&#125;</span><br></pre></td></tr></table></figure>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.15999999999999992em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mo>âˆ«</mo><mi>L</mi></msub><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mi>d</mi><mi>s</mi><mo>=</mo><msubsup><mo>âˆ«</mo><mi>a</mi><mi>b</mi></msubsup><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><msqrt><mrow><msup><mi>x</mi><mrow><msup><mrow></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mn>2</mn></mrow></msup><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>+</mo><msup><mi>y</mi><mrow><msup><mrow></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mn>2</mn></mrow></msup><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></msqrt><mi>d</mi><mi>t</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mo>âˆ«</mo><mi mathvariant="normal">Î“</mi></msub><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">)</mo><mi>d</mi><mi>s</mi><mo>=</mo><msubsup><mo>âˆ«</mo><mi>a</mi><mi>b</mi></msubsup><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><msqrt><mrow><msup><mi>x</mi><mrow><msup><mrow></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mn>2</mn></mrow></msup><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>+</mo><msup><mi>y</mi><mrow><msup><mrow></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mn>2</mn></mrow></msup><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>+</mo><msup><mi>z</mi><mrow><msup><mrow></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mn>2</mn></mrow></msup><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></msqrt><mi>d</mi><mi>t</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{array}{l}
\int_{L}f(x,y)ds=\int_{a}^{b}f(x(t), y(t)) \sqrt{x^{&#x27;2}(t)+y^{&#x27;2}(t)} dt \\\\
\int_{\Gamma}f(x,y,z)ds=\int_{a}^{b}f(x(t), y(t), z(t)) \sqrt{x^{&#x27;2}(t)+y^{&#x27;2}(t)+z^{&#x27;2}(t)} dt
\end{array}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.0080160000000005em;vertical-align:-1.7540080000000002em;"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.2540080000000002em;"><span style="top:-4.254008em;"><span class="pstrut" style="height:3.044008em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">âˆ«</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.12251099999999993em;"><span style="top:-2.34418em;margin-left:-0.19445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.35582em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">âˆ«</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.044008em;"><span style="top:-2.34418em;margin-left:-0.19445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span style="top:-3.2579000000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.35582em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mclose">)</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9434899999999999em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.76698em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.76698em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span><span style="top:-2.90349em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l0 -0
c4.7,-7.3,11,-11,19,-11
H40000v40H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.29651000000000005em;"><span></span></span></span></span></span><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span></span></span><span style="top:-3.0540079999999996em;"><span class="pstrut" style="height:3.044008em;"></span><span class="mord"></span></span><span style="top:-1.6499999999999997em;"><span class="pstrut" style="height:3.044008em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">âˆ«</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.12251099999999993em;"><span style="top:-2.34418em;margin-left:-0.19445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Î“</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.35582em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">âˆ«</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.044008em;"><span style="top:-2.34418em;margin-left:-0.19445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span style="top:-3.2579000000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.35582em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mclose">)</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9434899999999999em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.76698em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.76698em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.76698em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span><span style="top:-2.90349em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l0 -0
c4.7,-7.3,11,-11,19,-11
H40000v40H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.29651000000000005em;"><span></span></span></span></span></span><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.7540080000000002em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span></span></p>
<p>ä¸è¿‡arrayéœ€è¦ä¸€ä¸ªå‚æ•°æ‰èƒ½å¤Ÿæ­£å¸¸ç”¨.</p>
<p>\oint <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ®</mo></mrow><annotation encoding="application/x-tex">\oint</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.11112em;vertical-align:-0.30612em;"></span><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">âˆ®</span></span></span></span> é—­åˆæ›²çº¿ç§¯åˆ†</p>
<p>\oiint <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>\oiint</mo></mrow><annotation encoding="application/x-tex">\oiint</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.111em;vertical-align:-0.306em;"></span><span class="mop vlist-t vlist-t2" style="position:relative;top:-0.0005000000000000282em;"><span class="vlist-r"><span class="vlist" style="height:0.8049999999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mop op-symbol small-op" style="margin-right:0.19445em;">âˆ¬</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="overlay" style="height:0.499em;width:0.957em;"><svg width='0.957em' height='0.499em' style='width:0.957em' viewBox='0 0 957 499' preserveAspectRatio='xMinYMin'><path d='M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.306em;"><span></span></span></span></span></span></span></span> åŒç†çš„é—­åˆæ›²é¢ç§¯åˆ†</p>
<p>\prod_{2}^{1} <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>âˆ</mo><mn>2</mn><mn>1</mn></msubsup></mrow><annotation encoding="application/x-tex">\prod_{2}^{1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.253718em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">âˆ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.954008em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span></span></span></span> è¿ä¹˜</p>
<p>\sum_{k=1}^{3} <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>âˆ‘</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mn>3</mn></msubsup></mrow><annotation encoding="application/x-tex">\sum_{k=1}^{3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.253718em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.954008em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span></span></span></span> æ±‚å’Œç¬¦å·(å’Œç›´æ¥Sigmaä¸ä¸€æ · åœ¨å¤§ä»£ç å—ä¸‹é¢å¼å­ä¼šåœ¨æ­£ä¸Šä¸‹)</p>
<p>å¯¹æ¯”:</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">Î£</mi><mspace width="1em"/><mo>âˆ‘</mo></mrow><annotation encoding="application/x-tex">\Sigma\quad \sum
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.6000100000000002em;vertical-align:-0.55001em;"></span><span class="mord">Î£</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-symbol large-op" style="position:relative;top:-0.000004999999999977245em;">âˆ‘</span></span></span></span></span></p>
<p>\sim <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ¼</mo></mrow><annotation encoding="application/x-tex">\sim</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">âˆ¼</span></span></span></span> æ³¢æµªçº¿</p>
<p>\textasciitilde <span class='katex-error' title='ParseError: KaTeX parse error: Undefined control sequence: \textasciitilde at position 1: \Ì²tÌ²eÌ²xÌ²tÌ²aÌ²sÌ²cÌ²iÌ²iÌ²tÌ²iÌ²lÌ²dÌ²eÌ²'>\textasciitilde</span> æ³¢æµªçº¿ å…¶å®è¿™ä¸ªç¬¦å·é”®ç›˜ä¸Šç”¨~è¿™ä¸ªä¹Ÿè¡Œ</p>
<p>\cong <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰…</mo></mrow><annotation encoding="application/x-tex">\cong</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.589em;vertical-align:0em;"></span><span class="mrel">â‰…</span></span></span></span> åŒæ„ å…¨ç­‰</p>
<p>\nabla <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">âˆ‡</mi></mrow><annotation encoding="application/x-tex">\nabla</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">âˆ‡</span></span></span></span> æ¢¯åº¦</p>
<p>âŒ âœ–ï¸ ğŸš«ğŸ‘·â€â™€ï¸ ğŸš§ğŸ‰ âœ… ğŸŠğŸ“ ğŸ”œå¸¸ç”¨emoji</p>
]]></content>
      <tags>
        <tag>study</tag>
        <tag>æ’ç‰ˆ</tag>
        <tag>mathjax</tag>
      </tags>
  </entry>
  <entry>
    <title>æœˆè‰²çœŸç¾å°è¯„</title>
    <url>/2022/11/10/%E6%9C%88%E8%89%B2%E7%9C%9F%E7%BE%8E%E5%B0%8F%E8%AF%84/</url>
    <content><![CDATA[<p>è¯´å®è¯å—·, æˆ‘æ˜¯çœ‹äº†è¿™ä¹ˆä¹…çš„ç•ªå‰§, è¿˜æ²¡æœ‰ä»€ä¹ˆç•ªå‰§æœ‰äºŒåˆ·çš„æ¬²æœ›. ä½†æ˜¯æœˆè‰²çœŸç¾ç¡®å®è®©æˆ‘æƒ³å†çœ‹ä¸€é.</p>
<p>é¦–å…ˆæ˜¯åˆ¶ä½œç²¾è‰¯, ç”»é£éå¸¸å–œæ¬¢. è¿™ç§ç”»é£å¹¶ä¸æ˜¯ä¸€èˆ¬æ—¥æ¼«çš„é‚£ç§å¤§çœ¼ç”»é£, è€Œæ˜¯ä¸€ç§å¾ˆç‰¹åˆ«çš„, è®©äººçœ‹ä¸Šå»å¾ˆèˆ’æœçš„ç”»é£. <s>å¥½å§è™½ç„¶çœ¼ç›æ¯”ä¾‹è¿˜æ˜¯æŒºå¤§çš„</s></p>
<span id="more"></span>
<p><img src="https://pic.imgdb.cn/item/630c82ec16f2c2beb12c74d3.jpg" alt="alt" /></p>
<p>ä¸ä¼šç»™äººä¸€ç§â€é€¼äººâ€çš„æ„Ÿè§‰, å¤ªæ¼‚äº®çš„å¥³ä¸»æˆ–è€…å¤ªå¸…æ°”çš„ç”·ä¸»ä¼šè®©äººæœ‰ä¸€ç§ç–ç¦»æ„Ÿ, ä½ åœ¨çœ‹åˆ«äººæ‹‰æ‰¯, è§‰å¾—å¾ˆç”œ, æ²¡ä»€ä¹ˆä»£å…¥æ„Ÿ. æˆ–è€…è¯´è¿™æ ·ç±»ä¼¼çš„ä¸œè¥¿çœ‹å¾—è¶Šå¤š, è‡ªå·±è¶Šæ˜¯è‹¦é—·. äººç»å¸¸æ„Ÿå¹çš„â€è¿™æ ·çš„xxxç°å®ç”Ÿæ´»ä¸­å¯èƒ½æ²¡æœ‰å§â€.</p>
<p>è¿™ä¸ªç•ªå°±æ²¡æœ‰è¿™æ ·çš„æ„Ÿè§‰, ç¡®å®èƒ½å¾ˆæ¸…æ™°åœ°æ„Ÿå—åˆ°ç”·å¥³ä¸»ä¹‹é—´çš„æƒ…æ„Ÿçº¿, è¿™å°±æ˜¯è¿™ä¸ªç•ªæœ€çªå‡ºçš„ç‰¹ç‚¹: çœŸæƒ…å®æ„Ÿæ— è®ºåœ¨ä»€ä¹ˆæ—¶å€™éƒ½æ˜¯æ›´æ‰“åŠ¨äººçš„.</p>
<p>åœ¨çœ‹ç•ªå‰§çš„æ—¶å€™, æœ‰çš„æ—¶å€™ä¼šæœ‰ä¸€äº›å¥‡æ€ªçš„ç‚¹, æ¯”å¦‚å¾ˆéš¾ç†è§£, ç»å¸¸å¼¹å¹•éƒ½ä¼šè¯´è¿™ä¸ºä»€ä¹ˆä¸Aä¸Šå», è¿™æ ·çš„äººä¸ºä»€ä¹ˆè¿˜è¦ç»§ç»­è°ˆæ‹çˆ±æ­¤ç±», è¿˜æœ‰ä¸€äº›è«åå…¶å¦™çš„æƒ…èŠ‚, ä¸€ç‚¹å°è¯¯ä¼šé—¹å¥½å‡ é›†. æ˜¯, æˆ‘ç†è§£, è¿™æ ·å†™ç¼–å‰§å¯ä»¥æ›´å¥½åœ°å‘ç³–, æˆ–è€…è¯´è¿™æ ·ä¸€äº›æƒ…èŠ‚èƒ½å¤Ÿæ‰€è°“æ¨è¿›æƒ…æ„Ÿçº¿, è™½ç„¶è§‚ä¼—çœ‹å®Œä¹‹å, å°±æ˜¯åœ¨è¿™äº›æƒ…èŠ‚ç»“æŸä¹‹åå—, ä¼šæ„Ÿåˆ°å¾ˆèˆ’æœ, å•Šç»ˆäºåˆå¥½äº†ä¹‹ç±», ä½†æ˜¯åœ¨çœ‹çš„æ—¶å€™ä¼šæœ‰ä¸€äº›ç–‘é—®, æˆ–è€…æ˜¯ä¼šæœ‰ä¸€äº›åæ§½, è®©äººæ„Ÿè§‰æœ‰äº›â€å‡ºæˆâ€.</p>
<p>å‡ºç°è¿™æ ·ç¦»è°±æƒ…èŠ‚æˆ–è€…è€å¥—æƒ…èŠ‚çš„åŸå› å°±æ˜¯è¿™æ˜¯ä¸ºäº†ç”œè€Œç”œ, æœ‰ä¸€äº›ç•ªå•Š(åªæ˜¯æ¯”è¾ƒå°‘çš„ä¸€éƒ¨åˆ†), ç¡®å®å¯ä»¥ç§°å¾—ä¸Šæ˜¯â€å·¥ä¸šç³–ç²¾â€, Bç«™å¼¹å¹•è¿™æ ·ç§°å‘¼æ˜¯æœ‰åŸå› çš„, å› ä¸ºæ˜¯æŠŠç”œå½“æˆäº†ç›®çš„, æ‰€ä»¥ä¼šæœ‰ä¸€äº›çœ‹ä¸Šå»å¾ˆç†Ÿæ‚‰çš„éƒ¨åˆ†, å¿½è§†äº†ä¸­é—´çš„æƒ…æ„Ÿ. è¯´å®è¯å…¶å®è¿™æ ·ä¹Ÿè¡Œ, æ¯•ç«Ÿå¤§å®¶çœ‹ç•ªä¹Ÿå°±çœ‹ä¸€ä¹å‘µ, ä½†æ˜¯å‡å¦‚åœ¨åšåˆ°è¿™æ ·çš„åŒæ—¶åŠ ä¸Šæ„Ÿæƒ…çš„å¡‘é€ , è¿™æ ·æ˜¯ä¸æ˜¯æ›´åŠ å¥½å‘¢?</p>
<p>è¿™éƒ¨å‰§è®¾å®šçš„æ—¶å€™åœ¨åˆä¸­, çœŸçš„æ˜¯éå¸¸çœŸå®, å¾ˆå¥½åœ°æŠŠæ¡äº†åˆä¸­æ—¶æœŸç”·å¥³ä¸»çš„æƒ…æ„Ÿå˜åŒ–. æ²¡æœ‰åƒæ˜¯å¾ˆå¤šå…¶ä»–ç•ªå‰§é‡Œé¢çš„ä¸»åŠ¨å•Šæ™ºæ–—å•Š, é€šç¯‡ç»™äººä¸€ç§æœªæˆç†Ÿçš„æ„Ÿè§‰(å½“ç„¶æœ‰äº›åœ°æ–¹ç¡®å®æ˜¯æœ‰ä¸€äº›è¿‡äº†, å…¶å®ç°åœ¨åˆä¸­ç”ŸçŸ¥é“äº‹æƒ…ä¹ŸæŒºå¤šäº†hhhhh). ä½†æ˜¯æ— è®ºå¦‚ä½•æ˜¯å¾ˆçœŸå®çš„. åŒ…æ‹¬æœ€å¼€å§‹ä¸¤äººä¹Ÿä¸çŸ¥é“ä»€ä¹ˆæ˜¯æ‰€è°“â€äº¤å¾€â€, åªæ˜¯æƒ³è¦åœ¨ä¸€èµ·.</p>
<p>æœ€åæ˜¯ä¸€ä¸ªç‰¹ç‚¹æ˜¯å¯¹è¿™ä¸ªå™äº‹çš„æŠŠæ¡, ä¸ä¼šæ˜¯é‚£ç§å¤§æŠŠå¤§æŠŠæ’’ç³–(è™½ç„¶è¿™æ ·ä¹Ÿå¥½, ä¹Ÿæœ‰å¾ˆå¤šäººå–œæ¬¢çœ‹, æˆ‘æœ‰çš„æ—¶å€™ä¹Ÿçœ‹ä¸€ä¸‹), è€Œæ˜¯ä¸€ç§æ³¨é‡ç°å®è§„å¾‹çš„ç¼“æ…¢å‘å±•.</p>
<p>ä¸ç®¡æ€ä¹ˆè¯´çœŸæƒ…å®æ„Ÿå°±æ˜¯æœ€å¥½çš„æ‹›ç‰Œäº†, åœ¨æˆ‘å¿ƒé‡Œæˆ‘æš‚æ—¶å®£å¸ƒè¿™æ˜¯æœ€å¥½çš„æ‹çˆ±ç•ª, ä½†æ˜¯ä¸ä¸€å®šæ˜¯æœ€ç”œçš„.(å…¶å®æˆ‘æ˜¯ä¸æƒ³å†™äº†)</p>
]]></content>
      <tags>
        <tag>touchfish</tag>
        <tag>å½±è¯„</tag>
      </tags>
  </entry>
  <entry>
    <title>clangd+codelldbçš„vscodeè¡¨ç°</title>
    <url>/2022/11/10/clangd-codelldb%E7%9A%84vscode%E8%A1%A8%E7%8E%B0/</url>
    <content><![CDATA[<p>å¯¹äºvsocdeå·¨ç¡¬å®˜æ–¹çš„C++è°ƒè¯•æ’ä»¶, è®¸å¤šå­¦é•¿ä»¬éå¸¸ä¸æ»¡. å¯¹äºæˆ‘æ¥è®², æˆ‘ç›®å‰ç”¨ç€æ„Ÿè§‰å¾ˆå·®çš„æ–¹é¢ä¸»è¦å°±æ˜¯å †æ ˆå¸§çœ‹ä¸äº†.(å½“ç„¶ä¸æ˜¯ä¸€èˆ¬çš„å‡½æ•°è°ƒç”¨å †æ ˆå¸§, ä¾‹å¦‚coutè¿™ç§å‡½æ•°å°±çœ‹ä¸äº†è¯´æ˜¯æ²¡æƒé™. è¿˜æœ‰å°±æ˜¯å¤´æ–‡ä»¶çš„è·³è½¬, åœ¨æˆ‘ç”µè„‘çš„ç¯å¢ƒä¸‹iostreamè·³è½¬å¥½åƒæ²¡é—®é¢˜, ä½†æ˜¯è¿›å…¥è¿™ä¸ªå¤´å†…éƒ¨ä¹‹åå†æƒ³è·³è½¬ä¼¼ä¹ä¸è¡Œ?) æˆ‘è¿™é‡Œç›®å‰æ˜¯ubuntu22.04çš„ç¯å¢ƒ. å…ˆçœ‹ä¸‹ä¸‹é¢è¿™ä¸ªè§†é¢‘, æ–‡ç« æ˜¯å¯¹å®ƒçš„è¡¥å……:</p>
<p><a href="https://www.bilibili.com/video/BV1sW411v7VZ?share_source=copy_web">https://www.bilibili.com/video/BV1sW411v7VZ?share_source=copy_web</a></p>
<span id="more"></span>
<p>æ‰€ä»¥çœ‹äº†ç½‘ä¸Šå¾ˆå¤šå®¶æ–¹æ¡ˆä¹‹å, æˆ‘æœ€åé€‰æ‹©äº†clangdè¡¥å…¨åˆ†æ, lldbè°ƒè¯•, <s>llvmä¸çŸ¥é“å¹²ä»€ä¹ˆ</s>.</p>
<p><img src="https://pic.imgdb.cn/item/62bd5a5d1d64b0706614c2e0.png" alt="img" /></p>
<h1 id="linuxç¯å¢ƒé…ç½®"><a class="markdownIt-Anchor" href="#linuxç¯å¢ƒé…ç½®"></a> linuxç¯å¢ƒé…ç½®</h1>
<h2 id="å‡†å¤‡å·¥ä½œ"><a class="markdownIt-Anchor" href="#å‡†å¤‡å·¥ä½œ"></a> å‡†å¤‡å·¥ä½œ</h2>
<p>å®‰è£…å¥½clang, clangd, llvm(æ‰€ä»¥è¿™ä¸ª å¹²ä»€ä¹ˆçš„). lldbå°±ä¸ç”¨è£…äº†, å¯ä»¥ç›´æ¥ç”¨vscodeæ‰©å±•é‡Œé¢è‡ªå¸¦çš„codelldbæ¥, æ²¡å¿…è¦å…¨å±€å®‰è£…äº†. å…¨å±€å®‰è£…äº†åè€Œä¸å¥½é…hhhh.</p>
<p><strong>æ³¨æ„, åœ¨æˆ‘åæ¥é‡æ–°çœ‹æ¥, è¿™é‡Œå®Œå…¨æ²¡æœ‰å¿…è¦å®‰è£…clang. æˆ‘ååˆ†å»ºè®®ä½¿ç”¨g++ä½œä¸ºå·¥å…·é“¾. clangè‡ªèº«å¹¶ä¸è‡ªå¸¦stdc++æ ‡å‡†åº“, æ‰€ä»¥ç”¨çš„æ—¶å€™å¯èƒ½ä¼šå‡ºç°å¤´æ–‡ä»¶ç¼ºå¤±çš„é—®é¢˜(è™½ç„¶ä¹Ÿå¥½è§£å†³), ä½†æ˜¯clangdå’Œclangæ²¡å•¥å…³ç³», vscodeçš„cmakeå·¥å…·ä¹Ÿå¯ä»¥ä½¿ç”¨g++å·¥å…·é“¾. æ‰€ä»¥å®Œå…¨å¯ä»¥æŠŠè¿™é‡Œçš„clangå®‰è£…æ¢æˆg++. ç›´æ¥å®‰è£…clangåè€Œå¯èƒ½ä¼šå‡ºç°å¤´æ–‡ä»¶ç¡®å®çš„å¯èƒ½æ€§.</strong></p>
<p>ä»¥ubuntuä½œä¸ºä¾‹å­:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt install clang clangd llvm</span><br></pre></td></tr></table></figure>
<p>ç„¶ååœ¨vscodeé‡Œé¢æŠŠåŸæ¥çš„é…ç½®æ–‡ä»¶ä»¥åŠå…¶ä»–çš„æ‰©å±•éƒ½åˆ æ‰. æ–°å»ºæ–‡ä»¶å¤¹.vscode, å†æ–°å»ºtasks.jsonå’Œlaunch.json. è¿™é‡Œæœ‰ä¸€ç‚¹è¿˜éœ€è¦æ³¨æ„, å¥½åƒè¿™ä¸ªtasks.jsonå•Š, å®ƒåªè®¤è‡ªå·±åˆ›å»ºçš„, å®ƒä¸è®¤æ–°å»ºçš„. é‡åˆ°è¿™ç§æƒ…å†µå°±ç‚¹ç»ˆç«¯-&gt;é…ç½®ä»»åŠ¡-&gt;ä½¿ç”¨æ¨¡æ¿åˆ›å»ºtasks.jsonæ–‡ä»¶-&gt;others(å…¶å®è¿™é‡Œæ€ä¹ˆç‚¹éƒ½ä¸€æ ·, åªè¦æŠŠæ–‡ä»¶æå‡ºæ¥å°±å¯ä»¥äº†.) æˆ–è€…é‡å¯ä¸€ä¸‹, å¦‚æœä½ åœ¨å‘½åæœ‰./.vscode/tasks.jsonçš„æƒ…å†µä¸‹è¿˜è¢«è¯´ä»»åŠ¡ä¸å­˜åœ¨, é‚£å°±è¯´æ˜æ˜¯è¿™æ ·.</p>
<h2 id="å®‰è£…ç›¸åº”çš„è°ƒè¯•æ‰©å±•"><a class="markdownIt-Anchor" href="#å®‰è£…ç›¸åº”çš„è°ƒè¯•æ‰©å±•"></a> å®‰è£…ç›¸åº”çš„è°ƒè¯•æ‰©å±•</h2>
<p>ä¸‹è½½è¿™å‡ ä¸ªæ’ä»¶:clangd codelldb.</p>
<h2 id="è¿è¡Œå’Œè°ƒè¯•é…ç½®"><a class="markdownIt-Anchor" href="#è¿è¡Œå’Œè°ƒè¯•é…ç½®"></a> è¿è¡Œå’Œè°ƒè¯•é…ç½®</h2>
<p>ç„¶åå°±æ˜¯jsonæ€ä¹ˆå†™çš„é—®é¢˜. æˆ‘è¿™é‡Œä¸¾å‡ ä¸ªä¾‹å­:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    //task.json</span><br><span class="line">  &quot;version&quot;: &quot;2.0.0&quot;,</span><br><span class="line">  &quot;tasks&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;type&quot;: &quot;shell&quot;,</span><br><span class="line">      &quot;label&quot;: &quot;Build C++&quot;,</span><br><span class="line">      &quot;command&quot;: &quot;clang++&quot;,</span><br><span class="line">      &quot;args&quot;: [</span><br><span class="line">        &quot;-g&quot;,</span><br><span class="line">        &quot;-Wall&quot;,</span><br><span class="line">        &quot;-o&quot;,</span><br><span class="line">        &quot;$&#123;workspaceFolder&#125;/output/$&#123;fileBasenameNoExtension&#125;&quot;,</span><br><span class="line">        &quot;$&#123;workspaceFolder&#125;/*.cpp&quot;</span><br><span class="line">      ],</span><br><span class="line">      &quot;options&quot;: &#123;</span><br><span class="line">        &quot;cwd&quot;: &quot;/usr/bin&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;group&quot;: &#123;</span><br><span class="line">        &quot;kind&quot;: &quot;build&quot;,</span><br><span class="line">        &quot;isDefault&quot;: true</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;detail&quot;: &quot;Task generated by Debugger.&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œé¢å…·ä½“çš„ç»†èŠ‚æ€§çš„ä¸œè¥¿æˆ‘ä¹Ÿä¸æ˜¯å¾ˆæ¸…æ¥š, ä½†æ˜¯æœ‰å‡ ä¸ªå…³é”®çš„å¿…é¡»è¦æ˜ç™½, è¦æ˜¯ç…§æ¬ç…§æŠ„å¾ˆæœ‰å¯èƒ½åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šé¢è¿è¡Œä¸èµ·æ¥.</p>
<p>é¦–å…ˆå…ˆæ³¨æ„commandè¿™é‡Œ, è™½ç„¶è¯´clangä¹Ÿå¯ä»¥ç¼–è¯‘C++ä»£ç , ä½†æ˜¯C++æœ‰çš„ç”¨æ³•è¿˜æ˜¯ä¸å…¼å®¹, å¥½åƒå¸¸è§çš„std::coutè¿™ç§è¯´æ³•å°±ä¸è¡Œ(è¿™é‡Œæˆ‘æ²¡æœ‰è¯•è¿‡, åæ­£ç¡®å®æœ‰ä¸€äº›å†™æ³•æ˜¯æ²¡æ³•ç”¨). æ‰€ä»¥å¡«clang++, è¿™ä¹Ÿæ˜¯å®˜æ–¹æä¾›çš„è§£å†³æ–¹æ³•.</p>
<p>å†å°±æ˜¯args(arguments)è¿™ä¸€æ , é‡Œé¢çš„argså«ä¹‰å¿…é¡»è¦çŸ¥é“. -gè¿™ä¸ªéƒ½çŸ¥é“æ˜¯å®Œæ•´çš„è°ƒè¯•ä¿¡æ¯, -Wallçš„æ„æ€æ˜¯æ˜¾ç¤ºå®Œæ•´çš„warningä¿¡æ¯, -oæ˜æ˜¾æ˜¯ä¸€ä¸ªé‡å‘½åé€‰é¡¹. ç„¶åé‡è¦çš„æ˜¯åé¢ä¸¤ä¸ª, ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç¼–è¯‘åç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„, æˆ‘è¿™é‡Œå†™çš„æ˜¯ <code>$&#123;workspaceFolder&#125;/output/$&#123;fileBasenameNoExtension&#125;</code>, è¿™é‡Œå¸¦æœ‰$çš„éƒ½æ˜¯vscodeé‡Œé¢å®šä¹‰çš„å®, è¡¨ç¤ºç¼–è¯‘ä¹‹åçš„å¯æ‰§è¡Œæ–‡ä»¶ç”Ÿæˆåœ¨æˆ‘å½“å‰vscodeå·¥ä½œåŒºçš„æ–‡ä»¶å¤¹ä¸‹é¢çš„outputæ–‡ä»¶å¤¹é‡Œé¢, ç„¶åç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶çš„åå­—æ˜¯æˆ‘ç¼–è¯‘çš„è¿™ä¸ªæ–‡ä»¶å»æ‰æ‰©å±•å(NoExtension). æ‰€ä»¥å‡å¦‚æƒ³ç”¨æˆ‘è¿™ä¸€å¥—é…ç½®, å°±å¿…é¡»åœ¨å·¥ä½œç›®å½•ä¸‹é¢æ–°å»ºä¸€ä¸ªoutputæ–‡ä»¶å¤¹, æˆ‘è¿™æ ·è®¾è®¡æœ‰ä¸€ä¸ªå¥½å¤„å°±æ˜¯å¯ä»¥æŠŠæºæ–‡ä»¶æ”¾åœ¨å·¥ä½œç›®å½•ä¸‹é¢, å¯æ‰§è¡Œæ–‡ä»¶å•ç‹¬æ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹é‡Œé¢. æ•´ä¸ªå·¥ä½œç›®å½•æ¯”è¾ƒç®€æ´.</p>
<p>ä¸‹ä¸€ä¸ªæ˜¯éœ€è¦ç¼–è¯‘çš„æ–‡ä»¶çš„è·¯å¾„. æˆ‘è¿™é‡Œè·¯å¾„å†™çš„æ˜¯*.cpp, è¿™æ˜¯ä¸€ä¸ªé€šé…ç¬¦å†™æ³•, æ„æ€æ˜¯ç¼–è¯‘çš„æ—¶å€™æŠŠå½“å‰ç›®å½•ä¸‹é¢çš„æ‰€æœ‰cppæ–‡ä»¶éƒ½ç¼–è¯‘äº†. è¿™ä¸ªä¸»è¦æ˜¯é’ˆå¯¹æœ‰äº›ä»£ç ä¸æ­¢ä¸€ä¸ªæºæ–‡ä»¶, å½“ç„¶è¿™æ ·å†™å°±æœ‰ä¸€ä¸ªåå¤„, é‚£å°±æ˜¯ä¸èƒ½æŠŠæ‰€æœ‰çš„ä½œå“éƒ½å­˜åˆ°å·¥ä½œç›®å½•ä¸‹é¢, ä¸ç„¶å‡ºç°å¤šä¸ªmainå‡½æ•°å°±æ²¡æ³•æŠ¥é”™. æˆ‘çš„ç›®å½•æ ‘ç»“æ„æ˜¯è¿™æ ·çš„:</p>
<p>.<br />
â”œâ”€â”€ archive<br />
â”œâ”€â”€ .clang-format<br />
â”œâ”€â”€ main.cpp<br />
â”œâ”€â”€ output<br />
â”œâ”€â”€ .vscode<br />
â””â”€â”€ .vscode.bkbk(è¿™æ˜¯vscodeçš„é…ç½®å¤‡ä»½, å¿½ç•¥)</p>
<p>å¯ä»¥çœ‹è§, å½“å‰ç›®å½•ä¸‹é¢ç•™3ä¸ªæ–‡ä»¶å¤¹, ä¸€ä¸ªæ˜¯.vscodeæ­£å¸¸, ä¸€ä¸ªæ˜¯outputç”¨æ¥å‚¨å­˜å¯æ‰§è¡Œæ–‡ä»¶çš„, è¿˜æœ‰ä¸€ä¸ªå°±æ˜¯å½’æ¡£, æ¯æ¬¡ä»£ç å†™å¥½äº†ä¹‹åå°±æŠŠä»£ç æ”¾åˆ°é‚£ä¸ªæ–‡ä»¶å¤¹é‡Œé¢, ä¿è¯å¤–é¢çš„ä»£ç éƒ½æ˜¯å½“å‰ç¼–è¾‘çš„é¡¹ç›®ä¸”åªæœ‰ä¸€ä¸ªmainå‡½æ•°. å½“ç„¶ä½ ä¹Ÿå¯ä»¥æ–°å»ºä¸€ä¸ªsrcç›®å½•, äº†è§£äº†è¿™äº›argsçš„å«ä¹‰éƒ½å¥½åŠ. è®¾ç½®æˆç¼–è¯‘srcç›®å½•ä¸‹é¢çš„æ‰€æœ‰cppæ–‡ä»¶å¾ˆå®¹æ˜“çš„, é€šè¿‡jsonå¯ä»¥æ§åˆ¶æ•´ä¸ªç¼–è¯‘è¿‡ç¨‹.</p>
<p>å‡å¦‚vscodeåªæ˜¯æƒ³å†™å•æ–‡ä»¶çš„ä¸œè¥¿, å¯ä»¥ç›´æ¥æŠŠä¸Šé¢çš„*.cppæ”¹æˆ${file}, è¿™æ ·å°±åªæ˜¯ç¼–è¯‘å½“å‰çš„å•æ–‡ä»¶. è¿™ä¸ªæ—¶å€™æ‰€æœ‰ä»£ç éƒ½æ”¾åˆ°å·¥ä½œåŒºæ–‡ä»¶å¤¹ä¸‹é¢å°±å¯ä»¥äº†. å¯¹äºä¸€äº›äººè¿™æ ·çš„ç»“æ„åªå†™å•æ–‡ä»¶, å¤šæ–‡ä»¶éƒ½æ˜¯å•ç‹¬å¼€æ–‡ä»¶å¤¹ç”¨cmakeå†™çš„.</p>
<p>æ¥ä¸‹æ¥æ˜¯launch.jsonå®ä¾‹:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  // ä½¿ç”¨ IntelliSense äº†è§£ç›¸å…³å±æ€§ã€‚ </span><br><span class="line">  // æ‚¬åœä»¥æŸ¥çœ‹ç°æœ‰å±æ€§çš„æè¿°ã€‚</span><br><span class="line">  // æ¬²äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®: https://go.microsoft.com/fwlink/?linkid=830387</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  // åˆ˜çš„æ³¨é‡Š: è¿™ä¸ªtasks.jsonå’Œlaunch.jsonçš„ä½œç”¨æ˜¯, åœ¨vscodeå½“å‰æ‰“å¼€çš„ç›®å½•ä¸‹, ä½¿ç”¨clang++ç¼–è¯‘å·¥ä½œåŒºç›®å½•ä¸‹é¢çš„æ‰€æœ‰cppæ–‡ä»¶(æ‰€ä»¥åŒä¸€æ—¶é—´ä¸‹buildç›®å½•é‡Œé¢åªèƒ½æœ‰ä¸€ä¸ªé¡¹ç›®), å¹¶ä¸”æŠŠè¾“å‡ºæ”¾åˆ°å½“å‰ç›®å½•ä¸‹é¢çš„outputç›®å½•ä¸‹é¢.</span><br><span class="line">  &quot;version&quot;: &quot;0.2.0&quot;,</span><br><span class="line">  &quot;configurations&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;type&quot;: &quot;lldb&quot;,</span><br><span class="line">      &quot;request&quot;: &quot;launch&quot;,</span><br><span class="line">      &quot;name&quot;: &quot;Debug&quot;,</span><br><span class="line">      &quot;program&quot;: &quot;$&#123;workspaceFolder&#125;/output/$&#123;fileBasenameNoExtension&#125;&quot;,</span><br><span class="line">      &quot;args&quot;: [],</span><br><span class="line">      &quot;cwd&quot;: &quot;$&#123;workspaceFolder&#125;&quot;,</span><br><span class="line">      &quot;preLaunchTask&quot;: &quot;Build C++&quot;,</span><br><span class="line">      &quot;internalConsoleOptions&quot;: &quot;neverOpen&quot;,</span><br><span class="line">      &quot;console&quot;: &quot;integratedTerminal&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>typeæ˜¯å’Œæ‰©å±•æœ‰å…³, å®‰è£…äº†codelldbä¹‹åå°±å¯ä»¥å¡«è¿™ä¸ªtypeäº†. programå¡«çš„ä½ç½®å°±æ˜¯å¯æ‰§è¡Œæ–‡ä»¶å‡ºç°çš„ç›®å½•, æ³¨æ„å’Œtask.jsonä¿æŒä¸€è‡´. æœ¬è´¨ä¸Šå°±æ˜¯launch.jsonæ˜¯ç®¡è°ƒè¯•çš„, task.jsonæ˜¯ç®¡ç¼–è¯‘çš„. è¿˜æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„å°±æ˜¯â€prelaunchtaskâ€, è¿™ä¸€é¡¹æ˜¯è¯´åœ¨è°ƒè¯•ä¹‹å‰è¦å¹²ä»€ä¹ˆ, å¦‚æœæ²¡æœ‰è¿™ä¸ªæ¯æ¬¡è°ƒè¯•æŒ‰é’®ä¹‹å‰è¿˜è¦æ‰‹åŠ¨ç¼–è¯‘ä¸€ä¸‹. è¿™é‡Œçš„åå­—è¦å’Œå‰é¢taskçš„labelä¿æŒä¸€è‡´. å…¶ä»–çš„æ„æ€å€’ä¹Ÿæ— æ‰€è°“.</p>
<p><s>ç´§æ¥ç€æ˜¯clang-format, åœ¨ä¸Šé¢çš„ç›®å½•æ ‘é‡Œé¢, å‡ºç°äº†.clang-format. è¿™ä¸ªæ–‡ä»¶æ˜¯ç”¨æ¥æ ¼å¼åŒ–ä»£ç ç”¨çš„, è€Œä¸”æ ‡å‡†è§„å®šå¾—å¾ˆç¡¬æ€§. åœ¨å·¥ä½œç›®å½•ä¸‹é¢æ–°å»ºä¸€ä¸ªè¿™ä¸ªæ–‡ä»¶ä¹‹å, clangdæ‰©å±•å†…ç½®çš„clang-formatå¯ä»¥å¯¹å†…å®¹è¿›è¡Œè¯»å–, è‡ªåŠ¨è§„å®štabå®½åº¦å•Š, ä»€ä¹ˆä¹±ä¸ƒå…«ç³Ÿçš„, åªè¦è¿™ä¸ªæ–‡ä»¶åˆ°ä½äº†, åŸºæœ¬ä¸Šä»¥åæ–°ç”µè„‘å°±å†ä¹Ÿä¸ç”¨é…ç½®ä»£ç é£æ ¼ç›¸å…³çš„ä¸œè¥¿äº†. è¿™ä¸ªæ–‡ä»¶å¯ä»¥è‡ªå·±å†™, ä¹Ÿå¯ä»¥å®‰è£…clang-formatç”Ÿæˆ, æˆ‘è¿™é‡Œç”Ÿæˆäº†googleé£æ ¼çš„æ–‡ä»¶ä½œä¸ºå®ä¾‹:</s></p>
<blockquote>
<p>è¿™é‡Œå‡ºé”™äº†, å®é™…ä¸Šå½“æ—¶æˆ‘æ²¡æœ‰ææ¸…æ¥šclangdå…¶å®è‡ªå·±ä¹Ÿæœ‰æ ¼å¼åŒ–çš„åŠŸèƒ½, å…¶å®åŸæ¥è®²çš„é…ç½®clangformatå°±ä¸è¡Œ. å…¶å®æ ¹æœ¬å°±æ²¡æœ‰é…ç½®ä¸Š.</p>
<p>å…¶å®clang-formatè‡ªå·±ä¹Ÿæœ‰å¾ˆä¸¥é‡çš„é—®é¢˜â€”ç‰ˆæœ¬ä¸å…¼å®¹. åœ¨vscodeæ‰©å±•å•†åœºé‡Œé¢ä¸‹è½½clang-format, è¿™ä¸ªæ—¶å€™æˆ‘åœ¨æˆ‘ç”µè„‘ä¸Šé¢ä¸‹è½½äº†clang-format:</p>
<p><code>sudo apt install clang-format</code></p>
<p>ç„¶åç”¨:</p>
<p><code>clang-format -style=google -dump-config &gt; .clang-format</code></p>
<p>ç”Ÿæˆäº†googleé£æ ¼çš„é…ç½®æ–‡ä»¶, æ¥ç€æŠŠè¿™ä¸ªæ–‡ä»¶copyåˆ°é¡¹ç›®ä¸­, ç„¶åvscodeä¸­å³é”®, é€‰æ‹©&quot;Format Document Withâ€¦&quot;, ä¸Šé¢ä¼šå¼¹å‡ºæ¥ä¸€ä¸ªæ¡†, é‡Œé¢configureäº†ä¸€ä¸‹é»˜è®¤çš„formatter.</p>
<p>ç„¶åæˆ‘å†æ ¼å¼åŒ–å°±æŠ¥é”™äº†.</p>
<p>è¿™å…¶å®æ˜¯å› ä¸ºè¿™ä¸ªæ’ä»¶æ²¡æ›´æ–°å¯¼è‡´çš„. æ‰€ä»¥åº”è¯¥æ§åˆ¶å¥½ç‰ˆæœ¬. æˆ‘å½“å‰ç”µè„‘ä¸Šæ˜¯Ubuntu22.10, èƒ½åœ¨åŒ…ç®¡ç†å™¨é‡Œé¢æ‰¾åˆ°çš„æœ€è€çš„clang-formatæ˜¯11.</p>
<p><code>sudo apt install clang-format-11</code></p>
<p>ç„¶å:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cd /usr/bin</span><br><span class="line">sudo ln -s clang-format-11 clang-format</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·æˆ‘è¾“å…¥clang-formatå°±ä¼šè°ƒç”¨è¿™ä¸ª11, ä¸è¿™æ ·è¿›è¡Œä¸€ä¸ª<strong>è½¯é“¾æ¥</strong>ç»“æœå°±æ˜¯å¾ˆå¤šæ’ä»¶éƒ½ä¼šæ‰¾ä¸åˆ°, æ’ä»¶æ¯”è¾ƒç¬¨, ä¸€èˆ¬åªä¼šæ‰¾clang-formatåœ¨ä¸åœ¨ç¯å¢ƒå˜é‡é‡Œé¢. ç„¶åç›®å‰ä¸ºæ­¢åœ¨vscodeé‡Œé¢å°±å¯ä»¥æ­£å¸¸clang-formatäº†. ç„¶åæˆ‘æŠŠè¿™ä¸ªé…ç½®æ–‡ä»¶æ”¾åˆ°clioné‡Œé¢å‘ç°è¿˜æ˜¯æŠ¥é”™, æ€»ä¹‹å°±æ˜¯å€¼ä¸å…¼å®¹. å¾ˆå…¸, å°±æ˜¯æç¤ºè¿™ä¸ªåœ°æ–¹åªèƒ½å¡«æŸä¸‰ä¸ªå€¼, ç»“æœç”Ÿæˆçš„æ–‡ä»¶é‡Œé¢æ˜¯true. å¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯clang-formatæ›´æ–°ä¹‹åçš„è¯­æ³•å˜äº†. æˆ‘åªå¥½æŠŠé‚£äº›æ ‡é«˜äº®çš„éƒ½æ³¨é‡Šæ‰äº†.(æ‰€ä»¥clionä¸ºä»€ä¹ˆä½ ä¸è‡ªå¸¦ä¸€ä¸ªformat)</p>
<p>æˆ‘è¿™é‡Œå†è´´ä¸€ä»½.clang-format, æ˜¯ç”±clang-format-11ç”Ÿæˆçš„, å¦‚æœè¯´è€ç‰ˆæœ¬clionæƒ³è¦ç”¨çš„è¯éœ€è¦è‡ªè¡Œæ”¹ä¸€äº›é«˜äº®çš„, å¥½åœ¨ä¸æ˜¯å¤ªå¤š.(é€‚ç”¨äºvscodeçš„Clang-Formatæ’ä»¶):</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">Language:</span>        <span class="string">Cpp</span></span><br><span class="line"><span class="comment"># BasedOnStyle:  Google</span></span><br><span class="line"><span class="attr">AccessModifierOffset:</span> <span class="number">-1</span></span><br><span class="line"><span class="attr">AlignAfterOpenBracket:</span> <span class="string">Align</span></span><br><span class="line"><span class="attr">AlignConsecutiveMacros:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">AlignConsecutiveAssignments:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">AlignConsecutiveBitFields:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">AlignConsecutiveDeclarations:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">AlignEscapedNewlines:</span> <span class="string">Left</span></span><br><span class="line"><span class="attr">AlignOperands:</span>   <span class="string">Align</span></span><br><span class="line"><span class="attr">AlignTrailingComments:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">AllowAllArgumentsOnNextLine:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">AllowAllConstructorInitializersOnNextLine:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">AllowAllParametersOfDeclarationOnNextLine:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">AllowShortEnumsOnASingleLine:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">AllowShortBlocksOnASingleLine:</span> <span class="string">Never</span></span><br><span class="line"><span class="attr">AllowShortCaseLabelsOnASingleLine:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">AllowShortFunctionsOnASingleLine:</span> <span class="string">All</span></span><br><span class="line"><span class="attr">AllowShortLambdasOnASingleLine:</span> <span class="string">All</span></span><br><span class="line"><span class="attr">AllowShortIfStatementsOnASingleLine:</span> <span class="string">WithoutElse</span></span><br><span class="line"><span class="attr">AllowShortLoopsOnASingleLine:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">AlwaysBreakAfterDefinitionReturnType:</span> <span class="string">None</span></span><br><span class="line"><span class="attr">AlwaysBreakAfterReturnType:</span> <span class="string">None</span></span><br><span class="line"><span class="attr">AlwaysBreakBeforeMultilineStrings:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">AlwaysBreakTemplateDeclarations:</span> <span class="literal">Yes</span></span><br><span class="line"><span class="attr">BinPackArguments:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">BinPackParameters:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">BraceWrapping:</span></span><br><span class="line"><span class="attr">AfterCaseLabel:</span>  <span class="literal">false</span></span><br><span class="line"><span class="attr">AfterClass:</span>      <span class="literal">false</span></span><br><span class="line"><span class="attr">AfterControlStatement:</span> <span class="string">Never</span></span><br><span class="line"><span class="attr">AfterEnum:</span>       <span class="literal">false</span></span><br><span class="line"><span class="attr">AfterFunction:</span>   <span class="literal">false</span></span><br><span class="line"><span class="attr">AfterNamespace:</span>  <span class="literal">false</span></span><br><span class="line"><span class="attr">AfterObjCDeclaration:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">AfterStruct:</span>     <span class="literal">false</span></span><br><span class="line"><span class="attr">AfterUnion:</span>      <span class="literal">false</span></span><br><span class="line"><span class="attr">AfterExternBlock:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">BeforeCatch:</span>     <span class="literal">false</span></span><br><span class="line"><span class="attr">BeforeElse:</span>      <span class="literal">false</span></span><br><span class="line"><span class="attr">BeforeLambdaBody:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">BeforeWhile:</span>     <span class="literal">false</span></span><br><span class="line"><span class="attr">IndentBraces:</span>    <span class="literal">false</span></span><br><span class="line"><span class="attr">SplitEmptyFunction:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">SplitEmptyRecord:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">SplitEmptyNamespace:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">BreakBeforeBinaryOperators:</span> <span class="string">None</span></span><br><span class="line"><span class="attr">BreakBeforeBraces:</span> <span class="string">Attach</span></span><br><span class="line"><span class="attr">BreakBeforeInheritanceComma:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">BreakInheritanceList:</span> <span class="string">BeforeColon</span></span><br><span class="line"><span class="attr">BreakBeforeTernaryOperators:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">BreakConstructorInitializersBeforeComma:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">BreakConstructorInitializers:</span> <span class="string">BeforeColon</span></span><br><span class="line"><span class="attr">BreakAfterJavaFieldAnnotations:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">BreakStringLiterals:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">ColumnLimit:</span>     <span class="number">80</span></span><br><span class="line"><span class="attr">CommentPragmas:</span>  <span class="string">&#x27;^ IWYU pragma:&#x27;</span></span><br><span class="line"><span class="attr">CompactNamespaces:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">ConstructorInitializerAllOnOneLineOrOnePerLine:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">ConstructorInitializerIndentWidth:</span> <span class="number">4</span></span><br><span class="line"><span class="attr">ContinuationIndentWidth:</span> <span class="number">4</span></span><br><span class="line"><span class="attr">Cpp11BracedListStyle:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">DeriveLineEnding:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">DerivePointerAlignment:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">DisableFormat:</span>   <span class="literal">false</span></span><br><span class="line"><span class="attr">ExperimentalAutoDetectBinPacking:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">FixNamespaceComments:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">ForEachMacros:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">foreach</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">Q_FOREACH</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">BOOST_FOREACH</span></span><br><span class="line"><span class="attr">IncludeBlocks:</span>   <span class="string">Regroup</span></span><br><span class="line"><span class="attr">IncludeCategories:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">Regex:</span>           <span class="string">&#x27;^&lt;ext/.*\.h&gt;&#x27;</span></span><br><span class="line">    <span class="attr">Priority:</span>        <span class="number">2</span></span><br><span class="line">    <span class="attr">SortPriority:</span>    <span class="number">0</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">Regex:</span>           <span class="string">&#x27;^&lt;.*\.h&gt;&#x27;</span></span><br><span class="line">    <span class="attr">Priority:</span>        <span class="number">1</span></span><br><span class="line">    <span class="attr">SortPriority:</span>    <span class="number">0</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">Regex:</span>           <span class="string">&#x27;^&lt;.*&#x27;</span></span><br><span class="line">    <span class="attr">Priority:</span>        <span class="number">2</span></span><br><span class="line">    <span class="attr">SortPriority:</span>    <span class="number">0</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">Regex:</span>           <span class="string">&#x27;.*&#x27;</span></span><br><span class="line">    <span class="attr">Priority:</span>        <span class="number">3</span></span><br><span class="line">    <span class="attr">SortPriority:</span>    <span class="number">0</span></span><br><span class="line"><span class="attr">IncludeIsMainRegex:</span> <span class="string">&#x27;([-_](test|unittest))?$&#x27;</span></span><br><span class="line"><span class="attr">IncludeIsMainSourceRegex:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="attr">IndentCaseLabels:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">IndentCaseBlocks:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">IndentGotoLabels:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">IndentPPDirectives:</span> <span class="string">None</span></span><br><span class="line"><span class="attr">IndentExternBlock:</span> <span class="string">AfterExternBlock</span></span><br><span class="line"><span class="attr">IndentWidth:</span>     <span class="number">2</span></span><br><span class="line"><span class="attr">IndentWrappedFunctionNames:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">InsertTrailingCommas:</span> <span class="string">None</span></span><br><span class="line"><span class="attr">JavaScriptQuotes:</span> <span class="string">Leave</span></span><br><span class="line"><span class="attr">JavaScriptWrapImports:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">KeepEmptyLinesAtTheStartOfBlocks:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">MacroBlockBegin:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="attr">MacroBlockEnd:</span>   <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="attr">MaxEmptyLinesToKeep:</span> <span class="number">1</span></span><br><span class="line"><span class="attr">NamespaceIndentation:</span> <span class="string">None</span></span><br><span class="line"><span class="attr">ObjCBinPackProtocolList:</span> <span class="string">Never</span></span><br><span class="line"><span class="attr">ObjCBlockIndentWidth:</span> <span class="number">2</span></span><br><span class="line"><span class="attr">ObjCBreakBeforeNestedBlockParam:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">ObjCSpaceAfterProperty:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">ObjCSpaceBeforeProtocolList:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">PenaltyBreakAssignment:</span> <span class="number">2</span></span><br><span class="line"><span class="attr">PenaltyBreakBeforeFirstCallParameter:</span> <span class="number">1</span></span><br><span class="line"><span class="attr">PenaltyBreakComment:</span> <span class="number">300</span></span><br><span class="line"><span class="attr">PenaltyBreakFirstLessLess:</span> <span class="number">120</span></span><br><span class="line"><span class="attr">PenaltyBreakString:</span> <span class="number">1000</span></span><br><span class="line"><span class="attr">PenaltyBreakTemplateDeclaration:</span> <span class="number">10</span></span><br><span class="line"><span class="attr">PenaltyExcessCharacter:</span> <span class="number">1000000</span></span><br><span class="line"><span class="attr">PenaltyReturnTypeOnItsOwnLine:</span> <span class="number">200</span></span><br><span class="line"><span class="attr">PointerAlignment:</span> <span class="string">Left</span></span><br><span class="line"><span class="attr">RawStringFormats:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">Language:</span>        <span class="string">Cpp</span></span><br><span class="line">    <span class="attr">Delimiters:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">cc</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">CC</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">cpp</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">Cpp</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">CPP</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;c++&#x27;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;C++&#x27;</span></span><br><span class="line">    <span class="attr">CanonicalDelimiter:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="attr">BasedOnStyle:</span>    <span class="string">google</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">Language:</span>        <span class="string">TextProto</span></span><br><span class="line">    <span class="attr">Delimiters:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">pb</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">PB</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">proto</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">PROTO</span></span><br><span class="line">    <span class="attr">EnclosingFunctions:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">EqualsProto</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">EquivToProto</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">PARSE_PARTIAL_TEXT_PROTO</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">PARSE_TEST_PROTO</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">PARSE_TEXT_PROTO</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">ParseTextOrDie</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">ParseTextProtoOrDie</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">ParseTestProto</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">ParsePartialTestProto</span></span><br><span class="line">    <span class="attr">CanonicalDelimiter:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="attr">BasedOnStyle:</span>    <span class="string">google</span></span><br><span class="line"><span class="attr">ReflowComments:</span>  <span class="literal">true</span></span><br><span class="line"><span class="attr">SortIncludes:</span>    <span class="literal">true</span></span><br><span class="line"><span class="attr">SortUsingDeclarations:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">SpaceAfterCStyleCast:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">SpaceAfterLogicalNot:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">SpaceAfterTemplateKeyword:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">SpaceBeforeAssignmentOperators:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">SpaceBeforeCpp11BracedList:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">SpaceBeforeCtorInitializerColon:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">SpaceBeforeInheritanceColon:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">SpaceBeforeParens:</span> <span class="string">ControlStatements</span></span><br><span class="line"><span class="attr">SpaceBeforeRangeBasedForLoopColon:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">SpaceInEmptyBlock:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">SpaceInEmptyParentheses:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">SpacesBeforeTrailingComments:</span> <span class="number">2</span></span><br><span class="line"><span class="attr">SpacesInAngles:</span>  <span class="literal">false</span></span><br><span class="line"><span class="attr">SpacesInConditionalStatement:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">SpacesInContainerLiterals:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">SpacesInCStyleCastParentheses:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">SpacesInParentheses:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">SpacesInSquareBrackets:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">SpaceBeforeSquareBrackets:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">Standard:</span>        <span class="string">Auto</span></span><br><span class="line"><span class="attr">StatementMacros:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">Q_UNUSED</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">QT_REQUIRE_VERSION</span></span><br><span class="line"><span class="attr">TabWidth:</span>        <span class="number">8</span></span><br><span class="line"><span class="attr">UseCRLF:</span>         <span class="literal">false</span></span><br><span class="line"><span class="attr">UseTab:</span>          <span class="string">Never</span></span><br><span class="line"><span class="attr">WhitespaceSensitiveMacros:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">STRINGIZE</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">PP_STRINGIZE</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">BOOST_PP_STRINGIZE</span></span><br><span class="line"><span class="string">...</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>åŒæ—¶æ›´æ–°åˆ°ubuntu22.10ä¹‹å, clang-formatä¹Ÿæ›´æ–°åˆ°äº†15, è¿™é‡Œæ˜¯15ç”Ÿæˆçš„é…ç½®æ–‡ä»¶, Googleçš„:</p>
<pre class="highlight"><code class="yaml"><span class="meta">---</span>
<span class="attr">Language:</span>        <span class="string">Cpp</span>
<span class="comment"># BasedOnStyle:  Google</span>
<span class="attr">AccessModifierOffset:</span> <span class="number">-1</span>
<span class="attr">AlignAfterOpenBracket:</span> <span class="string">Align</span>
<span class="attr">AlignArrayOfStructures:</span> <span class="string">None</span>
<span class="attr">AlignConsecutiveAssignments:</span>
  <span class="attr">Enabled:</span>         <span class="literal">false</span>
  <span class="attr">AcrossEmptyLines:</span> <span class="literal">false</span>
  <span class="attr">AcrossComments:</span>  <span class="literal">false</span>
  <span class="attr">AlignCompound:</span>   <span class="literal">false</span>
  <span class="attr">PadOperators:</span>    <span class="literal">true</span>
<span class="attr">AlignConsecutiveBitFields:</span>
  <span class="attr">Enabled:</span>         <span class="literal">false</span>
  <span class="attr">AcrossEmptyLines:</span> <span class="literal">false</span>
  <span class="attr">AcrossComments:</span>  <span class="literal">false</span>
  <span class="attr">AlignCompound:</span>   <span class="literal">false</span>
  <span class="attr">PadOperators:</span>    <span class="literal">false</span>
<span class="attr">AlignConsecutiveDeclarations:</span>
  <span class="attr">Enabled:</span>         <span class="literal">false</span>
  <span class="attr">AcrossEmptyLines:</span> <span class="literal">false</span>
  <span class="attr">AcrossComments:</span>  <span class="literal">false</span>
  <span class="attr">AlignCompound:</span>   <span class="literal">false</span>
  <span class="attr">PadOperators:</span>    <span class="literal">false</span>
<span class="attr">AlignConsecutiveMacros:</span>
  <span class="attr">Enabled:</span>         <span class="literal">false</span>
  <span class="attr">AcrossEmptyLines:</span> <span class="literal">false</span>
  <span class="attr">AcrossComments:</span>  <span class="literal">false</span>
  <span class="attr">AlignCompound:</span>   <span class="literal">false</span>
  <span class="attr">PadOperators:</span>    <span class="literal">false</span>
<span class="attr">AlignEscapedNewlines:</span> <span class="string">Left</span>
<span class="attr">AlignOperands:</span>   <span class="string">Align</span>
<span class="attr">AlignTrailingComments:</span> <span class="literal">true</span>
<span class="attr">AllowAllArgumentsOnNextLine:</span> <span class="literal">true</span>
<span class="attr">AllowAllParametersOfDeclarationOnNextLine:</span> <span class="literal">true</span>
<span class="attr">AllowShortEnumsOnASingleLine:</span> <span class="literal">true</span>
<span class="attr">AllowShortBlocksOnASingleLine:</span> <span class="string">Never</span>
<span class="attr">AllowShortCaseLabelsOnASingleLine:</span> <span class="literal">false</span>
<span class="attr">AllowShortFunctionsOnASingleLine:</span> <span class="string">All</span>
<span class="attr">AllowShortLambdasOnASingleLine:</span> <span class="string">All</span>
<span class="attr">AllowShortIfStatementsOnASingleLine:</span> <span class="string">WithoutElse</span>
<span class="attr">AllowShortLoopsOnASingleLine:</span> <span class="literal">true</span>
<span class="attr">AlwaysBreakAfterDefinitionReturnType:</span> <span class="string">None</span>
<span class="attr">AlwaysBreakAfterReturnType:</span> <span class="string">None</span>
<span class="attr">AlwaysBreakBeforeMultilineStrings:</span> <span class="literal">true</span>
<span class="attr">AlwaysBreakTemplateDeclarations:</span> <span class="literal">Yes</span>
<span class="attr">AttributeMacros:</span>
  <span class="bullet">-</span> <span class="string">__capability</span>
<span class="attr">BinPackArguments:</span> <span class="literal">true</span>
<span class="attr">BinPackParameters:</span> <span class="literal">true</span>
<span class="attr">BraceWrapping:</span>
  <span class="attr">AfterCaseLabel:</span>  <span class="literal">false</span>
  <span class="attr">AfterClass:</span>      <span class="literal">false</span>
  <span class="attr">AfterControlStatement:</span> <span class="string">Never</span>
  <span class="attr">AfterEnum:</span>       <span class="literal">false</span>
  <span class="attr">AfterFunction:</span>   <span class="literal">false</span>
  <span class="attr">AfterNamespace:</span>  <span class="literal">false</span>
  <span class="attr">AfterObjCDeclaration:</span> <span class="literal">false</span>
  <span class="attr">AfterStruct:</span>     <span class="literal">false</span>
  <span class="attr">AfterUnion:</span>      <span class="literal">false</span>
  <span class="attr">AfterExternBlock:</span> <span class="literal">false</span>
  <span class="attr">BeforeCatch:</span>     <span class="literal">false</span>
  <span class="attr">BeforeElse:</span>      <span class="literal">false</span>
  <span class="attr">BeforeLambdaBody:</span> <span class="literal">false</span>
  <span class="attr">BeforeWhile:</span>     <span class="literal">false</span>
  <span class="attr">IndentBraces:</span>    <span class="literal">false</span>
  <span class="attr">SplitEmptyFunction:</span> <span class="literal">true</span>
  <span class="attr">SplitEmptyRecord:</span> <span class="literal">true</span>
  <span class="attr">SplitEmptyNamespace:</span> <span class="literal">true</span>
<span class="attr">BreakBeforeBinaryOperators:</span> <span class="string">None</span>
<span class="attr">BreakBeforeConceptDeclarations:</span> <span class="string">Always</span>
<span class="attr">BreakBeforeBraces:</span> <span class="string">Attach</span>
<span class="attr">BreakBeforeInheritanceComma:</span> <span class="literal">false</span>
<span class="attr">BreakInheritanceList:</span> <span class="string">BeforeColon</span>
<span class="attr">BreakBeforeTernaryOperators:</span> <span class="literal">true</span>
<span class="attr">BreakConstructorInitializersBeforeComma:</span> <span class="literal">false</span>
<span class="attr">BreakConstructorInitializers:</span> <span class="string">BeforeColon</span>
<span class="attr">BreakAfterJavaFieldAnnotations:</span> <span class="literal">false</span>
<span class="attr">BreakStringLiterals:</span> <span class="literal">true</span>
<span class="attr">ColumnLimit:</span>     <span class="number">80</span>
<span class="attr">CommentPragmas:</span>  <span class="string">&#x27;^ IWYU pragma:&#x27;</span>
<span class="attr">QualifierAlignment:</span> <span class="string">Leave</span>
<span class="attr">CompactNamespaces:</span> <span class="literal">false</span>
<span class="attr">ConstructorInitializerIndentWidth:</span> <span class="number">4</span>
<span class="attr">ContinuationIndentWidth:</span> <span class="number">4</span>
<span class="attr">Cpp11BracedListStyle:</span> <span class="literal">true</span>
<span class="attr">DeriveLineEnding:</span> <span class="literal">true</span>
<span class="attr">DerivePointerAlignment:</span> <span class="literal">true</span>
<span class="attr">DisableFormat:</span>   <span class="literal">false</span>
<span class="attr">EmptyLineAfterAccessModifier:</span> <span class="string">Never</span>
<span class="attr">EmptyLineBeforeAccessModifier:</span> <span class="string">LogicalBlock</span>
<span class="attr">ExperimentalAutoDetectBinPacking:</span> <span class="literal">false</span>
<span class="attr">PackConstructorInitializers:</span> <span class="string">NextLine</span>
<span class="attr">BasedOnStyle:</span>    <span class="string">&#x27;&#x27;</span>
<span class="attr">ConstructorInitializerAllOnOneLineOrOnePerLine:</span> <span class="literal">false</span>
<span class="attr">AllowAllConstructorInitializersOnNextLine:</span> <span class="literal">true</span>
<span class="attr">FixNamespaceComments:</span> <span class="literal">true</span>
<span class="attr">ForEachMacros:</span>
  <span class="bullet">-</span> <span class="string">foreach</span>
  <span class="bullet">-</span> <span class="string">Q_FOREACH</span>
  <span class="bullet">-</span> <span class="string">BOOST_FOREACH</span>
<span class="attr">IfMacros:</span>
  <span class="bullet">-</span> <span class="string">KJ_IF_MAYBE</span>
<span class="attr">IncludeBlocks:</span>   <span class="string">Regroup</span>
<span class="attr">IncludeCategories:</span>
  <span class="bullet">-</span> <span class="attr">Regex:</span>           <span class="string">&#x27;^&lt;ext/.*\.h&gt;&#x27;</span>
    <span class="attr">Priority:</span>        <span class="number">2</span>
    <span class="attr">SortPriority:</span>    <span class="number">0</span>
    <span class="attr">CaseSensitive:</span>   <span class="literal">false</span>
  <span class="bullet">-</span> <span class="attr">Regex:</span>           <span class="string">&#x27;^&lt;.*\.h&gt;&#x27;</span>
    <span class="attr">Priority:</span>        <span class="number">1</span>
    <span class="attr">SortPriority:</span>    <span class="number">0</span>
    <span class="attr">CaseSensitive:</span>   <span class="literal">false</span>
  <span class="bullet">-</span> <span class="attr">Regex:</span>           <span class="string">&#x27;^&lt;.*&#x27;</span>
    <span class="attr">Priority:</span>        <span class="number">2</span>
    <span class="attr">SortPriority:</span>    <span class="number">0</span>
    <span class="attr">CaseSensitive:</span>   <span class="literal">false</span>
  <span class="bullet">-</span> <span class="attr">Regex:</span>           <span class="string">&#x27;.*&#x27;</span>
    <span class="attr">Priority:</span>        <span class="number">3</span>
    <span class="attr">SortPriority:</span>    <span class="number">0</span>
    <span class="attr">CaseSensitive:</span>   <span class="literal">false</span>
<span class="attr">IncludeIsMainRegex:</span> <span class="string">&#x27;([-_](test|unittest))?$&#x27;</span>
<span class="attr">IncludeIsMainSourceRegex:</span> <span class="string">&#x27;&#x27;</span>
<span class="attr">IndentAccessModifiers:</span> <span class="literal">false</span>
<span class="attr">IndentCaseLabels:</span> <span class="literal">true</span>
<span class="attr">IndentCaseBlocks:</span> <span class="literal">false</span>
<span class="attr">IndentGotoLabels:</span> <span class="literal">true</span>
<span class="attr">IndentPPDirectives:</span> <span class="string">None</span>
<span class="attr">IndentExternBlock:</span> <span class="string">AfterExternBlock</span>
<span class="attr">IndentRequiresClause:</span> <span class="literal">true</span>
<span class="attr">IndentWidth:</span>     <span class="number">2</span>
<span class="attr">IndentWrappedFunctionNames:</span> <span class="literal">false</span>
<span class="attr">InsertBraces:</span>    <span class="literal">false</span>
<span class="attr">InsertTrailingCommas:</span> <span class="string">None</span>
<span class="attr">JavaScriptQuotes:</span> <span class="string">Leave</span>
<span class="attr">JavaScriptWrapImports:</span> <span class="literal">true</span>
<span class="attr">KeepEmptyLinesAtTheStartOfBlocks:</span> <span class="literal">false</span>
<span class="attr">LambdaBodyIndentation:</span> <span class="string">Signature</span>
<span class="attr">MacroBlockBegin:</span> <span class="string">&#x27;&#x27;</span>
<span class="attr">MacroBlockEnd:</span>   <span class="string">&#x27;&#x27;</span>
<span class="attr">MaxEmptyLinesToKeep:</span> <span class="number">1</span>
<span class="attr">NamespaceIndentation:</span> <span class="string">None</span>
<span class="attr">ObjCBinPackProtocolList:</span> <span class="string">Never</span>
<span class="attr">ObjCBlockIndentWidth:</span> <span class="number">2</span>
<span class="attr">ObjCBreakBeforeNestedBlockParam:</span> <span class="literal">true</span>
<span class="attr">ObjCSpaceAfterProperty:</span> <span class="literal">false</span>
<span class="attr">ObjCSpaceBeforeProtocolList:</span> <span class="literal">true</span>
<span class="attr">PenaltyBreakAssignment:</span> <span class="number">2</span>
<span class="attr">PenaltyBreakBeforeFirstCallParameter:</span> <span class="number">1</span>
<span class="attr">PenaltyBreakComment:</span> <span class="number">300</span>
<span class="attr">PenaltyBreakFirstLessLess:</span> <span class="number">120</span>
<span class="attr">PenaltyBreakOpenParenthesis:</span> <span class="number">0</span>
<span class="attr">PenaltyBreakString:</span> <span class="number">1000</span>
<span class="attr">PenaltyBreakTemplateDeclaration:</span> <span class="number">10</span>
<span class="attr">PenaltyExcessCharacter:</span> <span class="number">1000000</span>
<span class="attr">PenaltyReturnTypeOnItsOwnLine:</span> <span class="number">200</span>
<span class="attr">PenaltyIndentedWhitespace:</span> <span class="number">0</span>
<span class="attr">PointerAlignment:</span> <span class="string">Left</span>
<span class="attr">PPIndentWidth:</span>   <span class="number">-1</span>
<span class="attr">RawStringFormats:</span>
  <span class="bullet">-</span> <span class="attr">Language:</span>        <span class="string">Cpp</span>
    <span class="attr">Delimiters:</span>
      <span class="bullet">-</span> <span class="string">cc</span>
      <span class="bullet">-</span> <span class="string">CC</span>
      <span class="bullet">-</span> <span class="string">cpp</span>
      <span class="bullet">-</span> <span class="string">Cpp</span>
      <span class="bullet">-</span> <span class="string">CPP</span>
      <span class="bullet">-</span> <span class="string">&#x27;c++&#x27;</span>
      <span class="bullet">-</span> <span class="string">&#x27;C++&#x27;</span>
    <span class="attr">CanonicalDelimiter:</span> <span class="string">&#x27;&#x27;</span>
    <span class="attr">BasedOnStyle:</span>    <span class="string">google</span>
  <span class="bullet">-</span> <span class="attr">Language:</span>        <span class="string">TextProto</span>
    <span class="attr">Delimiters:</span>
      <span class="bullet">-</span> <span class="string">pb</span>
      <span class="bullet">-</span> <span class="string">PB</span>
      <span class="bullet">-</span> <span class="string">proto</span>
      <span class="bullet">-</span> <span class="string">PROTO</span>
    <span class="attr">EnclosingFunctions:</span>
      <span class="bullet">-</span> <span class="string">EqualsProto</span>
      <span class="bullet">-</span> <span class="string">EquivToProto</span>
      <span class="bullet">-</span> <span class="string">PARSE_PARTIAL_TEXT_PROTO</span>
      <span class="bullet">-</span> <span class="string">PARSE_TEST_PROTO</span>
      <span class="bullet">-</span> <span class="string">PARSE_TEXT_PROTO</span>
      <span class="bullet">-</span> <span class="string">ParseTextOrDie</span>
      <span class="bullet">-</span> <span class="string">ParseTextProtoOrDie</span>
      <span class="bullet">-</span> <span class="string">ParseTestProto</span>
      <span class="bullet">-</span> <span class="string">ParsePartialTestProto</span>
    <span class="attr">CanonicalDelimiter:</span> <span class="string">pb</span>
    <span class="attr">BasedOnStyle:</span>    <span class="string">google</span>
<span class="attr">ReferenceAlignment:</span> <span class="string">Pointer</span>
<span class="attr">ReflowComments:</span>  <span class="literal">true</span>
<span class="attr">RemoveBracesLLVM:</span> <span class="literal">false</span>
<span class="attr">RequiresClausePosition:</span> <span class="string">OwnLine</span>
<span class="attr">SeparateDefinitionBlocks:</span> <span class="string">Leave</span>
<span class="attr">ShortNamespaceLines:</span> <span class="number">1</span>
<span class="attr">SortIncludes:</span>    <span class="string">CaseSensitive</span>
<span class="attr">SortJavaStaticImport:</span> <span class="string">Before</span>
<span class="attr">SortUsingDeclarations:</span> <span class="literal">true</span>
<span class="attr">SpaceAfterCStyleCast:</span> <span class="literal">false</span>
<span class="attr">SpaceAfterLogicalNot:</span> <span class="literal">false</span>
<span class="attr">SpaceAfterTemplateKeyword:</span> <span class="literal">true</span>
<span class="attr">SpaceBeforeAssignmentOperators:</span> <span class="literal">true</span>
<span class="attr">SpaceBeforeCaseColon:</span> <span class="literal">false</span>
<span class="attr">SpaceBeforeCpp11BracedList:</span> <span class="literal">false</span>
<span class="attr">SpaceBeforeCtorInitializerColon:</span> <span class="literal">true</span>
<span class="attr">SpaceBeforeInheritanceColon:</span> <span class="literal">true</span>
<span class="attr">SpaceBeforeParens:</span> <span class="string">ControlStatements</span>
<span class="attr">SpaceBeforeParensOptions:</span>
  <span class="attr">AfterControlStatements:</span> <span class="literal">true</span>
  <span class="attr">AfterForeachMacros:</span> <span class="literal">true</span>
  <span class="attr">AfterFunctionDefinitionName:</span> <span class="literal">false</span>
  <span class="attr">AfterFunctionDeclarationName:</span> <span class="literal">false</span>
  <span class="attr">AfterIfMacros:</span>   <span class="literal">true</span>
  <span class="attr">AfterOverloadedOperator:</span> <span class="literal">false</span>
  <span class="attr">AfterRequiresInClause:</span> <span class="literal">false</span>
  <span class="attr">AfterRequiresInExpression:</span> <span class="literal">false</span>
  <span class="attr">BeforeNonEmptyParentheses:</span> <span class="literal">false</span>
<span class="attr">SpaceAroundPointerQualifiers:</span> <span class="string">Default</span>
<span class="attr">SpaceBeforeRangeBasedForLoopColon:</span> <span class="literal">true</span>
<span class="attr">SpaceInEmptyBlock:</span> <span class="literal">false</span>
<span class="attr">SpaceInEmptyParentheses:</span> <span class="literal">false</span>
<span class="attr">SpacesBeforeTrailingComments:</span> <span class="number">2</span>
<span class="attr">SpacesInAngles:</span>  <span class="string">Never</span>
<span class="attr">SpacesInConditionalStatement:</span> <span class="literal">false</span>
<span class="attr">SpacesInContainerLiterals:</span> <span class="literal">true</span>
<span class="attr">SpacesInCStyleCastParentheses:</span> <span class="literal">false</span>
<span class="attr">SpacesInLineCommentPrefix:</span>
  <span class="attr">Minimum:</span>         <span class="number">1</span>
  <span class="attr">Maximum:</span>         <span class="number">-1</span>
<span class="attr">SpacesInParentheses:</span> <span class="literal">false</span>
<span class="attr">SpacesInSquareBrackets:</span> <span class="literal">false</span>
<span class="attr">SpaceBeforeSquareBrackets:</span> <span class="literal">false</span>
<span class="attr">BitFieldColonSpacing:</span> <span class="string">Both</span>
<span class="attr">Standard:</span>        <span class="string">Auto</span>
<span class="attr">StatementAttributeLikeMacros:</span>
  <span class="bullet">-</span> <span class="string">Q_EMIT</span>
<span class="attr">StatementMacros:</span>
  <span class="bullet">-</span> <span class="string">Q_UNUSED</span>
  <span class="bullet">-</span> <span class="string">QT_REQUIRE_VERSION</span>
<span class="attr">TabWidth:</span>        <span class="number">8</span>
<span class="attr">UseCRLF:</span>         <span class="literal">false</span>
<span class="attr">UseTab:</span>          <span class="string">Never</span>
<span class="attr">WhitespaceSensitiveMacros:</span>
  <span class="bullet">-</span> <span class="string">STRINGIZE</span>
  <span class="bullet">-</span> <span class="string">PP_STRINGIZE</span>
  <span class="bullet">-</span> <span class="string">BOOST_PP_STRINGIZE</span>
  <span class="bullet">-</span> <span class="string">NS_SWIFT_NAME</span>
  <span class="bullet">-</span> <span class="string">CF_SWIFT_NAME</span>
<span class="string">...</span>
</code></pre>
</blockquote>
<p>æ³¨æ„, åœ¨å®‰è£…äº†å®˜æ–¹çš„æ‰©å±•ä¹‹å, é»˜è®¤çš„æ ¼å¼åŒ–å·¥å…·å°±æ˜¯å®˜æ–¹çš„. clangdæ’ä»¶å’Œå®˜æ–¹çš„æ˜¯å†²çªçš„, å¸è½½æ‰å®˜æ–¹çš„æ’ä»¶ä¹‹åå†æ¬¡æ ¼å¼åŒ–, ä¼šæç¤ºæ‰¾ä¸åˆ°æ ¼å¼åŒ–å·¥å…·, ç„¶åå†ç‚¹å‡»é…ç½®, é€‰æ‹©clangdæä¾›çš„æ ¼å¼åŒ–å·¥å…·, è¿™æ ·å°±éå¸¸å¥½.</p>
<p>é‚£å†™åˆ°è¿™é‡Œ, åŸºæœ¬ä¸Šé—®é¢˜éƒ½è§£å†³äº†.</p>
<h2 id="è§†é¢‘é‡Œé¢çš„ä¸€äº›å°é—®é¢˜ä»…é’ˆå¯¹ç¬¬äºŒèŠ‚"><a class="markdownIt-Anchor" href="#è§†é¢‘é‡Œé¢çš„ä¸€äº›å°é—®é¢˜ä»…é’ˆå¯¹ç¬¬äºŒèŠ‚"></a> è§†é¢‘é‡Œé¢çš„ä¸€äº›å°é—®é¢˜(ä»…é’ˆå¯¹ç¬¬äºŒèŠ‚)</h2>
<p>è§†é¢‘è¯„è®ºåŒºåº•ä¸‹çš„task.jsonå‘½ä»¤å†™çš„æ˜¯clangä¸æ˜¯clang++, æœ‰çš„æ—¶å€™ä¸€äº›CPPçš„å†™æ³•ä¼šå‡ºç°é—®é¢˜.</p>
<p>ä½¿ç”¨è¿™ä¸ªæ’ä»¶è¿›è¡Œè°ƒè¯•çš„æ—¶å€™, å‡å¦‚æ²¡åŠæ³•çœ‹åˆ°å…¨å±€å˜é‡, å°±å°è¯•åˆ‡æ¢ä¸€ä¸‹å·¦ä¸‹ä¾§çš„å †æ ˆå¸§.</p>
<h1 id="windowsç¯å¢ƒä¸‹çš„é…ç½®"><a class="markdownIt-Anchor" href="#windowsç¯å¢ƒä¸‹çš„é…ç½®"></a> windowsç¯å¢ƒä¸‹çš„é…ç½®</h1>
<p>æˆ‘è®¤ä¸ºè¿˜æ˜¯å¾—åƒè§†é¢‘é‡Œé¢ä¸€æ ·, ä½¿ç”¨wsl2. é¦–å…ˆå¯¹äºä¸€ä¸ªç¨‹åºå‘˜çš„windowsç³»ç»Ÿ, wsl2æ€»æ˜¯å°‘ä¸äº†çš„. æ‰€ä»¥æ¢è¨€ä¹‹windowsä¸‹é¢æƒ³ä½¿ç”¨clangdåŸºæœ¬ä¸Šå°±æ˜¯wsl2çš„é…ç½®, è§†é¢‘ä¸­é—´çš„wsl2æ˜¯ç¬¬ä¸‰æ–¹åšçš„archçš„å‘è¡Œç‰ˆ, æˆ‘ä¸ªäººè¿˜åå‘ä½¿ç”¨å¾®è½¯å•†åº—æä¾›çš„å‘è¡Œç‰ˆ, æ›´åŠ å¯é .<s>(å†è¯´äº†è¦é‚£ä¹ˆæ–°çš„è½¯ä»¶å¹²ä»€ä¹ˆ)</s> ä¸‹é¢æ˜¯å®˜æ–¹ç»™çš„å®‰è£…å‚è€ƒæ–‡æ¡£:</p>
<p><a href="https://docs.microsoft.com/zh-cn/windows/wsl/install">https://docs.microsoft.com/zh-cn/windows/wsl/install</a></p>
<p>æœ‰å‡ ä¸ªæ³¨æ„ç‚¹éœ€è¦ç‰¹åˆ«æé†’:</p>
<ol>
<li>ä¸ºäº†ä½“éªŒæœ€å¥½è¿˜æ˜¯ä¸‹è½½ä¸€ä¸ªwindows terminal. è¿˜é€ä¸€ä¸ªå¾ˆå¥½çœ‹çš„é»˜è®¤å­—ä½“.</li>
<li>å¦‚æœå‹¾é€‰äº†ç£ç›˜å‹ç¼©æ¥èŠ‚çœç©ºé—´(å°±æ˜¯æ–‡ä»¶å¤¹ä¸Šé¢çœ‹åˆ°è“è‰²å‹ç¼©ç®­å¤´äº†çš„.)å¯èƒ½ä¼šåœ¨å®‰è£…å­ç³»ç»Ÿçš„æ—¶å€™å‡ºç°é—®é¢˜, éœ€è¦å–æ¶ˆå‹¾é€‰æŸä¸ªç‰¹å®šä½ç½®. å¦‚æœæ˜¯åœ¨å¾®è½¯å•†åº—å®‰è£…çš„, å°±éœ€è¦å–æ¶ˆå®¶ç›®å½•ä¸‹é¢çš„AppData/Local/Packages/Canonicalâ€¦(æœ€åè¿™ä¸ªæ ¹æ®ä½ é€‰çš„å‘è¡Œç‰ˆè€Œå®š)è¿™ä¸ªæ–‡ä»¶å¤¹çš„â€å‹ç¼©ä»¥èŠ‚çœç©ºé—´â€é€‰é¡¹.</li>
<li>é»˜è®¤ä¼šæŠŠwslå®‰è£…åˆ°Cç›˜, å…¶å®æ˜¯æœ‰åŠæ³•å®‰è£…åˆ°Dç›˜, è¯¦æƒ…å¯ä»¥çœ‹å¾®è½¯å•†åº—é‡Œé¢æœubuntuçš„ç¬¬ä¸€æ¡è¯„è®º.(å°±æ˜¯èµæœ€å¤šçš„é‚£ä¸ª) å½“ç„¶æˆ‘ä¸ªäººCç›˜ä¸å°‘é‚£ç‚¹ç©ºé—´, è€Œä¸”é»˜è®¤å®‰è£…ç›®å½•å…¶å®æ›´åŠ æ–¹ä¾¿(æ•™ç¨‹å‘½ä»¤ä»€ä¹ˆçš„éƒ½èƒ½é€‚ç”¨, ä¸ç”¨æŠ„å®˜æ–¹å‘½ä»¤çš„æ—¶å€™è¿˜è¦æ³¨æ„è·¯å¾„é—®é¢˜)</li>
<li>å‡å¦‚ubuntuä¸è¦å®‰è£…æœ€æ–°çš„22.04, æˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘ä¸€ç›´å¤±è´¥, æœ€åè¿˜æ˜¯é€‰äº†20.04.</li>
</ol>
<p>æˆ‘ç°åœ¨å‡è®¾å®‰è£…å¥½äº†(å…¶å®å®‰è£…wsl2è¿˜æ˜¯æœ‰ç‚¹è´¹åŠ²çš„â€¦)</p>
<p>ä¸‹é¢éœ€è¦vscodeé‡Œé¢éå¸¸å¥½ç”¨çš„æ‰©å±•â€”-â€œremote-wslâ€, æ¥ä¸‹æ¥çš„æ­¥éª¤å°±å’Œå¼€å§‹çœ‹çš„è§†é¢‘ä¸€æ ·äº†. windowsä¸‹é¢çš„å°é—®é¢˜å°±é‡å¯è§£.</p>
]]></content>
      <tags>
        <tag>vscode</tag>
        <tag>touchfish</tag>
      </tags>
  </entry>
  <entry>
    <title>ubuntuä½¿ç”¨å»ºè®®</title>
    <url>/2022/11/10/ubuntu%E4%BD%BF%E7%94%A8%E5%BB%BA%E8%AE%AE/</url>
    <content><![CDATA[<p>æœ€å¼€å§‹è¿™é‡Œä»…ä»…æ˜¯ä¸€ä¸ª20.04çš„é—®é¢˜è§£å†³æ–‡ç« é›†åˆ. éšç€æ—¶é—´çš„æ¨ç§», ä¹Ÿé‡åˆ°äº†æ›´å¤šé—®é¢˜å’Œæ›´å¤šè¡¥å……çš„å†…å®¹, æ‰€ä»¥ä»Šå¤©å°†è¿™ç¯‡æ–‡ç« æ ‡é¢˜å’Œå†…å®¹è¿›è¡Œé‡å†™.</p>
<p>è¿™äº›é—®é¢˜çš„è§£å†³é¡ºåºè¿˜æ˜¯å¸Œæœ›æŒ‰ç…§æ—¶é—´æ¥æ’åº, ä¹Ÿå°±æ˜¯æœ‰ä¸€äº›æ“ä½œå¯èƒ½ä¼šå½±å“åç»­é—®é¢˜çš„è§£å†³.</p>
<p><strong>æœ¬æ–‡é™¤å¼€ç‰¹åˆ«æ ‡æ³¨éƒ¨åˆ†, æŒ‡çš„éƒ½æ˜¯gnomeç‰ˆæœ¬çš„å®˜æ–¹Ubuntué•œåƒ.</strong></p>
<span id="more"></span>
<h1 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h1>
<p>written in:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">            .-/+oossssoo+/-.               liu@liu-Swift-SFX14-41G </span><br><span class="line">        `:+ssssssssssssssssss+:`           ----------------------- </span><br><span class="line">      -+ssssssssssssssssssyyssss+-         OS: Ubuntu 22.10 x86_64 </span><br><span class="line">    .ossssssssssssssssssdMMMNysssso.       Host: Swift SFX14-41G V1.00 </span><br><span class="line">   /ssssssssssshdmmNNmmyNMMMMhssssss/      Kernel: 5.19.0-29-generic </span><br><span class="line">  +ssssssssshmydMMMMMMMNddddyssssssss+     Uptime: 40 mins </span><br><span class="line"> /sssssssshNMMMyhhyyyyhmNMMMNhssssssss/    Packages: 1719 (dpkg) </span><br><span class="line">.ssssssssdMMMNhsssssssssshNMMMdssssssss.   Shell: zsh 5.9 </span><br><span class="line">+sssshhhyNMMNyssssssssssssyNMMMysssssss+   Resolution: 1920x1080 </span><br><span class="line">ossyNMMMNyMMhsssssssssssssshmmmhssssssso   DE: GNOME 43.1 </span><br><span class="line">ossyNMMMNyMMhsssssssssssssshmmmhssssssso   WM: Mutter </span><br><span class="line">+sssshhhyNMMNyssssssssssssyNMMMysssssss+   WM Theme: Adwaita </span><br><span class="line">.ssssssssdMMMNhsssssssssshNMMMdssssssss.   Theme: Yaru-dark [GTK2/3] </span><br><span class="line"> /sssssssshNMMMyhhyyyyhdNMMMNhssssssss/    Icons: Yaru-dark [GTK2/3] </span><br><span class="line">  +sssssssssdmydMMMMMMMMddddyssssssss+     Terminal: x-terminal-emul </span><br><span class="line">   /ssssssssssshdmNNNNmyNMMMMhssssss/      CPU: AMD Ryzen 7 5700U 4.372GHz </span><br><span class="line">    .ossssssssssssssssssdMMMNysssso.       GPU: AMD ATI 05:00.0 Lucienne </span><br><span class="line">      -+sssssssssssssssssyyyssss+-         GPU: NVIDIA GeForce GTX 1650</span><br><span class="line">        `:+ssssssssssssssssss+:`           Memory: 2255MiB / 15328MiB </span><br><span class="line">            .-/+oossssoo+/-.</span><br></pre></td></tr></table></figure>
<p>æœ‰æ—¶å€™ç³»ç»Ÿåšäº†ä¸€äº›æ›´æ”¹ä¹‹å, æ¯”å¦‚è¯´è£…å®Œå­—ä½“åº”ç”¨é‡Œé¢è¿˜æ˜¯æ‰¾ä¸åˆ°, è¿™ä¸ªæ—¶å€™å–„ç”¨é‡å¯.</p>
<h1 id="ç³»ç»Ÿä¼˜åŒ–éƒ¨åˆ†"><a class="markdownIt-Anchor" href="#ç³»ç»Ÿä¼˜åŒ–éƒ¨åˆ†"></a> ç³»ç»Ÿä¼˜åŒ–éƒ¨åˆ†</h1>
<h2 id="å…³é—­é»˜è®¤æŒ‰é”®"><a class="markdownIt-Anchor" href="#å…³é—­é»˜è®¤æŒ‰é”®"></a> å…³é—­é»˜è®¤æŒ‰é”®</h2>
<p>å¾ˆå¤šäººä¸æƒ³ä½¿ç”¨win+numberçš„å½¢å¼æ¥æ‰“å¼€å¿«æ·æ , æ¯”å¦‚è¯´æˆ‘, æˆ‘ä½¿ç”¨win+2æ¥åˆ‡æ¢åˆ°å·¥ä½œåŒº2, æ‰€ä»¥å¿…é¡»å…³é—­è¿™ä¸ªå¿«æ·é”®. <a href="https://askubuntu.com/questions/968103/disable-the-default-app-key-supernum-functionality-on-ubuntu-17-10-and-later">å‚è€ƒæ–‡ç« </a>.</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">gsettings set org.gnome.shell.extensions.dash-to-dock hot-keys false</span><br><span class="line">for i in $(seq 1 9); do gsettings set org.gnome.shell.keybindings switch-to-application-$&#123;i&#125; &#x27;[]&#x27;; done</span><br></pre></td></tr></table></figure>
<h2 id="btrfsb-tree-filesystemå’Œtimeshift"><a class="markdownIt-Anchor" href="#btrfsb-tree-filesystemå’Œtimeshift"></a> btrfs(B-tree filesystem)å’Œtimeshift</h2>
<p>åœ¨å®‰è£…ubuntuçš„æ—¶å€™, åœ¨é€‰å–ä¸»åˆ†åŒºçš„æ—¶å€™é»˜è®¤éƒ½æ˜¯ä½¿ç”¨ext4ä½œä¸º<strong>æ–‡ä»¶ç³»ç»Ÿ</strong>. å¸¸å¹´åœ¨Windowsä¸‹é¢å¾…ç¡®å®è®©æˆ‘å¯¹æ–‡ä»¶ç³»ç»Ÿçš„ç†è§£æ²¡æœ‰ä»€ä¹ˆ. Windowsé»˜è®¤æ˜¯ä½¿ç”¨NTFSçš„æ–‡ä»¶ç³»ç»Ÿ. æ–‡ä»¶ç³»ç»Ÿçš„ä¸åŒå†³å®šäº†æ–‡ä»¶åœ¨ç£ç›˜é‡Œé¢å¦‚ä½•å­˜å‚¨. å¯¹äºlinuxæ¥è¯´, ç»å¸¸ä¼šç”¨åˆ°å¤‡ä»½(æ¯æ¬¡æ•´å¤§æ´»ä¹‹å‰å…ˆæŠŠç³»ç»Ÿæ‹ä¸ªç…§ç‰‡, ä¸‡ä¸€å¤§æ´»æ•´çƒ‚äº†è¿˜å¯ä»¥åƒæ—¶å…‰æœºå™¨ä¸€æ ·å›æ»šåˆ°å¿«ç…§çš„æ—¶å€™). å’Œext4ç›¸æ¯”, btrfsçš„æœ€æ˜¾è‘—çš„ä¼˜åŠ¿å°±æ˜¯æ–¹ä¾¿å¤‡ä»½. ext4å¤‡ä»½çš„è¯éœ€è¦å¤åˆ¶å¾ˆå¤šæ–‡ä»¶, è€Œbtrfsæ˜¯ä¸€ç§æ¯”è¾ƒå¥‡ç‰¹çš„æ–¹å¼, å¯ä»¥ç¬é—´å®Œæˆå¤‡ä»½, ä¹Ÿä¸ç”¨è¿›è¡Œå¤æ‚çš„æ–‡ä»¶èµ‹å€¼. æ¢å¤å¤‡ä»½çš„æ—¶å€™ä¹Ÿæ˜¯ç¬é—´æ¢å¤, è¿™ç»™æŠ˜è…¾Linuxæä¾›å¾ˆå¤šä¾¿åˆ©.</p>
<p>æ›´åŠ ç»†èŠ‚çš„ä¸œè¥¿å¯ä»¥å‚çœ‹å­¦é•¿çš„åšå®¢:<a href="https://blog.kaaass.net/archives/1748">ç‚¹æ­¤</a></p>
<p>timeshiftæ˜¯ä¸€ä¸ªå¤‡ä»½çš„è½¯ä»¶, å³ä½¿ä½ æ²¡æœ‰ä½¿ç”¨btrfsä½œä¸ºæ–‡ä»¶ç³»ç»Ÿ, ä½¿ç”¨timeshiftç»å¸¸å¤‡ä»½ä¹Ÿæ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯.</p>
<h2 id="waylandå’Œx11"><a class="markdownIt-Anchor" href="#waylandå’Œx11"></a> waylandå’ŒX11</h2>
<p>è¿™ä¸¤è€…ä¹‹é—´æˆ‘ä¹Ÿä¸æ˜¯å¾ˆæ‡‚, ä½†æ˜¯ç¡®å®šçš„æ˜¯, waylandæ˜¯è¿‘å¹´æ¥æ–°å‡ºç°çš„åè®®, å¸¦æ¥ä¸€äº›æ–°åŠŸèƒ½æ–°æ”¹å˜. ä½†æ˜¯æœ‰ä¸€äº›è½¯ä»¶åœ¨è¿™ä¸ªä¸‹é¢è¡¨ç°ä¸ä½³, å¥½åƒè…¾è®¯ä¼šè®®å°±æ˜¯è¿™ä¸ªå…¸å‹. æ‰€ä»¥åœ¨è¿›å…¥ubuntuå›¾å½¢åŒ–ç•Œé¢çš„æ—¶å€™è¿˜æ˜¯æ¨èé€‰æ‹©x11è€Œä¸æ˜¯wayland. <strong>åœ¨ubuntuçš„è®¾ç½®-&gt;å…³äº-&gt;çª—å£ç³»ç»Ÿè¿™ä¸€æ é‡Œé¢å¯ä»¥çœ‹åˆ°ç°åœ¨æ˜¯ä¸æ˜¯x11</strong>. åœ¨ç™»å½•é¡µé¢çš„å³ä¸‹è§’æœ‰ä¸€ä¸ªè®¾ç½®ä¸€æ ·çš„æŒ‰é’®. é€‰çš„æ—¶å€™é€‰ubuntu on xorg, ä¸è¦é€‰ubuntu on wayland.(æœ‰çš„æ—¶å€™åªä¼šæ˜¾ç¤ºubuntu, ä½†æ˜¯ä¸ç®¡æ€ä¹ˆæ ·è‚¯å®šæœ‰ä¸€ä¸ªæ˜¾ç¤ºå…¨äº†çš„, åæ­£èƒ½é€‰å‡ºæ¥). æœ‰æ—¶å€™è½¯ä»¶æ‰“ä¸å¼€ç­‰å¥‡æ€ªçš„bugå°±æ˜¯waylandå¯¼è‡´çš„.</p>
<h2 id="è”ç½‘-æ¢æº-è®¾ç½®æ—¶é—´-æ›´æ”¹rootç”¨æˆ·å¯†ç -æ›´æ”¹å®¶ç›®å½•ä¸­è‹±æ–‡"><a class="markdownIt-Anchor" href="#è”ç½‘-æ¢æº-è®¾ç½®æ—¶é—´-æ›´æ”¹rootç”¨æˆ·å¯†ç -æ›´æ”¹å®¶ç›®å½•ä¸­è‹±æ–‡"></a> è”ç½‘ æ¢æº è®¾ç½®æ—¶é—´ æ›´æ”¹rootç”¨æˆ·å¯†ç  æ›´æ”¹å®¶ç›®å½•ä¸­è‹±æ–‡</h2>
<p>è¿™ä¸€ç³»åˆ—ä¸œè¥¿åŸºæœ¬ä¸Šæ˜¯å¿…åšçš„. é¦–å…ˆæ˜¯æ¢æºé—®é¢˜, è¿™ä¸ªå…¶å®ç°åœ¨ä¹Ÿæ·¡åŒ–äº†, å› ä¸ºå¦‚æœç°åœ¨å®‰è£…ubuntuçš„è¯, ubuntuä¼šåˆ†é…ubuntucnæº, é€Ÿåº¦ä¹Ÿæ˜¯æŒºå¿«. æ—©æœŸæ¢æºä¸»è¦æ˜¯å› ä¸ºubuntuçš„æœåŠ¡å™¨åœ¨å›½å¤–, å®‰è£…è½¯ä»¶åŒ…ä¼šä¸æ–¹ä¾¿, æ‰€ä»¥éœ€è¦ä½¿ç”¨å›½å†…çš„é•œåƒç«™(æ¯éš”ä¸€æ®µæ—¶é—´copyåŸç«™, ç»™å›½å†…ç”¨æˆ·æä¾›linuxè½¯ä»¶æºæœåŠ¡, ä¹ŸåŒ…æ‹¬é•œåƒçš„ä¸‹è½½, å‡ºåçš„åŒ…æ‹¬æ¸…åå¤§å­¦å¼€æºé•œåƒç«™). å¦‚æœå¯¹è¿™ä¸€æ­¥ä¸æ˜¯å¾ˆç¡®å®šæ€ä¹ˆåšæˆ–è€…è¯´è§‰å¾—è‡ªå·±<code>sudo apt install</code>çš„é€Ÿåº¦è¶³å¤Ÿå¿«, å°±ä¸éœ€è¦æ¢äº†.</p>
<p>åœ¨æ—¶é—´é—®é¢˜ä¸Š, linuxé»˜è®¤ä½¿ç”¨<strong>åè°ƒä¸–ç•Œæ—¶</strong>. æ‰€ä»¥å®‰è£…å®Œç³»ç»Ÿæ—¶é—´ä¼šä¸å¯¹, å’Œç°åœ¨æ—¶é—´ç›¸éš”å…«å°æ—¶. ä½†æ˜¯è¿‘å¹´æ¥ubuntuéƒ½æœ‰è”ç½‘æ ¡å‡†æ—¶é—´åŠŸèƒ½, åªè¦è¿ä¸Šç½‘ä¹‹åæ—¶é—´å°±ä¼šè‡ªåŠ¨æ ¡å‡†, ä½†æ˜¯è¿™æ ·è¿˜æ˜¯æ²»æ ‡ä¸æ²»æœ¬. å¦‚æœubuntuçš„æ—¶é—´å¯¹é‚£ä¹ˆå¯ä»¥é‡å¯å›Windowsçœ‹çœ‹, å¦‚æœWindowsæ—¶é—´ä¹Ÿæ˜¯å¯¹(å½“ç„¶ä½ ä¸èƒ½è”ç½‘)é‚£ä¹ˆæ‰è¯´æ˜ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜. å¦åˆ™éœ€è¦è®©ubuntuä½¿ç”¨æœ¬åœ°æ—¶é—´:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo timedatectl set-local-rtc 1</span><br></pre></td></tr></table></figure>
<p>æ€»ä¹‹å°±æ˜¯åœ¨æ–­ç½‘çš„æƒ…å†µä¸‹æ¥å›å¯åŠ¨ä¸¤ä¸ªç³»ç»Ÿ, æ¥å°è¯æ­¤é—®é¢˜çš„è§£å†³.</p>
<p>è®¾ç½®å®Œä¹‹åå¯ä»¥ä½¿ç”¨<code>sudo timedatectl</code>æ¥æŸ¥çœ‹æ—¶é—´çš„ä¿¡æ¯, å½“ç„¶è¿™é‡Œä¼šæœ‰warning, è¯´æ˜ubuntuå»ºè®®è¿˜æ˜¯ä½¿ç”¨åè°ƒä¸–ç•Œæ—¶.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ~ sudo timedatectl</span><br><span class="line">               Local time: æ—¥ 2023-02-05 22:31:30 CST</span><br><span class="line">           Universal time: æ—¥ 2023-02-05 14:31:30 UTC</span><br><span class="line">                 RTC time: æ—¥ 2023-02-05 22:31:31</span><br><span class="line">                Time zone: Asia/Shanghai (CST, +0800)</span><br><span class="line">System clock synchronized: <span class="built_in">yes</span></span><br><span class="line">              NTP service: active</span><br><span class="line">          RTC <span class="keyword">in</span> <span class="built_in">local</span> TZ: <span class="built_in">yes</span></span><br><span class="line"></span><br><span class="line">Warning: The system is configured to <span class="built_in">read</span> the RTC time <span class="keyword">in</span> the <span class="built_in">local</span> time zone.</span><br><span class="line">         This mode cannot be fully supported. It will create various problems</span><br><span class="line">         with time zone changes and daylight saving time adjustments. The RTC</span><br><span class="line">         time is never updated, it relies on external facilities to maintain it.</span><br><span class="line">         If at all possible, use RTC <span class="keyword">in</span> UTC by calling</span><br><span class="line">         <span class="string">&#x27;timedatectl set-local-rtc 0&#x27;</span>.</span><br></pre></td></tr></table></figure>
<p>å®Œæˆè®¾ç½®æ—¶é—´å, é‡å¯å›WindowsçŸ«æ­£ä¸€æ¬¡æ—¶é—´, ä¹‹ååŒç³»ç»Ÿå°±ä¸ä¼šå‡ºç°æ—¶é—´é—®é¢˜äº†.</p>
<p>ç„¶åå°±æ˜¯rootç”¨æˆ·å¯†ç çš„é—®é¢˜. åœ¨linuxé‡Œé¢, æƒé™æœ€é«˜çš„ç”¨æˆ·æ˜¯rootç”¨æˆ·. sudoçš„æ„æ€å°±æ˜¯super user do, æ˜¯è®©å½“å‰ç”¨æˆ·æ‹¥æœ‰rootçš„æƒé™. å…³é”®é—®é¢˜æ˜¯<strong>å½“å‰ç”¨æˆ·æ‹¥æœ‰rootæƒé™å¹¶ä¸ç­‰äºrootç”¨æˆ·</strong>. æœ‰ä¸€äº›è„šæœ¬æ˜¯å†™æ­»äº†ä½¿ç”¨rootç”¨æˆ·æ¥æ‰§è¡Œäº†, å› ä¸ºå¯¹äºè„šæœ¬çš„å¼€å‘è€…æ¥è¯´rootç”¨æˆ·èƒ½å¤Ÿæ”¹å˜ä¸€äº›ç³»ç»Ÿè®¾ç½®. æ¯”å¦‚å‰æ—å¤§å­¦çš„æ ¡å›­ç½‘çš„linuxè„šæœ¬, é»˜è®¤å°±æ˜¯ä½¿ç”¨rootç”¨æˆ·æ¥æ‰§è¡Œ. <strong>æ³¨æ„å¹¶ä¸æ˜¯rootæƒé™çš„æ™®é€šç”¨æˆ·, æˆ–è€…è¯´å¹¶ä¸æ˜¯sudo.</strong> è¿™ç§æƒ…å†µä¸‹å®ƒè®©ä½ è¾“å…¥å¯†ç çš„æ—¶å€™è¾“å…¥çš„æ˜¯rootå¯†ç , ä½†æ˜¯ubuntuçš„rootç”¨æˆ·é»˜è®¤æ²¡æœ‰è®¾ç½®å¯†ç .</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo su</span><br><span class="line">passwd</span><br></pre></td></tr></table></figure>
<p>æƒ³è®¾ç½®rootç”¨æˆ·å¯†ç , é¦–å…ˆå¾—æ˜¯rootç”¨æˆ·, åˆ‡æ¢åˆ°rootç”¨æˆ·å´éœ€è¦å¯†ç , è¿™æ€ä¹ˆåŠ? è¿™ä¸ªæ—¶å€™å°±æ˜¯sudoäº†, å› ä¸ºsudoèƒ½å¤Ÿè®©æ™®é€šç”¨æˆ·ç”¨è‡ªå·±çš„å¯†ç æ‹¿åˆ°rootæƒé™, é€šè¿‡è¿™ä¸ªæƒé™çš„æé«˜ç›´æ¥è¿›å…¥rootç”¨æˆ·å³å¯. ç„¶åæˆä¸ºrootç”¨æˆ·ä¹‹åå†passwdå°±å¯ä»¥æ›´æ”¹å¯†ç äº†. (å› ä¸ºç”¨æˆ·æœ€é«˜, å³ä½¿å®ƒè¯´ä½ å¯†ç å®‰å…¨æ€§ä¸å¤Ÿä¹Ÿä¸ç”¨ç®¡å®ƒ, ç…§å¸¸è¾“å…¥ä¸¤è¾¹å®ƒè¿˜æ˜¯å¬ä½ çš„). ä½ å¯ä»¥ä½¿ç”¨<code>whoami</code>æ¥æ‰“å°å½“å‰ç”¨æˆ·çš„åå­—.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ~ <span class="built_in">whoami</span></span><br><span class="line">liu</span><br><span class="line">âœ  ~ sudo su         </span><br><span class="line">root@liu-Swift-SFX14-41G:/home/liu: <span class="built_in">whoami</span></span><br><span class="line">root</span><br></pre></td></tr></table></figure>
<p>è€Œå¦‚æœä½ ä½¿ç”¨ä¸­æ–‡å®‰è£…ubuntu, é‚£ä½ çš„å®¶ç›®å½•ä¼šå…¨éƒ½æ˜¯ä¸­æ–‡, ä½†æ˜¯å¯¹äºlinux useræ¥è¯´è¿™æ˜¯å¾ˆç³Ÿç³•çš„ä¸€ä»¶äº‹, ç»ˆç«¯é‡Œé¢è¿˜è¦åˆ‡è¾“å…¥æ³•æ˜¯ååˆ†æŠ½è±¡çš„. æ‰€å¹¸å¯ä»¥ä½¿ç”¨<code>xdg-user-dirs-gtk-update</code>å·¥å…·æ¥ä¿®æ”¹æˆ‘ä»¬çš„å®¶ç›®å½•æ˜¯å¦æ˜¯ä¸­è‹±æ–‡. è¿™æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·. è¦æŸ¥çœ‹å½“å‰çš„è¯­è¨€ç¯å¢ƒ, ä½ ä¹Ÿå¯ä»¥æ‰“å¼€ç»ˆç«¯, è¾“å…¥<code>echo $LANG</code>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ~ <span class="built_in">echo</span> <span class="variable">$LANG</span> <span class="comment">#å› ä¸ºæˆ‘åå¤©æ”¹è¿‡æ‰€ä»¥è¿™é‡Œæ²¡æœ‰è¾“å‡ºä¸­æ–‡, æ­£å¸¸ä¸­æ–‡å®‰è£…ä¹‹åä¼šæ˜¾ç¤ºzh_CNä¹‹ç±»çš„</span></span><br><span class="line">en_US.UTF-8</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ—¶å€™è¾“å…¥<code>xdg-user-dirs-gtk-update</code>è‚¯å®šæ²¡ç”¨, å› ä¸ºä½ æœ¬æ¥å°±æ˜¯ä¸­æ–‡çš„ç¯å¢ƒ. è€ŒæŒ‰ç…§ä¸‹é¢çš„æ–¹å¼è¾“å…¥:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> LANG=en_US <span class="comment"># è¿™æ¡å‘½ä»¤å¯ä»¥ä¸´æ—¶æ”¹å˜ç»ˆç«¯çš„è¯­è¨€ç¯å¢ƒä¸ºè‹±æ–‡</span></span><br><span class="line">xdg-user-dirs-gtk-update <span class="comment"># æ­¤æ—¶è¿è¡Œæ£€æµ‹åˆ°ç¯å¢ƒä¸ºè‹±æ–‡</span></span><br></pre></td></tr></table></figure>
<p>ç„¶åä¼šå¼¹å‡ºçª—å£æç¤ºæ›´æ–°åç§°, ç„¶åæ›´æ–°, ä¸‹æ¬¡å¼€æœºçš„æ—¶å€™åˆä¼šæé†’æ˜¯å¦æ›´æ–°åç§°, é‚£ä¸ºä»€ä¹ˆåˆä¼šå¼¹çª—å‘¢? å› ä¸ºæˆ‘ä»¬åªæ˜¯ä¸´æ—¶æ”¹å˜äº†<code>$LANG</code>çš„å€¼, é‡æ–°å¼€æœºçš„æ—¶å€™å®ƒåˆçŸ¥é“è‡ªå·±æ˜¯ä¸­æ–‡. è¿™ä¸ªæ—¶å€™ç‚¹ä¸æ›´æ–°ç„¶åç‚¹ä¸å†æé†’å°±å¥½äº†. ä¹‹åå®¶ç›®å½•å°±å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å˜æˆè‹±æ–‡. (å½“ç„¶æˆ‘ä¹Ÿæ²¡æœ‰è¯•è¿‡æ˜¯ä¸æ˜¯å¯ä»¥ç›´æ¥æ¢, ç›´æ¥åˆ›å»ºæ–‡ä»¶å¤¹)</p>
<h2 id="è¾“å…¥æ³•"><a class="markdownIt-Anchor" href="#è¾“å…¥æ³•"></a> è¾“å…¥æ³•</h2>
<p>ubuntuè‡ªå¸¦çš„è¾“å…¥æ³•æ˜¯<code>ibus-rime</code>, æˆ‘çš„è¯„ä»·æ˜¯å¾ˆéš¾ç”¨, è€Œä¸”æ²¡æœ‰è¯åº“. æˆ‘å»ºè®®ç›´æ¥æ”¾å¼ƒä½¿ç”¨ibus-rime. æ›´åŠ é‡è¦çš„ä¸€ç‚¹å°±æ˜¯, ibusæ— æ³•åœ¨pycharmé‡Œé¢æ­£å¸¸ä½¿ç”¨è¾“å…¥? å†µä¸”æˆ‘ä»¬æœ‰fcitxè¿™ä¸ªæœç‹—è¾“å…¥æ³•å¯ä»¥ç”¨ä¸ºä»€ä¹ˆä¸ç”¨å‘¢?</p>
<p>è¿™é‡Œibusæ˜¯è¾“å…¥æ³•æ¡†æ¶, rimeæ˜¯è¾“å…¥æ³•çš„åå­—. æˆ‘æœ€åä½¿ç”¨fcitxä½œä¸ºè¾“å…¥æ³•æ¡†æ¶, sogoupinyinä½œä¸ºè¾“å…¥æ³•. å½“ç„¶ä¹Ÿæœ‰å¾ˆå¤šäººé€‰æ‹©æ›´åŠ å…ˆè¿›çš„fcitx5ä½œä¸ºè¾“å…¥æ³•æ¡†æ¶, æ­é…å…¶ä»–çš„è¾“å…¥æ³•. ä½†æ˜¯è¯´å®è¯, æ„Ÿè§‰ä¸å¦‚æœç‹—è¾“å…¥æ³•.</p>
<p>å¯¹äºä¸€äº›æ‰§æ„è¦ä½¿ç”¨ibus-rimeçš„äºº, ä½¿ç”¨ibusæœ‰å¯èƒ½ä¼šå‡ºç°è¾“å…¥æ¡†æ— æ³•è·Ÿéšå…‰æ ‡çš„é—®é¢˜, æ®è¯´æ˜¯å› ä¸ºgnomeçš„bug. è¿™ç§æƒ…å†µæœ‰ä¸€ä¸ªå°è¯•æ–¹æ¡ˆ: <a href="https://www.ipangbo.cn/linux/264.html">ç‚¹æ­¤</a></p>
<p><strong>ä½†æ˜¯æ³¨æ„</strong>! å› ä¸ºè¿™ä¸ªæ–¹æ³•ä¿®æ”¹äº†ç¯å¢ƒå˜é‡, ä¼šå¯¼è‡´å°†æ¥è¯•å›¾å®‰è£…fcitxä¸€ç±»è¾“å…¥æ³•çš„æ—¶å€™è€æ˜¯å‡ºç°è«åå¥‡å¦™çš„é—®é¢˜!! æˆ‘ä¸€å¼€å§‹ä½¿ç”¨çš„æ˜¯ubuntuè‡ªå¸¦çš„ä¸­æ–‡è¾“å…¥æ³•ibus-rime, ä¹Ÿå‡ºç°äº†è¾“å…¥æ³•ä¸è·Ÿç€å…‰æ ‡çš„é—®é¢˜, ç„¶åæŒ‰ç…§æ–‡ç« è¯´çš„ä¿®æ”¹äº†ç¯å¢ƒå˜é‡, åæ¥æˆ‘æƒ³ç”¨æœç‹—è¾“å…¥æ³•å› ä¸ºæ›´å¥½ç”¨, å‘ç°fcitxæ€ä¹ˆéƒ½æ²¡æ³•ç”¨, åæ¥æ‰æƒ³èµ·æ¥æ˜¯è¿™é‡Œå¤šäº†ä¸€ä¸ªç¯å¢ƒå˜é‡çš„shellç¨‹åº. æ‰€ä»¥å¯¹äºç”¨äº†rootæƒé™çš„å‘½ä»¤éƒ½è¦çŸ¥é“å®ƒçš„ä½œç”¨å’Œåæœ, å‡å¦‚è¦è½¬fcitxè¾“å…¥æ³•çš„æ—¶å€™ä¸€å®šè¦æŠŠå’Œibusæœ‰å…³çš„ä¸œè¥¿æå¹²å‡€. <strong>å¯¹äºè‡ªå·±çš„ç³»ç»Ÿä¸€å®šè¦è´Ÿè´£, å°¤å…¶æ˜¯æ²¡æœ‰å¤‡ä»½çš„æƒ…å†µä¸‹, æ¯ä¸€æ­¥sudoå‘½ä»¤éƒ½å°½é‡ç†è§£è¿™äº›å‘½ä»¤åšäº†ä»€ä¹ˆ, å¦åˆ™æ›´æ”¹äº†æŸä¸ªè®¾ç½®ç»“æœå¿˜äº†, å¯¹æ—¥åäº§ç”Ÿä¸€äº›å½±å“å´ä¸€ç›´æƒ³ä¸èµ·æ¥è®¾ç½®å·²ç»ä¸æ˜¯é»˜è®¤çš„è®¾ç½®äº†, æ‰€ä»¥çœ‹åˆ«äººçš„æ•™ç¨‹ä¹Ÿæ²¡ç”¨äº†</strong>.</p>
<p>åœ¨ubuntuä¸Šé¢ä½¿ç”¨æœç‹—è¾“å…¥æ³•: <a href="https://blog.csdn.net/Mr_Sudo/article/details/124874239">ç‚¹æ­¤</a>. å¦‚æœä½¿ç”¨æœç‹—è¾“å…¥æ³•å°±è£…fcitx4, ä¸è¦fcitx5. ç„¶åå°±æ˜¯æ•™ç¨‹é‡Œé¢æœ‰ä¸€ç‚¹, <strong>è®¾ç½®fcitxå¼€æœºå¯åŠ¨çš„é‚£ä¸€æ­¥æ˜¯ä¸å¿…è¦çš„</strong>. å†å°±æ˜¯å› ä¸ºibusæœ¬èº«æ˜¯é›†æˆåœ¨ç³»ç»Ÿé‡Œé¢çš„, å¸è½½çš„æ—¶å€™ä¸€å®šè¦çœ‹æ¸…æ¥š, ä¸è¦ä¸å°å¿ƒæŠŠæ¡Œé¢çš„ä¸€äº›éƒ¨ä»¶ä¹Ÿä¸€èµ·å¸è½½äº†, å¦‚æœæŒ‰ç…§è¿™ä¸ªblogé‡Œé¢çš„å‘½ä»¤æ¥çš„è¯åº”è¯¥æ˜¯æ²¡æœ‰è¿™äº›é—®é¢˜çš„. å¦‚æœå¯¹äºè‡ªå·±çš„èƒ½åŠ›ä¸å¤Ÿè‡ªä¿¡, <strong>å»ºè®®å°±ä¸è¦å¸è½½ibusè¾“å…¥æ³•äº†</strong>, è¿™ä¸ªåŒ…è™½ç„¶ç”¨ä¸ä¸Šäº†ä½ ä¹Ÿå¯ä»¥ç•™ç€, å¦‚æœä¸åœ¨ä¹è¿™ç‚¹ç£ç›˜ç©ºé—´çš„è¯.å…¨äº†çš„, åæ­£èƒ½é€‰å‡ºæ¥)</p>
<h2 id="ç¬”è®°æœ¬ä¸Šå­—ä½“å¤ªå°"><a class="markdownIt-Anchor" href="#ç¬”è®°æœ¬ä¸Šå­—ä½“å¤ªå°"></a> ç¬”è®°æœ¬ä¸Šå­—ä½“å¤ªå°</h2>
<p>æœ‰äººä¼šåœ¨è®¾ç½®-&gt;æ˜¾ç¤ºå™¨é‡Œé¢è°ƒæ•´ç¼©æ”¾, ä½†æ˜¯å¯¹äºæˆ‘çš„ç¬”è®°æœ¬æ¥è¯´å•Š, å°±æ˜¯å®ƒåªèƒ½å¤Ÿ100%æˆ–è€…æ˜¯200%. å¦‚æœæˆ‘å¼€å¯å…¶ä»–å€æ•°ç¼©æ”¾åˆä¼šè®©å­—ä½“å˜æ¨¡ç³Š.</p>
<p>è§£å†³åŠæ³•å°±æ˜¯å®‰è£…<code>gnome-tweaks</code>: (åœ¨è¾ƒæ—©çš„ç‰ˆæœ¬è¿™ä¸ªå¥½åƒå«åšgnome-tweakstools, è®°ä¸å¾—äº†, æ€»ä¹‹å°±æ˜¯è£…å®Œæ˜¯ä¸€ä¸ª&quot;ä¼˜åŒ–&quot;åå­—çš„è½¯ä»¶)</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install gnome-tweaks</span><br></pre></td></tr></table></figure>
<p>åœ¨åº”ç”¨ç¨‹åºé‡Œé¢æ‰¾åˆ°&quot;ä¼˜åŒ–&quot;ç‚¹å¼€, ç„¶åæ‰¾åˆ°å­—ä½“è¿™ä¸€æ , ç¼©æ”¾æ¯”ä¾‹æ‹‰åˆ°1.5.</p>
<h2 id="nvidia-drivers"><a class="markdownIt-Anchor" href="#nvidia-drivers"></a> NVIDIA-drivers</h2>
<p>é¦–å…ˆ, ä¸€èˆ¬ä¼šåœ¨å®‰è£…çš„æ—¶å€™è‡ªåŠ¨å®‰è£…å¥½. æ£€éªŒå®‰è£…å¥½æ²¡å¸¸ç”¨æ‰‹æ®µæ˜¯<code>nvidia-smi</code>. æ˜¾å¡é—®é¢˜ç¨å¾®ä¸¥é‡ä¸€ç‚¹çš„å¯èƒ½è¿ubuntuçš„å®‰è£…ç¨‹åºéƒ½æ²¡åŠæ³•å¯åŠ¨, è¿™ä¸ªæ—¶å€™å¼€æœºçš„æ—¶å€™è¦é€‰<strong>safe graphic</strong>ä¸€æ .(å“è¿™ä¸ªæ˜¯ä¸æ˜¯åº”è¯¥æ‹¿åˆ°å¼€å¤´æ‰å¯¹, æ˜¯ä¸æ˜¯è¯´æ™šäº†).</p>
<p>å‡å¦‚å‡ºç°äº†åˆšå®‰è£…å®Œnvidia-smiæœ‰æ˜¾ç¤º, æ›´æ–°ä¹‹åæ²¡æœ‰, è¿™ç§æƒ…å†µå°±å¾ˆç„å­¦, å¥½åƒè¿‡ä¼šå°±å¥½äº†. æ¢æºä¹‹åupdate, ç„¶åæœ‰ä¸€ä¸ªé™„åŠ é©±åŠ¨çš„è½¯ä»¶, é‚£é‡Œé¢ä¼šæœ‰æ¨èçš„é©±åŠ¨(åé¢æœ‰ä¸€ä¸ªtested)</p>
<p>å¦‚æœæœ€åæ˜¾å¡é©±åŠ¨éƒ½å®‰ç½®å¦¥å½“, å†è¯´åŒæ˜¾å¡å¦‚ä½•åˆ‡æ¢. å¯ä»¥åœ¨å‘½ä»¤è¡Œé‡Œé¢é€šè¿‡prime-selectæ¥åˆ‡æ¢æ˜¾å¡æ¨¡å¼:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo prime-select query #æŸ¥è¯¢å½“å‰æ˜¾å¡å¤„äºä»€ä¹ˆæ¨¡å¼</span><br><span class="line">sudo prime-select nvidia #åˆ‡æ¢åˆ°çº¯Nå¡ç‹¬æ˜¾æ¨¡å¼</span><br><span class="line">sudo prime-select intel #åˆ‡æ¢åˆ°çœç”µæ¨¡å¼ è¿™ä¸ªæ¨¡å¼ä¸‹é¢nvidia-smiä¼šæç¤ºæ‰¾ä¸åˆ°Nå¡è¿™æ˜¯æ­£å¸¸çš„ å³ä½¿æ˜¯amdå¥½åƒä¹Ÿæ˜¯é€šè¿‡è¿™ä¸ªå‘½ä»¤æ¥åˆ‡æ¢</span><br></pre></td></tr></table></figure>
<p>ç„¶åå°±æ˜¯æœ‰çš„æ—¶å€™æ²¡æœ‰nvidia-setting. å‡å¦‚éœ€è¦ä¸€ä¸ªnvidiaè®¾ç½®å¯ä»¥ç›´æ¥apt installä¸€ä¸ª:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt install nvidia-settings</span><br></pre></td></tr></table></figure>
<p>ä¸è¿‡æ¨¡å¼åˆ‡æ¢å‘½ä»¤è¡Œå°±èƒ½è§£å†³å°±æ˜¯äº†. å½“ç„¶å›¾å½¢åŒ–è®¾ç½®ä¹Ÿèƒ½åˆ‡æ¢:</p>
<p><img src="https://pic.imgdb.cn/item/626d5491239250f7c58e0bd2.png" alt="alt" /></p>
<p>å€¼å¾—ä¸€æçš„æ˜¯, åœ¨æ··åˆæ¨¡å¼ä¸‹å¦‚ä½•æŒ‡å®šåº”ç”¨ç”¨ç‹¬ç«‹æ˜¾å¡æ‰“å¼€. æ ¹æ®ubuntuçš„<a href="https://help.ubuntu.com/community/BinaryDriverHowto/Nvidia">å®˜æ–¹æ–‡æ¡£</a>, é¦–å…ˆå¯ä»¥åœ¨æ··åˆ(å°±æ˜¯on-demand)æ¨¡å¼ä¸‹å³é”®æŸè½¯ä»¶, ç‚¹å‡»ä½¿ç”¨ç‹¬ç«‹æ˜¾å¡å¯åŠ¨. å¦‚æœæ˜¯åœ¨å‘½ä»¤è¡Œä¸‹å¯åŠ¨çš„ç¨‹åº, å¯ä»¥ä½¿ç”¨ä¸‹åˆ—å‘½ä»¤:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">__NV_PRIME_RENDER_OFFLOAD=1 __VK_LAYER_NV_optimus=NVIDIA_only __GLX_VENDOR_LIBRARY_NAME=nvidia &quot;here_command&quot;</span><br></pre></td></tr></table></figure>
<p>æ˜¯ä¸æ˜¯çœ‹ä¸Šå»å¾ˆéº»çƒ¦, æ‰€ä»¥æœ‰ä¸€ä¸ªåŒ…å«åšprime-runæ¥ç®€åŒ–æ“ä½œ, ä½†æ˜¯å°±è¿™ç¯‡æ–‡ç« å†™çš„æ—¶å€™å¥½åƒè¿™ä¸ªåŒ…è¿˜æ²¡æœ‰ç»™22.04ç”¨çš„? å°±æ˜¯åœ¨åŒ…çš„æŸ¥è¯¢ç½‘é¡µä¸Šé¢çœ‹åˆ°é“¾æ¥é‡Œé¢éƒ½æ˜¯focal.</p>
<p>prime-runå®é™…ä¸Šä¹Ÿå°±æ˜¯æŠŠè¿™äº›å‚æ•°è¿›è¡Œä¸€ä¸ªå°è£…(<a href="https://askubuntu.com/questions/1364762/prime-run-command-not-found">å¯è§æ­¤</a>), æ‰€ä»¥æŒ‰ç…§ä¸Šé¢çš„é“¾æ¥å¯ä»¥è‡ªå·±åšä¸€ä¸ªprime-runçš„å¯åŠ¨è„šæœ¬. ä½†æ˜¯å…³é”®é—®é¢˜åœ¨äºå¯¹äºubuntuç”¨æˆ·æ¥è¯´, å¦‚æœçœŸçš„éœ€è¦ç”¨æ˜¾å¡æ­£å„¿å…«ç»æ‰“æ¸¸æˆç›´æ¥åˆ‡æ¢åˆ°nvidiaæ¨¡å¼ä¸é¦™å—â€¦</p>
<p>å½“ç„¶å¦‚æœåƒè¿™æ ·å¯åŠ¨å‘ç°å¹¶ä¸ç†æƒ³, æ˜æ˜ç”¨ç‹¬æ˜¾å¯åŠ¨äº†ä¸ºä»€ä¹ˆæ„Ÿè§‰æ€§èƒ½è¿™ä¹ˆå·®? è¿™ä¸ªæ—¶å€™ä¸€ç§å¯èƒ½çš„è§£å†³æ–¹æ³•å°±æ˜¯å»nvidiaçš„settingé‡Œé¢çœ‹ä¸€çœ¼, åœ¨PowerMizeré‡Œé¢å¯ä»¥è°ƒèŠ‚preferred mode. è¿™é‡Œä¸€èˆ¬æ˜¯è°ƒåˆ°auto, ç„¶åautoé»˜è®¤æ˜¯adaptive, æŠŠè¿™é‡Œæ”¹æˆperformance modeä¹‹åå†çœ‹çœ‹æ··åˆæ¨¡å¼ä¸‹çš„Nå¡çš„æ€§èƒ½.</p>
<p><s>æˆ‘ç°åœ¨å·²ç»ååˆ†ç¡®ä¿¡å½“æ—¶åœ¨manjaroä¸‹é¢mcè¿è¡Œç€æ•ˆæœä¸è¡Œæ˜¯è¿™é‡Œå°±å¼€äº†ä¸ªadaptive mode, manjaroä¸‹é¢å¥½åƒæ²¡æœ‰prime-selectè¿™æ ·å®Œå…¨åˆ‡åˆ°ç‹¬æ˜¾æ¨¡å¼, ä¼¼ä¹é»˜è®¤å°±æ˜¯æ··åˆæ¨¡å¼, æ‰€ä»¥å³ä½¿ä½¿ç”¨äº†prime-onä¹‹ç±»çš„å‘½ä»¤å¦‚æœä¸å¼€æ€§èƒ½æ¨¡å¼å¥½åƒç©mcå±å¹•æ’•è£‚å¾ˆä¸¥é‡, åº”è¯¥æ˜¯è¿™æ ·çš„, ä½†æ˜¯ä¹Ÿæ²¡æœ‰éªŒè¯, ä¸çŸ¥é“æ’•è£‚æ˜¯å› ä¸ºæ²¡æœ‰å¼€æ€§èƒ½æ¨¡å¼(æˆ‘ä¹Ÿä¸è®°å¾—å½“æ—¶å¼€äº†æ€§èƒ½æ¨¡å¼æ²¡æœ‰)è¿˜æ˜¯å› ä¸ºæœ¬èº«é‚£ä¸ªæ··åˆé©±åŠ¨å°±ä¸å¥½ç”¨.</s></p>
<p>æ³¨: åæ¥å»manjaroåº•ä¸‹å®æµ‹äº†ä¸€ä¸‹, å³ä½¿å°±æ˜¯å¼€æ€§èƒ½æ¨¡å¼ä¹Ÿä¸èƒ½è®©ç”»é¢ä¸æ’•è£‚, çœŸçš„æ€ªèµ·æ¥äº†. è™½ç„¶æˆ‘å¿ƒé‡Œé¢æ¸…æ¥šè¿™ä¸ªé—®é¢˜æœ€åè‚¯å®šèƒ½è§£å†³, æˆ‘åˆ°å¤„é—®äº†ä¸€ä¸‹è¯´æ˜¯å¯ä»¥è°ƒå‚æ•°ä»€ä¹ˆçš„, ä½†æ˜¯ä¸€ä¸ªé»˜è®¤çš„é…ç½®è¿MCéƒ½ç”»é¢æ’•è£‚æˆ‘æ˜¯ä¸èƒ½æ¥å—çš„. è¿™ä¹Ÿæ˜¯æˆ‘å›ubuntuçš„ä¸€ä¸ªé‡è¦åŸå› , é‚£å°±æ˜¯åœ¨manjaroä¸‹é¢çš„é»˜è®¤é…ç½®ä¸èƒ½å¤Ÿå‘æŒ¥æ˜¾å¡çš„å…¨éƒ¨æ€§èƒ½.</p>
<p>å†æ³¨: åæ¥è£…ä¸Šarchè‡ªå·±ä¹‹å, åŒ…æ‹¬è¯•ç”¨è¿‡arcolinuxç­‰archæ›´åŠ çº¯æ­£çš„å‘è¡Œç‰ˆ, manjaroæ˜¾å¡æ€§èƒ½å·®é—®é¢˜é¦–å…ˆæ˜¯æ²¡æœ‰ä½¿ç”¨å®˜æ–¹çš„é©±åŠ¨, è€Œæ˜¯ä½¿ç”¨ä¸€ç§æ··åˆé©±åŠ¨. å¯¹äºé‚£äº›ä½¿ç”¨äº†å®˜æ–¹é©±åŠ¨MCå´è¿˜æ˜¯ç”»é¢æ’•è£‚çš„äººæ¥è¯´, æ˜¯ç‰¹æ•ˆæ··æˆå™¨çš„é—®é¢˜, æƒ³åŠæ³•åœ¨KDEæˆ–è€…æ˜¯å…¶ä»–æ¡Œé¢ç¯å¢ƒé‡Œé¢è®¾ç½®ä¸‹é¢å¯åŠ¨ä¸€äº›é˜²æ’•è£‚çš„é€‰é¡¹å¯ä»¥æ˜¾è‘—æ”¹å–„è¿™ä¸ªæƒ…å†µ. ç„¶åä½¿ç”¨<code>optimus-manager</code>è¿›è¡Œæ˜¾å¡åˆ‡æ¢. æˆ‘çš„è¯„ä»·æ˜¯ä¸å¦‚<code>prime-select</code>. é¦–å…ˆåè€…ç›´æ¥é›†æˆåœ¨ubuntuç³»ç»Ÿé‡Œé¢, è€Œä¸”èƒ½å¤Ÿå½»åº•åœ°è¿›è¡Œæ˜¾å¡åˆ‡æ¢å¹¶ä¸”çœç”µ, ç„¶åå‰è€…å´æ˜¯GitHubæä¾›çš„(è¿˜ä¸æ˜¯å®˜æ–¹), å®‰è£…ä¹‹åéœ€è¦è¿›è¡Œä¸€äº›æ–‡ä»¶çš„é…ç½®æ”¹åŠ¨, è€Œä¸”é…ç½®ä¸å¥½ç»å¸¸å¼¹çª—è¯´ä¼šé€ æˆé¢å¤–çš„åŠŸè€—(è™½ç„¶æˆ‘è§‰å¾—ä¸åº”è¯¥ä¼šè¿™æ ·, è¿˜æ˜¯æ²¡ææ¸…æ¥šè¿™ç©æ„ä»€ä¹ˆåŸç†).</p>
<p>æœ€åå‘¢, åœ¨ä¸åŒæ¨¡å¼ä¹‹é—´åˆ‡æ¢éœ€è¦æ³¨é”€å†è¿›æ¡Œé¢, ä½†æ˜¯å…³äºæ··åˆæ¨¡å¼ä¸‹adaptiveæ¨¡å¼æ”¹æˆperformanceæ¨¡å¼éœ€ä¸éœ€è¦æ³¨é”€æ²¡æœ‰è¯•è¿‡, ç›®æµ‹æ˜¯ä¸éœ€è¦çš„.</p>
<p>é‚£ä¹ˆåœ¨ubuntuä¸‹é¢ç¬”è®°æœ¬åŒæ˜¾å¡åˆ‡æ¢è¿˜æ˜¯éå¸¸å¥½ä½¿, å¯¹æ¯”pop_os(ä¸€ä¸ªåŸºäºubuntuçš„å‘è¡Œç‰ˆ?)åœ¨åˆ‡æ¢æ˜¾å¡çš„æ—¶å€™éœ€è¦ç­‰æ›´é•¿æ—¶é—´, è¿˜éœ€è¦é‡å¯, è¿™ä¸ªæ³¨é”€åˆ‡æ¢çš„æ–¹å¼è¿˜æ˜¯æ–¹ä¾¿å¾—å¤š. å¯¹æ¯”manjaroé»˜è®¤çš„é©±åŠ¨é…ç½®æ²¡æ³•åˆ‡æ¢, archçš„ä¾èµ–ç¤¾åŒºçš„è½¯ä»¶è¿›è¡Œæ˜¾å¡åˆ‡æ¢è¿˜æœ‰bug. å¯ä»¥è¯´å¦‚æœæ˜¯Nå¡ç¬”è®°æœ¬çš„linuxå‘è¡Œç‰ˆå‡ ä¹æ²¡æœ‰ç¬¬äºŒä¸ªé€‰æ‹©, é™¤éæƒ³è¦æ”¾å¼ƒåŒæ˜¾å¡åˆ‡æ¢è¿™ä¸ªå¾ˆå¸…çš„åŠŸèƒ½.</p>
<h1 id="è½¯ä»¶ç›¸å…³é—®é¢˜å’Œæ¨è"><a class="markdownIt-Anchor" href="#è½¯ä»¶ç›¸å…³é—®é¢˜å’Œæ¨è"></a> è½¯ä»¶ç›¸å…³é—®é¢˜å’Œæ¨è</h1>
<h2 id="wps"><a class="markdownIt-Anchor" href="#wps"></a> wps</h2>
<p>wpsåœ¨æœ€å¼€å§‹ä¼šå‡ºç°22.04æ²¡æ³•è¿›å…¥çš„é—®é¢˜, ç°åœ¨wps for linuxæ”¾å‡ºäº†ä¸€ä¸ªæ›´æ–°ç‰ˆæœ¬æ¥ä¿®å¤è¿™ä¸ªé—®é¢˜. ä½†æ˜¯å­—ä½“è¿˜æ˜¯ç¼ºå°±æ˜¯äº†.  ç¼ºå­—ä½“çš„è¯, å¯ä»¥å»Windowså­—ä½“ç›®å½•ä¸‹é¢æ‰¾åˆ°æ‰€æœ‰å­—ä½“, ç„¶åå…¨éƒ¨å®‰è£…åˆ°ubuntuä¸Šé¢, è¿™æ ·è‚¯å®šä¸ä¼šå‡ºç°ç¼ºå­—ä½“çš„é—®é¢˜. è¿™ä¹Ÿæ˜¯åŸºæ“äº†, åˆ·æ–°å­—ä½“ç¼“å­˜<code>fc-cache -fv</code>, ä»¥è¿™ä¸ªå‘½ä»¤ä½œä¸ºå…³é”®è¯å°±èƒ½å¤ŸæŸ¥åˆ°ä¸€äº›æ‰¹é‡å®‰è£…å­—ä½“çš„æ•™ç¨‹.</p>
<h2 id="netease-cloud-music-ç½‘æ˜“äº‘éŸ³ä¹"><a class="markdownIt-Anchor" href="#netease-cloud-music-ç½‘æ˜“äº‘éŸ³ä¹"></a> netease-cloud-music ç½‘æ˜“äº‘éŸ³ä¹</h2>
<p><strong>å¦‚æœçœŸçš„æƒ³è¦å¬æ­Œ, ä¹Ÿå¯ä»¥ä½¿ç”¨lxmusic, GitHubä¸Šçš„ä¸€ä¸ªæ’­æ”¾è½¯ä»¶é¡¹ç›®, éå¸¸ä¸é”™.</strong></p>
<p>å…¶ä¸­éœ€è¦è¯´ä¸€å¥ç½‘æ˜“äº‘éŸ³ä¹çš„äº‹æƒ…, å³ä½¿æ˜¯ä¿®å¤å¥½äº†å¦‚æœæ˜¯ç¬”è®°æœ¬ä¸Šé¢è¿˜å¯èƒ½ä¼šå‡ºç°: 1. å±å¹•ç¼©æ”¾å¤ªå°æ ¹æœ¬çœ‹ä¸æ¸…. 2. ç™»é™†ä¹‹åé¦–é¡µåŠ è½½ä¸å‡ºæ¥.</p>
<p>å¯¹äºéè¦ä½¿ç”¨ç½‘æ˜“äº‘éŸ³ä¹çš„æœ‹å‹ä¹Ÿè¿˜æœ‰ä¸€ä¸ªè§£å†³æ–¹æ¡ˆ, åœ¨å¯åŠ¨å™¨é‡Œé¢(ä»¥ubuntuä½œä¸ºä¾‹å­). ä¸€èˆ¬ubuntuç”¨æˆ·æ˜¯é€šè¿‡â€æ‰€æœ‰åº”ç”¨ç¨‹åºâ€æ¥å¯åŠ¨åº”ç”¨, è¿™ä¸ªåº”ç”¨çš„å¯åŠ¨æ–¹å¼å®é™…ä¸Šåœ¨<code>/usr/share/applications</code>é‡Œé¢, è¿›å»å¯ä»¥çœ‹åˆ°å¾ˆå¤šdesktopåç¼€çš„æ–‡ä»¶. é‚£ä¹ˆæ‰¾åˆ°ç½‘æ˜“äº‘éŸ³ä¹ç›¸å…³çš„æ–‡ä»¶, <a href="https://www.freesion.com/article/6842452116/">ç‚¹æ­¤</a>, å°±åƒè¿™ç¯‡åšå®¢è¯´çš„ä¸€æ ·, æ˜¯å¯ä»¥çš„. ExecåŸæ¥å°±æ˜¯netease-cloud-music %U, åƒæ–‡ç« é‡Œé¢é‚£æ ·ç»™ä¸­é—´åŠ ä¸Šä¸€äº›ä¸œè¥¿å°±å¯ä»¥å®ç°å¼ºåˆ¶çš„ç¼©æ”¾.</p>
<p>ä½†æ˜¯å…¶å®æœ‰å¾ˆå¤šæ¯”ç½‘æ˜“äº‘å¥½ç”¨çš„å¬æ­Œçš„æ›¿ä»£å“, å°±æ¯”å¦‚<a href="https://github.com/Rocket1184/electron-netease-cloud-music">electron-netease-cloud-music</a>, æ•ˆæœæ˜¯éå¸¸ä¸é”™çš„, è¯¦æƒ…å¯ä»¥å»å®ƒçš„githubåœ°å€çœ‹çœ‹. ä»¥ä¸‹å›¾ç‰‡å¼•è‡ªgithubçš„é¡µé¢:</p>
<p><img src="https://user-images.githubusercontent.com/13914967/52464615-8cee9900-2bb6-11e9-8aa3-a74d8cf7bea5.png" alt="img" /></p>
<p>ä¸è¿‡è¿™ä¸ªå›¾ç‰‡å› ä¸ºæ˜¯githubä¸Šé¢çš„æ‰€ä»¥åŠ è½½ä¼°è®¡å¾ˆæ…¢â€¦ åæ­£ç•Œé¢å°±æ˜¯è¿™æ ·äº†.</p>
<p>æƒ³è¦è¿è¡Œéœ€è¦é¢å¤–è£…ä¸Šelectron, ä¸»è¦æ˜¯æˆ‘å¯¹äºnpmè¿™ä¸ªåŒ…ç®¡ç†å™¨ä¸å¤ªç†Ÿæ‚‰, æ‰€ä»¥å¦‚æœåªæ˜¯æƒ³ç”¨éŸ³ä¹è½¯ä»¶, <code>sudo npm install electron -g</code>åº”è¯¥å°±æ˜¯å¯ä»¥çš„. (å…³äºnpmå’Œnodejsçš„é—®é¢˜æ¨èçœ‹åé¢ä¸€æ æœ‰ä¸€ä¸ªnvmçš„é—®é¢˜, å¦‚æœä¸ä½¿ç”¨nvmå¯èƒ½ä¼šå‡ºç°å…¨å±€å®‰è£…å¸¦æ¥çš„ä¸€ç³»åˆ—æƒé™bug, åæ‚£æ— ç©·. nvmä¹Ÿæ˜¯å®˜æ–¹æ¨èçš„ä¸€ä¸ªå¾ˆå¥½çš„è§£å†³æ–¹å¼)</p>
<h2 id="qqå’Œæ›¿ä»£å“icalingua"><a class="markdownIt-Anchor" href="#qqå’Œæ›¿ä»£å“icalingua"></a> <s>QQå’Œæ›¿ä»£å“icalingua++</s></h2>
<p><strong>æ³¨: ç°åœ¨å·²ç»æœ‰äº†electronç‰ˆæœ¬çš„QQ, å¯ä»¥ä¼ æ–‡ä»¶äº†.</strong></p>
<p><strong>å†æ³¨: electronç‰ˆæœ¬çš„QQæå…¶ä¸ç¨³å®š, åŠ ä¹‹icalingua++å¤šæ¬¡æ›´æ–°åŠŸèƒ½ä¹Ÿå®Œå–„äº†, ä¸å¤±ä¸ºä¸€ä¸ªå¥½çš„é€‰æ‹©.</strong></p>
<p>å¦‚æœæ˜¯ä¸æƒ³ç”¨æ›¿ä»£å“, tencentå®˜æ–¹æœ‰ä¸€ä¸ªlinuxç‰ˆæœ¬çš„QQ. ä½†æ˜¯å½“æ—¶ç”¨ç€åŸºæœ¬ä¸Šå¤©å¤©é—ªé€€, åæ¥åœ¨2020å¹´4æœˆ1å·æœ‰ä¸€ä¸ªæ›´æ–°çš„ç‰ˆæœ¬, äº‹å®è¯æ˜è¿˜æ˜¯éå¸¸éš¾ç”¨, åŸºæœ¬ä¸Šä¸€æ¥æ¶ˆæ¯å°±é—ªé€€.</p>
<p>icalingua++ä¸ç®¡æ€ä¹ˆæ ·, ä¸è°ˆå¥½ä¸å¥½ç”¨, èµ·ç èƒ½ç”¨. <a href="https://github.com/Icalingua-plus-plus/Icalingua-plus-plus/releases">icalinguaçš„github</a>.</p>
<p>å½“ç„¶ä¹Ÿæœ‰deepin-wineçš„è§£å†³æ–¹æ¡ˆ, è¿™å°±å¤šäº†, ä½†æ˜¯æˆ‘ä¸å–œæ¬¢è¿™æ ·.</p>
<h2 id="è¿…é›·-xunlei"><a class="markdownIt-Anchor" href="#è¿…é›·-xunlei"></a> è¿…é›· xunlei</h2>
<p>è™½ç„¶ä¸€èˆ¬åœ¨ç”¨linuxçš„äººéƒ½æœ‰èƒ½åŠ›ç”¨ä¸€äº›â€é«˜çº§â€ä¸€ç‚¹çš„ä¸‹è½½å·¥å…·äº†, ä½†æ˜¯æœ‰æ— è„‘çš„å¿«é€Ÿä¸‹è½½å™¨ä¸ºä»€ä¹ˆä¸ç”¨å‘¢?</p>
<p>åœ¨aurçš„xunlei-biné‡Œé¢çš„è¯„è®ºåŒº, æœ‰ä¸€ä¸ªè€å“¥æä¾›äº†ä¸€ä¸ªéº’éºŸçš„debåŒ…å¯ä»¥ç”¨<a href="http://archive.kylinos.cn/kylin/partner/pool/com.xunlei.download_1.0.0.1_amd64.deb">ç‚¹æ­¤</a>, é‚£ä¸ªauræä¾›çš„debåŒ…éœ€è¦deepinçš„éªŒè¯æ²¡æ³•ç”¨.</p>
<h2 id="æ¬§è·¯è¯å…¸appimageæ— æ³•ä½¿ç”¨"><a class="markdownIt-Anchor" href="#æ¬§è·¯è¯å…¸appimageæ— æ³•ä½¿ç”¨"></a> æ¬§è·¯è¯å…¸(appimageæ— æ³•ä½¿ç”¨)</h2>
<p>éå¸¸ç»å…¸çš„é—®é¢˜, å°±æ˜¯æ¬§è·¯è¯å…¸çš„debåŒ…å®‰è£…ä¹‹åæ²¡æœ‰åŠæ³•æ­£å¸¸å¯åŠ¨. å…¶å®é—®é¢˜ä¹Ÿå¾ˆç®€å•, å‘½ä»¤è¡Œå¯åŠ¨çš„è¯å¾ˆæ˜æ˜¾å°±èƒ½çœ‹å‡ºæ¥æ˜¯ç¼ºå°‘åº“æ–‡ä»¶, ä½†æ˜¯æˆ‘è¿˜æ˜¯ç†è§£ä¸äº†é‚£ä¸ªè‹±æ–‡æŠ¥é”™. æ‰€ä»¥æœ€åè¿˜æ˜¯é€‰äº†appimageæ ¼å¼çš„åŒ…æ¥. æš‚å®šåœ¨è¿™é‡Œ, ä»¥åè¦æ˜¯çœ‹è§äº†åˆ«çš„åœ°æ–¹å‡ºäº†è§£å†³æ–¹æ³•å°±æŠŠé‚£ä¸ªæ–¹æ³•è´´è¿‡æ¥.</p>
<p>è¿™é‡Œä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸ç»å…¸çš„é—®é¢˜, é‚£å°±æ˜¯appimageè¿è¡Œçš„æ—¶å€™æç¤ºç¼ºå°‘fuse, å¦‚æœä½ apt installçš„è¯(è‡³å°‘åœ¨ubuntu22.10ä¸Šé¢)å°±ä¸€ä¸‹å­ä¼šå¸è½½å¾ˆå¤šè·Ÿæ¡Œé¢ç›¸å…³çš„åŒ…, æˆ‘ä¸€ç›´æ²¡æœ‰èƒ†é‡å°è¯•, æœ€åçš„æƒ…å†µå°±æ˜¯ä¸‹æ¬¡å¼€æœºç›´æ¥è¿›ä¸äº†æ¡Œé¢äº†, ç›´æ¥é»‘å±.</p>
<p>æ­£ç¡®çš„è§£å†³æ–¹æ³•æ˜¯è¿™æ ·: <a href="https://askubuntu.com/questions/1409496/how-to-install-safely-install-fuse-on-ubuntu-22-04">askubuntu</a>.</p>
<p>å¦‚æœæ‡’å¾—ç‚¹è¿›å»å°±çœæµ:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install libfuse2</span><br></pre></td></tr></table></figure>
<h2 id="æ›´æ”¹ç³»ç»Ÿçš„é»˜è®¤ç¼–è¾‘è½¯ä»¶"><a class="markdownIt-Anchor" href="#æ›´æ”¹ç³»ç»Ÿçš„é»˜è®¤ç¼–è¾‘è½¯ä»¶"></a> æ›´æ”¹ç³»ç»Ÿçš„é»˜è®¤ç¼–è¾‘è½¯ä»¶</h2>
<p>nanoä¸ªäººè®¤ä¸ºæ²¡æœ‰vimå¥½ä½¿. æä¸€å˜´æ€ä¹ˆæ›´æ”¹é»˜è®¤çš„ç¼–è¾‘è½¯ä»¶, æ‰€è°“é»˜è®¤çš„ç¼–è¾‘è½¯ä»¶, å°±æ˜¯<code>/usr/bin/editor</code>è¿™ä¸ªæ˜¯è°.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">update-alternatives --config editor</span><br></pre></td></tr></table></figure>
<p>æ˜¯æœ‰é»˜è®¤çš„å·¥å…·æ¥å®Œæˆè¿™ä»¶äº‹æƒ…çš„.</p>
<h2 id="ä»€ä¹ˆæ˜¯æ‰“å­—é‡å¤é”®çš„å»¶è¿Ÿå’Œé€Ÿåº¦"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯æ‰“å­—é‡å¤é”®çš„å»¶è¿Ÿå’Œé€Ÿåº¦"></a> ä»€ä¹ˆæ˜¯æ‰“å­—é‡å¤é”®çš„å»¶è¿Ÿå’Œé€Ÿåº¦</h2>
<p>ä¹Ÿè®¸å¾ˆå¤šäººæœ‰è¿™æ ·çš„çƒ¦æ¼, å°±æ˜¯æƒ³è¦é•¿æŒ‰Aé”®, ç»“æœæŒ‰äº†å¥½ä¹…ç³»ç»Ÿæ‰å‡ºç°ä¸€å¤§é•¿ä¸²A. è¿™ä¸ªå°±æ˜¯å»¶è¿Ÿ, å°±æ˜¯æŒ‰ä¸€ä¸ªé”®è¢«å½“æˆæ˜¯é•¿æŒ‰ä¹‹å‰ç»™ä½ çš„ååº”æ—¶é—´. è¿™ä¸ªæ—¶é—´å¯¹äºä¸€äº›è¿½æ±‚é€Ÿåº¦çš„äººæ¥è®²è¿˜æ˜¯è¦è®¾ç½®çŸ­ä¸€ç‚¹, ä¸ç„¶çªå‡ºè¡¨ç°å°±æ˜¯vimé‡Œé¢é•¿æŒ‰Jé”®åˆ°ä¸‹ä¸€è¡Œä¹‹å‰éœ€è¦æœ‰ä¸€æ®µç­‰å¾…çš„æ—¶é—´.</p>
<p>åœ¨ubuntuä¸‹é¢è¿™ä¸ªæ˜¯å¯ä»¥è°ƒçš„, åœ¨è®¾ç½®&gt;è¾…åŠ©åŠŸèƒ½&gt;é‡å¤é”®é‡Œé¢æŠŠå»¶è¿Ÿè°ƒä½ä¸€ç‚¹å°±å¥½äº†, é€Ÿåº¦å°±æ˜¯è¿™ä¸ªå‡ºé‡å¤å­—æ¯çš„é€Ÿåº¦, å¤ªå¿«äº†holdä¸ä½, è°ƒåˆ°åˆé€‚ä½ç½®å°±å¥½.</p>
<p><strong>ç‰¹åˆ«æ³¨æ„, è°ƒä¹‹å‰æœ€å¥½è®°ä¸€ä¸‹åŸæ¥çš„ä½ç½®, ubuntuçš„gnomeæ¡Œé¢å¥½åƒå¹¶æ²¡æœ‰æ¢å¤é»˜è®¤è®¾ç½®çš„æŒ‰é’®, å¦‚æœè°ƒä¹±äº†å°±å¾ˆç³Ÿç³•, å› ä¸ºæˆ‘å¼ºè¿«ç—‡å¿…é¡»è°ƒåˆ°åŸæ¥çš„åœ°æ–¹.</strong></p>
<h2 id="ç»™ubuntuä½¿ç”¨ä¸€ä¸ªæ›´å¥½çš„ç»ˆç«¯"><a class="markdownIt-Anchor" href="#ç»™ubuntuä½¿ç”¨ä¸€ä¸ªæ›´å¥½çš„ç»ˆç«¯"></a> ç»™ubuntuä½¿ç”¨ä¸€ä¸ªæ›´å¥½çš„ç»ˆç«¯</h2>
<p><strong>æ³¨: åæ¥å·²ç»è½¬å‘ä½¿ç”¨wezterm, è¿™ä¸ªç»ˆç«¯è‡ªå®šä¹‰ç¨‹åº¦æ›´åŠ é«˜, è€Œä¸”æ›´åŠ ç°ä»£åŒ–.</strong></p>
<p>ä½¿ç”¨è¿‡manjaroçš„åŒå­¦éƒ½çŸ¥é“(å‡å¦‚ä½ æ˜¯å®‰è£…çš„kdeç‰ˆæœ¬), å®‰è£…å®Œäº†ä¹‹åé»˜è®¤çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨å¾ˆæ¼‚äº®, ç„¶åé‡Œé¢çš„shellæä¾›ä¸€äº›å¾ˆå¥½çš„åŠŸèƒ½åŒ…æ‹¬å‘½ä»¤é¢„æµ‹, gitä»“åº“çŠ¶æ€æ˜¾ç¤ºä¹‹ç±»çš„å¥½ç”¨çš„åŠŸèƒ½. é‚£ä¹ˆåœ¨ubuntuä¸Šé¢å…¶å®ä¹Ÿå¾ˆå¥½æ.</p>
<p>é¦–å…ˆå°±æ˜¯æ¢ä¸€ä¸ªç»ˆç«¯æ¨¡æ‹Ÿå™¨, ubuntué»˜è®¤çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨å®åœ¨æ˜¯ä¸è¡Œ. æ³¨æ„, é‚£äº›åªèƒ½çš„gitåŠŸèƒ½åŒ…æ‹¬å‘½ä»¤é¢„æµ‹æ˜¯<strong>ä¸éœ€è¦ç»ˆç«¯æ¨¡æ‹Ÿå™¨çš„æ”¯æŒ</strong>, ä¹Ÿå°±æ˜¯å‡å¦‚ubuntué»˜è®¤çš„ç»ˆç«¯ä½ å·²ç»è§‰å¾—è¶³å¤Ÿå¥½çœ‹å°±æ²¡å¿…è¦å†ä¸‹æ–°çš„. ä½†æ˜¯å®é™…æƒ…å†µæ˜¯é»˜è®¤çš„ç»ˆç«¯æ²¡æ³•æ–¹ä¾¿åœ°è°ƒå­—ä½“, å‡å¦‚æœ€åè£…å¥½çš„shellèŠ±é‡Œèƒ¡å“¨åœ°æ˜¾ç¤ºäº†å‡ ä¸ªå›¾æ¡ˆä¸æ˜¯çº¯æ–‡å­—, é‚£ä¹ˆå°±ä¼šä¹±ç . æ‰€ä»¥å»ºè®®è¿˜æ˜¯æ¢ä¸€ä¸ª. æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯terminator, ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ«çš„, å¯ä»¥åœ¨ç½‘ä¸Šæœå“ªä¸ªå¥½çœ‹.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install terminator</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯ä¸€ä¸ªæˆ‘è®¤ä¸ºçš„æ¯”è¾ƒå¥½çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨, è§£å†³å®Œè¿™ä¸ªé—®é¢˜å°±æ¥è§£å†³shellçš„é…ç½®é—®é¢˜.</p>
<p>æˆ‘è¿™é‡Œè¿˜æ˜¯é€‰ç”¨çš„zsh, æ¯•ç«Ÿæ¯”è¾ƒæˆç†Ÿè€Œä¸”æ›´ä¸»è¦çš„æ˜¯åŸºæœ¬ä¸Šå…¼å®¹bashçš„ç”¨æ³•. æˆ‘æœ€è¿‘ä¹Ÿçœ‹è§å¥½å¤šäººé€‰ç”¨fishä¹‹ç±»çš„æ–°shell, ä½†æ˜¯æˆ‘å¹¶ä¸è§‰å¾—æœ‰å¤šå¥½ç”¨, è€Œä¸”å› ä¸ºæœ‰äº›å†™æ³•å’Œbashæœ‰å·®å¼‚, è®¾ç½®ä¸ºç³»ç»Ÿé»˜è®¤ç»ˆç«¯ä¹‹åå‡ºé—®é¢˜çš„æ¦‚ç‡ä¼šå¢åŠ .</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install zsh</span><br><span class="line">sh -c <span class="string">&quot;<span class="subst">$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)</span>&quot;</span></span><br></pre></td></tr></table></figure>
<p>ç¬¬ä¸€è¡Œæ˜¯å®‰è£…zshæœ¬èº«, å¦‚æœä»…ä»…æ˜¯zshä¹Ÿä¸æ˜¯å¾ˆå¥½ç”¨.(æ²¡æœ‰é«˜äº®æ²¡æœ‰è¡¥å…¨ä»€ä¹ˆéƒ½æ²¡æœ‰)</p>
<p>ç¬¬äºŒè¡Œæ˜¯å®‰è£…zshçš„ä¸€ä¸ªæ’ä»¶ç®¡ç†æ¡†æ¶oh my zsh. è¿™ä¸ªå‘½ä»¤æœ‰å¯èƒ½å›è¿‡æ—¶, å»ºè®®è¿˜æ˜¯å»å®˜ç½‘ä¸Šé¢æ‰¾:<a href="https://ohmyz.sh/#install">ç‚¹å‡»æ­¤</a></p>
<p>æœŸé—´è¯´è¦ä¸è¦æ”¹æˆé»˜è®¤ç»ˆç«¯, å»ºè®®è¿˜æ˜¯éœ€è¦.</p>
<p>å®‰è£…å®Œäº†ä¹‹åå‘ç°è¿˜æ˜¯æ²¡æœ‰è¡¥å…¨åŠŸèƒ½, é‚£æ˜¯æ’ä»¶æ²¡æœ‰å®‰è£…åˆ°ä½. æˆ‘è¿™é‡Œæ¨èä¸¤ä¸ªæ’ä»¶, ä¸€ä¸ªæ˜¯è‡ªåŠ¨æ£€æµ‹å½“å‰è¾“å…¥çš„å‘½ä»¤æ˜¯å¦åˆæ³•çš„æ’ä»¶, å¦‚æœå‘½ä»¤ä¸å¯¹æ•´ä¸ªå‘½ä»¤ä¼šå˜æˆçº¢è‰².</p>
<p>å…³äºæ’ä»¶çš„å®‰è£…å‚çœ‹æ­¤:<a href="https://zhuanlan.zhihu.com/p/346665734">ubuntuç»ˆç«¯é…ç½®</a> <strong>è€ƒè™‘åˆ°æ–‡ç« çš„æ—¶æ•ˆæ€§, åœ¨è·Ÿç€åšçš„æ—¶å€™æœ€å¥½æ¸…æ¥šè‡ªå·±åœ¨åšä»€ä¹ˆ, å®‰è£…æ’ä»¶çš„æ—¶å€™å¦‚æœæœ‰æ¡ä»¶å’Œç²¾åŠ›å¯ä»¥ç›´æ¥å»GitHubä¸Šé¢çœ‹è¿™ä¸ªæ€ä¹ˆç”¨è€Œä¸æ˜¯è·Ÿç€æ–‡ç« , åŒ…æ‹¬oh-my-zshçš„å®‰è£…å‘½ä»¤, è‡ªå·±çœ‹è‡ªå·±ç°åœ¨çš„æƒ…å†µæ˜¯æœ€å¥½çš„</strong>. æˆ‘æŠŠæˆ‘éœ€è¦çš„ä¸¤ä¸ªæ’ä»¶çš„å‘½ä»¤ç²˜è´´ä¸‹æ¥(åŸæ–‡ç« çš„ç¬¬äºŒä¸ªå‘½ä»¤æœ‰ä¸€äº›å°é—®é¢˜). å¯¹äºè¿™ç¯‡æ–‡ç« çš„å…¶ä»–éƒ¨åˆ†æˆ‘è§‰å¾—è¿˜è¡Œ, å°±æ˜¯è®¾ç½®é»˜è®¤ç»ˆç«¯é‚£é‡Œå‘½ä»¤æéº»çƒ¦äº†, ç›´æ¥ä½¿ç”¨<code>sudo update-alternatives --config x-terminal-emulator</code>ä¹Ÿè¿˜æ˜¯å¾ˆä¸é”™çš„, ä¸»è¦æ˜¯è¿™æ ·æ›´åŠ ç›´è§‚è€Œä¸”çŸ¥é“è‡ªå·±åšäº†ä»€ä¹ˆ, å¾ˆæ¸…æ¥šåœ°èƒ½å¤Ÿçœ‹åˆ°ç°åœ¨é»˜è®¤ç»ˆç«¯ä»¥åŠå„ä¸ªç»ˆç«¯æ¨¡æ‹Ÿå™¨æ‰€å¤„äºçš„æ¨¡å¼. æˆ‘è¿™é‡Œå°±æŠŠå®ƒé€‰æ‹©æˆæˆ‘åˆšåˆšå®‰è£…å¥½çš„æ–°çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-syntax-highlighting.git <span class="variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/zsh-syntax-highlighting</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-autosuggestions <span class="variable">$ZSH_CUSTOM</span>/plugins/zsh-autosuggestions</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä¸¤ä¸ªåˆ†åˆ«æ˜¯è‡ªåŠ¨è¡¥å…¨å‘½ä»¤æ’ä»¶å’Œå‘½ä»¤é«˜äº®æ’ä»¶. å…¶ä»–çš„æˆ‘ä¸éœ€è¦, æ‰€ä»¥æˆ‘çš„~/.zshrcç›¸æ¯”ä¸Šé¢çš„æ–‡ç« ä¸­ä¼šç®€å•ä¸€äº›.</p>
<p>è¿˜æ˜¯æŠŠzshçš„é…ç½®æ¬ä¸Šæ¥ä½œä¸€ä¸ªå¤‡ä»½, è™½ç„¶è¯´ä¹Ÿæ²¡æœ‰é…ç½®ä»€ä¹ˆ. <strong>åƒä¸‡ä¸è¦ç›´æ¥ç²˜è´´, å¤åˆ¶ä¸Šæ¥åªæ˜¯ä¸€ä¸ªå¤‡ä»½å’Œå‚è€ƒ.</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># If you come from bash you might have to change your $PATH.</span></span><br><span class="line"><span class="comment"># export PATH=$HOME/bin:/usr/local/bin:$PATH</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Path to your oh-my-zsh installation.</span></span><br><span class="line"><span class="built_in">export</span> ZSH=<span class="string">&quot;<span class="variable">$HOME</span>/.oh-my-zsh&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set name of the theme to load --- if set to &quot;random&quot;, it will</span></span><br><span class="line"><span class="comment"># load a random theme each time oh-my-zsh is loaded, in which case,</span></span><br><span class="line"><span class="comment"># to know which specific one was loaded, run: echo $RANDOM_THEME</span></span><br><span class="line"><span class="comment"># See https://github.com/ohmyzsh/ohmyzsh/wiki/Themes</span></span><br><span class="line">ZSH_THEME=<span class="string">&quot;robbyrussell&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set list of themes to pick from when loading at random</span></span><br><span class="line"><span class="comment"># Setting this variable when ZSH_THEME=random will cause zsh to load</span></span><br><span class="line"><span class="comment"># a theme from this variable instead of looking in $ZSH/themes/</span></span><br><span class="line"><span class="comment"># If set to an empty array, this variable will have no effect.</span></span><br><span class="line"><span class="comment"># ZSH_THEME_RANDOM_CANDIDATES=( &quot;robbyrussell&quot; &quot;agnoster&quot; )</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line to use case-sensitive completion.</span></span><br><span class="line"><span class="comment"># CASE_SENSITIVE=&quot;true&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line to use hyphen-insensitive completion.</span></span><br><span class="line"><span class="comment"># Case-sensitive completion must be off. _ and - will be interchangeable.</span></span><br><span class="line"><span class="comment"># HYPHEN_INSENSITIVE=&quot;true&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment one of the following lines to change the auto-update behavior</span></span><br><span class="line"><span class="comment"># zstyle &#x27;:omz:update&#x27; mode disabled  # disable automatic updates</span></span><br><span class="line"><span class="comment"># zstyle &#x27;:omz:update&#x27; mode auto      # update automatically without asking</span></span><br><span class="line"><span class="comment"># zstyle &#x27;:omz:update&#x27; mode reminder  # just remind me to update when it&#x27;s time</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line to change how often to auto-update (in days).</span></span><br><span class="line"><span class="comment"># zstyle &#x27;:omz:update&#x27; frequency 13</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line if pasting URLs and other text is messed up.</span></span><br><span class="line"><span class="comment"># DISABLE_MAGIC_FUNCTIONS=&quot;true&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line to disable colors in ls.</span></span><br><span class="line"><span class="comment"># DISABLE_LS_COLORS=&quot;true&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line to disable auto-setting terminal title.</span></span><br><span class="line"><span class="comment"># DISABLE_AUTO_TITLE=&quot;true&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line to enable command auto-correction.</span></span><br><span class="line"><span class="comment"># ENABLE_CORRECTION=&quot;true&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line to display red dots whilst waiting for completion.</span></span><br><span class="line"><span class="comment"># You can also set it to another string to have that shown instead of the default red dots.</span></span><br><span class="line"><span class="comment"># e.g. COMPLETION_WAITING_DOTS=&quot;%F&#123;yellow&#125;waiting...%f&quot;</span></span><br><span class="line"><span class="comment"># Caution: this setting can cause issues with multiline prompts in zsh &lt; 5.7.1 (see #5765)</span></span><br><span class="line"><span class="comment"># COMPLETION_WAITING_DOTS=&quot;true&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line if you want to disable marking untracked files</span></span><br><span class="line"><span class="comment"># under VCS as dirty. This makes repository status check for large repositories</span></span><br><span class="line"><span class="comment"># much, much faster.</span></span><br><span class="line"><span class="comment"># DISABLE_UNTRACKED_FILES_DIRTY=&quot;true&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line if you want to change the command execution time</span></span><br><span class="line"><span class="comment"># stamp shown in the history command output.</span></span><br><span class="line"><span class="comment"># You can set one of the optional three formats:</span></span><br><span class="line"><span class="comment"># &quot;mm/dd/yyyy&quot;|&quot;dd.mm.yyyy&quot;|&quot;yyyy-mm-dd&quot;</span></span><br><span class="line"><span class="comment"># or set a custom format using the strftime function format specifications,</span></span><br><span class="line"><span class="comment"># see &#x27;man strftime&#x27; for details.</span></span><br><span class="line"><span class="comment"># HIST_STAMPS=&quot;mm/dd/yyyy&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Would you like to use another custom folder than $ZSH/custom?</span></span><br><span class="line"><span class="comment"># ZSH_CUSTOM=/path/to/new-custom-folder</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Which plugins would you like to load?</span></span><br><span class="line"><span class="comment"># Standard plugins can be found in $ZSH/plugins/</span></span><br><span class="line"><span class="comment"># Custom plugins may be added to $ZSH_CUSTOM/plugins/</span></span><br><span class="line"><span class="comment"># Example format: plugins=(rails git textmate ruby lighthouse)</span></span><br><span class="line"><span class="comment"># Add wisely, as too many plugins slow down shell startup.</span></span><br><span class="line">plugins=(</span><br><span class="line">    git</span><br><span class="line">    extract</span><br><span class="line">    zsh-autosuggestions</span><br><span class="line">    zsh-syntax-highlighting</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> <span class="variable">$ZSH</span>/oh-my-zsh.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># User configuration</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># export MANPATH=&quot;/usr/local/man:$MANPATH&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># You may need to manually set your language environment</span></span><br><span class="line"><span class="comment"># export LANG=en_US.UTF-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Preferred editor for local and remote sessions</span></span><br><span class="line"><span class="comment"># if [[ -n $SSH_CONNECTION ]]; then</span></span><br><span class="line"><span class="comment">#   export EDITOR=&#x27;vim&#x27;</span></span><br><span class="line"><span class="comment"># else</span></span><br><span class="line"><span class="comment">#   export EDITOR=&#x27;mvim&#x27;</span></span><br><span class="line"><span class="comment"># fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Compilation flags</span></span><br><span class="line"><span class="comment"># export ARCHFLAGS=&quot;-arch x86_64&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set personal aliases, overriding those provided by oh-my-zsh libs,</span></span><br><span class="line"><span class="comment"># plugins, and themes. Aliases can be placed here, though oh-my-zsh</span></span><br><span class="line"><span class="comment"># users are encouraged to define aliases within the ZSH_CUSTOM folder.</span></span><br><span class="line"><span class="comment"># For a full list of active aliases, run `alias`.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Example aliases</span></span><br><span class="line"><span class="comment"># alias zshconfig=&quot;mate ~/.zshrc&quot;</span></span><br><span class="line"><span class="comment"># alias ohmyzsh=&quot;mate ~/.oh-my-zsh&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">setopt</span> no_nomatch <span class="comment"># zshé‡Œé¢æ— æ³•ä½¿ç”¨bashçš„é€šé…ç¬¦* è¿™ä¸€è¡Œè§£å†³è¿™ä¸ªé—®é¢˜</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> LANG=en_US.UTF-8</span><br><span class="line"><span class="built_in">alias</span> <span class="built_in">ls</span>=<span class="string">&#x27;lsd&#x27;</span> <span class="comment"># è‡ªå¸¦çš„lså‘½ä»¤ä¸å¥½çœ‹ æˆ‘ä½¿ç”¨lsdæ›¿ä»£ls aliasä½œç”¨è‡ªæœ</span></span><br><span class="line"><span class="built_in">alias</span> neofetch=<span class="string">&#x27;neofetch --disable cols&#x27;</span> <span class="comment"># neofetchæœ‰bug</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:/home/liu/code/software_bin/bin <span class="comment"># æ·»åŠ ç¯å¢ƒå˜é‡çš„å½¢å¼</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:/home/liu/.local/bin</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:/home/liu/.local/share/nvim/mason/bin</span><br><span class="line"><span class="built_in">export</span> NVM_DIR=<span class="string">&quot;<span class="variable">$HOME</span>/.nvm&quot;</span></span><br><span class="line">[ -s <span class="string">&quot;<span class="variable">$NVM_DIR</span>/nvm.sh&quot;</span> ] &amp;&amp; \. <span class="string">&quot;<span class="variable">$NVM_DIR</span>/nvm.sh&quot;</span>  <span class="comment"># This loads nvm</span></span><br><span class="line">[ -s <span class="string">&quot;<span class="variable">$NVM_DIR</span>/bash_completion&quot;</span> ] &amp;&amp; \. <span class="string">&quot;<span class="variable">$NVM_DIR</span>/bash_completion&quot;</span>  <span class="comment"># This loads nvm bash_completion</span></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„çœ‹æˆ‘è¿™é‡Œå¼€å¯çš„æ’ä»¶å’Œæˆ‘ä¸‹è½½çš„æ’ä»¶è¦å¯¹åº”.</p>
<p><strong>æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„, åœ¨æ”¹å˜é»˜è®¤ç»ˆç«¯ä¹‹åä¹Ÿå°±æ˜¯è¿è¡Œäº†chshè¿™ä¸ªå‘½ä»¤ä¹‹å, æœ€å¥½è¿˜æ˜¯é‡æ–°å¯åŠ¨ä¸€ä¸‹ç³»ç»Ÿ.</strong></p>
<p>å› ä¸ºéšç€ç»ˆç«¯çš„æ”¹å˜, å¾ˆå¤šé»˜è®¤çš„è¡Œä¸ºä¼šæ”¹å˜. æ¯”å¦‚è¯´ä¸‹æ–‡å³å°†æœ‰çš„nvm, å› ä¸ºæ˜¯å®‰è£…åœ¨å®¶ç›®å½•åº•ä¸‹, éœ€è¦æ·»åŠ ç¯å¢ƒå˜é‡æ‰èƒ½å¤Ÿæ­£ç¡®åœ°è¿è¡Œç¨‹åº. å¦‚æœå…ˆå®Œæˆzshçš„æ”¹å˜ä¹‹åé‡å¯, æ­¤æ—¶é»˜è®¤ç»ˆç«¯å°±å·²ç»å®Œå…¨æ”¹å˜ä¸ºzsh, è¿™æ ·å®‰è£…nvmçš„æ—¶å€™å®ƒä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬æ·»åŠ ç¯å¢ƒå˜é‡åˆ°<code>~/.zshrc</code>é‡Œé¢. (è™½ç„¶è¿™ä¸ªé—®é¢˜ä¹Ÿä¸æ˜¯ä¸¥é‡, ä¹Ÿå¾ˆå¥½è§£å†³, æˆ‘ä»¬è‡ªå·±åŠ¨ä¸€ä¸‹ä¹Ÿè¡Œäº†, é‡è£…ä¸€ä¸‹ä¹Ÿè¡Œäº†, ä½†æ˜¯æŒ‰ç…§é¡ºåº, ä¸€æ­¥ä¸€æ­¥æ¥, å¤šé‡å¯å¯ä»¥è§£å†³å¾ˆå¤šéº»çƒ¦)</p>
<h2 id="nodejs-å’Œ-npmä½¿ç”¨nvmå®‰è£…"><a class="markdownIt-Anchor" href="#nodejs-å’Œ-npmä½¿ç”¨nvmå®‰è£…"></a> nodejs å’Œ npm(ä½¿ç”¨nvmå®‰è£…)</h2>
<p>å› ä¸ºæœ¬äººå¾ˆå–œæ¬¢lunarvimè¿™ä¸ªé…ç½®(<strong>å¥½, ç°åœ¨æˆ‘å·²ç»æ¶¦helixäº†, ä»»ä½•vimç»ˆå°†ç»³ä¹‹ä»¥æ³•!</strong>), è€Œä¸”åŒ…æ‹¬è¿™hexoåšå®¢ä¹Ÿéœ€è¦nodejså’Œnpm. ä½†æ˜¯é—®é¢˜åœ¨äºUbuntuè‡ªå¸¦çš„åŒ…ç®¡ç†å™¨é‡Œé¢çš„nodejså’Œnpmç‰ˆæœ¬æ¯”è¾ƒä½, å› ä¸ºæˆ‘æ˜¯22.04å…»è€(ç°åœ¨æ˜¯22.10äº†), checkhealthçš„æ—¶å€™è¿˜ç»å¸¸è¯´ç‰ˆæœ¬ä¸ç¬¦åˆè¦æ±‚.</p>
<p>ä½¿ç”¨nvmæ¥ç®¡ç†nodejså’Œnpm, ä¸ä»…å¯ä»¥åœ¨Ubuntuä¸Šé¢è·å¾—æœ€æ–°çš„ç‰ˆæœ¬, è¿˜å¯ä»¥è§£å†³<code>npm install -g &lt;package_name&gt;</code>rootæƒé™çš„é—®é¢˜. å…¶å®å¾ˆå¤šäººåœ¨npmå…¨å±€å®‰è£…åŒ…çš„æ—¶å€™è§£å†³æ–¹å¼æ¯”è¾ƒç®€å•ç²—æš´, éƒ½æ˜¯ç›´æ¥rootæƒé™è§£å†³. ä¹‹æ‰€ä»¥éœ€è¦rootæƒé™, æ˜¯å› ä¸ºé»˜è®¤æƒ…å†µä¸‹çš„npmå…¨å±€å®‰è£…æ˜¯æŠŠè¿™ä¸ªpackageå®‰è£…åˆ°æ ¹ç›®å½•ä¸‹é¢çš„ä½ç½®. ä½†æ˜¯å®é™…ä¸Šè¿™æ ·éå¸¸ä¸å¥½:</p>
<p><a href="https://docs.npmjs.com/resolving-eacces-permissions-errors-when-installing-packages-globally">è§£å†³npm -g installçš„æƒé™é—®é¢˜</a></p>
<p>åœ¨å®˜æ–¹æ–‡æ¡£é‡Œé¢æ˜¯ååˆ†ä¸æ¨èä½¿ç”¨sudoæƒé™ç²—æš´åœ°è§£å†³é—®é¢˜çš„.</p>
<p><a href="https://github.com/nvm-sh/nvm">nvmçš„GitHub</a></p>
<p>nvmçš„æ€æƒ³å¾ˆåƒè¿™ä¸ªconda. å®‰è£…çš„æ‰€æœ‰çš„åŒ…éƒ½ä¼šåœ¨<code>~/.nvm</code>ä¸‹é¢. å…¨å±€å®‰è£…ä¹Ÿä¸éœ€è¦rootæƒé™äº†(å› ä¸ºæ­¤æ—¶å…¨å±€å®‰è£…éœ€è¦ä¿®æ”¹çš„ç›®å½•ä¹Ÿä¸å†æ˜¯rootç›®å½•ä¸‹é¢çš„æŸä¸ªä½ç½®)</p>
<h2 id="tldr-too-long-dont-read"><a class="markdownIt-Anchor" href="#tldr-too-long-dont-read"></a> tldr: too long donâ€™t read</h2>
<p>è™½ç„¶è¯´manualæ‰‹å†Œå’Œ<code>--help</code>æ˜¯å¾ˆå¤šäººå–œæ¬¢çœ‹çš„æ–‡æ¡£<s>å–œæ¬¢ä¸ªé¬¼, è°å–œæ¬¢çœ‹manualæ‰‹å†Œå•Š</s>, ä½†æ˜¯æœ‰æ²¡æœ‰æ›´å¥½çš„åŠæ³•ç”¨ä¸€ç§æ›´åŠ ç®€æ´çš„æ–¹å¼æ¥çŸ¥é“ä¸€ä¸ªå‘½ä»¤çš„ä½¿ç”¨æ–¹æ³•å‘¢?</p>
<p>å°±æ‹¿taræ¥ä¸¾ä¾‹å­, æˆ‘åªæ˜¯æƒ³è¦çŸ¥é“æ€ä¹ˆè§£å‹tar.gz, æˆ‘åªæ˜¯ä¸€æ—¶ä¸å°å¿ƒå¿˜è®°äº†, å†å»ç¿»å…¨è‹±æ–‡çš„manæ‰‹å†Œæ˜¯å¦æœ‰ç‚¹å¤±ç¤¼äº†å‘¢?</p>
<p><a href="https://github.com/tldr-pages/tldr">tldrçš„github</a></p>
<p>tldræ˜¯ä¸€ä¸ªä»¥å¾ˆç®€æ´çš„å½¢å¼å±•ç°å‘½ä»¤çš„å·¥å…·, æ¯”å¦‚è¯´å¯¹äºtar, æˆ‘è¿è¡Œtldrçš„ç»“æœæ˜¯è¿™æ ·:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">å½’æ¡£å®ç”¨ç¨‹åºã€‚</span><br><span class="line">  é€šå¸¸ä¸å‹ç¼©æ–¹æ³•ç»“åˆä½¿ç”¨ï¼Œä¾‹å¦‚ gzip æˆ– bzip2.</span><br><span class="line">  æ›´å¤šä¿¡æ¯ï¼š&lt;https://www.gnu.org/software/tar&gt;.</span><br><span class="line"></span><br><span class="line">  åˆ›å»ºå­˜æ¡£å¹¶å°†å…¶å†™å…¥æ–‡ä»¶ï¼š</span><br><span class="line"></span><br><span class="line">      tar cf target.tar file1 file2 file3</span><br><span class="line"></span><br><span class="line">  åˆ›å»ºä¸€ä¸ª gzip å‹ç¼©æ–‡ä»¶å¹¶å°†å…¶å†™å…¥æ–‡ä»¶ï¼š</span><br><span class="line"></span><br><span class="line">      tar czf target.tar.gz file1 file2 file3</span><br><span class="line"></span><br><span class="line">  ä½¿ç”¨ç›¸å¯¹è·¯å¾„ä»ç›®å½•åˆ›å»ºä¸€ä¸ª gzip å‹ç¼©æ–‡ä»¶ï¼š</span><br><span class="line"></span><br><span class="line">      tar czf target.tar.gz --directory=path/to/directory .</span><br><span class="line"></span><br><span class="line">  è¯¦ç»†åœ°å°†ï¼ˆå‹ç¼©çš„ï¼‰å­˜æ¡£æ–‡ä»¶æå–åˆ°å½“å‰ç›®å½•ä¸­ï¼š</span><br><span class="line"></span><br><span class="line">      tar xvf source.tar[.gz|.bz2|.xz]</span><br><span class="line"></span><br><span class="line">  å°†ï¼ˆå‹ç¼©çš„ï¼‰å­˜æ¡£æ–‡ä»¶è§£å‹ç¼©åˆ°ç›®æ ‡ç›®å½•ä¸­ï¼š</span><br><span class="line"></span><br><span class="line">      tar xf source.tar[.gz|.bz2|.xz] --directory=directory</span><br><span class="line"></span><br><span class="line">  åˆ›å»ºå‹ç¼©å­˜æ¡£å¹¶å°†å…¶å†™å…¥æ–‡ä»¶ï¼Œä½¿ç”¨å­˜æ¡£åç¼€ç¡®å®šå‹ç¼©ç¨‹åºï¼š</span><br><span class="line"></span><br><span class="line">      tar caf target.tar.xz file1 file2 file3</span><br><span class="line"></span><br><span class="line">  è¯¦ç»†åˆ—å‡º tar æ–‡ä»¶çš„å†…å®¹ï¼š</span><br><span class="line"></span><br><span class="line">      tar tvf source.tar</span><br><span class="line"></span><br><span class="line">  ä»å­˜æ¡£æ–‡ä»¶ä¸­æå–ä¸æ¨¡å¼åŒ¹é…çš„æ–‡ä»¶ï¼š</span><br><span class="line"></span><br><span class="line">      tar xf source.tar --wildcards <span class="string">&quot;*.html&quot;</span></span><br></pre></td></tr></table></figure>
<p>éå¸¸çš„è¯±äººäº†. (åœ¨åšå®¢é‡Œé¢çœ‹è¿˜æ˜¯ä¸ä¸€æ ·, åšå®¢é‡Œé¢ä»£ç å—é«˜äº®å·®, è‡ªå·±ç”¨çš„æ—¶å€™æ˜¯å½©è‰²çš„å¾ˆèˆ’æœ)</p>
<p><strong>ä½†æ˜¯æ–°ç‰ˆæœ¬tldræ›´æ–°ä¹‹å, æ¯æ¬¡æŸ¥å‘½ä»¤çš„æ—¶å€™, éƒ½éœ€è¦å’ŒæœåŠ¡å™¨åŒæ­¥</strong>.(è™½ç„¶è¯´æ˜æ˜å¯ä»¥é€šè¿‡cacheçš„å½¢å¼æœ¬åœ°æŸ¥æ‰¾, ä¸çŸ¥é“ä¸ºå•¥å³ä½¿<code>tldr --update</code>äº†ä¹‹åè¿˜æ˜¯æ²¡æ³•æŸ¥çœ‹)</p>
<p>æ¨èå¦ä¸€ä¸ªç”¨rustå®Œæˆçš„tldré¡¹ç›®: <a href="https://github.com/dbrgn/tealdeer">dbrgn/tealdeer</a></p>
<p><strong>è¿™ä¸ªç‰ˆæœ¬çš„tldræ˜¯å¯ä»¥ç¦»çº¿ä½¿ç”¨çš„</strong>, ä¸€æ¬¡æ›´æ–°åŸºæœ¬ä¸Šå°±å¯ä»¥ä½¿ç”¨äº†. åªéœ€è¦ä¸€æ¬¡æ›´æ–°é­”æ³•ä¸Šç½‘å³å¯. (å¯¹äºæˆ‘Ubuntuæ¥è®², æˆ‘åªç›´æ¥ä¸‹è½½äº†äºŒè¿›åˆ¶ç‰ˆæœ¬, ç„¶åæŠŠä¸‹è½½å¥½çš„å¯æ‰§è¡Œæ–‡ä»¶é‡å‘½åä¸ºtldr, ç„¶ååŠ åˆ°ç¯å¢ƒå˜é‡é‡Œé¢, å½“åštldrä½¿ç”¨å³å¯.)</p>
<h2 id="å¯èƒ½æ”¹å–„ç¬”è®°æœ¬ç”µè„‘çš„ç»­èˆªé—®é¢˜"><a class="markdownIt-Anchor" href="#å¯èƒ½æ”¹å–„ç¬”è®°æœ¬ç”µè„‘çš„ç»­èˆªé—®é¢˜"></a> å¯èƒ½æ”¹å–„ç¬”è®°æœ¬ç”µè„‘çš„ç»­èˆªé—®é¢˜</h2>
<p>æ¨èä¸€ä¸ªå«åštlpçš„è½¯ä»¶, å…ˆå®‰è£…, ç„¶å<code>sudo tlp start</code>, ä¹‹åå¯èƒ½ä¼šæ²¡æ³•å¯åŠ¨, <strong>æ ¹æ®å±å¹•ä¸Šçš„æç¤ºæ¥è¾“å…¥æ¥ä¸‹æ¥çš„å‘½ä»¤</strong>. æˆ‘ä¹Ÿä¸çŸ¥é“æ˜¯ä¸æ˜¯èƒ½å¤Ÿæ”¹å–„ç»­èˆªé—®é¢˜. è¾“å…¥<code>sudo tlp-stat</code>å¯ä»¥çœ‹ç°åœ¨tlpæ˜¯ä¸æ˜¯åœ¨è¿è¡Œä»¥åŠçŠ¶æ€. æ®è¯´å¯åŠ¨ä¹‹åå°±ä¸ç”¨ç®¡äº†, åå°ä¼šè‡ªåŠ¨çœç”µ, å¬ç€çœŸç„ä¹.</p>
<h2 id="nala-ä¸€ä¸ªç¨å¾®ç¾ä¸½çš„aptå‰ç«¯"><a class="markdownIt-Anchor" href="#nala-ä¸€ä¸ªç¨å¾®ç¾ä¸½çš„aptå‰ç«¯"></a> nala: ä¸€ä¸ªç¨å¾®ç¾ä¸½çš„aptå‰ç«¯</h2>
<p>æˆ‘å¿…é¡»è¯´æ˜, å…¶å®è¿™ç§æ‰€è°“ç¾åŒ–å¹¶ä¸ç¬¦åˆlinuxçš„å“²å­¦. å¦‚éå¿…è¦å…¶å®æ²¡æœ‰å¿…è¦ä¾èµ–å¾ˆå¤šå¤–æ¥çš„, ç»™ç³»ç»Ÿå¤æ‚æ€§å¢åŠ äº†. æŠ˜è…¾ç»ˆç«¯æ¨¡æ‹Ÿå™¨æ­é…zshå·²ç»å¾ˆå¤æ‚äº†. å¦‚æœè¾“å‡ºä¸ç¾è§‚å…¶å®ä¹Ÿå¯ä»¥ä½¿ç”¨grepä¹‹ç±»çš„å·¥å…·, ä¹Ÿæ˜¯éå¸¸ä¸é”™.</p>
<p><a href="https://gitlab.com/volian/nala">gitlab: nala</a></p>
<p>è¿˜æœ‰ä¸€ä¸ªå‚è€ƒèµ„æ–™æ˜¯ä¸€ä¸ªBç«™Upçš„è§†é¢‘, <a href="https://www.bilibili.com/video/BV1mT41127fa?share_source=copy_web">ç‚¹æ­¤è·³è½¬</a></p>
<p>aptæ¯”è¾ƒä¸ç¾è§‚, è¾“å‡ºä¿¡æ¯æ¯”è¾ƒå¤š, å ç”¨å¾ˆå¤šå±å¹•ä¿¡æ¯. è€Œä¸”æ–°å®‰è£…å’Œå¸è½½çš„è½¯ä»¶åŒ…ä¸èƒ½å¤Ÿæ˜ç¡®åœ°ç”¨é¢œè‰²æ ‡å‡ºæ¥. å½“ç„¶ä¸ç¾è§‚ä¸æ˜¯nalaå¥½ç”¨çš„ä¸»è¦ç†ç”±, æœ€é‡è¦çš„ç†ç”±æ˜¯å®ƒå¯ä»¥ä¿å­˜nalaå®‰è£…åŒ…åŒ…æ‹¬upgradeæ›´æ–°çš„ä¿¡æ¯, ä»è€Œå®ç°å›æ»š(è™½ç„¶ä½ timeshiftå›æ»šä¹Ÿå¾ˆå¥½ç”¨ä½†æ˜¯â€¦). é¢œè‰²çš„åŠ å…¥ç¡®å®è®©æ˜“ç”¨æ€§è¦å¼ºä¸€äº›.</p>
<p>ä½†æ˜¯ç¾ä¸­ä¸è¶³çš„æ˜¯, è¿™é‡Œçš„è®¸å¤šæ¶ˆæ¯éƒ½è¢«é™åˆ¶åœ¨æ¡†é‡Œé¢, æ»šåŠ¨äº†ä¹‹åå°±èµ°äº†, è®©äººçœ‹ä¸åˆ°å®Œæ•´çš„ä¿¡æ¯.(ä¸è¿‡é‚£äº›ä¿¡æ¯ä¹Ÿè®¸æ²¡é‚£ä¹ˆé‡è¦, å‡å¦‚æœ‰erroræˆ–è€…æ˜¯å…¶ä»–ä¿¡æ¯è¯´ä¸å®šä¼šç€é‡æ˜¾ç¤ºå‘¢.)</p>
<h2 id="clangç¼–è¯‘æ‰¾ä¸åˆ°å¤´æ–‡ä»¶"><a class="markdownIt-Anchor" href="#clangç¼–è¯‘æ‰¾ä¸åˆ°å¤´æ–‡ä»¶"></a> clangç¼–è¯‘æ‰¾ä¸åˆ°å¤´æ–‡ä»¶</h2>
<p>æˆ‘å»ºè®®åˆ«ç¢°Clang, æˆ‘ä¹‹å‰ç¢°clangæ˜¯å› ä¸ºæˆ‘æƒ³ä½¿ç”¨clangdè¡¥å…¨, æˆ‘ä»¥ä¸ºå¿…é¡»è¦clang, è°çŸ¥é“è¿™ä¸¤ä¸ªæ ¹æœ¬ä¸€ç‚¹å…³ç³»éƒ½æ²¡æœ‰.</p>
<p>è¿™ä¸ªé—®é¢˜ä¹Ÿæ˜¯ä¸€ä¸ªç»å¸¸è§çš„é—®é¢˜: <a href="https://askubuntu.com/questions/1441844/todays-ubuntu-22-04-updates-seem-to-break-clang-compiler/1441954#1441954">askubuntu</a></p>
<p>è¿™ä¸ªé—®é¢˜å±…ç„¶æ˜¯æ–°å‡ºç°çš„, æˆ‘æœ€å¼€å§‹ä¸çŸ¥é“ä¸ºå•¥æ²¡æœ‰è¿™ä¸ªé—®é¢˜. åŸå› åœ¨äºclangè‡ªå·±å¹¶ä¸å¸¦æœ‰å¤´æ–‡ä»¶, éœ€è¦ä½¿ç”¨c++çš„æ ‡å‡†åº“, æˆ–è€…è¯´å¾—æ›´æ¸…æ¥šä¸€äº›éœ€è¦libstdc++è¿™ä¸ªä¸œè¥¿.</p>
<p>ä½†æ˜¯å¾ˆå¤šæ—¶å€™ä¼šå‡ºç°é—®é¢˜. æ¯”å¦‚<code>gcc-12</code>è¿™ä¸ªåŒ…å·²ç»å‡ºæ¥, è€Œä¸”å¾ˆæœ‰å¯èƒ½å·²ç»å®‰è£…åˆ°ä½ ç”µè„‘ä¸Š. ä½†æ˜¯å’Œ<code>gcc-12</code>ç›¸å¯¹åº” çš„</p>
<p>æˆ‘åœ¨å®‰è£…g++çš„æ—¶å€™è¿å¸¦ç€å®‰è£…äº†<code>libstdc++-11-dev</code>, ä½†æ˜¯clangä»ç„¶æ‰¾ä¸åˆ°å¤´æ–‡ä»¶, æœ€ååŠ è£…äº†<code>libstdc++-12-dev</code>æ‰è§£å†³é—®é¢˜. æœ¬è´¨ä¸Šè¿™æ˜¯ubuntuå¯ä»¥å®‰è£…å¤šä¸ªç‰ˆæœ¬å¯¼è‡´çš„(è¿™æœ¬æ¥æ˜¯ä¸€ä¸ªä¼˜ç‚¹ç»“æœå´æˆäº†ç¼ºç‚¹).</p>
<p>æ‰€ä»¥ç¬¬ä¸€ä¸ªè§£å†³æ–¹æ³•å°±æ˜¯, åªç•™ä¸€ä¸ª. ä¹Ÿå°±æ˜¯å¸è½½<code>cpp-12</code>è¿™ä¸ªåŒ…. è¿å¸¦çš„<code>libstdc++-12-dev</code>ä¹Ÿè·Ÿç€å¸è½½(å…å¾—å ç©ºé—´). æ ‡å‡†ä¸ºg++è¿˜æœ‰gccçš„å¯æ‰§è¡Œæ–‡ä»¶åªç•™ä¸‹ä¸€ä¸ª(å»<code>/usr/bin</code>ä¸‹é¢æ‰¾). ç„¶å<code>clang -v</code>è¾“å‡º:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  bin clang -v   </span><br><span class="line">Ubuntu clang version 14.0.0-1ubuntu1</span><br><span class="line">Target: x86_64-pc-linux-gnu</span><br><span class="line">Thread model: posix</span><br><span class="line">InstalledDir: /usr/bin</span><br><span class="line">Found candidate GCC installation: /usr/bin/../lib/gcc/x86_64-linux-gnu/11</span><br><span class="line">Selected GCC installation: /usr/bin/../lib/gcc/x86_64-linux-gnu/11</span><br><span class="line">Candidate multilib: .;@m64</span><br><span class="line">Selected multilib: .;@m64</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œçš„<code>Selected GCC installation</code>åªæœ‰ä¸€è¡Œ, æ²¡æœ‰å‡ºç°å¤šæ„ä¹‰çš„æƒ…å†µ, æ­¤æ—¶clangå¯ä»¥æ­£å¸¸ä½¿ç”¨, é»˜è®¤ä½¿ç”¨libstdc++, è€Œä¸”æ˜¯ç°åœ¨å”¯ä¸€çš„libstdc++, ä¹Ÿæ˜¯ç°åœ¨gccçš„libstdc++.</p>
<p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥è¡¥å…¨, å‡å¦‚è¯´<code>clang -v</code>å‡ºç°äº†å¤šæ„ä¹‰çš„æƒ…å†µ, ä½ åªéœ€è¦æ‰¾åˆ°<code>clang -v</code>é‡Œé¢æ˜¾ç¤ºçš„æœ€æ–°çš„gccçš„ç‰ˆæœ¬æ˜¯ä»€ä¹ˆ, ç„¶åå®‰è£…å¯¹åº”ç‰ˆæœ¬çš„<code>libstdc++-xx-dev</code>å³å¯. ä½†æ˜¯è¿™æ ·æœ‰ç‚¹æµªè´¹ç©ºé—´, è€Œä¸”å¥‡æ€ªçš„æ˜¯<code>gcc-12</code>å·²ç»å¯ä»¥ç”¨ä½†æ˜¯ubuntuå®˜æ–¹å®‰è£…<code>apt install gcc</code>çš„æ—¶å€™ä»ç„¶é»˜è®¤å®‰è£…ç‰ˆæœ¬11.3, è¿™è¯´æ˜å®˜æ–¹æ¨è.(è™½ç„¶è¯´ä½ ä¹Ÿå¯ä»¥æŠŠè¿™ä¸ªgccçš„é“¾æ¥æ”¹ä¸€ä¸‹)</p>
<p><strong>ç¬¬äºŒä¸ªé€‰æ‹©å°±æ˜¯ä½¿ç”¨libc++.</strong> å…¶å®åœ¨æ›´å¤šäººçš„è®¤è¯†é‡Œé¢clangåº”è¯¥å’Œlibc++è”ç³»æ›´åŠ ç´§å¯†. ä½†æ˜¯åœ¨Linuxä¸Šé¢clangçš„é»˜è®¤ç¼–è¯‘å‚æ•°æ˜¯ä½¿ç”¨libstdc++çš„, æ¯”è¾ƒå¥‡æ€ª. åŒæ—¶ä¹Ÿå¼•å‡ºäº†ä¸Šé¢è¿™æ ·çš„é—®é¢˜, å¯¼è‡´ç»å¸¸clangå°±ç”¨ä¸äº†.</p>
<p><code>sudo apt install libc++-dev</code></p>
<p><code>sudo apt install libc++abi-dev</code></p>
<p>å½“ç„¶ä½ åœ¨è¾“å‘½ä»¤çš„æ—¶å€™å¯èƒ½ä¼šå‘ç°æœ‰å¥½å¤šç‰ˆæœ¬, è¿™ç§æƒ…å†µå¦‚æœæœ‰ç‰¹æ®Šç‰ˆæœ¬éœ€æ±‚å°±ä¸¤ä¸ªéƒ½è£…åŒ¹é…ç‰ˆæœ¬å³å¯, å¦‚æœä¸çŸ¥é“å“ªä¸ªç‰ˆæœ¬å°±åƒä¸Šé¢è¿™æ ·è¾“å…¥, æœ€åå®˜æ–¹ä¼šæœ‰ä¸€ä¸ªé»˜è®¤çš„ç‰ˆæœ¬å®‰è£….</p>
<p>åªä¸è¿‡è¿™ä¸ªæ—¶å€™æ¯æ¬¡clangç¼–è¯‘éƒ½éœ€è¦åŠ ä¸Š<code>-stdlib=libc++</code>æ‰è¡Œäº†, å› ä¸ºè¿™ä¸ªæ—¶å€™æˆ‘ä»¬ç›¸å½“äºæ˜¯æ”¾å¼ƒäº†libstdc++è€Œä½¿ç”¨libc++, æ‰€ä»¥è¿™æ ·.</p>
<p>å¯è§å¤šç‰ˆæœ¬æ—¢æ˜¯å¥½å¤„, ä¹Ÿè¦å¤šåŠ æ³¨æ„, ä¸ç„¶ä¹Ÿæ˜¯åå¤„.</p>
<h1 id="åè®°"><a class="markdownIt-Anchor" href="#åè®°"></a> åè®°</h1>
<p>æœªå®Œ, æœ‰æ—¶é—´æ¥ç€å†™.</p>
]]></content>
      <tags>
        <tag>study</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>è®ºè§£å†³é—®é¢˜çš„æ–¹æ³•è®º</title>
    <url>/2022/11/10/%E8%AE%BA%E8%A7%A3%E5%86%B3%E9%97%AE%E9%A2%98%E7%9A%84%E6%96%B9%E6%B3%95%E8%AE%BA/</url>
    <content><![CDATA[<h1 id="å‘ç”Ÿä»€ä¹ˆäº‹äº†"><a class="markdownIt-Anchor" href="#å‘ç”Ÿä»€ä¹ˆäº‹äº†"></a> å‘ç”Ÿä»€ä¹ˆäº‹äº†</h1>
<p>æ•…äº‹è¿˜æ˜¯å¾—ä»å‡ å¤©å‰è¯´èµ·ï¼Œçœ‹äº†Oè€å¸ˆçš„ä¸€ä¸ªå…³äºæ’ç‰ˆçš„è§†é¢‘ï¼Œæˆ‘æ·±å—å¯å‘ã€‚</p>
<p><a href="https://www.bilibili.com/video/BV1GY411E7Jr?share_source=copy_web">ä¸€ä»¶åµäº†100å¤šå¹´çš„å°äº‹â€¦â€¦ - oooooohmygosh</a></p>
<p>è¿™ä¸ªè§†é¢‘è®²åˆ°äº†å…³äºå¼•å·çš„é—®é¢˜ï¼Œæ¢è®¨äº†ä¸€ä¸‹ç°åœ¨è¿™ä¸€å¥—æ ‡ç‚¹ç¬¦å·ç³»ç»Ÿæ˜¯å¦‚ä½•æ¥çš„ã€‚æåˆ°çš„ä¸­æ–‡æ–¹å¼•å·è®©æˆ‘å¾ˆæ„Ÿå…´è¶£ï¼Œåƒè¿™æ ·ï¼šã€Œã€</p>
<span id="more"></span>
<p>å½“æ—¶æˆ‘è®°åœ¨å¿ƒé‡Œé¢ï¼Œå‡†å¤‡å†™ä¸€ä¸ªæ–‡æ¢è®¨ä¸€ä¸‹markdownçš„æ’ç‰ˆã€‚ï¼ˆæ­£åœ¨è¢«ä¸­æ–‡æ‹¬å· è‹±æ–‡å¼•å· ä¸­æ–‡å¼•å·æŠ˜ç£¨ä¸­ï¼‰åæ¥æ²¡å†™æˆã€‚</p>
<p>ä»Šå¤©ä¸€ä¸ªæœ‹å‹é—®äº†æˆ‘ä¸€ä¸ªå­—ç¬¦ä¸²çš„é—®é¢˜ï¼Œå¥½å˜›ï¼Œæˆ‘å›ç­”å®Œäº†å»è‡ªå·±å†™çš„åšå®¢çœ‹çœ‹é”™äº†æ²¡ï¼Œç»“æœå±…ç„¶å‘ç°æˆ‘åšå®¢ä¸Šé¢å†™çš„ç¬”è®°æœ‰æ•°ç»„è¶Šç•Œçš„é—®é¢˜ã€‚å°±åœ¨æˆ‘ä¿®æ”¹çš„è¿‡ç¨‹ä¸­ï¼Œçœ‹åˆ°äº†è®©å¼ºè¿«ç—‡æ— æ³•å®¹å¿çš„ä¸€å¹•ã€‚</p>
<p><img src="https://pic.imgdb.cn/item/625aa64e239250f7c5020069.png" alt="img" /></p>
<p>ä¸Šç½‘æœç´¢çš„æ—¶å€™å‘ç°è¿™æ˜¯ä¸€ä¸ªå°bugï¼Œå®˜æ–¹æœ‰ä¸€ä¸ªæš‚æ—¶çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨ä¸­æ–‡çš„æ–¹æ‹¬å·ä»£æ›¿å¼•å·ã€‚ï¼ˆé—­ç¯äº†ï¼Œæˆ‘ä¸€ä¸‹å­å°±æƒ³åˆ°äº†OOOOOè€å¸ˆæå‡ºæ¥çš„é‚£ä¸ªæ‹¬å·çš„é—®é¢˜ï¼‰</p>
<p>å¥½å§ï¼Œè¿™ä¸ªmarkdownæ’ç‰ˆçš„é—®é¢˜æœ€ç»ˆæˆ‘è¿˜æ˜¯å‡ºç°äº†ï¼Œé‚£ä¹ˆæ­£å¥½ä»¥æ­¤ä½œä¸ºä¾‹å­ï¼Œæ¢è®¨ä¸€ä¸‹æˆ‘è§£å†³é—®é¢˜çš„æ–¹æ³•è®ºã€‚</p>
<h1 id="é—®é¢˜å®šä½"><a class="markdownIt-Anchor" href="#é—®é¢˜å®šä½"></a> é—®é¢˜å®šä½</h1>
<p>è®¸å¤šäººä¸€ä¸Šæ¥å°±ç›´æ¥ä¸Šç½‘æœç´¢ï¼Œè¿™æ ·ç¡®å®æ²¡æœ‰é—®é¢˜ã€‚ä½†æ˜¯å¦‚æœè¦æ›´å¿«åœ°è§£å†³å¿…é¡»æœç´¢åœ°æ›´åŠ ç²¾å‡†ã€‚è¿™é‡Œä½¿ç”¨hexoçš„nextä¸»é¢˜å‡ºç°è¿™æ ·çš„é—®é¢˜ï¼Œé‚£æ˜¯ä¸»é¢˜çš„é”…è¿˜æ˜¯hexoçš„é—®é¢˜å‘¢ï¼Ÿæ¢ç”¨landscapeä¸»é¢˜ä¹‹åå‘ç°è¿™ä¸ªé—®é¢˜è¿˜æ˜¯å­˜åœ¨ï¼Œä½†æ˜¯æ˜æ˜¾å¥½å¾ˆå¤šã€‚æ‰€ä»¥è‚¯å®šä½¿ç”¨nextä¸»é¢˜çš„äººæ›´å®¹æ˜“æå‡ºè¿™ä¸ªé—®é¢˜ã€‚æ‰€ä»¥æœç´¢å…³é”®è¯é‡Œé¢åŠ ä¸Šä¸€ä¸ªnextå°±æ›´å®¹æ˜“æœå‡ºæ¥æƒ³è¦çš„ç»“æœã€‚</p>
<h1 id="æœç´¢"><a class="markdownIt-Anchor" href="#æœç´¢"></a> æœç´¢</h1>
<p>å‡å¦‚å¯¹htmlè¿˜æœ‰cssè¿˜æœ‰hexoä»€ä¹ˆç›¸å…³çš„ä¸œè¥¿æ¯”è¾ƒäº†è§£ï¼Œé‚£ä¼°è®¡è‡ªå·±å°±èƒ½è§£å†³ã€‚ä½†æ˜¯æˆ‘å¯¹äºè¿™å‡ ä¸ªä¸œè¥¿å¹¶æ²¡æœ‰å……åˆ†çš„äº†è§£ï¼Œæ‰€ä»¥å¯¹äºæˆ‘æ¥è¯´è¿˜æ˜¯æœç´¢æ¯”è¾ƒå¥½ã€‚</p>
<p>é‚£è¯¥å¦‚ä½•æœç´¢å‘¢ï¼Ÿç½‘ä¸Šå·²ç»æœ‰å¾ˆå¤šå¸–å­æè¿°äº†å¦‚ä½•å–„ç”¨æœç´¢å¼•æ“ï¼Œåƒåªæœå‡ºæ¥æ–‡ä»¶å•Šï¼Œç«™å†…æœç´¢å•Šç­‰ç­‰ï¼Œä½†æ˜¯å¯¹äºä¸€èˆ¬çš„è¿™ç§é—®é¢˜æ€ä¹ˆè§£å†³ï¼Ÿ</p>
<p>åº”è¯¥åœ¨æœç´¢æ¡†é‡Œé¢è¾“å…¥ï¼šhexoåšå®¢nextä¸»é¢˜ä¸­æ–‡å¼•å·æ¸²æŸ“é”™è¯¯æ€ä¹ˆåŠ å—ï¼Ÿ</p>
<p>è¿™æ ·æ˜¯ä¸å¥½çš„ï¼Œè¿™æ ·ç™¾åº¦æŠŠè¿™å¥è¯å½“åšä¸€ä¸ªå…ƒç´ æ¥æœç´¢è¿™å¥è¯åœ¨å“ªç¯‡æ–‡ç« é‡Œé¢å‡ºç°â€¦â€¦</p>
<p>ä¸è¿‡è¿™ä¸ªæƒ…å†µä¹Ÿèƒ½æœå‡ºæ¥ï¼Œåªèƒ½è¯´æœç´¢å¼•æ“æ¯”è¾ƒèªæ˜ã€‚ä½†æ˜¯æˆ‘ä¸€ç›´è§‰å¾—è¿™æ ·æœä¸å¥½ã€‚</p>
<p>å¦‚æœæ˜¯æˆ‘ï¼Œæˆ‘ä¼šè¿™æ ·æœï¼šhexo next å¼•å·</p>
<p>ç„¶åæ‰¾åˆ°ç¬¦åˆè‡ªå·±é—®é¢˜æè¿°çš„å¸–å­å°±å¥½äº†ã€‚æˆ‘æ‰¾åˆ°äº†è¿™ä¸ªï¼š<a href="https://liuqinh2s.github.io/blog/2019/04/15/hexo%E6%8A%8A%E8%8B%B1%E6%96%87%E5%BC%95%E5%8F%B7%E6%B8%B2%E6%9F%93%E6%88%90%E4%B8%AD%E6%96%87%E5%BC%95%E5%8F%B7%E7%9A%84%E9%97%AE%E9%A2%98/">è§£å†³é—®é¢˜çš„å¸–å­</a></p>
<h1 id="ä¿¡æ¯æ¥æº"><a class="markdownIt-Anchor" href="#ä¿¡æ¯æ¥æº"></a> ä¿¡æ¯æ¥æº</h1>
<p>ç„¶åå°±æ˜¯åˆ¤æ–­ä¿¡æ¯æ¥æºæ˜¯å¦å¯é ï¼Œä¸»è¦æ˜¯å¹³æ—¶ç»å¸¸åœ¨csdnä¸Šé¢çœ‹åˆ°æè¿°éå¸¸è´´åˆè‡ªå·±é—®é¢˜çš„ï¼Œä½†æ˜¯å®é™…ä¸Šå´éå¸¸æ°´ï¼Œç»™å‡ºæ¥çš„ç­”æ¡ˆæ²¡æœ‰ä»€ä¹ˆç”¨ã€‚ä½†æ˜¯ä¸Šé¢è¯´çš„é‚£ä¸ªå¸–å­ç¡®ç¡®å®å®çœŸçš„æ˜¯è·Ÿæˆ‘çš„é—®é¢˜ä¸€æ¨¡ä¸€æ ·ï¼Œä½†æ˜¯è¿™ä¸ªå¸–å­å¦‚ä½•å¹¶ä¸é‡è¦ï¼Œæ›´é‡è¦çš„æ˜¯å®ƒç»™å‡ºæ¥githubä¸Šé¢è¿™ä¸ªé—®é¢˜çš„å‚è€ƒé“¾æ¥ï¼Œç„¶åå…¶ä¸­æœ‰ä¸€ä¸ªé—®é¢˜å®Œå®Œå…¨å…¨è·Ÿæˆ‘é‡åˆ°çš„é—®é¢˜ä¸€æ¨¡ä¸€æ ·ï¼è¿™å¯ç¤ºäº†æˆ‘ï¼Œå› ä¸ºç”¨çš„nextä¸»é¢˜æœ¬æ¥å°±æ˜¯githubé‡Œé¢çš„ä¸€ä¸ªé¡¹ç›®ï¼Œä»¥åå°±åº”è¯¥ç›´æ¥æœç´¢githubçš„issueï¼Œèƒ½å¾—åˆ°æ›´åŠ å®˜æ–¹çš„è§£é‡Šã€‚æœbingä¹Ÿæ˜¯ä¸€ç§ç»•è¿œè·¯ã€‚ã€‚</p>
<p>ä½†æ˜¯åªæ˜¯ç†æƒ³æƒ…å†µï¼Œåœ¨nextçš„ä¸»é¢˜ä»“åº“é‡Œé¢çš„issueä¸‹é¢æœç´¢å¼•å·ä¼¼ä¹æ•ˆæœå¹¶æ²¡æœ‰é‚£ä¹ˆå¥½ã€‚ã€‚æœç´¢å¼•å·å‡ºæ¥ä¸€äº›issueï¼Œæœ€åä¸€ä¸ªæ‰æ˜¯æˆ‘æƒ³è¦çš„ï¼Œè¿˜å¾—èŠ±ç‚¹æ—¶é—´ä¸€ä¸ªä¸€ä¸ªæ‰¾ã€‚ä¸è¿‡è¦æ˜¯èƒ½æ‰¾åˆ°å®˜æ–¹çš„è§£å†³æ–¹æ³•ï¼Œé‚£ä¹Ÿæ˜¯å€¼å¾—çš„ã€‚</p>
<h1 id="è§£å†³é—®é¢˜"><a class="markdownIt-Anchor" href="#è§£å†³é—®é¢˜"></a> è§£å†³é—®é¢˜</h1>
<p>æ—¢ç„¶å·²ç»æ‰¾åˆ°äº†ä¸€ä¸ªissueæœ‰é¡¹ç›®çš„å‚ä¸è€…äº²è‡ªå›å¤ï¼Œé‚£è‚¯å®šå°±ä¸ç”¨å»çœ‹å¼€å¤´é‚£ä¸ªåšå®¢äº†ã€‚é‡Œé¢æœ‰è¿™æ ·ä¸€æ®µè¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">## é€‚ç”¨é»˜è®¤çš„ hexo-renderer-marked</span><br><span class="line">marked:</span><br><span class="line">-  smartypants: true</span><br><span class="line">+  smartypants: false</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œé¢çš„åŠ å·å‡å·æ˜¯æ›´æ”¹çš„æ„æ€ã€‚é‚£å°±æ˜¯æŸä¸€ä¸ªé…ç½®æ–‡ä»¶é‡Œé¢ä¼šæœ‰smartypantsè¿™ä¸€é¡¹ã€‚æˆ‘ç¬¬ä¸€ååº”å°±æ˜¯hexoæ ¹ç›®å½•ä¸‹çš„configæ–‡ä»¶ï¼ˆå› ä¸ºå“ªä¸€ä¸ªä¸»é¢˜éƒ½å­˜åœ¨é—®é¢˜æ‰€ä»¥ä¸ç”¨ç®¡ä¸»é¢˜é‡Œé¢çš„é…ç½®æ–‡ä»¶ï¼Œè·Ÿå®ƒæ²¡å…³ç³»äº†ï¼‰ï¼Œå‘ç°å¹¶æ²¡æœ‰è¿™ä¸€é¡¹ã€‚ï¼ˆæ²¡æœ‰ä¹Ÿä¸èƒ½æ·»åŠ å•Šï¼Œè¿™é‡Œé¢è¯´æ›´æ”¹è‚¯å®šæ˜¯åŸæ¥å·²ç»æœ‰è¿™ä¸€é¡¹äº†ï¼‰</p>
<p>é‚£å°±ç–¯ç‹‚åœ°æ‰¾è¿™ä¸ªé…ç½®æ–‡ä»¶å‘—ï¼Œé¦–å…ˆå·²ç»ç¼©å°äº†èŒƒå›´ï¼Œè‚¯å®šä¸åœ¨ä¸»é¢˜æ–‡ä»¶å¤¹é‡Œé¢ã€‚</p>
<p>ç„¶ååœ¨~/node_modulesä¸‹æ‰¾åˆ°äº†ä¸€ä¸ªå«åšhexo-renderer-markedçš„æ–‡ä»¶å¤¹ï¼Œè¿™å’Œä¸Šé¢çš„é‚£ä¸ªå®Œå…¨ä¸€æ ·ã€‚æˆ‘æ‰“å¼€å´æ²¡æœ‰å‘ç°ä»»ä½•é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">~/blog/node_modules/hexo-renderer-marked î‚° ls                                     </span><br><span class="line"></span><br><span class="line">index.js  lib  LICENSE  package.json  README.md</span><br></pre></td></tr></table></figure>
<p>é‡åˆ°è¿™ç§æƒ…å†µï¼Œ<a href="http://xn--README-9f2j034eslf4z3ek7a4jm059a4id.md">é¦–å…ˆçœ‹å¯¹åº”é¡¹ç›®çš„README.md</a>ï¼Œè¿™æ˜¯å®˜æ–¹æ–‡æ¡£ã€‚</p>
<p>ç„¶åæ–‡æ¡£é‡Œé¢è¿™ä¹ˆè¯´ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">You can configure this plugin in `_config.yml`.</span><br><span class="line"></span><br><span class="line">``` yaml</span><br><span class="line">marked:</span><br><span class="line">  gfm: true</span><br><span class="line">  pedantic: false</span><br><span class="line">  breaks: true</span><br><span class="line">  smartLists: true</span><br><span class="line">  smartypants: true</span><br><span class="line">  quotes: &#x27;â€œâ€â€˜â€™&#x27;</span><br><span class="line">  modifyAnchors: 0</span><br><span class="line">  anchorAlias: false</span><br><span class="line">  autolink: true</span><br><span class="line">  mangle: true</span><br><span class="line">  sanitizeUrl: false</span><br><span class="line">  dompurify: false,</span><br><span class="line">  headerIds: true</span><br><span class="line">  lazyload: false</span><br><span class="line">  prependRoot: false</span><br><span class="line">  postAsset: false</span><br><span class="line">  external_link:</span><br><span class="line">    enable: false</span><br><span class="line">    exclude: []</span><br><span class="line">    nofollow: false</span><br><span class="line">  disableNunjucks: false</span><br><span class="line">  descriptionLists: true</span><br><span class="line">```</span><br></pre></td></tr></table></figure>
<p>æˆ‘ç¬¬ä¸€ååº”æ˜¯ï¼Œä½ çš„è¿™ä¸ªæ–‡ä»¶åœ¨å“ªé‡Œï¼Ÿæ˜¯æŒ‡é‚£ä¸ªconfigymlï¼Ÿ</p>
<p>è€ƒè™‘åˆ°è¿™æ˜¯ä¸€ä¸ªé»˜è®¤çš„hexoçš„æ¸²æŸ“å™¨ï¼Œè¿™é‡Œé¢çš„å¾ˆæœ‰å¯èƒ½æ˜¯æŒ‡æ ¹ç›®å½•ä¸‹çš„configymlã€‚é‚£è¯•ä¸€ä¸‹ã€‚å°†ä¸Šé¢è¿™ä¸€æ®µç›´æ¥å¤åˆ¶åˆ°configymlé‡Œé¢ã€‚</p>
<p>å†æŒ‰ç…§ä¸Šé¢çš„æ–¹æ³•æŠŠsmartypantsæ”¹æˆfalseã€‚ç„¶åé—®é¢˜è§£å†³ äº†ï¼Ÿ</p>
<p>å¥½å˜›ï¼Œç»“æœå¼•å·æ˜¯æ­£å¸¸äº†ï¼Œæˆ‘çš„\æ ‡è®°ç”¨ä¸äº†ï¼Œç®€è€Œè¨€ä¹‹å°±æ˜¯æ²¡æœ‰é˜…è¯»å…¨æ–‡æŒ‰é’®äº†ï¼Œæ‰€æœ‰çš„æ–‡æ¡ˆå…¨éƒ½åœ¨é¦–é¡µä¸Šå±•ç¤ºã€‚ã€‚ã€‚ã€‚</p>
<p>ä½†æ˜¯æ—¢ç„¶åªèƒ½è¿™ä¹ˆè§£å†³ï¼Œé‚£å°±å¿…é¡»æ¢ä¸€ä¸ªæ–¹æ³•æ¥æ§åˆ¶æ–‡ç« æˆªæ–­ï¼Œ\çš„æ–¹æ³•å·²ç»æ— æ³•ä½¿ç”¨äº†ã€‚</p>
<p>æˆ‘è¿™é‡Œé€‰æ‹©çš„æ˜¯descriptionæ–¹æ³•æ§åˆ¶æˆªæ–­ã€‚æ¯ä¸€ç¯‡æ–‡ç« åœ¨å†™çš„æ—¶å€™å°±æ˜¯ç”¨descriptionæè¿°ï¼Œè¿™æ ·çš„è¯å°±å¯ä»¥æˆªæ–­äº†ï¼Œå¼•å·ä¹Ÿæ€»ç®—æ­£å¸¸äº†ã€‚ã€‚ã€‚</p>
<h1 id="åè®°"><a class="markdownIt-Anchor" href="#åè®°"></a> åè®°</h1>
<p>çœŸçš„æ˜¯å¤„å¤„å……æ»¡å¦¥åã€‚ã€‚ã€‚å› ä¸ºæˆ‘å¯¹è¿™äº›çŸ¥è¯†çŸ¥ä¹‹ç”šå°‘ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªæ¸²æŸ“é—®é¢˜æ”¾å¼ƒäº†ä½¿ç”¨\è¿™ä¹ˆå¥½ç”¨çš„æ ‡è®°ç¬¦ã€‚å¦‚æœæˆ‘å¯¹äºç›¸å…³çŸ¥è¯†äº†è§£æˆ‘ä¹Ÿè®¸å¯ä»¥è‡ªå·±å»åŠ¨ä¸€ä¸‹ï¼Œä½†æ˜¯ç°åœ¨åªèƒ½æš‚æ—¶è¿™æ ·äº†ã€‚ã€‚ã€‚å®é™…ä¸Šå¯¹äºmarkdownæ¸²æŸ“æˆ‘ä¸€ç›´éå¸¸å¥½å¥‡ï¼Œæœ‰çš„æ—¶å€™æ¸²æŸ“éå¸¸è§„æ•´ï¼Œæœ‰çš„æ—¶å€™ç©ºæ ¼ä¼šå¼‚å¸¸ã€‚ã€‚ç­‰åˆ°ä»¥åä¹Ÿè®¸æœ‰æ—¶é—´è¿˜æ˜¯å¾—ç¨å¾®äº†è§£ä¸€ä¸‹ç½‘é¡µç›¸å…³çŸ¥è¯†ï¼Œå³ä½¿å°†æ¥å¹¶ä¸ä»äº‹å‰ç«¯å·¥ä½œã€‚</p>
<h1 id="ååè®°"><a class="markdownIt-Anchor" href="#ååè®°"></a> ååè®°</h1>
<p>åˆ«åœ¨é‚£é‡Œç”¨ä½ é‚£ä»€ä¹ˆNextä¸»é¢˜äº†, ä»Šå¤©ä»™è´å±•ç¤ºäº†ä¸€ä¸ªmateryä¸»é¢˜, çœŸçš„æ˜¯åŠŸèƒ½è¯¥æœ‰çš„éƒ½æœ‰äº†, å¥½åƒä¹Ÿæ²¡å‘ç°æœ‰ä»€ä¹ˆbug, å±äºæ˜¯è¿æ ¹æ‹”èµ·åœ°è§£å†³é—®é¢˜äº†.</p>
]]></content>
      <tags>
        <tag>touchfish</tag>
        <tag>ç©ºè™šåœ°æ€è€ƒ</tag>
        <tag>æ–¹æ³•è®º</tag>
      </tags>
  </entry>
  <entry>
    <title>æˆ‘çš„å¤§å­¦ç”Ÿæ´»</title>
    <url>/2022/11/10/%E6%88%91%E7%9A%84%E5%A4%A7%E5%AD%A6%E7%94%9F%E6%B4%BB/</url>
    <content><![CDATA[<p>å°±å¾ˆçªç„¶ï¼Œæˆ‘åˆšåˆšè¿›å…¥å¤§å­¦ï¼Œæœ¬æ¥æˆ‘è®¾æƒ³çš„å¤§å­¦ç”Ÿæ´»æ˜¯å½“ä¸€ä¸ªå®…ï¼Œåƒéšå£«é‚£æ ·çš„â€¦â€¦</p>
<span id="more"></span>
<p>ç„¶åæ¯å¤©ç©ç´¯äº†å°±å­¦ï¼Œå­¦ç´¯äº†å°±ç©ã€‚å¶å°”ä¸Šç½‘æ‰¾æ‰¾ä¹å­ã€‚ã€‚</p>
<p>ç„¶åæˆ‘è¿˜åœ¨å®¶é‡Œé¢çš„æ—¶å€™å°±å¬è¯´ä¿„ç½—æ–¯å’Œä¹Œå…‹å…°æ‰“èµ·æ¥äº†ã€‚é˜¿å“²ã€‚ã€‚ã€‚</p>
<p>å…¶å®æˆ‘ä»¥å‰å¯¹è¥¿æ–¹æ–‡åŒ–å¹¶æ²¡æœ‰å¾ˆæŠµè§¦ï¼Œå› ä¸ºå–œæ¬¢è®¡ç®—æœºå˜›ï¼Œå¥½å¤šå¤§äººç‰©è¿˜æœ‰æŠ€æœ¯è¿˜æœ‰å·¥å…·éƒ½æ˜¯è¥¿æ–¹çš„ã€‚æ‰€ä»¥åŸå…ˆçœ‹åˆ°æœ‰äººæœ‰ä¸€äº›æ¯”è¾ƒæ¿€è¿›çš„è®ºè°ƒå°±ä¼šå¾ˆåæ„Ÿï¼Œè§‰å¾—è¿˜æ²¡æœ‰åˆ°é‚£ç§ç¨‹åº¦ã€‚</p>
<p>ç„¶è€Œå°±æ˜¯è¿™æ¬¡æˆ˜äº‰ï¼Œè®©æˆ‘ä»¬çœ‹è§äº†è¥¿æ–¹çš„åŠ›é‡ã€‚è¿™é‡Œå•å•æ˜¯æŒ‡æŒæ§å…¨çƒèˆ†è®ºçš„åŠ›é‡ï¼Œæ˜¯ä¸€ç§å®åŠ›å¸¦æ¥çš„è¯è¯­æƒã€‚</p>
<p>çŸ¥åç½‘ç«™GitHubã€nodeçš„å®˜ç½‘ã€reactçš„ç½‘ç«™è¿˜æœ‰pytorchï¼Œè¿™é‡Œé¢çš„æœ‰äº›æˆ‘æ¯”è¾ƒç†Ÿæ‚‰ï¼Œæœ‰äº›æˆ‘åœ¨ç”¨â€¦â€¦ éƒ½åœ¨å®˜ç½‘æ‰“å‡ºäº†å£°æ´ä¹Œå…‹å…°çš„æ——å·ã€‚</p>
<p>ç„¶åï¼Œæˆªæ­¢å†™è¿™ä¸ªè¯„è®ºçš„æ—¶å€™ï¼Œä¿„ç½—æ–¯å·²ç»ç»å†äº†å‡ åƒé¡¹åˆ¶è£ï¼Œå…·ä½“æˆ‘ä¹Ÿæ‡’å¾—æŸ¥ï¼Œè¿™ä¸æ˜¯æˆ‘æƒ³è¡¨è¾¾çš„é‡ç‚¹ã€‚</p>
<p>æˆ‘æƒ³è¡¨è¾¾çš„é‡ç‚¹æ˜¯ï¼ŒåŸæ¥æˆ‘ä¹‹å‰å–œæ¬¢ç”¨çš„ï¼Œå¬è¯´å¾ˆå¥½çš„ï¼Œå„ç§äº§å“ç½‘ç«™äº’è”ç½‘å·¥å…·å±…ç„¶éƒ½ä¸æ˜¯è‡ªå·±çš„ï¼Œéšæ—¶éƒ½æœ‰â€œåå›â€çš„å¯èƒ½ã€‚ï¼ˆåŸè°…æˆ‘ç”¨è¯è¿‡é‡ï¼Œå› ä¸ºå°±ç›®å‰è€Œè¨€è¿™äº›äººå’Œç»„ç»‡åªæ˜¯å£°æ´äº†ä¹Œå…‹å…°ï¼‰</p>
<p>å°±åœ¨å‰å‡ æ—¥çœ‹åˆ°çš„æ–°é—»ï¼Œnpmçš„ä¸€ä¸ªåŒ…çš„ä½œè€…æ·»åŠ äº†æ¶æ„ä»£ç ï¼ŒåŠ å…¥æ˜¯ä¿„ç½—æ–¯çš„IPä¸‹è½½äº†è¿™ä¸ªåŒ…ï¼Œè¿™ä¸ªåŒ…ä¼šå°è¯•è¦†ç›–æ ¹ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œç®€å•æ¥è¯´å°±æ˜¯æç ´åã€‚</p>
<p>äººåœ¨ä¸€ç”Ÿä¸­ä¼šä¸ä¼šæœ‰è¿™æ ·ä¸€ä¸ªæ—¶åˆ»ï¼Œåœ¨è¿™ä¸ªæ—¶åˆ»ä¹‹å‰ï¼Œä¸€åˆ‡éƒ½é£å¹³æµªé™ï¼Œéå¸¸å’Œè°ï¼Œç„¶åé©¬ä¸Šå°±è¿›å…¥åˆ°ä¸€ç§æˆªç„¶ä¸åŒçš„å¢ƒåœ°ï¼Ÿä¿„ç½—æ–¯ææ€•å°±ç»å—äº†è¿™æ ·ä¸€ç§æƒ…å†µã€‚æˆ‘ä¹Ÿæ„Ÿè§‰éå¸¸é­”å¹»ï¼Œå¥½åƒä¸€ç¬é—´ï¼Œå…¨ä¸–ç•Œéƒ½ä¸ä¿„ç½—æ–¯ä¸ºæ•Œäº†ã€‚ä¸–ç•Œä¸Šçš„è®¸å¤šå£°éŸ³éƒ½ç«™å‘ä¹Œå…‹å…°ä¸€æ–¹ã€‚</p>
<p>å½“æˆ‘è¿˜æ²¡æœ‰ä»è¿™ä¸ªä¸–ç•Œæ€§çš„å¤§äº‹èµ°å‡ºæ¥çš„æ—¶å€™ï¼Œæˆ‘æ‰€åœ¨çš„å‰æ—åˆçˆ†å‘äº†ç–«æƒ…ã€‚æˆ‘ç°åœ¨èº«åœ¨å¯å®¤æ¥¼æ— æ³•å‡ºé—¨ã€‚è¯´å®è¯å°±æˆ‘ä¸ªäººæ¥è®²ï¼Œæˆ‘ä¸Šç½‘è¯¾çœŸçš„æ˜¯æ²¡æœ‰å¥½å¥½å¬ï¼ŒçœŸçš„æ˜¯å®Œå…¨æ²¡æœ‰æŠŠç½‘è¯¾å½“å›äº‹ã€‚ç”Ÿæ´»ä½œæ¯å®Œå…¨ä¹±æ‰äº†è¿˜æ²¡æœ‰å­¦åˆ°ä»€ä¹ˆä¸œè¥¿ã€‚çœŸçš„æ˜¯éå¸¸æ··ä¹±ã€‚</p>
<p>ä¸€åˆ‡çš„ç§ç§éƒ½å’Œæˆ‘é¢„æƒ³çš„å¤§å­¦ç”Ÿæ´»æœ‰å·®åˆ«ã€‚æˆ‘å¹¶æ²¡æœ‰åƒé¢„æƒ³çš„é‚£æ ·åœ¨å¤§å­¦å¥½å¥½å­¦ä¹ ï¼Œå®Œå…¨éƒ½ä¸ç©ã€‚æˆ‘æ›¾ç»ä»¥ä¸ºæˆ‘å¯¹è®¡ç®—æœºå¾ˆæœ‰å…´è¶£ï¼ˆç°åœ¨ä¹Ÿæ˜¯ï¼‰ï¼Œä½†æ˜¯æˆ‘ç°åœ¨å‘ç°è¿™ä¸ªå…´è¶£è¿˜æ²¡æœ‰å¤§åˆ°èƒ½å¤Ÿå…‹æœå¨±ä¹é¡¹ç›®çš„ç¨‹åº¦ã€‚ã€‚ã€‚ã€‚</p>
<p>éå¸¸æœ‰å¹¸åœ¨çŸ­æš‚çš„ä¸€ç”Ÿä¸­è¿˜èƒ½ç»å†å‡ æ¬¡å¤§äº‹ï¼Œå…ˆæ˜¯ç–«æƒ…åæ˜¯ä¿„ä¹Œæˆ˜äº‰ã€‚æ— è®ºç§ç§è¿™ä¹Ÿæ˜¯é•¿å¤§çš„è¿‡ç¨‹å§ã€‚</p>
<p>è¿˜æ˜¯å¸Œæœ›åœ¨ä»¥åçš„æ—¥å­é‡Œèƒ½å¤Ÿåœ¨è®¡ç®—æœºè¿™ä¸€æ¡é“è·¯ä¸Šåšå®šåœ°èµ°ä¸‹å»ã€‚æœ€è¿‘ç½‘ä¸Šå¤šæœ‰åŠé€€è®¡ç®—æœºçš„ç•™è¨€ï¼Œä»€ä¹ˆè¶Šæ¥è¶Šå·äº†ä¹‹ç±»ã€‚ä½†æ˜¯æ— è®ºå¦‚ä½•æˆ‘å¸Œæœ›æˆ‘èƒ½è®°ä½ï¼Œæˆ‘å­¦è®¡ç®—æœºä¸»è¦çš„åŸå› ä¸æ˜¯èµšé’±ï¼ˆå½“ç„¶èµšé’±ä¹Ÿé‡è¦ï¼‰ï¼Œè€Œæ˜¯æˆ‘ä¸€å¼€å§‹å°±è¢«å®ƒæ‰€å¸å¼•ã€‚ä»å°å­¦å¼€å§‹æ¥è§¦è®¡ç®—æœºï¼Œåˆ°é•¿å¤§ä¸€ç‚¹ä¸ºäº†å¦‚ä½•è®©è‹±é›„è”ç›Ÿæµç•…åœ°è¿è¡Œåœ¨ç”µè„‘ä¸Šç»å°½è„‘æ±ï¼Œå†åˆ°é«˜äºŒå› ä¸ºç™¾åº¦ä¸Šçš„ä¸€å¥ç©ç¬‘è¯æ¥è§¦linuxï¼Œå†åˆ°é«˜ä¸‰åˆä¸‹å®šå†³å¿ƒéè®¡ç®—æœºä¸è¯»â€¦â€¦ ç›´åˆ°ç°åœ¨æœ‰äº›æ—¶å€™å› ä¸ºä¸€äº›manjaroçš„å°bugç„¦å¤´çƒ‚é¢ã€‚å¸Œæœ›æˆ‘ä¼šå¸¦ç€å¯¹è®¡ç®—æœºçš„çƒ­çˆ±ä¸€ç›´èµ°ä¸‹å»ã€‚è™½ç„¶è¯´å‘ç”Ÿäº†å¾ˆå¤šäº‹æƒ…ã€‚</p>
]]></content>
      <tags>
        <tag>touchfish</tag>
        <tag>ç©ºè™šåœ°æ€è€ƒ</tag>
      </tags>
  </entry>
  <entry>
    <title>Cè¯­è¨€å­¦ä¹ </title>
    <url>/2022/11/10/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/</url>
    <content><![CDATA[<p>è¿™ä¸€ä¸ªä¸“æ ä»¥cprimerä¸ºä¸»ï¼Œè®°å½•ä¸€äº›Cè¯­è¨€ä¸­éœ€è¦æ³¨æ„çš„çŸ¥è¯†ã€‚å¤§æ¦‚èƒ½ç®—æ˜¯ä¸€ç¯‡è¯»ä¹¦ç¬”è®°ã€‚æ¯å‘¨ä¸€æ™šä¸Šçš„ä¸‰èŠ‚è¯¾ä¸€èˆ¬éƒ½æ˜¯ç”¨æ¥çœ‹è®¡ç®—æœºä¸“ä¸šä¹¦ç±çš„ï¼Œè¿™ä¸ªæ˜ŸæœŸæš‚æ—¶å®šä¸ºcprimerï¼Œç­‰åˆ°cprimerçœ‹å¾—å·®ä¸å¤šäº†ä¹‹åå°±æ¥çœ‹ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºæ“ä½œç³»ç»Ÿã€‹ï¼Œç€å‡ æœ¬éƒ½æ˜¯å¾ˆå¥½çš„ä¹¦ç±ï¼Œå½“ç„¶è¿˜æ²¡æœ‰å¿˜è®°ã€Šlinuxç§æˆ¿èœã€‹ã€‚ <s>è€ƒå¤ï¼šåŸºæœ¬ä¸Šè®¡åˆ’æ²¡å®Œæˆ éƒ½é¸½äº† è¦ä¸æ˜¯æœ‰ä¸€å¤©å¿ƒè¡€æ¥æ½®ä¼°è®¡è¿™ä¸ªéƒ½å†™ä¸å®Œäº†</s></p>
<span id="more"></span>
<p><strong>æœ¬æ–‡ç« æåˆ°çš„æœ‰å…³å‡½æ•°èµ„æ–™çš„å¼•ç”¨ç»å¤§å¤šæ•°éƒ½æ¥è‡ªèœé¸Ÿæ•™ç¨‹ã€‚</strong><br />
<a href="https://m.runoob.com/">èœé¸Ÿæ•™ç¨‹</a></p>
<h1 id="cè¯­è¨€ä¸­çš„å®"><a class="markdownIt-Anchor" href="#cè¯­è¨€ä¸­çš„å®"></a> Cè¯­è¨€ä¸­çš„å®</h1>
<h2 id="stdoutå’Œstdin"><a class="markdownIt-Anchor" href="#stdoutå’Œstdin"></a> stdoutå’Œstdin</h2>
<p>å¦‚æœç”¨æƒ¯äº†æ–‡ä»¶æ“ä½œï¼Œéš¾å…ä¼šè§‰å¾—æŠŠå±å¹•å’Œæ–‡ä»¶åˆ†å¼€å¤„ç†å¾ˆéº»çƒ¦ã€‚å°±æ˜¯è¯´å°†å†…å®¹è¾“å‡ºåˆ°å±å¹•ä¸Šè¦ä½¿ç”¨printfå’Œputsä¹‹ç±»çš„å‡½æ•°ï¼Œå…¶å®æ˜¯æŠŠå±å¹•ç‰¹æ®ŠåŒ–äº†ã€‚æ‰€ä»¥å°±å®šä¹‰äº†ä¸€ä¸ªstdoutçš„å®ï¼Œå¯ä»¥å°†æ˜¾ç¤ºå™¨å½“åšæ–‡ä»¶æ¥å¤„ç†ï¼Œä¿ƒè¿›äº†ä»£ç çš„æ•´æ´ã€‚stdinä¹Ÿæ˜¯ä¸€æ ·ï¼Œè¿™ä¸¤ä¸ªå˜é‡éƒ½æ˜¯FILEç±»å‹çš„æŒ‡é’ˆï¼Œåªä¸è¿‡ä¸€ä¸ªæ˜¯é”®ç›˜ä¸€ä¸ªæ˜¯æ˜¾ç¤ºå±ï¼Œå¯ä»¥å½“åšå¸¸è§„æ–‡ä»¶æ“ä½œã€‚</p>
<hr />
<h1 id="gccç¼–è¯‘å™¨çš„è¿‡ç¨‹"><a class="markdownIt-Anchor" href="#gccç¼–è¯‘å™¨çš„è¿‡ç¨‹"></a> GCCç¼–è¯‘å™¨çš„è¿‡ç¨‹</h1>
<p>ç¼–è¯‘åˆ†ä¸ºå››æ­¥ã€‚</p>
<ol>
<li>é¢„å¤„ç†<br />
<code>gcc -E main.c -o main.i</code><br />
ç”Ÿæˆmain.içš„ç»è¿‡é¢„å¤„ç†çš„ä»£ç ã€‚<em>æ³¨æ„æ‰€æœ‰çš„æ­¥éª¤éƒ½å¯ä»¥é€šè¿‡-oæŒ‡ä»¤æ¥æŒ‡å®šç”Ÿæˆçš„æ–‡ä»¶åã€‚</em></li>
<li>ç¼–è¯‘<br />
<code>gcc -S main.i -o main.s</code></li>
<li>æ±‡ç¼–<br />
<code>gcc -c main.s -o main.o</code></li>
<li>é“¾æ¥<br />
<code>gcc main.o -o main</code></li>
</ol>
<hr />
<table>
<thead>
<tr>
<th style="text-align:left">å‚æ•°</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">-o</td>
<td>æŒ‡å®šæ–‡ä»¶è¾“å‡ºè·¯å¾„ï¼ˆä¸€èˆ¬ç”¨æ¥é‡å‘½åï¼‰</td>
</tr>
<tr>
<td style="text-align:left">-E</td>
<td>åªè¿›è¡Œé¢„å¤„ç†</td>
</tr>
<tr>
<td style="text-align:left">-S</td>
<td>è¿›è¡Œé¢„å¤„ç†ã€ç¼–è¯‘</td>
</tr>
<tr>
<td style="text-align:left">-c</td>
<td>é¢„å¤„ç†ã€ç¼–è¯‘ã€æ±‡ç¼–</td>
</tr>
<tr>
<td style="text-align:left">-I(å¤§å†™i)</td>
<td>åŒ…å«å¤´æ–‡ä»¶è·¯å¾„</td>
</tr>
<tr>
<td style="text-align:left">-L</td>
<td>é“¾æ¥åº“æ–‡ä»¶è·¯å¾„</td>
</tr>
<tr>
<td style="text-align:left">-l</td>
<td>é“¾æ¥åº“æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align:left">-fPIC</td>
<td>ç”Ÿæˆä½ç½®æ— å…³ä»£ç </td>
</tr>
<tr>
<td style="text-align:left">-Wall</td>
<td>å¯¹ä»£ç æ‰€æœ‰å¯èƒ½æœ‰é—®é¢˜çš„åœ°æ–¹å‘å‡ºè­¦å‘Š</td>
</tr>
<tr>
<td style="text-align:left">-g</td>
<td>è°ƒè¯•ä¿¡æ¯ï¼ˆå¦‚æœéœ€è¦è°ƒè¯•å¿…é¡»å‹¾è¿™ä¸ªï¼‰</td>
</tr>
<tr>
<td style="text-align:left">-w</td>
<td>ä¸æ˜¾ç¤ºæ‰€æœ‰è­¦å‘Š</td>
</tr>
</tbody>
</table>
<p>å‡å¦‚æˆ‘å†™å¥½äº†ä¸€ä¸ªCæ–‡ä»¶ï¼Œå«main.cï¼Œå¯ä»¥ä½¿ç”¨-vå‚æ•°æ¥æŸ¥çœ‹è¯¦ç»†çš„ç¼–è¯‘è¿‡ç¨‹ã€‚è¾“å…¥gcc main.c -vã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ä½¿ç”¨å†…å»º specsã€‚</span><br><span class="line">COLLECT_GCC=gcc</span><br><span class="line">COLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/lto-wrapper</span><br><span class="line">ç›®æ ‡ï¼šx86_64-pc-linux-gnu</span><br><span class="line">é…ç½®ä¸ºï¼š/build/gcc/src/gcc/configure --enable- languages=c,c++,ada,fortran,go,lto,objc,obj-c++,d --enable-bootstrap --prefix=/usr --libdir=/usr/lib --libexecdir=/usr/lib --mandir=/usr/share/man --infodir=/usr/share/info --with-bugurl=https://bugs.archlinux.org/ --with-linker-hash-style=gnu --with-system-zlib --enable-__cxa_atexit --enable-cet=auto --enable-checking=release --enable-clocale=gnu --enable-default-pie --enable-default-ssp --enable-gnu-indirect-function --enable-gnu-unique-object --enable-linker-build-id --enable-lto --enable-multilib --enable-plugin --enable-shared --enable-threads=posix --disable-libssp --disable-libstdcxx-pch --disable-werror --with-build-config=bootstrap-lto --enable-link-serialization=1 gdc_include_dir=/usr/include/dlang/gdc</span><br><span class="line">çº¿ç¨‹æ¨¡å‹ï¼šposix</span><br><span class="line">Supported LTO compression algorithms: zlib zstd</span><br><span class="line">gcc ç‰ˆæœ¬ 11.2.0 (GCC) </span><br><span class="line"></span><br><span class="line">//ä»æ­¤å¼€å§‹ç¼–è¯‘ ä¸Šé¢éƒ½æ˜¯æ˜¾ç¤ºé…ç½®ï¼Ÿ é‡Œé¢å†™æ»¡äº†é»˜è®¤çš„é…ç½®å‚æ•° æ³¨æ„åˆ°ä¸‹é¢çš„æœ‰ä¸€ä¸²è·¯å¾„åé¢è·Ÿä¸Šcc1 cc1å°±æ˜¯è´Ÿè´£é¢„å¤„ç†å’Œç¼–è¯‘</span><br><span class="line"></span><br><span class="line">COLLECT_GCC_OPTIONS=&#x27;-v&#x27; &#x27;-mtune=generic&#x27; &#x27;-march=x86-64&#x27; &#x27;-dumpdir&#x27; &#x27;a-&#x27;</span><br><span class="line"> /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/cc1 -quiet -v main.c -quiet -dumpdir a- -dumpbase main.c -dumpbase-ext .c -mtune=generic -march=x86-64 -version -o /tmp/ccpxXxA0.s</span><br><span class="line">GNU C17 (GCC) ç‰ˆæœ¬ 11.2.0 (x86_64-pc-linux-gnu)</span><br><span class="line">        ç”± GNU C ç‰ˆæœ¬ 11.2.0 ç¼–è¯‘ï¼ŒGMP ç‰ˆæœ¬ 6.2.1ï¼ŒMPFR ç‰ˆæœ¬ 4.1.0-p13ï¼ŒMPC ç‰ˆæœ¬ 1.2.1ï¼Œisl ç‰ˆæœ¬ isl-0.24-GMP</span><br><span class="line"></span><br><span class="line">GGC å‡†åˆ™ï¼š--param ggc-min-expand=100 --param ggc-min-heapsize=131072</span><br><span class="line">å¿½ç•¥ä¸å­˜åœ¨çš„ç›®å½•â€œ/usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../x86_64-pc-linux-gnu/includeâ€</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">include <span class="string">&quot;...&quot;</span> æœç´¢ä»è¿™é‡Œå¼€å§‹ï¼š</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">include &lt;...&gt; æœç´¢ä»è¿™é‡Œå¼€å§‹ï¼š</span></span><br><span class="line"> /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/include</span><br><span class="line"> /usr/local/include</span><br><span class="line"> /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/include-fixed</span><br><span class="line"> /usr/include</span><br><span class="line">æœç´¢åˆ—è¡¨ç»“æŸã€‚</span><br><span class="line">GNU C17 (GCC) ç‰ˆæœ¬ 11.2.0 (x86_64-pc-linux-gnu)</span><br><span class="line">        ç”± GNU C ç‰ˆæœ¬ 11.2.0 ç¼–è¯‘ï¼ŒGMP ç‰ˆæœ¬ 6.2.1ï¼ŒMPFR ç‰ˆæœ¬ 4.1.0-p13ï¼ŒMPC ç‰ˆæœ¬ 1.2.1ï¼Œisl ç‰ˆæœ¬ isl-0.24-GMP</span><br><span class="line"></span><br><span class="line">//ä¸‹é¢çš„aså°±æ˜¯ç”¨æ¥æ±‡ç¼–çš„ å°†æ±‡ç¼–ç åç¼€.sè½¬å˜ä¸ºåç¼€.oçš„æœºæ¢°ç  æ³¨æ„å‚æ•°é¡ºåº å› ä¸ºæœ‰äº†-oé€‰é¡¹ æ˜¯ as -o æ–°è·¯å¾„ æºæ–‡ä»¶.s</span><br><span class="line"></span><br><span class="line">GGC å‡†åˆ™ï¼š--param ggc-min-expand=100 --param ggc-min-heapsize=131072</span><br><span class="line">Compiler executable checksum: 65a5ec6b673b24273c0fdde359680a16</span><br><span class="line">COLLECT_GCC_OPTIONS=&#x27;-v&#x27; &#x27;-mtune=generic&#x27; &#x27;-march=x86-64&#x27; &#x27;-dumpdir&#x27; &#x27;a-&#x27;</span><br><span class="line"> as -v --64 -o /tmp/ccyInjqL.o /tmp/ccpxXxA0.s</span><br><span class="line">GNU assembler version 2.38 (x86_64-pc-linux-gnu) using BFD version (GNU Binutils) 2.38</span><br><span class="line">COMPILER_PATH=/usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/:/usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/:/usr/lib/gcc/x86_64-pc-linux-gnu/:/usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/:/usr/lib/gcc/x86_64-pc-linux-gnu/</span><br><span class="line">LIBRARY_PATH=/usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/:/usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../lib/:/lib/../lib/:/usr/lib/../lib/:/usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../:/lib/:/usr/lib/</span><br><span class="line">COLLECT_GCC_OPTIONS=&#x27;-v&#x27; &#x27;-mtune=generic&#x27; &#x27;-march=x86-64&#x27; &#x27;-dumpdir&#x27; &#x27;a.&#x27;</span><br><span class="line"></span><br><span class="line">//è¿™ä¸‹é¢å°±æ˜¯cllect2äº† ç”¨å¤„æ˜¯é“¾æ¥</span><br><span class="line"></span><br><span class="line">/usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/collect2 -plugin /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/liblto_plugin.so -plugin-opt=/usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/lto-wrapper -plugin-opt=-fresolution=/tmp/cclMPHvr.res -plugin-opt=-pass-through=-lgcc -plugin-opt=-pass-through=-lgcc_s -plugin-opt=-pass-through=-lc -plugin-opt=-pass-through=-lgcc -plugin-opt=-pass-through=-lgcc_s --build-id --eh-frame-hdr --hash-style=gnu -m elf_x86_64 -dynamic-linker /lib64/ld-linux-x86-64.so.2 -pie /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../lib/Scrt1.o /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../lib/crti.o /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/crtbeginS.o -L/usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0 -L/usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../lib -L/lib/../lib -L/usr/lib/../lib -L/usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../.. /tmp/ccyInjqL.o -lgcc --push-state --as-needed -lgcc_s --pop-state -lc -lgcc --push-state --as-needed -lgcc_s --pop-state /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/crtendS.o /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.0/../../../../lib/crtn.o</span><br><span class="line">COLLECT_GCC_OPTIONS=&#x27;-v&#x27; &#x27;-mtune=generic&#x27; &#x27;-march=x86-64&#x27; &#x27;-dumpdir&#x27; &#x27;a.&#x27;</span><br></pre></td></tr></table></figure>
<p>é‡Œé¢ä¿¡æ¯å¾ˆå¤šï¼Œä¹Ÿæ²¡å¿…è¦çœ‹ã€‚æ€»ä¹‹å¯ä»¥å‘ç°cc1ï¼Œaså’Œcollect2æ˜¯å®é™…èµ·ä½œç”¨çš„å‘½ä»¤ã€‚æ­£å› ä¸ºå¦‚æ­¤gccçš„è‹±æ–‡åå­—å«GNU Compiler Collectionï¼Œæ˜¯ä¸€ä¸ªCollectionï¼ˆå¥—ä»¶ï¼‰ï¼Œç†åº”ç”±å‡ éƒ¨åˆ†ç»„æˆã€‚</p>
<h1 id="cè¯­è¨€ä¸­çš„é¢„å¤„ç†å™¨"><a class="markdownIt-Anchor" href="#cè¯­è¨€ä¸­çš„é¢„å¤„ç†å™¨"></a> Cè¯­è¨€ä¸­çš„é¢„å¤„ç†å™¨</h1>
<table>
<thead>
<tr>
<th style="text-align:center">æŒ‡ä»¤</th>
<th style="text-align:left">æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">define</td>
<td style="text-align:left">å®šä¹‰å®</td>
</tr>
<tr>
<td style="text-align:center">include</td>
<td style="text-align:left">åŒ…å«ä¸€ä¸ªå¤´æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align:center">undef</td>
<td style="text-align:left">å–æ¶ˆå·²ç»å®šä¹‰çš„å®</td>
</tr>
<tr>
<td style="text-align:center">ifdef</td>
<td style="text-align:left">å¦‚æœå®å·²ç»å®šä¹‰å°±è¿”å›çœŸ</td>
</tr>
<tr>
<td style="text-align:center">ifndef</td>
<td style="text-align:left">å¦‚æœå®æ²¡æœ‰å®šä¹‰å°±è¿”å›çœŸ</td>
</tr>
<tr>
<td style="text-align:center">if</td>
<td style="text-align:left">ç»™å®šæ¡ä»¶ä¸ºçœŸå°±æ‰§è¡Œä»¥ä¸‹ä»£ç </td>
</tr>
<tr>
<td style="text-align:center">else</td>
<td style="text-align:left">åŒä¸Š</td>
</tr>
<tr>
<td style="text-align:center">elif</td>
<td style="text-align:left">å¦‚æœå‰é¢çš„ifä¸ä¸ºçœŸå°±è¿™ä¸ªä¸ºçœŸ</td>
</tr>
<tr>
<td style="text-align:center">endif</td>
<td style="text-align:left">ç»“æŸä¸€ä¸ª#ifå’Œ#elseçš„æ¨¡å—</td>
</tr>
<tr>
<td style="text-align:center">error</td>
<td style="text-align:left">é‡åˆ°æ ‡å‡†é”™è¯¯çš„æ—¶å€™è¾“å‡ºé”™è¯¯æ¶ˆæ¯</td>
</tr>
<tr>
<td style="text-align:center">progma</td>
<td style="text-align:left">ä½¿ç”¨æ ‡å‡†åŒ–æ–¹æ³•ï¼Œå‘ç¼–è¯‘å™¨å‘å¸ƒç‰¹æ®Šçš„å‘½ä»¤åˆ°ç¼–è¯‘å™¨ä¸­</td>
</tr>
</tbody>
</table>
<p><strong>è®°å¾—é¢„å¤„ç†å™¨éœ€è¦åŠ #ç¬¦å·ï¼Œè¿™é‡Œå› ä¸ºmarkdownè¯­æ³•çš„å½±å“å°±æ²¡æœ‰å†é¢å¤–åŠ äº†hhhhhã€‚</strong></p>
<h1 id="stdlibh"><a class="markdownIt-Anchor" href="#stdlibh"></a> stdlib.h</h1>
<p>è®°å½•ä¸€ä¸‹é‚£äº›stdlibé‡Œé¢çš„å¥½ç”¨å‡½æ•°</p>
<p>è¿™æ˜¯ä¸¤ä¸ªåœ¨æ ‡å‡†å‡½æ•°åº“é‡Œé¢çš„å‡½æ•°ã€‚åˆ†åˆ«è¡¨ç¤ºquick sortå’Œbinary searchã€‚ï¼ˆå¿«é€Ÿæ’åºã€äºŒåˆ†æŸ¥æ‰¾ï¼‰</p>
<h2 id="qsort"><a class="markdownIt-Anchor" href="#qsort"></a> qsort</h2>
<p><a href="https://www.runoob.com/cprogramming/c-function-qsort.html">èœé¸Ÿæ•™ç¨‹qsort</a></p>
<p>å‡½æ•°åŸå‹ï¼š<br />
<code>void qsort(void *base, size_t nitems, size_t size, int (*compar)(const void *, const void*))</code></p>
<p>å‚æ•°</p>
<ul>
<li><strong>base</strong> â€” æŒ‡å‘è¦æ’åºçš„æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆã€‚</li>
<li><strong>nitems</strong> â€” ç”± base æŒ‡å‘çš„æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°ã€‚</li>
<li><strong>size</strong> â€” æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ çš„å¤§å°ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½ã€‚</li>
<li><strong>compar</strong> â€” ç”¨æ¥æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ çš„å‡½æ•°ã€‚ï¼ˆå­¦äº†C++ä¹‹åå†çœ‹è¿™æ˜¯ä¸ªå‡½æ•°æŒ‡é’ˆï¼‰</li>
</ul>
<p>å…·ä½“ä½¿ç”¨æ—¶ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span> <span class="comment">//é¦–å…ˆè¦åŒ…æ‹¬è¿™ä¸ªæ ‡å‡†å‡½æ•°åº“</span></span></span><br><span class="line"><span class="comment">//å‡å¦‚è¿™é‡Œå¯¹array[8]=&#123;1, 2, 5, 8, 7, 4, 6, 2&#125;è¿›è¡Œæ’åº</span></span><br><span class="line"><span class="comment">//void qsort(void *base, size_t nitems, size_t size, int (*compar)(const void *, const void*))</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">compare</span><span class="params">(<span class="type">const</span> <span class="type">void</span>* a, <span class="type">const</span> <span class="type">void</span>* b)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//è¦æ¯”è¾ƒçš„æ˜¯æ•´æ•°æ‰€ä»¥è¦è½¬æ¢æˆæ•´æ•°æŒ‡é’ˆ</span></span><br><span class="line">    <span class="type">int</span>* pa= (<span class="type">int</span>*)a;</span><br><span class="line">    <span class="type">int</span>* pb= (<span class="type">int</span>*)b;</span><br><span class="line">    <span class="comment">//å› ä¸ºè¦æ¯”è¾ƒçš„æ˜¯æ•´æ•°æ‰€ä»¥è½¬æ¢æˆæ•´æ•°æŒ‡é’ˆã€‚æ³¨æ„è¦æ¯”è¾ƒä»€ä¹ˆå°±è½¬æ¢æˆä»€ä¹ˆæ ·çš„æŒ‡é’ˆ</span></span><br><span class="line">    <span class="type">int</span> num1 = *pa;</span><br><span class="line">    <span class="type">int</span> num2 = *pb; <span class="comment">//æ±‚å‡ºpaå’Œpbä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘çš„å€¼</span></span><br><span class="line">    <span class="comment">//ä¸€å®šæ³¨æ„è¿™é‡Œé¢ å¦‚æœæ˜¯æƒ³æ­£å‘æ’åº å°±è¦æ±‚aå’ŒbæŒ‡å‘çš„å¤§å°å’Œè¿”å›å€¼æ­£è´Ÿä¸€è‡´</span></span><br><span class="line">    <span class="keyword">if</span>(num1-num2&gt;=<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="comment">//å‡å¦‚æƒ³åå‘æ’åº åˆ™è®©è¿”å›å€¼å’Œa bå¤§å°å¼‚å·</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> <span class="built_in">array</span>[<span class="number">8</span>]=&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">2</span>&#125;;</span><br><span class="line">    qsort(<span class="built_in">array</span>, <span class="number">8</span>, <span class="keyword">sizeof</span>(<span class="type">int</span>), compare);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;=<span class="number">7</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, <span class="built_in">array</span>[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¨‹åºè¾“å‡º12245678</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ®µä»£ç èƒ½è®©æ’åºè¿›è¡Œã€‚</p>
<h2 id="bsearch"><a class="markdownIt-Anchor" href="#bsearch"></a> bsearch()</h2>
<p><a href="https://www.runoob.com/cprogramming/c-function-bsearch.html">bsearch</a></p>
<p>å‡½æ•°åŸå‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void *bsearch(const void *key, const void *base, size_t nitems, size_t size, int (*compar)(const void *, const void *))</span><br></pre></td></tr></table></figure>
<p>å‚æ•°</p>
<ul>
<li><strong>key</strong> â€” æŒ‡å‘è¦æŸ¥æ‰¾çš„å…ƒç´ çš„æŒ‡é’ˆï¼Œç±»å‹è½¬æ¢ä¸º void*ã€‚</li>
<li><strong>base</strong> â€” æŒ‡å‘è¿›è¡ŒæŸ¥æ‰¾çš„æ•°ç»„çš„ç¬¬ä¸€ä¸ªå¯¹è±¡çš„æŒ‡é’ˆï¼Œç±»å‹è½¬æ¢ä¸º void*ã€‚</li>
<li><strong>nitems</strong> â€” base æ‰€æŒ‡å‘çš„æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°ã€‚</li>
<li><strong>size</strong> â€” æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ çš„å¤§å°ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½ã€‚</li>
<li><strong>compar</strong> â€” ç”¨æ¥æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ çš„å‡½æ•°ã€‚</li>
</ul>
<p>ä½†æ˜¯æ³¨æ„ï¼Œbsearchåªèƒ½è¿”å›ä¸€ä¸ªæŒ‡å‘å¯¹åº”å€¼çš„æŒ‡é’ˆï¼ˆå¥½å§å…¶å®ä½ è‡ªå·±è¿˜è¦å¼ºåˆ¶è½¬åŒ–ï¼‰ã€‚å¦‚æœæœ‰å¤šä¸ªå…ƒç´ ç¬¦åˆï¼Œ<strong>bsearchæ²¡æœ‰å®šä¹‰è¿”å›å“ªä¸€ä¸ª</strong>ã€‚</p>
<p>é€šè¿‡cmpå‡½æ•°çš„ä¸åŒå½“ç„¶è¿˜å¯ä»¥æœç´¢æ˜¯å¦æœ‰æ¯”åˆ¶å®šç›®æ ‡å¤§1çš„å…ƒç´ ï¼Œè¿˜æœ‰å„ç§è§„åˆ™ç­‰ç­‰ã€‚è¿™äº›éƒ½æ˜¯ åœ¨æ¯”è¾ƒå‡½æ•°é‡Œé¢æ›´æ”¹ã€‚</p>
<h2 id="atoi"><a class="markdownIt-Anchor" href="#atoi"></a> atoi()</h2>
<p><a href="https://www.runoob.com/cprogramming/c-function-atoi.html">atoi</a><br />
<code>int atoi(const char *str)</code></p>
<ul>
<li>ä½œç”¨ï¼šå°†stræ‰€æŒ‡å‘çš„ä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢æˆä¸€ä¸ªintç±»å‹çš„æ•´æ•°ã€‚</li>
<li>å‚æ•°ï¼šstrâ€”-è¦è½¬æ¢æˆæ•´æ•°çš„å­—ç¬¦ä¸²ã€‚</li>
<li>è‡ªç„¶æ˜¯è¿”å›é‚£ä¸ªæ•´æ•°ï¼Œå¦‚æœè½¬æ¢å¤±è´¥é‚£ä¹ˆè¿”å›é›¶ã€‚</li>
</ul>
<p>è·Ÿatoiä¸€ä¸ªç³»åˆ—çš„è¿˜æœ‰atofï¼Œatolå’Œatollã€‚åˆ†åˆ«æ˜¯floatï¼Œlongå’Œlonglongã€‚</p>
<hr />
<h1 id="stdiohä¸­çš„å¸¸ç”¨çš„æ–‡ä»¶æ“ä½œ"><a class="markdownIt-Anchor" href="#stdiohä¸­çš„å¸¸ç”¨çš„æ–‡ä»¶æ“ä½œ"></a> stdio.hä¸­çš„å¸¸ç”¨çš„æ–‡ä»¶æ“ä½œ</h1>
<p>è¿™ä¸€ä¸ªæ¨¡å—æ¥è®°å½•ä¸€ä¸‹stdio.hè¿™ä¸ªå¤´æ–‡ä»¶é‡Œé¢å…³äºæ–‡ä»¶æ“ä½œçš„å¸¸ç”¨å‡½æ•°ã€‚ç„¶åæ‘˜å½•èœé¸Ÿæ•™ç¨‹é‡Œé¢çš„å†…å®¹ï¼Œå¯¹å¿…è¦å†…å®¹åŠ ä»¥æ³¨é‡Šã€‚</p>
<h2 id="fopen"><a class="markdownIt-Anchor" href="#fopen"></a> fopen()</h2>
<p><a href="https://www.runoob.com/cprogramming/c-function-fopen.html">fopen</a><br />
<code>FILE *fopen(const char *filename, const char *mode)</code><br />
ä½œç”¨ï¼š<br />
ä½¿ç”¨æŒ‡å®šçš„modeæ‰“å¼€æŒ‡å®šçš„æ–‡ä»¶ã€‚<br />
å‚æ•°è¯´æ˜ï¼š<br />
filenameæ˜¯è¦æ‰“å¼€æ–‡ä»¶çš„åå­—ã€‚<br />
modeæ˜¯ä¸€ä¸ªcå­—ç¬¦ä¸²ï¼Œå†³å®šæ‰“å¼€è¿™ä¸ªæ–‡ä»¶çš„æ¨¡å¼ã€‚</p>
<table>
<thead>
<tr>
<th>æ¨¡å¼</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>r</td>
<td>æ‰“å¼€ä¸€ä¸ªç”¨äºè¯»å–çš„æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å¿…é¡»å­˜åœ¨</td>
</tr>
<tr>
<td>w</td>
<td>åˆ›å»ºä¸€ä¸ªç”¨äºå†™å…¥çš„ç©ºæ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶åå­—é‡å¤åˆ™æ¸…é›¶</td>
</tr>
<tr>
<td>a</td>
<td>è¿½åŠ ä¸€ä¸ªæ–‡ä»¶ï¼Œå†™æ“ä½œå‘æ–‡ä»¶æœ«å°¾å¢åŠ æ•°æ®ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»º</td>
</tr>
<tr>
<td>r+</td>
<td>æ‰“å¼€ä¸€ä¸ªç”¨äºæ›´æ–°çš„æ–‡ä»¶å¯è¯»å–å¯å†™å…¥ï¼Œæ–‡ä»¶å¿…é¡»å­˜åœ¨</td>
</tr>
<tr>
<td>w+</td>
<td>æ‰“å¼€ä¸€ä¸ªç”¨äºè¯»å†™çš„ç©ºæ–‡ä»¶ï¼Œæ–‡ä»¶å¿…é¡»å­˜åœ¨</td>
</tr>
<tr>
<td>a+</td>
<td>æ‰“å¼€ä¸€ä¸ªç”¨äºè¯»å–å’Œè¿½åŠ çš„æ–‡ä»¶</td>
</tr>
</tbody>
</table>
<p>è¿”å›å€¼ï¼š<br />
è¿”å›ä¸€ä¸ªFILEç±»å‹çš„æŒ‡é’ˆï¼ˆå¦‚æœæˆåŠŸæ‰“å¼€æ–‡ä»¶çš„è¯ï¼‰ã€‚å¦åˆ™è¿”å›ç©ºæŒ‡é’ˆã€‚</p>
<h2 id="fclose"><a class="markdownIt-Anchor" href="#fclose"></a> fclose()</h2>
<p><a href="https://www.runoob.com/cprogramming/c-function-fclose.html">fclose</a><br />
<code>int fclose(FILE *stream)</code><br />
ä½œç”¨ï¼š<br />
å…³é—­æ–‡ä»¶streamï¼Œåˆ·æ–°æ‰€æœ‰çš„ç¼“å†²åŒºã€‚<br />
å‚æ•°è¯´æ˜ï¼š<br />
streamæ˜¯ä¸€ä¸ªFILEç±»å‹çš„æ–‡ä»¶æŒ‡é’ˆã€‚<br />
è¿”å›å€¼ï¼š<br />
å¦‚æœstreamæˆåŠŸå…³é—­ï¼Œè¿”å›0ã€‚å…³é—­å¤±è´¥ï¼Œè¿”å›EOFã€‚</p>
<h2 id="ftell"><a class="markdownIt-Anchor" href="#ftell"></a> ftell()</h2>
<p><a href="https://www.runoob.com/cprogramming/c-function-ftell.html">ftell</a><br />
<code>long int ftell(FILE *stream)</code><br />
ä½œç”¨ï¼š<br />
è¿”å›ç»™å®šæµstreamçš„å½“å‰æ–‡ä»¶ä½ç½®ã€‚<br />
å‚æ•°è¯´æ˜ï¼šç•¥ã€‚<br />
è¿”å›å€¼ï¼š<br />
è¿”å›ä½ç½®è¡¨ç¤ºç¬¦å·çš„å½“å‰å€¼ã€‚å¦‚æœå‡ºç°é”™è¯¯å°±è¿”å›-1Lã€‚</p>
<h2 id="remove"><a class="markdownIt-Anchor" href="#remove"></a> remove()</h2>
<p><a href="https://www.runoob.com/cprogramming/c-function-remove.html">remove</a><br />
<code>int remove(const char *filename)</code><br />
ä½œç”¨ï¼š<br />
åˆ é™¤æ–‡ä»¶ã€‚<br />
å‚æ•°è¯´æ˜ï¼š<br />
æ–‡ä»¶åã€‚<br />
è¿”å›å€¼ï¼š<br />
æˆåŠŸåˆ é™¤è¿”å›0ï¼Œå‘ç”Ÿé”™è¯¯è¿”å›-1ã€‚</p>
<h2 id="rename"><a class="markdownIt-Anchor" href="#rename"></a> rename()</h2>
<p><a href="https://www.runoob.com/cprogramming/c-function-rename.html">rename</a><br />
<code>int rename(const char *old_filename, const char *new_filename)</code><br />
ä½¿ç”¨æ–¹æ³•ä¸è°ˆäº†ã€‚å¦‚æœé‡å‘½åæˆåŠŸï¼Œé‚£ä¹ˆè¿”å›0ï¼Œå¦åˆ™è¿”å›-1ã€‚</p>
<h2 id="fprintf"><a class="markdownIt-Anchor" href="#fprintf"></a> fprintf()</h2>
<p><a href="https://www.runoob.com/cprogramming/c-function-fprintf.html">fprintf</a><br />
<code>int fprintf(FILE *stream, const char *format, ...)</code><br />
ä½œç”¨ï¼š<br />
å‘é€æ ¼å¼åŒ–è¾“å‡ºåˆ°æµstreamä¸­ã€‚ï¼ˆstreamæ˜¯ä¸€ä¸ªæ–‡ä»¶æŒ‡é’ˆï¼‰</p>
<p>å‚æ•°ï¼š<br />
ä¸€ä¸ªæ˜¯streamæ–‡ä»¶æŒ‡é’ˆï¼Œå¦ä¸€ä¸ªæ˜¯cå­—ç¬¦ä¸²ã€‚è¿™ä¸ªå­—ç¬¦ä¸²å’Œprintfé‡Œé¢çš„cå­—ç¬¦ä¸²æ˜¯åŒä¸€ä¸ªæ ¼å¼ï¼Œæ˜¯å¯ä»¥å¸¦æœ‰æ ¼å¼åŒ–è¯´æ˜ç¬¦å·çš„ã€‚</p>
<p>æˆ‘çš„è¯´æ˜ï¼š<br />
å¯ä»¥è¯´è¿™ä¸ªfprintfè¿åŒfscanfä¸€åŒæ„æˆäº†å¤§å¤šæ•°å¯¹æ–‡ä»¶çš„æ“ä½œã€‚å¯¹äºä¸€äº›åŸºæœ¬çš„æƒ…å†µä½¿ç”¨fprintfè€Œä¸æ˜¯fwriteï¼Œfwriteè®¾è®¡äºŒè¿›åˆ¶å†™å…¥ï¼Œæ¯”è¾ƒå¤æ‚ã€‚<s>æˆ‘æ²¡çœ‹æ‡‚bushi</s></p>
<h2 id="fscanf"><a class="markdownIt-Anchor" href="#fscanf"></a> fscanf()</h2>
<p><a href="https://www.runoob.com/cprogramming/c-function-fscanf.html">fscanf</a><br />
<code>int fscanf(FILE *stream, const char *format, ...)</code><br />
ä½œç”¨ï¼š<br />
ä»æµstreamè¯»å–æ ¼å¼åŒ–è¾“å…¥ã€‚<s>è¿™é‡Œå› ä¸ºCè¯­è¨€å°±æŠŠæ‰“å¼€çš„æ–‡ä»¶çœ‹åšæµå¼æ–‡ä»¶ï¼Œæ„æ€å°±æ˜¯ä»æ–‡ä»¶è¯»å–è¾“å…¥ã€‚åŸå…ˆçš„scanfæ˜¯ä»æ ‡å‡†è¾“å…¥è¾“å‡ºè¯»å–è¾“å…¥ï¼Œï¼ˆç›¸å½“äºstdinä¹Ÿè¢«çœ‹ä½œæ˜¯ä¸€ä¸ªæ–‡ä»¶äº†ï¼ï¼ï¼‰ä¸çŸ¥é“æˆ‘çš„ä¸€ç‚¹çŒœæƒ³å¯¹ä¸å¯¹ã€‚å°±æ˜¯æŠŠé”®ç›˜ç­‰è¾“å…¥è®¾å¤‡è¾“å…¥çš„å†…å®¹ä¹Ÿçœ‹åšæµå¼æ–‡ä»¶ã€‚</s></p>
<p>å‚æ•°ï¼š<br />
ä¸€ä¸ªæ–‡ä»¶æŒ‡é’ˆå¥½è¯´ã€‚å¦å¤–çš„æ˜¯æ ‡è¯†ç¬¦ã€‚</p>
<p>ä¾‹å­ï¼š<br />
çœ‹ä¸‹é¢ä¸€æ®µä»£ç ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">   char str1[10], str2[10], str3[10];</span><br><span class="line">   int year;</span><br><span class="line">   FILE * fp;</span><br><span class="line"></span><br><span class="line">   fp = fopen (&quot;file.txt&quot;, &quot;w+&quot;);</span><br><span class="line">   fputs(&quot;We are in 2014&quot;, fp);</span><br><span class="line">   </span><br><span class="line">   rewind(fp);</span><br><span class="line">   fscanf(fp, &quot;%s %s %s %d&quot;, str1, str2, str3, &amp;year); //æ³¨æ„è¿™ä¸€è¡Œï¼</span><br><span class="line">   </span><br><span class="line">   printf(&quot;Read String1 |%s|\n&quot;, str1 );</span><br><span class="line">   printf(&quot;Read String2 |%s|\n&quot;, str2 );</span><br><span class="line">   printf(&quot;Read String3 |%s|\n&quot;, str3 );</span><br><span class="line">   printf(&quot;Read Integer |%d|\n&quot;, year );</span><br><span class="line"></span><br><span class="line">   fclose(fp);</span><br><span class="line">   </span><br><span class="line">   return(0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªé‡Œé¢fscanfçš„ç”¨æ³•å°±å¾ˆæ ‡å‡†ã€‚ä»fpè¿™ä¸ªæ–‡ä»¶æŒ‡é’ˆæ‰€æŒ‡çš„æ–‡ä»¶é‡Œé¢æŒ‰ç…§%s %s %s %dè¯»å–æ•°æ®ç„¶åå­˜å…¥åˆ°äº†åé¢çš„æŒ‡é’ˆé‡Œé¢ï¼Œå®Œæˆäº†ä»æ•°æ®åº“åˆ°å†…å­˜çš„è½¬æ¢ã€‚</p>
<p>è¿”å›å€¼ï¼š<br />
å¦‚æœæˆåŠŸï¼Œè¯¥å‡½æ•°è¿”å›æˆåŠŸåŒ¹é…å’Œèµ‹å€¼çš„ä¸ªæ•°ã€‚å¦‚æœåˆ°è¾¾<strong>æ–‡ä»¶æœ«å°¾</strong>æˆ–å‘ç”Ÿè¯»é”™è¯¯ï¼Œåˆ™è¿”å› EOFã€‚</p>
<p>æˆ‘çš„è¯´æ˜ï¼š<br />
feof()å‡½æ•°åŒæ ·æœ‰æ£€æµ‹åˆ°è¾¾æœ«å°¾çš„æ•ˆæœï¼ŒåŒºåˆ«åœ¨äºfeof()å‡½æ•°ä»…ä»…æ˜¯è§‚æµ‹ï¼Œè€Œfscanfæ˜¯å®é™…è¯»å–ï¼Œè¯»å–ä¸åˆ°æ‰ä¼šæŠ¥EOFã€‚</p>
<h2 id="feof"><a class="markdownIt-Anchor" href="#feof"></a> feof()</h2>
<p><a href="https://www.runoob.com/cprogramming/c-function-feof.html">feof</a><br />
<code>int feof(FILE *stream)</code><br />
ä½œç”¨ï¼š<br />
æµ‹è¯•ç»™å®šæµæ–‡ä»¶çš„æ–‡ä»¶ç»“æŸæ ‡è¯†ç¬¦ã€‚</p>
<p>å‚æ•°ï¼š<br />
ä¸€ä¸ªFILEç±»å‹çš„æŒ‡é’ˆã€‚</p>
<p>è¿”å›å€¼ï¼š<br />
å¦‚æœè¯´è¿™ä¸ªæµæ–‡ä»¶ç»“æŸäº†ï¼Œå°±è¿”å›çœŸï¼ˆéé›¶å€¼ï¼‰ï¼Œå¦åˆ™è¿”å›0ã€‚</p>
<p>æˆ‘çš„è¯´æ˜ï¼š<br />
è¿™ä¸ªæ¯”è¾ƒå¸¸ç”¨ï¼Œç”¨æ¥æ£€æµ‹æ–‡ä»¶æ˜¯å¦åˆ°è¾¾ç»“å°¾ã€‚è¿™é‡Œæ£€æµ‹ç»“å°¾æ˜¯è¯´ç°åœ¨è¿™ä¸ªæµæ–‡ä»¶ä¸­æŒ‡é’ˆæ˜¯ä¸æ˜¯åœ¨ç»“å°¾ï¼Œè®¸å¤šå¯¹äºæ–‡ä»¶æ“ä½œçš„å‡½æ•°å¯ä»¥æ§åˆ¶æµæ–‡ä»¶æŒ‡é’ˆçš„ç§»åŠ¨ï¼Œè¿™ä¸ªæ˜¯æ£€æµ‹å½“å‰æŒ‡é’ˆçš„ä½ç½®ã€‚æ‰€ä»¥ç»å¸¸çœ‹è§å’Œå¾ªç¯è¿ç”¨ï¼Œç»å¸¸éƒ½æ˜¯åªè¦ä¸åˆ°ç»“å°¾å°±ç»§ç»­è¯»å–ä¹‹ç±»ã€‚ä½†æ˜¯è¿™ä¸ªå‡½æ•°çš„æ•ˆæœä½¿ç”¨fscanfçš„è¿”å›å€¼æ£€æµ‹ä¹Ÿèƒ½è¾¾åˆ°ã€‚</p>
<h2 id="fgets"><a class="markdownIt-Anchor" href="#fgets"></a> fgets()</h2>
<p><a href="https://www.runoob.com/cprogramming/c-function-fgets.html">fgets</a><br />
<code>char *fgets(char *str, int n, FILE *stream)</code><br />
ä½œç”¨ï¼š<br />
ä»åˆ¶å®šçš„æµæ–‡ä»¶è¯»å–ä¸€è¡Œï¼Œå‚¨å­˜åˆ°stræ‰€æŒ‡å‘çš„å­—ç¬¦ä¸²é‡Œé¢ã€‚å½“è¯»å– <strong>(n-1)</strong> ä¸ªå­—ç¬¦æ—¶ï¼Œæˆ–è€…è¯»å–åˆ°æ¢è¡Œç¬¦æ—¶ï¼Œæˆ–è€…åˆ°è¾¾æ–‡ä»¶æœ«å°¾æ—¶ï¼Œå®ƒä¼šåœæ­¢ï¼Œå…·ä½“è§†æƒ…å†µè€Œå®šã€‚</p>
<p>å‚æ•°ï¼š<br />
stræ˜¯ä¸€ä¸ªæŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆã€‚<br />
næ˜¯ä¸€ä¸ªè¦è¯»å–çš„æœ€å¤§å­—ç¬¦æ•°ã€‚<br />
streamæ˜¯ä¸€ä¸ªFILEçš„æµæ–‡ä»¶æŒ‡é’ˆã€‚</p>
<p>è¿”å›å€¼ï¼š<br />
è¿”å›å€¼æ˜¯ä¸€ä¸ªå­—ç¬¦æŒ‡é’ˆã€‚å‡å¦‚æˆåŠŸåœ°å†™å…¥äº†stræŒ‡é’ˆï¼Œé‚£ä¹ˆè¿”å›å€¼ä¹Ÿè¿˜æ˜¯è¿™ä¸ªstrã€‚å‡å¦‚åˆ°è¾¾æ–‡ä»¶æœ«å°¾æˆ–è€…æ²¡æœ‰è¯»å–åˆ°ä»»ä½•å­—ç¬¦æˆ–è€…è¯´å‘ç”Ÿäº†é”™è¯¯ï¼Œè¿”å›ç©ºæŒ‡é’ˆNULLã€‚</p>
<p>è¿™ä¸ªå¸¸ç”¨æ¥æ›¿æ¢gets()ï¼Œè¿™ä¸ªå‡½æ•°ä»¥åè¦å°‘ç”¨ã€‚ä»¥åçš„æ ‡å‡†ä¼šè¶Šæ¥è¶Šé™åˆ¶ä½¿ç”¨getsã€‚è¿™ä¸ªå¦‚ä½•ä»£æ›¿åœ¨ç¬¬åä¸€ç« getså‡½æ•°ç¼“å†²åŒºæº¢å‡ºé—®é¢˜çš„æ—¶å€™å†è¯´ã€‚</p>
<hr />
<h1 id="æä¾›çš„åˆ†æå­—ç¬¦å‡½æ•°"><a class="markdownIt-Anchor" href="#æä¾›çš„åˆ†æå­—ç¬¦å‡½æ•°"></a> æä¾›çš„åˆ†æå­—ç¬¦å‡½æ•°</h1>
<p><a href="https://www.runoob.com/cprogramming/c-standard-library-ctype-h.html">èœé¸Ÿæ•™ç¨‹ ctype.h</a></p>
<p>åœ¨å­¦ä¹ cppçš„æ—¶å€™æ›¾ç»ä¸‹æ–­è¨€å‡¡æ˜¯cå¼€å¤´çš„å¤´æ–‡ä»¶å¥½å¤šéƒ½æ˜¯ä»cç»§æ‰¿ä¸‹æ¥çš„ç”¨äºcppçš„å…¨æ–°å‡½æ•°åº“ã€‚è¿™ä¸ªè¿˜æ˜¯æ¯”è¾ƒç‰¹åˆ«ï¼Œctype.hæ˜¯Cè¯­è¨€é‡Œé¢æœ‰çš„ã€‚</p>
<p>åœ¨è¿™ä¸€æ®µä»£ç é‡Œé¢å°±ä½¿ç”¨äº†isspaceå‡½æ•°æ¥åˆ¤æ–­è¿™ä¸€ä¸ªå­—ç¬¦æ˜¯ä¸æ˜¯ç©ºæ ¼ã€‚ï¼ˆè¯è¯´è¿™ä¹ˆç®€å•çš„æ“ä½œè¿˜éœ€è¦å¼•ç”¨å‡½æ•°å—ã€‚ã€‚ã€‚ã€‚<s>å…¶å®ç©ºæ ¼è¿˜æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯åƒåˆ¤æ–­å¤§å†™å­—æ¯è¿™äº›å‡½æ•°éƒ½æ˜¯è‡ªå·±å†™èµ·æ¥å¾ˆéº»çƒ¦çš„ï¼Œæ‰€ä»¥è¿™ä¸ªå‡½æ•°åº“è¿˜æ˜¯æ¯”è¾ƒå¥½ç”¨çš„</s>ï¼‰</p>
<h1 id="ç¬¬ä¸‰ç« -æ•°æ®å’Œc"><a class="markdownIt-Anchor" href="#ç¬¬ä¸‰ç« -æ•°æ®å’Œc"></a> ç¬¬ä¸‰ç«  æ•°æ®å’ŒC</h1>
<p>è¿™ä¸€ç« æ¯”è¾ƒç®€å•ï¼Œæ³¨æ„<strong>å­—</strong>çš„æ¦‚å¿µã€‚</p>
<p>å­—å¯¹äºä¸åŒçš„æœºå™¨æ˜¯ä¸ä¸€æ ·çš„ã€‚ç¡¬ä»¶å±‚é¢æ¥çœ‹å°±æ˜¯å†…å­˜æ¡çš„å®½åº¦ã€‚å¤šå°‘ä½è®¡ç®—æœºå­—é•¿å°±æ˜¯å¤šå°‘ä½ã€‚</p>
<p>cè¯­è¨€ä¸­ï¼Œå£°æ˜å’Œèµ‹å€¼å¯¹äºä¸€ä¸ªå˜é‡æ¥è¯´ä¸åŒã€‚å£°æ˜çš„æ—¶å€™åªæ˜¯ä»…ä»…åˆ›å»ºäº†å†…å­˜ç©ºé—´ï¼Œå†…å­˜ç©ºé—´é‡Œé¢çš„å€¼æ˜¯éšæœºçš„ã€‚</p>
<h2 id="æ•´æ•°çš„æ‰“å°"><a class="markdownIt-Anchor" href="#æ•´æ•°çš„æ‰“å°"></a> æ•´æ•°çš„æ‰“å°</h2>
<p>åœ¨ä½¿ç”¨ printf çš„æ—¶å€™ï¼Œå¯ä»¥ç”¨ä¸åŒçš„è¿›åˆ¶æ¥æ‰“å°ã€‚<br />
<strong>ä½¿ç”¨ %o æ‰“å°å…«è¿›åˆ¶æ•°å­—ï¼Œä½¿ç”¨ %x æ‰“å°åå…­è¿›åˆ¶æ•°å­—ã€‚è‹¥æ˜¯è¦å¸¦å‰ç¼€çš„è¯ï¼Œï¼ˆä¾‹å¦‚ä¸€èˆ¬æ˜¾ç¤ºå…«è¿›åˆ¶æ•°å­—çš„è¯å‰é¢å°±è¦å¸¦ä¸€ä¸ª 0 ï¼Œæ˜¾ç¤ºåå…­è¿›åˆ¶æ•°å­—çš„è¯å‰é¢å°±è¦å¸¦ä¸€ä¸ª 0x ï¼‰å°±åœ¨ç™¾åˆ†å·å’Œå­—æ¯ä¹‹é—´åŠ ä¸€ä¸ª # ã€‚ä¾‹å¦‚ %#o å’Œ %#x ã€‚<s>å½“ç„¶å¦‚æœæ˜¯ %#X å°±æ˜¯ä¼šæ˜¾ç¤ºå¤§å†™çš„ Xï¼Œå‡ºç° 0X è€Œä¸æ˜¯ 0xã€‚ï¼ˆèŠ±é‡Œèƒ¡å“¨çš„çŸ¥è¯†å¢åŠ äº†ï¼</s></strong></p>
<h2 id="æ•´æ•°çš„ç±»å‹"><a class="markdownIt-Anchor" href="#æ•´æ•°çš„ç±»å‹"></a> æ•´æ•°çš„ç±»å‹</h2>
<p>int æœ¬èº«æ™®éçš„è¯æ˜¯å  4 ä¸ªå­—èŠ‚ã€‚ï¼ˆ32bitï¼‰èŒƒå›´å¤§æ¦‚æ˜¯æ­£è´Ÿ21äº¿å·¦å³ã€‚</p>
<p>short int ä¸€èˆ¬å åå…­ä½ã€‚</p>
<p>long long int ä¸€èˆ¬å 64ä½ã€‚</p>
<p>æ— ç¬¦å·æ•°å­—æ— éå°±æ˜¯èŒƒå›´æ˜¯å¯¹åº”çš„ä¸¤å€ã€‚unsigned long long int å’Œ unsigned intã€‚</p>
<p>short ä¸€èˆ¬ä¸ç”¨ï¼Œä¸åœ¨ä¹é‚£ä¸€ç‚¹ç©ºé—´ã€‚ä¸€èˆ¬llintç”¨çš„æ¯”è¾ƒå¤šã€‚åœ¨ä½¿ç”¨llintçš„æ—¶å€™çš„æ ¼å¼è½¬æ¢ç¬¦éœ€è¦æ³¨æ„ã€‚</p>
<p>ä¸€èˆ¬ä¸ä½¿ç”¨ long intï¼Œå› ä¸ºå†å²åŸå›  long int åœ¨æˆ‘çš„æœºå™¨ä¸Šçœ‹æ¥å’Œintæ²¡æœ‰åŒºåˆ«ï¼</p>
<p>long long æˆ–è€…è¯´ long long int éœ€è¦ä½¿ç”¨ lld çš„è½¬æ¢ç¬¦å·ã€‚</p>
<p>å¯¹äºunsignedçš„å°±éœ€è¦ä½¿ç”¨ %uï¼Œå‡å¦‚æ˜¯è¡¨ç¤ºæœ€å¤§çš„æ­£æ•°åƒ unsigned long long å°±ä½¿ç”¨ %llu ä½œä¸ºè½¬æ¢ç¬¦å·ã€‚</p>
<h2 id="éæ‰“å°å­—ç¬¦æŸ¥è¯¢"><a class="markdownIt-Anchor" href="#éæ‰“å°å­—ç¬¦æŸ¥è¯¢"></a> éæ‰“å°å­—ç¬¦æŸ¥è¯¢</h2>
<table>
<thead>
<tr>
<th style="text-align:center">è½¬ç§»åºåˆ—</th>
<th style="text-align:center">å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\a</td>
<td style="text-align:center">è­¦æŠ¥</td>
</tr>
<tr>
<td style="text-align:center">\b</td>
<td style="text-align:center">é€€æ ¼</td>
</tr>
<tr>
<td style="text-align:center">\f</td>
<td style="text-align:center">æ¢é¡µ</td>
</tr>
<tr>
<td style="text-align:center">\n</td>
<td style="text-align:center">æ¢è¡Œ</td>
</tr>
<tr>
<td style="text-align:center">\r</td>
<td style="text-align:center">å›è½¦</td>
</tr>
<tr>
<td style="text-align:center">\t</td>
<td style="text-align:center">æ°´å¹³åˆ¶è¡¨ç¬¦</td>
</tr>
<tr>
<td style="text-align:center">\v</td>
<td style="text-align:center">å‚ç›´åˆ¶è¡¨ç¬¦</td>
</tr>
</tbody>
</table>
<h2 id="ç¼“å†²åŒº"><a class="markdownIt-Anchor" href="#ç¼“å†²åŒº"></a> ç¼“å†²åŒº</h2>
<p>Cè¯­è¨€è§„å®šï¼Œprintfå‡½æ•°ä¼šæŠŠè¯­å¥å‘é€åˆ°ç¼“å†²åŒºbufferé‡Œé¢ï¼Œç„¶åç¼“å†²åŒºé‡Œé¢çš„å†…å®¹å†è¢«å‘é€åˆ°å±å¹•ä¸Šã€‚</p>
<ol>
<li>å½“ç¼“å†²åŒºæ»¡</li>
<li>é‡åˆ°æ¢è¡Œå­—ç¬¦</li>
<li>éœ€è¦è¾“å…¥</li>
</ol>
<p><strong>è¿™ä¸‰ç§æƒ…å†µå°±ä¼šåˆ·æ–°ç¼“å†²åŒº</strong></p>
<p>è¿™ä¸€ç‚¹åœ¨linuxç¯å¢ƒä¸‹ä½¿ç”¨vscodeé…åˆgdbè°ƒè¯•æ·±æœ‰ä½“ä¼šã€‚å‡å¦‚è¯´è¿™é‡Œæœ‰ä¸€å¥<code>printf(&quot;linux vscode&quot;);</code> å› ä¸ºåé¢æ²¡æœ‰åŠ æ¢è¡Œç¬¦ï¼Œç¼“å†²åŒºæ²¡æœ‰æ»¡ï¼Œæ‰€ä»¥ä¸ä¼šåˆ·æ–°ï¼Œä¹Ÿå°±æ˜¯å•æ­¥è°ƒè¯•æ˜æ˜æ‰§è¡Œäº†å´åœ¨ç»ˆç«¯é‡Œé¢çœ‹ä¸åˆ°è¾“å‡ºç»“æœã€‚VSè°ƒè¯•å¥½åƒå°±æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼Œæ¨æµ‹æ˜¯ä¸åœåœ°åˆ·æ–°äº†ç¼“å†²åŒºã€‚</p>
<hr />
<h1 id="ç¬¬å››ç« -å­—ç¬¦ä¸²å’Œæ ¼å¼åŒ–è¾“å…¥è¾“å‡º"><a class="markdownIt-Anchor" href="#ç¬¬å››ç« -å­—ç¬¦ä¸²å’Œæ ¼å¼åŒ–è¾“å…¥è¾“å‡º"></a> ç¬¬å››ç«  å­—ç¬¦ä¸²å’Œæ ¼å¼åŒ–è¾“å…¥/è¾“å‡º</h1>
<p>Cè¯­è¨€æ²¡æœ‰ä¸“é—¨çš„å­—ç¬¦ä¸²ç±»å‹æ¥å­˜å‚¨å­—ç¬¦ä¸²ï¼Œè€Œæ˜¯ä½¿ç”¨charç±»å‹çš„æ•°ç»„æ¥å­˜å‚¨å­—ç¬¦ä¸²ã€‚å¦‚æœä½¿ç”¨scanfå‡½æ•°æ¥è¯»å–å­—ç¬¦ä¸²çš„è¯ï¼Œåƒ<code>scanf(&quot;%s&quot;, array);</code>ï¼Œé‚£arrayé‡Œé¢æœ«å°¾ä¼šè¢«è‡ªåŠ¨è¡¥ä¸Šâ€™\0â€™ï¼Œæ ‡å¿—å­—ç¬¦ä¸²çš„ç»“æŸï¼Œæ‰€ä»¥\0ä¹Ÿæ˜¯å­—ç¬¦ä¸²ç»“æŸçš„æ ‡å¿—ã€‚</p>
<p>å­—ç¬¦ä½¿ç”¨â€™å­—ç¬¦â€™ï¼Œå­—ç¬¦ä¸²ä½¿ç”¨â€å­—ç¬¦ä¸²â€ã€‚</p>
<p><code>#define *** ***</code>åé¢ä¸è¦åŠ åˆ†å·ï¼è¿™æ˜¯ä¸€ç§é¢„å¤„ç†æ“ä½œï¼Œæ˜¯æŠŠå‰é¢çš„æ›¿æ¢æˆåé¢çš„ï¼Œè¿™æ˜¯é¢„å¤„ç†å™¨å®Œæˆçš„ã€‚</p>
<h2 id="sizeofå’Œstrlen"><a class="markdownIt-Anchor" href="#sizeofå’Œstrlen"></a> sizeof()å’Œstrlen()</h2>
<p><a href="https://www.runoob.com/w3cnote/strlen-and-sizeof.html">èœé¸Ÿæ•™ç¨‹</a><br />
æˆ‘çš„è¯„ä»·æ˜¯ï¼Œè¯´å¾—å¥½ï¼</p>
<p>strlenä¼šæŠŠæ¥å—çš„å‚æ•°è§†ä¸ºæ•°ç»„ä¸€æ ·çš„ï¼Œç„¶åæ±‚ä»å¼€å§‹åˆ°â€™\0â€™çš„é•¿åº¦ï¼ˆä½†æ˜¯ä¸å«\0ï¼‰ã€‚</p>
<p>sizeofåˆ™æ˜¯æ±‚å®ƒåé¢çš„ä¸œè¥¿çš„é•¿åº¦ã€‚åœ¨çœ‹çš„æ—¶å€™å°¤å…¶æ³¨æ„ï¼Œ<code>sizeof(å­—ç¬¦æŒ‡é’ˆ)</code>è¿”å›çš„æ˜¯è¿™ä¸ªå­—ç¬¦æŒ‡é’ˆæœ¬èº«çš„å¤§å°ï¼æœ‰æ„æ€çš„æ˜¯åœ¨æˆ‘çš„ç”µè„‘ä¸Šé¢**å­—ç¬¦æŒ‡é’ˆä¸€ä¸ªå¥½åƒå 8ä¸ªå­—èŠ‚ã€‚**ä¹Ÿåˆç†å…¶å®ã€‚</p>
<p>scanfå’Œprintfå‡½æ•°çš„ä½¿ç”¨</p>
<h2 id="å‡½æ•°åŸå‹å’Œè¿”å›å€¼"><a class="markdownIt-Anchor" href="#å‡½æ•°åŸå‹å’Œè¿”å›å€¼"></a> å‡½æ•°åŸå‹å’Œè¿”å›å€¼</h2>
<p><code>int scanf(const char *format, ...)</code><br />
å¦‚æœæˆåŠŸï¼Œè¯¥å‡½æ•°è¿”å›æˆåŠŸåŒ¹é…å’Œèµ‹å€¼çš„ä¸ªæ•°ã€‚å¦‚æœåˆ°è¾¾æ–‡ä»¶æœ«å°¾æˆ–å‘ç”Ÿè¯»é”™è¯¯ï¼Œåˆ™è¿”å› EOFã€‚<br />
<code>int printf(const char *format, ...)</code><br />
å¦‚æœæˆåŠŸï¼Œåˆ™è¿”å›å†™å…¥çš„å­—ç¬¦æ€»æ•°ï¼Œå¦åˆ™è¿”å›ä¸€ä¸ªè´Ÿæ•°ã€‚</p>
<h2 id="æ ¼å¼åŒ–è¾“å‡ºè¾“å…¥ç¬¦å·"><a class="markdownIt-Anchor" href="#æ ¼å¼åŒ–è¾“å‡ºè¾“å…¥ç¬¦å·"></a> æ ¼å¼åŒ–è¾“å‡ºè¾“å…¥ç¬¦å·</h2>
<p>é¢˜å¤–è¯è¿™å›¾ç‰‡æ˜¯åœ¨xfceæ¡Œé¢ä¸‹é¢æˆªçš„ï¼Œæ¢åˆ°kdeäº†ä¹‹åå‘ç°kdeçœŸçš„æ¯”è¿™å¥½çœ‹ä¸çŸ¥é“å¤šå°‘ã€‚æˆªè‡ªcprimerã€‚</p>
<p><img src="https://pic.imgdb.cn/item/622608f35baa1a80ab88d858.png" alt="æ ¼å¼åŒ–æ‰“å°ç¬¦å·" /></p>
<p>å°±ä»¥%dä½œä¸ºä¾‹å­ã€‚%hdæ˜¯ç”¨æ¥è¾“å‡ºshort intç±»å‹çš„ï¼Œ%ldå°±æ˜¯long intç±»å‹ï¼Œ%lldå°±æ˜¯long long intç±»å‹ã€‚æ³¨æ„ï¼Œè¿™äº›éƒ½æ˜¯æœ‰ç¬¦å·æ•´å‹ã€‚å¦‚æœæ˜¯æ— ç¬¦å·å°±åº”å½“ä½¿ç”¨%uç³»åˆ—ã€‚ï¼ˆuå°±æ˜¯unsigned intçš„æ„æ€ï¼‰</p>
<p>æµ®ç‚¹æ˜¯%fä¸€æ”¯ï¼Œåœ¨printf doubleçš„é‡çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨%fã€‚ä½†æ˜¯åœ¨scanfçš„æ—¶å€™å¥½åƒåº”è¯¥ä½¿ç”¨%lfã€‚å½“ç„¶å¯¹åº”çš„è¿˜æœ‰%llfã€‚</p>
<p>%pç”¨æ¥è¾“å‡ºæŒ‡é’ˆã€‚æ‰“å°ä¸€ä¸ªæŒ‡é’ˆï¼Ÿç»è¿‡å®é™…çš„å°è¯•ï¼Œå‘ç°æ‰“å°å‡ºæ¥æ˜¯ä¸€ä¸ªåå…­è¿›åˆ¶çš„æ•°å­—ï¼Œåº”è¯¥å°±æ˜¯æŒ‡é’ˆäº†ã€‚</p>
<h2 id="åœ¨è¾“å…¥è¾“å‡ºå‡½æ•°ä¸­çš„ä½¿ç”¨"><a class="markdownIt-Anchor" href="#åœ¨è¾“å…¥è¾“å‡ºå‡½æ•°ä¸­çš„ä½¿ç”¨"></a> *åœ¨è¾“å…¥è¾“å‡ºå‡½æ•°ä¸­çš„ä½¿ç”¨</h2>
<p>å‡å¦‚æƒ³è¦ä»¥æ‰§è¡Œå®½åº¦æ‰“å°æ•°æ®ï¼Œå°±å¯ä»¥è€ƒè™‘ä½¿ç”¨*ã€‚<br />
<code>printf(&quot;%*d&quot;, width, it);</code><br />
widthå°±æ˜¯æ‰“å°çš„å®½åº¦ã€‚è¿™æ ·èƒ½å¤Ÿè®©è¾“å…¥è¾“å‡ºæ›´çµæ´»äº†ã€‚</p>
<p>è€Œåœ¨scanfè¿™è¾¹ï¼Œå¸¦æœ‰çš„*è¡¨ç¤ºå¿½ç•¥è¿™ä¸ªè¾“å…¥ã€‚<br />
<code>scanf(&quot;%*d %*d %d&quot;, &amp;input);</code><br />
è¿™æ¡è¯­å¥ä¼šæ¥æ”¶ä¸‰ä¸ªè¾“å…¥ï¼Œä½†æ˜¯åªä¼šæŠŠè¿™ä¸‰ä¸ªæ•°æœ€åçš„ä¸€ä¸ªæ•°å­—scanfåˆ°inputå˜é‡é‡Œé¢ã€‚</p>
<p><strong>æœ€åæé†’ï¼Œscanfä¸èƒ½å¤Ÿè·³è¿‡ç©ºæ ¼ï¼Œscanfåœ¨é‡åˆ°ç©ºæ ¼çš„æ—¶å€™ä¼šä¸­æ–­ã€‚</strong></p>
<hr />
<h1 id="ç¬¬äº”ç« -è¿ç®—ç¬¦-è¡¨è¾¾å¼å’Œè¯­å¥"><a class="markdownIt-Anchor" href="#ç¬¬äº”ç« -è¿ç®—ç¬¦-è¡¨è¾¾å¼å’Œè¯­å¥"></a> ç¬¬äº”ç«  è¿ç®—ç¬¦ã€è¡¨è¾¾å¼å’Œè¯­å¥</h1>
<p>è¦ç‚¹æ¯”è¾ƒå°‘ã€‚</p>
<ol>
<li>
<p>æ³¨æ„é™¤å·ï¼Œé™¤å·ä¸¤è¾¹å¦‚æœéƒ½æ˜¯æ•´æ•°ï¼Œç»“æœä¼šè¢«æ‰§è¡Œ<em>æ•´æ•°æˆªæ–­</em>ã€‚</p>
</li>
<li>
<p>å¯¹äºâ€˜=â€™è¿™ç§è¿ç®—ç¬¦ï¼Œä¸€èˆ¬éƒ½æ˜¯ä»å·¦åˆ°å³è¿›è¡Œçš„ã€‚</p>
<blockquote>
<p>a = b = 3;<br />
è¿™ä¸ªå¼å­åº”è¯¥è¿™æ ·ç†è§£ï¼šå…ˆæŠŠ3è¿™ä¸ªå€¼èµ‹ç»™bï¼Œç„¶åb=3è¿™ä¸ªå¼å­å®ƒçš„å€¼å’Œå³ä¾§æ˜¯ç›¸ç­‰çš„ï¼Œæ‰€ä»¥æŠŠè¿™ä¸ªæ•´ä½“çš„å€¼ä¹Ÿèµ‹ç»™aï¼Œå¯¼è‡´å¤åˆ¶æ“ä½œå®Œæˆä¹‹åï¼Œaï¼Œbå…¨éƒ½æ˜¯3ã€‚</p>
</blockquote>
</li>
</ol>
<p>è¿™é‡Œå…³äºæ•´ä¸ªå¼å­çš„ç†è§£å­˜ç–‘ï¼Œå­¦äº†C++ä¹‹åå¯èƒ½è§‚ç‚¹ä¸ä¸€æ ·ã€‚å¯èƒ½å…¶å®å¹¶ä¸æ˜¯è¿™ä¸ªå¼å­çš„å€¼ï¼Œè€Œæ˜¯a=b=3çš„æ„æ€æ˜¯æŠŠ3çš„å€¼èµ‹ç»™bï¼ŒæŠŠbçš„å€¼èµ‹ç»™aï¼Œä¸æ˜¯ä»€ä¹ˆå¼å­çš„å€¼çš„ç†è§£ã€‚ï¼ˆä¸è¿‡ä¹Ÿéƒ½å·®ä¸å¤šå°±æ˜¯äº†ï¼‰</p>
<h2 id="æ›´ä¸ºç”Ÿç–çš„è¿ç®—ç¬¦"><a class="markdownIt-Anchor" href="#æ›´ä¸ºç”Ÿç–çš„è¿ç®—ç¬¦"></a> æ›´ä¸ºç”Ÿç–çš„è¿ç®—ç¬¦</h2>
<h3 id="sizeofæ“ä½œå’Œsize_tç±»å‹"><a class="markdownIt-Anchor" href="#sizeofæ“ä½œå’Œsize_tç±»å‹"></a> sizeofæ“ä½œå’Œsize_tç±»å‹</h3>
<p>åœ¨å°†è½¬æ¢ç¬¦çš„æ—¶å€™å°±æœ‰è¿™ä¹ˆä¸€å›äº‹ã€‚sizeofå‡½æ•°çš„ä½œç”¨æ˜¯è¿”å›åé¢å¯¹è±¡çš„å¤§å°ï¼ˆå•ä½æ˜¯å­—èŠ‚ï¼‰ã€‚é‚£ä¹ˆé¦–å…ˆè¿™æ˜¯ä¸€ä¸ªæ— ç¬¦å·æ•´æ•°ã€‚å‡ºäºå¯ç§»æ¤çš„è€ƒè™‘ï¼Œå®šä¹‰äº†ä¸€ä¸ª%zdæ¥ä½œä¸ºè¾“å‡ºç¬¦å·ã€‚å› ä¸ºæ˜¯åœ¨ä¸åŒå¹³å°ä¸Šé¢å†å®šä¹‰çš„ï¼Œæ‰€ä»¥ä¸€å®šèƒ½ä¿è¯%zdçš„è¯»å–å’Œsizeofæ‰€è¾“å‡ºçš„æ•°æ®åœ¨æ ˆä¸­ç­‰é•¿ã€‚</p>
<p>å¦‚æœæ˜¯ä½¿ç”¨%uï¼Œä¼šå®³æ€•sizeofè¿”å›å€¼æ˜¯ä¸æ˜¯%luçš„ã€‚å¦‚æœä½¿ç”¨%luæœ‰å¯èƒ½ä¼šæ˜¯åé¢çš„æ ¼å¼è½¬æ¢ç¬¦åœ¨æ ˆä¸­è¯»å–çš„æ—¶å€™ç§»ä½ã€‚ã€‚ï¼ˆè¿™æ ·çš„åŸå› å°±æ˜¯ä¸åŒå¹³å°çš„ç¼–è¯‘å™¨ä¸Šé¢sizeofè¿”å›å€¼çš„å ç”¨ä½æ•°ä¸ç¡®å®šã€‚æ‰€ä»¥%zdè¿˜æ˜¯éå¸¸å¥½ç”¨ï¸¿(ï¿£ï¸¶ï¿£)ï¸¿ï¼‰</p>
<h3 id="è¿ç®—ç¬¦"><a class="markdownIt-Anchor" href="#è¿ç®—ç¬¦"></a> %è¿ç®—ç¬¦</h3>
<p>å–ä½™æ•°çš„è¿ç®—ç¬¦å·çš„è´Ÿæ•°æƒ…å†µã€‚</p>
<p>ç¬¬ä¸€ä¸ªæ“ä½œæ•°å¦‚æœæ˜¯è´Ÿæ•°ï¼Œé‚£ä¹ˆå–æ¨¡ä¸€å®šæ˜¯è´Ÿæ•°ã€‚ç¬¬ä¸€ä¸ªæ“ä½œæ•°æ˜¯æ­£æ•°ï¼Œé‚£ä¸€å®šæ˜¯æ­£æ•°ã€‚</p>
<h2 id="ç±»å‹è½¬æ¢"><a class="markdownIt-Anchor" href="#ç±»å‹è½¬æ¢"></a> ç±»å‹è½¬æ¢</h2>
<p>ç†è®ºä¸Šæ¥è®²ï¼Œå¼å­ä¸€å®šè¦ä½¿ç”¨ç›¸åŒç±»å‹çš„å˜é‡ã€‚ä½†æ˜¯Cè¯­è¨€æ¯”è¾ƒæ™ºèƒ½ï¼Œå³ä½¿ä½¿ç”¨æ··åˆç±»å‹çš„å¼å­ä¹Ÿèƒ½å¤Ÿè¿›è¡Œè‡ªåŠ¨è½¬æ¢ã€‚</p>
<ol>
<li>å½“ç±»å‹è½¬æ¢å‡ºç°åœ¨è¡¨è¾¾å¼æ—¶ï¼Œæ— è®ºæ˜¯unsignedè¿˜æ˜¯signedçš„charå’Œshortéƒ½ä¼šè¢«è½¬æ¢æˆintã€‚æœ‰å¿…è¦ä¼šè½¬æ¢ä¸ºèŒƒå›´æ›´å¤§çš„unsigned intã€‚ï¼ˆåœ¨è¾ƒæ—©çš„Cè¯­è¨€é‡Œé¢floatåœ¨ç±»å‹è½¬æ¢çš„æ—¶å€™ä¼šè¢«è½¬æ¢ä¸ºdoubleï¼Œä½†æ˜¯ç°åœ¨ä¸æ˜¯è¿™æ ·ï¼‰ã€‚è¿™äº›éƒ½æ˜¯ä»å°ç±»å‹è½¬æ¢ä¸ºè¾ƒå¤§ç±»å‹ï¼Œç§°ä¸ºå‡çº§ã€‚</li>
<li>æ¶‰åŠä¸¤ç§ç±»å‹çš„è¿ç®—ï¼Œä¸¤ä¸ªå€¼ä¼šè¢«åˆ†åˆ«è½¬æ¢æˆä¸¤ç§ç±»å‹çš„æ›´é«˜çº§åˆ«ã€‚</li>
<li>ç±»å‹çš„çº§åˆ«ä»é«˜è‡³ä½ä¾æ¬¡æ˜¯long doubleã€doubleã€floatã€unsignedlong longã€long longã€unsigned longã€longã€unsigned intã€intã€‚ä¾‹å¤–çš„æƒ…å†µæ˜¯ï¼Œå½“ long å’Œ int çš„å¤§å°ç›¸åŒæ—¶ï¼Œunsigned intæ¯”longçš„çº§åˆ«é«˜ã€‚ä¹‹æ‰€ä»¥shortå’Œcharç±» å‹æ²¡æœ‰åˆ—å‡ºï¼Œæ˜¯å› ä¸ºå®ƒä»¬å·²ç»è¢«å‡çº§åˆ°intæˆ–unsigned intã€‚</li>
<li>åœ¨èµ‹å€¼è¡¨è¾¾å¼è¯­å¥ä¸­ï¼Œè®¡ç®—çš„æœ€ç»ˆç»“æœä¼šè¢«è½¬æ¢æˆè¢«èµ‹å€¼å˜é‡çš„ç±» å‹ã€‚è¿™ä¸ªè¿‡ç¨‹å¯èƒ½å¯¼è‡´ç±»å‹å‡çº§æˆ–é™çº§ï¼ˆdemotionï¼‰ã€‚æ‰€è°“é™çº§ï¼Œæ˜¯æŒ‡æŠŠä¸€ ç§ç±»å‹è½¬æ¢æˆæ›´ä½çº§åˆ«çš„ç±»å‹ã€‚</li>
</ol>
<p>ä¸€èˆ¬æ¥è®²å‡çº§çš„è¯ä¸ä¼šæœ‰ä»€ä¹ˆå½±å“ï¼Œä½†æ˜¯é™çº§è½¬æ¢çš„æ—¶å€™æœ‰çš„æ—¶å€™æœ‰é—®é¢˜ï¼Œéœ€è¦æ³¨æ„ã€‚</p>
<hr />
<h1 id="ç¬¬å…­ç« -cæ§åˆ¶è¯­å¥-å¾ªç¯"><a class="markdownIt-Anchor" href="#ç¬¬å…­ç« -cæ§åˆ¶è¯­å¥-å¾ªç¯"></a> ç¬¬å…­ç«  Cæ§åˆ¶è¯­å¥â€”-å¾ªç¯</h1>
<h2 id="å¾ªç¯"><a class="markdownIt-Anchor" href="#å¾ªç¯"></a> å¾ªç¯</h2>
<p>å°¤å…¶æ³¨æ„cé£æ ¼çš„å¾ªç¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    int x;</span><br><span class="line">    while(scanf(&quot;%d&quot;, &amp;x))</span><br><span class="line">    &#123;</span><br><span class="line">        printf(&quot;Input completed!&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸€æ®µä»£ç è¿˜æ˜¯æ¯”è¾ƒæœ‰æ„æ€çš„ï¼Œè¿è¡Œä¹‹åï¼Œå‡å¦‚è¯´è¯»å…¥çš„æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œé‚£ä¹ˆscanfå°±ä¼šè¿”å›1ï¼Œå› ä¸ºscanfçš„è¿”å›å€¼æ˜¯èµ‹å€¼æˆåŠŸçš„æ•°é‡ã€‚è¿™æ ·çš„è¯è¿™ä¸ªå¾ªç¯å°±ä¼šç»§ç»­è¿›è¡Œã€‚</p>
<p>å‡å¦‚è¯´è¾“å…¥çš„ä¸æ˜¯æ•°å­—ï¼Œæ¯”å¦‚è¯´å­—æ¯ï¼Œå‡½æ•°ç”šè‡³ä¸ä¼šè¿›å…¥å¾ªç¯ï¼Œä¼šç›´æ¥ä¸­æ–­æ‰ï¼Œä¸ä¼šæ‰“å°ä»»ä½•ç»“æœã€‚</p>
<p><s>ä½†æ˜¯ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¾“å…¥å°æ•°çš„æ—¶å€™ä¼šæ‰“å°ä¸€æ¬¡ç›®æ ‡è¯­å¥ï¼Œè¿˜æ˜¯å¥½å¥‡æ€ªã€‚ï¼ˆä½†æ˜¯æ‰“å°ä¹‹åå°±å¾ªç¯ç»“æŸäº†ï¼‰</s></p>
<p>æ­¤å¤–åœ¨åµŒå¥—å¾ªç¯çš„æ—¶å€™ä¸€å®šè¦æ³¨æ„ä¸èƒ½ä½¿å¾ªç¯çš„å†…å¤–å±‚äº’ç›¸å¹²æ‰°ï¼Œæœ€å¥½ä½¿ç”¨ä¸ä¸€æ ·çš„å¾ªç¯æ§åˆ¶æ¡ä»¶ã€‚</p>
<h2 id="æ•°ç»„ç®€ä»‹"><a class="markdownIt-Anchor" href="#æ•°ç»„ç®€ä»‹"></a> æ•°ç»„ç®€ä»‹</h2>
<p>å› ä¸ºæ˜¯æ•°ç»„ç®€ä»‹ï¼Œæœ‰ä»·å€¼çš„ç‚¹æ¯”è¾ƒå°‘ï¼Œåªæœ‰ä¸¤ä¸ªï¼š</p>
<ol>
<li>æ•°ç»„è¶Šç•Œåœ¨ç¼–è¯‘çš„æ—¶å€™å¹¶ä¸ä¼šæ£€æŸ¥ã€‚æ¯”å¦‚è¯´æ•°ç»„åªå¼€äº†20ä¸ªä½ç½®ï¼Œé‡Œé¢å‡ºç°äº†<code>array[20]=1;</code>ç­‰å­—æ ·ï¼Œ <strong>ä¸ºäº†ç¼–è¯‘é€Ÿåº¦è€ƒè™‘å¹¶ä¸ä¼šæ£€æŸ¥</strong>ã€‚</li>
<li>åŒºåˆ«å­—ç¬¦ä¸²å’Œæ•°ç»„å°±çœ‹æœ«å°¾æœ‰æ²¡æœ‰ç©ºå­—ç¬¦ã€‚</li>
</ol>
<hr />
<h1 id="ç¬¬ä¸ƒç« -cæ§åˆ¶è¯­å¥åˆ†æ”¯å’Œè·³è½¬"><a class="markdownIt-Anchor" href="#ç¬¬ä¸ƒç« -cæ§åˆ¶è¯­å¥åˆ†æ”¯å’Œè·³è½¬"></a> ç¬¬ä¸ƒç«  Cæ§åˆ¶è¯­å¥ï¼šåˆ†æ”¯å’Œè·³è½¬</h1>
<h2 id="åšä¸€ä¸ªç»Ÿè®¡å•è¯æ•°é‡çš„ç¨‹åºå®è·µ"><a class="markdownIt-Anchor" href="#åšä¸€ä¸ªç»Ÿè®¡å•è¯æ•°é‡çš„ç¨‹åºå®è·µ"></a> åšä¸€ä¸ªç»Ÿè®¡å•è¯æ•°é‡çš„ç¨‹åºï¼ˆå®è·µï¼‰</h2>
<p>åŠŸèƒ½æ˜¯ç»Ÿè®¡å•è¯çš„æ•°é‡ï¼Œè®¡ç®—å­—ç¬¦æ•°å’Œè¡Œæ•°ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;ctype.h&gt; //ä¸ºisspace()å‡½æ•°æä¾›åŸå‹</span><br><span class="line">#include&lt;stdbool.h&gt; //ä¸ºbool true falseæä¾›å®šä¹‰</span><br><span class="line"></span><br><span class="line">#define STOP &#x27;|&#x27;</span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    char c;</span><br><span class="line">    char prev; //è¯»å…¥çš„å‰ä¸€ä¸ªå­—ç¬¦</span><br><span class="line">    long n_chars=0L; //å­—ç¬¦çš„æ•°é‡</span><br><span class="line">    int n_lines;</span><br><span class="line">    int n_words;</span><br><span class="line">    int p_lines;</span><br><span class="line">    p_lines=n_lines=n_words=0;</span><br><span class="line">    bool inword=false;</span><br><span class="line"></span><br><span class="line">    printf(&quot;Enter text to be analyzed (| to terminate):\n&quot;);</span><br><span class="line">    prev=&#x27;\n&#x27;;</span><br><span class="line">    while( ( c=getchar() ) != STOP)</span><br><span class="line">    &#123;</span><br><span class="line">        n_chars++;</span><br><span class="line">        if(c == &#x27;\n&#x27;)</span><br><span class="line">        &#123;</span><br><span class="line">            n_lines++; //ç»Ÿè®¡è¡Œ</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if( !isspace(c) &amp;&amp; !inword )</span><br><span class="line">        &#123;</span><br><span class="line">            inword=true;</span><br><span class="line">            n_words++; //ç»Ÿè®¡å•è¯ä¸ªæ•°</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if( isspace(c) &amp;&amp; inword )</span><br><span class="line">            inword=false;</span><br><span class="line"></span><br><span class="line">        prev=c;</span><br><span class="line">    &#125;</span><br><span class="line">    if(prev != &#x27;\n&#x27;)</span><br><span class="line">        p_lines=1;</span><br><span class="line"></span><br><span class="line">    printf(&quot;characters =%ld, words = %d, lines = %d&quot;, n_chars, n_words, n_lines);</span><br><span class="line">    printf(&quot;\tpartial lines = %d&quot;, p_lines);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="è®¤è¯†æ¡ä»¶è¿ç®—ç¬¦"><a class="markdownIt-Anchor" href="#è®¤è¯†æ¡ä»¶è¿ç®—ç¬¦"></a> è®¤è¯†æ¡ä»¶è¿ç®—ç¬¦ ?:</h2>
<p>è¿™æ˜¯if-elseè¯­å¥çš„ä¸€ç§å¿«æ·çš„è¡¨è¾¾æ–¹å¼ï¼š<br />
<code>x = (y &lt; 0) ? -y : y;</code><br />
ç­‰ä»·äºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">if (y &lt; 0)</span><br><span class="line">	x = -y;</span><br><span class="line">else</span><br><span class="line">	x = y;</span><br></pre></td></tr></table></figure>
<p>æ€»è€Œè¨€ä¹‹ï¼Œ?:éœ€è¦ä¸‰ä¸ªexpressionã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">expression1 ? expression2 : expression3</span><br></pre></td></tr></table></figure>
<p>æ„æ€æ˜¯ï¼Œå¦‚æœ1ä¸ºçœŸï¼Œæ•´ä¸ªæ¡ä»¶è¡¨è¾¾å¼ï¼ˆæ³¨æ„ä¸Šé¢è¿™æ•´ä¸ªæ˜¯æœ‰ä¸€ä¸ªå€¼çš„ï¼Œè¿™æ•´ä¸ªç§°ä¸ºä¸€ä¸ªæ¡ä»¶è¡¨è¾¾å¼ï¼‰çš„å€¼æ˜¯2çš„å€¼ï¼Œå¦åˆ™æ˜¯3çš„å€¼ã€‚</p>
<h1 id="ç¬¬åä¸€ç« -å­—ç¬¦ä¸²å’Œå­—ç¬¦ä¸²å‡½æ•°"><a class="markdownIt-Anchor" href="#ç¬¬åä¸€ç« -å­—ç¬¦ä¸²å’Œå­—ç¬¦ä¸²å‡½æ•°"></a> ç¬¬åä¸€ç«  å­—ç¬¦ä¸²å’Œå­—ç¬¦ä¸²å‡½æ•°</h1>
<h2 id="è¡¨ç¤ºå­—ç¬¦ä¸²å’Œå­—ç¬¦ä¸²io"><a class="markdownIt-Anchor" href="#è¡¨ç¤ºå­—ç¬¦ä¸²å’Œå­—ç¬¦ä¸²io"></a> è¡¨ç¤ºå­—ç¬¦ä¸²å’Œå­—ç¬¦ä¸²I/O</h2>
<h3 id="å­—ç¬¦ä¸²å¸¸é‡"><a class="markdownIt-Anchor" href="#å­—ç¬¦ä¸²å¸¸é‡"></a> å­—ç¬¦ä¸²å¸¸é‡</h3>
<p>é¦–å…ˆæ˜¯å®šä¹‰å­—ç¬¦ä¸²ã€‚ä½¿ç”¨åŒå¼•å·æ‹¬èµ·æ¥çš„éƒ¨åˆ†å«åšå­—ç¬¦ä¸²å¸¸é‡ï¼Œæœ‰ä¸€ä¸ªå°æŠ€å·§å°±æ˜¯å‡å¦‚å­—ç¬¦ä¸²åŒ…æ‹¬åŒå¼•å·ä½†æ˜¯ä¸æƒ³è®©å­—ç¬¦ä¸²ä¸­æ­¢å°±è¦ä½¿ç”¨è½¬ä¹‰å­—ç¬¦ã€‚<strong>å½“å­—ç¬¦ä¸²å¸¸é‡å‚¨å­˜åœ¨å†…å­˜é‡Œé¢çš„æ—¶å€™ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åœ¨æœ«å°¾åŠ ä¸€ä¸ª\0</strong>ã€‚</p>
<p><strong>å­—ç¬¦ä¸²å¸¸é‡å±äº*é™æ€ç±»åˆ«*(static storage class)ï¼Œæ„æ€æ˜¯è¯´åœ¨å‡½æ•°é‡Œé¢ä½¿ç”¨å­—ç¬¦ä¸²å¸¸é‡çš„æ—¶å€™è¿™ä¸ªå­—ç¬¦ä¸²åªä¼šè¢«å­˜å‚¨ä¸€æ¬¡ã€‚</strong></p>
<p>å­—ç¬¦ä¸²æœ‰å¯èƒ½ä½¿ç”¨æŒ‡é’ˆæŒ‡å‘é¦–åœ°å€ï¼Œä¹Ÿæœ‰å¯èƒ½ä½¿ç”¨å­—ç¬¦æ•°ç»„æ¥å­˜å‚¨ï¼Œä¸€èˆ¬å°±è¿™é‡Œä¸¤ç§æ‰‹æ®µå‚¨å­˜å­—ç¬¦ä¸²ã€‚æŒ‡é’ˆä¸è°ˆï¼Œä¼šä¸ä¼šæœ‰äººåœ¨ä½¿ç”¨å­—ç¬¦ç±»å‹çš„æ•°ç»„çš„æ—¶å€™è¿™æ ·åˆå§‹åŒ–ï¼Ÿ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const char m1[7] = &#123;&#x27;w&#x27;, &#x27;h&#x27;, &#x27;o&#x27;, &#x27;a&#x27;, &#x27;y&#x27;, &#x27;?&#x27;, 0&#125;;</span><br></pre></td></tr></table></figure>
<p>é¦–å…ˆç€è‚¯å®šæ˜¯æ²¡é—®é¢˜çš„ï¼Œæ˜¯æ ‡å‡†è¯­æ³•ã€‚ä½†æ˜¯å®é™…ä¸Šå¯ä»¥è¿™æ ·ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const char m1[7] = &quot;whoay?&quot;;</span><br></pre></td></tr></table></figure>
<p>ä¸€å®šæ³¨æ„ä¸è¦åŠ å¤§æ‹¬å·ï¼ç›´æ¥ä½¿ç”¨åŒå¼•å·åˆå§‹åŒ–ã€‚</p>
<p>å½“ç„¶æ›´ä¸ºèªæ˜çš„äººä¹Ÿè®¸ä¼šè¿™æ ·ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const char m1[] = &quot;whoay?&quot;;</span><br></pre></td></tr></table></figure>
<p>å°†æ•°ç»„ç•™ç©ºï¼Œè®©ç¼–è¯‘å™¨è‡ªåŠ¨åˆ†é…åˆç†å¤§å°çš„æ•°ç»„ç©ºé—´ï¼Œè¿™æ ·æ›´åŠ å®‰å…¨ã€‚</p>
<p>å¿½ç„¶å‘ç°è¿™é‡Œæœ‰æ–°ç‰¹æ€§ï¼Œå³ä½¿å†™æˆ<code>const char m1[6] = &quot;whoay?&quot;;</code>å†ä½¿ç”¨gccçš„æƒ…å†µä¸‹ä¸ä¼šæŠ¥é”™ï¼Œç¼–è¯‘æ­£å¸¸è¿è¡Œã€‚å°±æ˜¯0æ²¡æœ‰å­˜è¿›å»è€Œå·²ã€‚è¿™å°±éšç¼˜äº†ï¼Œå‡å¦‚å†…å­˜é‡Œé¢æœ‰0é‚£ä¹ˆæ‰“å°å°±åœæ­¢ï¼Œæ²¡æœ‰å°±ä¼šå¾€åé¢å†æ‰“ä¸€ç‚¹ä¹±ç ã€‚</p>
<hr />
<p>å…³äºé™æ€é‡å’Œå­—ç¬¦ä¸²å¸¸é‡ä¹‹ç±»çš„è®¨è®ºä¸‹é¢çš„ç¨‹åºå¯ä»¥è¿›ä¸€æ­¥ç†è§£ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//æŒ‡é’ˆå’Œæ•°ç»„å’Œå­—ç¬¦ä¸²å¸¸é‡</span><br><span class="line">#define MSG &quot;I&#x27;m special&quot;</span><br><span class="line"></span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    char ar[] = MSG;</span><br><span class="line">    const char *pt = MSG;</span><br><span class="line">    printf(&quot;address of \&quot;I&#x27;m special\&quot; : %p\n&quot;, &quot;I&#x27;m special&quot;);</span><br><span class="line">    printf(&quot;          address ar : %p\n&quot;, ar);</span><br><span class="line">    printf(&quot;          address of pt : %p\n&quot;, pt);</span><br><span class="line">    printf(&quot;          address of MSG : %p\n&quot;, MSG);</span><br><span class="line">    return 0;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹è§ï¼Œä½¿ç”¨å®å®šä¹‰äº†ä¸€ä¸ªå­—ç¬¦ä¸²å¸¸é‡MSG=â€Iâ€™m specialâ€ã€‚ç„¶åè®©ä¸€ä¸ªæ•°ç»„çš„å€¼ä¸ºå®ƒï¼Œå†constäº†ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘è¿™ä¸ªå¸¸é‡å­—ç¬¦ä¸²ã€‚æ¥ç€ä½¿ç”¨%pæ‰“å°æŒ‡é’ˆå˜é‡çš„å€¼ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">address of &quot;I&#x27;m special&quot; : 0x560db1ead008</span><br><span class="line">              address ar : 0x7ffd5b1d452c</span><br><span class="line">           address of pt : 0x560db1ead008</span><br><span class="line">          address of MSG : 0x560db1ead008</span><br></pre></td></tr></table></figure>
<p>ç›´æ¥è´´æˆ‘ç”µè„‘ä¸Šé¢çš„è¿è¡Œç»“æœã€‚ä»è¿™ä¸ªç»“æœå¯ä»¥ç›´è§‚åœ°è¯´æ˜å‡ ç‚¹ï¼š</p>
<ol>
<li>æ–°å»ºæ•°ç»„æ—¶ï¼Œæ— è®ºæ•°ç»„é‡Œé¢çš„å€¼æ˜¯ä¸æ˜¯å­—ç¬¦ä¸²å¸¸é‡ï¼Œä¸€å®šä¼šé‡æ–°åˆ†é…ç©ºé—´ã€‚</li>
<li>å°†ä¸€ä¸ªå­—ç¬¦ä¸²å¸¸é‡å¤åˆ¶ç»™æŒ‡é’ˆä¹‹åï¼Œå…¶ä»–æ‰€æœ‰ç”¨åˆ°è¿™ä¸ªå­—ç¬¦ä¸²çš„åœ°æ–¹éƒ½ä¼šå…±ç”¨ä¸€ä¸ªåœ°å€ã€‚ç¼–è¯‘å™¨å¯ä»¥æŠŠå¤šä¸ªç›¸åŒçš„å­—ç¬¦ä¸²å¸¸é‡åˆå¹¶æ¥èŠ‚çœç©ºé—´ã€‚è¿™æ˜¯ç¼–è¯‘å™¨çš„æ™ºèƒ½çš„åœ°æ–¹ã€‚</li>
<li>å³ä½¿æ˜¯åŒä¸€ä¸ªå­—ç¬¦ä¸²å¸¸é‡åœ¨å†…å­˜ä¸­ä¹Ÿå¯èƒ½å‚¨å­˜å¤šæ¬¡ï¼Œåƒæœ¬ä¾‹å­ä¸­çš„æ•°ç»„ã€‚</li>
</ol>
<h2 id="æ•°ç»„å’ŒæŒ‡é’ˆ"><a class="markdownIt-Anchor" href="#æ•°ç»„å’ŒæŒ‡é’ˆ"></a> æ•°ç»„å’ŒæŒ‡é’ˆ</h2>
<p>æ•°ç»„å®šä¹‰ä¹‹åï¼Œæ•°ç»„åä¸èƒ½å†åŠ¨äº†ã€‚å°±æˆ‘çš„ç†è§£æ¥çœ‹ä¸€æ—¦æ•°ç»„è¢«å®šä¹‰ï¼Œæ•°ç»„é¦–åœ°å€å°±æˆäº†å¸¸é‡äº†ã€‚</p>
<p>æŒ‡é’ˆä¹ŸæŒ‡å‘å¸¸é‡å­—ç¬¦ä¸²ï¼Œä½†æ˜¯æŒ‡å‘è¿‡åè¿˜æ˜¯èƒ½æ”¹å˜å®ƒçš„å€¼ã€‚</p>
<h2 id="æŒ‡é’ˆå’Œå­—ç¬¦ä¸²"><a class="markdownIt-Anchor" href="#æŒ‡é’ˆå’Œå­—ç¬¦ä¸²"></a> æŒ‡é’ˆå’Œå­—ç¬¦ä¸²</h2>
<p>å­—ç¬¦ä¸²å’ŒæŒ‡é’ˆçš„è”ç³»éå¸¸ç´§å¯†ï¼Œç°åœ¨æ¥çœ‹ä¸€ä¸ªç¨‹åºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    const char * mesg = &quot;I love study!&quot;;</span><br><span class="line">    const char * copy;</span><br><span class="line">    </span><br><span class="line">    copy = mesg;</span><br><span class="line">    printf(&quot;%s\n&quot;, copy);</span><br><span class="line">    printf(&quot;mesg = %s, &amp;mesg = %p, value = %s\n&quot;, mesg, &amp;mesg, mesg);</span><br><span class="line">    printf(&quot;copy = %s, &amp;copy = %p, value = %s\n&quot;, copy, &amp;copy, copy);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line">I love study!</span><br><span class="line">mesg = I love study!, &amp;mesg = 0x7ffeca443bf8, value = I love study!</span><br><span class="line">copy = I love study!, &amp;copy = 0x7ffeca443c00, value = I love study!</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œç»“æœæ˜¯è¿™æ ·ã€‚åˆç†ã€‚ä¸¤ä¸ªæŒ‡é’ˆçš„ä½ç½®ä¸åŒï¼ŒæŒ‡å‘åŒä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p>
<h2 id="å±é™©çš„å­—ç¬¦ä¸²ç©ºé—´åˆ†é…é—®é¢˜"><a class="markdownIt-Anchor" href="#å±é™©çš„å­—ç¬¦ä¸²ç©ºé—´åˆ†é…é—®é¢˜"></a> å±é™©çš„å­—ç¬¦ä¸²ç©ºé—´åˆ†é…é—®é¢˜</h2>
<p>çœ‹è¿™æ ·ä¸€ä¸ªä»£ç ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">char *name;</span><br><span class="line">scanf(&quot;%s&quot;, name);</span><br></pre></td></tr></table></figure>
<p>ä¹ä¸€çœ‹å¥½åƒæ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯å‡å¦‚ç¼–è¯‘çš„è¯å°±ä¼šå‘ç°ç¼–è¯‘å™¨æŠ¥é”™ã€‚ï¼ˆè¿™é‡Œä¹¦æœ¬ä¸Šé¢è¯´çš„æ˜¯ç¼–è¯‘çš„æ—¶å€™ä¼šæŠ¥é”™ï¼Œæˆ‘è¿™é‡Œçš„å®é™…æƒ…å†µæ˜¯ç¼–è¯‘è¿‡äº†ï¼Œè¿è¡Œçš„æ—¶å€™segmentation faultï¼‰</p>
<p>è¿™æ ·å†™æ˜¯å±é™©çš„ï¼Œä¸ç®¡èƒ½ä¸èƒ½ç¼–è¯‘é€šè¿‡ã€‚å› ä¸ºä¸€å¼€å§‹å¹¶æ²¡æœ‰å‘Šè¯‰%sæœ‰å¤šå¤§ï¼Œè¿™æ ·ç¼–è¯‘å™¨ä¸çŸ¥é“ç»™è¿™ä¸ªç•™å¤šå¤§ç©ºé—´ã€‚å‡å¦‚è¾“å…¥çš„%sè¿‡å¤§ï¼Œç©ºé—´æ²¡æœ‰ç•™å¤Ÿï¼Œé‚£ä¸ªè¿™ä¸ªå­—ç¬¦ä¸²å°±ä¼šé¡¶æ‰è¿™ä¸ªç¨‹åºåœ¨å†…å­˜ä¸­çš„å…¶ä»–éƒ¨åˆ†ã€‚</p>
<p>Cè¯­è¨€çš„ç¨‹åºåœ¨æ‰§è¡Œçš„æ—¶å€™åœ¨å†…å­˜é‡Œé¢éƒ½æ˜¯æœ‰ç»“æ„çš„ï¼Œ<s>è¿™ä¸ªç­‰æˆ‘çœ‹äº†æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿå†è¯´</s>ï¼Œé¢å¯¹è¿™ç§æƒ…å†µæœ€å¥½å°±ç”¨æ•°ç»„ï¼Œå°±æ˜¯æ•°ç»„ä¸æŒ‡å®šå¤§å°ä¹Ÿä¸è¦ç”¨æŒ‡é’ˆã€‚</p>
<h2 id="getså‡½æ•°çš„æ›¿ä»£é—®é¢˜"><a class="markdownIt-Anchor" href="#getså‡½æ•°çš„æ›¿ä»£é—®é¢˜"></a> gets()å‡½æ•°çš„æ›¿ä»£é—®é¢˜</h2>
<p>æˆ‘æ˜¯æ²¡æƒ³åˆ°æœ¬æ¥å‡†å¤‡åœ¨ä¸Šé¢å…³äºå¤´æ–‡ä»¶ç¼–å†™çš„ç« èŠ‚é‡Œé¢è¯´è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯ä¹¦ä¸Šé¢åˆšå¥½è¯´äº†è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>getså‡½æ•°çš„å±é™©æ€§å’Œä¸Šé¢ä¸¾çš„ä¾‹å­æ˜¯ä¸€æ ·çš„ï¼Œå› ä¸ºgetså‡½æ•°è¯»å…¥å­—ç¬¦ä¸²ä¸åŠ èŠ‚åˆ¶ï¼Œè€Œä¸”æ²¡æœ‰æ ‡æ˜è¿™ä¸ªå­—ç¬¦ä¸²åˆ°åº•å¤šå¤§ï¼Œè¿™æ ·ä¸€æ—¦è¾“å…¥æŸä¸ªå­—ç¬¦ä¸²å¤ªé•¿å°±ä¼šé¡¶æ‰è¿™ä¸ªç¨‹åºå…¶ä»–åœ°æ–¹ï¼Œåˆå«åšç¼“å†²åŒºæº¢å‡º*(buffer overflow)*ï¼Œè¶…å‡ºçš„å­—ç¬¦ä¸²æœ‰å¯èƒ½ä¼šç ´åç¨‹åºã€‚</p>
<p><strong>c11æ ‡å‡†é‡‡å–äº†éå¸¸ä¸¥æ ¼çš„æ€åº¦ï¼Œè¿™ä¸ªå‡½æ•°å°†åœ¨c11æ ‡å‡†è¢«åˆ é™¤ï¼</strong></p>
<p>æ–¹æ³•æ˜¯ä½¿ç”¨fgetså‡½æ•°ä»£æ›¿ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    char *str=0;</span><br><span class="line">    gets(str);</span><br><span class="line">    fgets(str, 60, stdin); //è¿™é‡Œé¢ä¸¤ä¸ªå‡½æ•°æ˜¯ç­‰ä»·çš„</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¥½å§ä¹Ÿä¸æ˜¯å®Œå…¨ç­‰ä»·ï¼Œä¸‹é¢æœ€å¤šåªèƒ½è¾“å…¥60ä¸ªå­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯è¯´åŠ å…¥ä½ è¾“å…¥äº†70ä¸ªå­—ç¬¦ï¼Œæœ€ç»ˆè¯»åˆ°stré‡Œé¢çš„å°±åªæœ‰60ä¸ªã€‚<strong>åœ¨æ¨èæ ‡å‡†ä¸‹ä¸èƒ½æ— é™åˆ¶è¯»å…¥å­—ç¬¦ä¸²</strong>ï¼Œè™½ç„¶çœ‹ä¸Šå»ä¸åˆç†ä½†æ˜¯è¿™æ ·ç¡®å®å®‰å…¨ä¸€äº›ã€‚è¦æ˜¯æ€•è¯»ä¸å®Œæ•°å­—å°±è°ƒå¤§ç‚¹ã€‚ã€‚ã€‚ã€‚</p>
<p><a href="https://www.runoob.com/cprogramming/c-function-fgets.html">fgets</a></p>
<p>è¿˜æ˜¯è´´ä¸Šfgetsçš„å‡½æ•°ç”¨æ³•ã€‚</p>
<hr />
<p>éšä¹¦è¿˜é™„åŠ äº†ä¸€äº›å­—ç¬¦ä¸²å‡½æ•°ï¼Œè¿™äº›å­—ç¬¦ä¸²å‡½æ•°éƒ½å¯ä»¥åœ¨string.hä¸­æ‰¾åˆ°ã€‚ï¼ˆå…¶å®å°±è®¸å¤šCè¯­è¨€çš„é¢˜ç›®éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨æ ‡å‡†åº“ä¸­çš„å‡½æ•°è§£å†³ï¼Œå¸¸è§çš„åƒæ’åºï¼Œå­—ç¬¦ä¸²åˆå¹¶ç­‰ç­‰ï¼‰</p>
<p><a href="https://www.runoob.com/cprogramming/c-standard-library-string-h.html">èœé¸Ÿæ•™ç¨‹sting.h</a></p>
<p>è¿˜æœ‰ä¸€éƒ¨åˆ†å’Œå¤„ç†å­—ç¬¦ä¸²æœ‰å…³çš„å‡½æ•°è¢«æ”¾åœ¨stdlibé‡Œé¢ï¼Œå¯ä»¥æœç´¢strå°±èƒ½æ‰¾åˆ°ä»–ä»¬ã€‚</p>
<p><a href="https://www.runoob.com/cprogramming/c-standard-library-stdlib-h.html">èœé¸Ÿæ•™ç¨‹stdlib.h</a></p>
<p><s>èµ¶å¿«ç»“æŸè¿™ä¸€ç« å§ï¼Œè™½ç„¶çŸ¥è¯†ç‚¹è¿˜æœ‰å¾ˆå¤šä½†æ˜¯åŸºæœ¬ä¸Šå¯¹æˆ‘æ¥è¯´ç”¨çš„å¾ˆå°‘ï¼Œåˆ°æ—¶å€™å†æŸ¥</s></p>
<h1 id="ç¬¬åäºŒç« -å­˜å‚¨ç±»åˆ«-é“¾æ¥å’Œå†…å­˜ç®¡ç†"><a class="markdownIt-Anchor" href="#ç¬¬åäºŒç« -å­˜å‚¨ç±»åˆ«-é“¾æ¥å’Œå†…å­˜ç®¡ç†"></a> ç¬¬åäºŒç«  å­˜å‚¨ç±»åˆ«ã€é“¾æ¥å’Œå†…å­˜ç®¡ç†</h1>
<p>è¿™ä¸ªæ¯”è¾ƒä¸“ä¸šï¼Œé€ç« ç¬”è®°ã€‚ä½œç”¨åŸŸ, å­˜å‚¨æœŸå’Œé“¾æ¥æ˜¯æè¿°ä¸€ä¸ªå˜é‡çš„ä¸‰ä¸ªè§’åº¦.</p>
<h2 id="1211ä½œç”¨åŸŸ"><a class="markdownIt-Anchor" href="#1211ä½œç”¨åŸŸ"></a> 12.1.1ä½œç”¨åŸŸ</h2>
<p>ä½œç”¨åŸŸæ˜¯æè¿°å¯ä»¥è®¿é—®æ ‡è¯†ç¬¦çš„åŒºåŸŸã€‚ä¸€ä¸ªCå˜é‡çš„ä½œç”¨åŸŸå¸¸è§çš„æœ‰<strong>å—ä½œç”¨åŸŸï¼Œå‡½æ•°ä½œç”¨åŸŸï¼Œå‡½æ•°åŸå‹ä½œç”¨åŸŸæˆ–è€…æ˜¯æ–‡ä»¶ä½œç”¨åŸŸ</strong>ã€‚</p>
<p><strong>å—ä½œç”¨åŸŸ</strong>æ˜¯ç”¨èŠ±æ‹¬å·æ‹¬èµ·æ¥çš„åŒºåŸŸï¼Œå‡½æ•°ä¸­ä½¿ç”¨çš„å±€éƒ¨å˜é‡éƒ½å…·æœ‰å—ä½œç”¨åŸŸã€‚</p>
<p><strong>å‡½æ•°ä½œç”¨åŸŸ</strong>æ˜¯ç”¨äºgotoè¯­å¥çš„æ ‡ç­¾ã€‚ï¼ˆçœ‹ä¸æ‡‚ï¼‰</p>
<p><strong>å‡½æ•°åŸå‹ä½œç”¨åŸŸ</strong>æ˜¯ä»å½¢å‚å®šä¹‰åˆ°å‡½æ•°åŸå‹å£°æ˜ç»“æŸã€‚è¿™é‡Œç›´æ¥è¯æ˜äº†å‡½æ•°åŸå‹é‡Œé¢å˜é‡çš„åå­—å®Œå…¨ä¸å½±å“å®šä¹‰ã€‚</p>
<p>ä¸¾ä¸ªæ —å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int function(int a, int b);</span><br><span class="line"></span><br><span class="line">int function(int m, int n)</span><br><span class="line">&#123;</span><br><span class="line">    return m+n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œå°±ä¸ç”¨æ‹…å¿ƒmè¿˜æœ‰nçš„æ··æ·†é—®é¢˜ï¼Œå› ä¸ºåˆ°ä¸‹é¢çš„æ—¶å€™å‡½æ•°å·²ç»å®Œå…¨ä¸è®¤è¯†aå’Œbäº†ï¼Œaå’Œbçš„ä½œç”¨åŸŸåªåœ¨é‚£ä¸ªå°æ‹¬å·é‡Œé¢ã€‚å‰é¢å·²ç»å­¦åˆ°è¿‡å‡½æ•°å£°æ˜ä»…ä»…åªç®¡ç±»å‹ï¼Œä¸ç®¡åå­—ã€‚</p>
<p><strong>æ–‡ä»¶ä½œç”¨åŸŸ</strong>æ˜¯å½“ä¸€ä¸ªå˜é‡å®šä¹‰åœ¨å‡½æ•°å¤–é¢æ—¶å€™çš„ä½œç”¨åŸŸï¼Œä¹Ÿå«åš<strong>å…¨å±€å˜é‡</strong>ã€‚è¿™æ ·çš„å˜é‡å¯ä»¥ç”¨äºå¤šä¸ªå‡½æ•°ã€‚</p>
<p>è¿™é‡Œè¯´çš„å¾ˆå¥½ï¼Œæœ‰äººè¯´é‚£å¦ä¸€ä¸ªæ–‡ä»¶é‡Œé¢å¯ä¸å¯ä»¥ç”¨å‘¢ï¼Ÿå¦ä¸€ä¸ªæ–‡ä»¶é‡Œé¢ä¸€èˆ¬å†™çš„ä¸å°±æ˜¯å‡½æ•°å˜›ï¼Œä¸€å¥å¯ä»¥ç”¨äºå¤šä¸ªå‡½æ•°ä¹Ÿæš—ç¤ºç€ä¸åªè¿™ä¸ªæ–‡ä»¶çš„å‡½æ•°å¯ä»¥ç”¨ã€‚</p>
<h2 id="1212-é“¾æ¥"><a class="markdownIt-Anchor" href="#1212-é“¾æ¥"></a> 12.1.2 é“¾æ¥</h2>
<p>Cå˜é‡æœ‰ä¸‰ä¸ªé“¾æ¥å±æ€§ã€‚<strong>å¤–éƒ¨é“¾æ¥ã€å†…éƒ¨é“¾æ¥å’Œæ— é“¾æ¥ã€‚</strong></p>
<p>å‡¡æ˜¯å—ä½œç”¨åŸŸã€å‡½æ•°ä½œç”¨åŸŸæˆ–è€…æ˜¯å‡½æ•°åŸå‹ä½œç”¨åŸŸçš„å˜é‡éƒ½æ˜¯æ— é“¾æ¥å˜é‡ã€‚</p>
<p>é‚£ä¹ˆä¸€ä¸ªå˜é‡å…·æœ‰æ–‡ä»¶ä½œç”¨åŸŸï¼Œå°±çœ‹å®ƒæœ‰æ²¡æœ‰staticå£°æ˜ï¼Œå¦‚æœæœ‰å°±æ˜¯å†…éƒ¨é“¾æ¥ï¼Œæ²¡æœ‰å°±æ˜¯å¤–éƒ¨é“¾æ¥ã€‚</p>
<p>è¿™é‡Œé“¾æ¥çš„æ¦‚å¿µæ˜¯è¿™ä¸ªå˜é‡å’Œå…¶ä»–æ–‡ä»¶ä¹‹é—´çš„å…³ç³»ï¼Œå› ä¸ºåªæœ‰å…·æœ‰æ–‡ä»¶ä½œç”¨åŸŸçš„å˜é‡æ‰å¯ä»¥è¢«å…¶ä»–æ–‡ä»¶ä½¿ç”¨ï¼Œæ‰€ä»¥å«å¤–éƒ¨é“¾æ¥ï¼ˆå¯ä»¥ä¾›å¤–éƒ¨ä½¿ç”¨çš„å˜é‡ï¼‰ã€‚åŠ ä¸Šstaticå°±æ˜¯ä¸è®©å¤–éƒ¨ä½¿ç”¨ï¼Œå°±æ˜¯å†…éƒ¨é“¾æ¥å˜é‡ã€‚å…¶ä»–çš„ä¸è°ˆé“¾æ¥ï¼Œå› ä¸ºæ— è®ºå¦‚ä½•éƒ½ä¸ä¼šè¢«å¤–éƒ¨æ–‡ä»¶ä½¿ç”¨ã€‚</p>
<h2 id="1213-å­˜å‚¨æœŸ"><a class="markdownIt-Anchor" href="#1213-å­˜å‚¨æœŸ"></a> 12.1.3 å­˜å‚¨æœŸ</h2>
<p><strong>ä½œç”¨åŸŸå’Œé“¾æ¥æè¿°äº†æ ‡è¯†ç¬¦çš„å¯è§æ€§ï¼Œå­˜å‚¨æœŸæè¿°äº†å˜é‡çš„ç”Ÿå­˜å‘¨æœŸã€‚</strong></p>
<p>Cå˜é‡æœ‰å››ä¸ªå­˜å‚¨æœŸï¼š</p>
<ol>
<li>é™æ€å­˜å‚¨æœŸ</li>
<li>çº¿ç¨‹å­˜å‚¨æœŸ</li>
<li>è‡ªåŠ¨å­˜å‚¨æœŸ</li>
<li>åŠ¨æ€åˆ†é…å­˜å‚¨æœŸ</li>
</ol>
<p>é™æ€å­˜å‚¨åŒºçš„æ„æ€æ˜¯ï¼Œåœ¨ç¨‹åºè¿è¡Œçš„è¿‡ç¨‹ä¸­å˜é‡ä¸€ç›´å­˜åœ¨ã€‚æ–‡ä»¶ä½œç”¨åŸŸå˜é‡éƒ½å…·æœ‰é™æ€å­˜å‚¨åŒºã€‚è€Œæ— è®ºå…¶æ˜¯å†…éƒ¨é“¾æ¥è¿˜æ˜¯å¤–éƒ¨é“¾æ¥ã€‚ï¼ˆé‚£ä¹ˆé’ˆå¯¹æ–‡ä»¶ä½œç”¨åŸŸå˜é‡ï¼Œstaticçš„ä½œç”¨ä»…ä»…æ˜¯è¡¨æ˜æ˜¯å†…éƒ¨é“¾æ¥è¿˜æ˜¯å¤–éƒ¨é“¾æ¥ï¼‰</p>
<p>çº¿ç¨‹å­˜å‚¨åŒºç”¨äºå¹¶å‘ç¨‹åºè®¾è®¡ï¼Œå·´æ‹‰å·´æ‹‰å·´æ‹‰~~</p>
<p>å—ä½œç”¨åŸŸå˜é‡å…·æœ‰è‡ªåŠ¨å­˜å‚¨æœŸã€‚å½“ç¨‹åºè¿›å…¥å—çš„æ—¶å€™ï¼Œä¸ºå—ä½œç”¨åŸŸçš„å˜é‡ç”³è¯·å†…å­˜ã€‚ç»“æŸä¹‹åå°±é‡Šæ”¾ã€‚å˜é•¿æ•°ç»„ç¨æœ‰ä¸åŒï¼Œå®ƒä¸åƒä¸€èˆ¬çš„å—ä½œç”¨åŸŸå˜é‡æ˜¯è¿›å…¥å—å¼€å§‹åˆ°å—ç»“æŸï¼Œæ˜¯å£°æ˜åˆ°å—ç»“æŸã€‚</p>
<p>åœ¨å—ä½œç”¨åŸŸå˜é‡é‡Œé¢ä½¿ç”¨staticå…³é”®å­—åœ¨åé¢æœ‰è®¨è®ºã€‚</p>
<h2 id="1214-è‡ªåŠ¨å˜é‡"><a class="markdownIt-Anchor" href="#1214-è‡ªåŠ¨å˜é‡"></a> 12.1.4 è‡ªåŠ¨å˜é‡</h2>
<p>è‡ªåŠ¨å­˜å‚¨æœŸï¼Œå—ä½œç”¨åŸŸï¼Œæ— é“¾æ¥ã€‚</p>
<h2 id="1216-å—ä½œç”¨åŸŸçš„é™æ€å˜é‡"><a class="markdownIt-Anchor" href="#1216-å—ä½œç”¨åŸŸçš„é™æ€å˜é‡"></a> 12.1.6 å—ä½œç”¨åŸŸçš„é™æ€å˜é‡</h2>
<p>å—ä½œç”¨åŸŸï¼Œæ— è¿æ¥ï¼Œé™æ€å­˜å‚¨åŒºã€‚å¯ä»¥çœ‹å‡ºæ¥æè¿°ä¸€ä¸ªå˜é‡æœ‰å¾ˆå¤šæ–¹é¢, é¦–å…ˆå°±æ˜¯ä½œç”¨äº, æŒ‡çš„æ˜¯åœ¨ä»€ä¹ˆèŒƒå›´ä¸­èƒ½å¤Ÿè®¿é—®è¿™ä¸ªå˜é‡, å†å°±æ˜¯åœ¨å†…å­˜é‡Œé¢çš„å­˜å‚¨ä½ç½®, åƒæ˜¯å—ä½œç”¨åŸŸçš„é™æ€å˜é‡(è¿™é‡Œé¢çš„é™æ€ä¸»è¦æŒ‡çš„æ˜¯åœ¨å†…å­˜é‡Œé¢åŸåœ°ä¸åŠ¨), æœ€ç»å…¸çš„å°±æ˜¯åœ¨å‡½æ•°é‡Œé¢å®šä¹‰ä¸€ä¸ªé™æ€çš„é‡, æ¯æ¬¡è°ƒç”¨å‡½æ•°ç»“æŸä¹‹åå°±æ²¡æ³•è®¿é—®è¿™ä¸ªé‡äº†, ä½†æ˜¯åªè¦mainå‡½æ•°ä¸ç»“æŸé‚£ä¹ˆè¿™ä¸ªå€¼å°±ä¸€ç›´ä¿å­˜åœ¨å†…å­˜é‡Œé¢, ä¸‹æ¬¡å†è°ƒç”¨è¿™ä¸ªå€¼è¿˜æ˜¯ä¿å­˜ä¸‹æ¥äº†.</p>
<p>å‰©ä¸‹çš„ä¸€äº›éƒ¨åˆ†å¤ªç¹çäº†çœ‹ä¸è¿›~~~~(&gt;_&lt;)~~~~.</p>
<p>ç›´æ¥å°ç»“ä¸€ä¸‹å§.</p>
<h2 id="127-å°ç»“"><a class="markdownIt-Anchor" href="#127-å°ç»“"></a> 12.7 å°ç»“</h2>
<p>å¯¹äºä¸€ä¸ªå˜é‡, ä»å­˜å‚¨æœŸ, ä½œç”¨åŸŸå’Œé“¾æ¥è¡¨å¾ä¸‰æ–¹é¢æ¥è€ƒè™‘.</p>
<p>å­˜å‚¨æœŸæ˜¯<strong>é™æ€çš„, è‡ªåŠ¨çš„æˆ–è€…åŠ¨æ€åˆ†é…</strong>çš„. é™æ€å˜é‡å­˜å‚¨æœŸæ˜¯ä»ç¨‹åºè¿è¡Œå¼€å§‹åˆ°ç»“æŸ, å˜é‡ä¸€ç›´å­˜åœ¨åœ¨å†…å­˜é‡Œé¢(è¿™é‡Œé¢æš‚æ—¶ä¸è€ƒè™‘èƒ½ä¸èƒ½è®¿é—®çš„é—®é¢˜), è‡ªåŠ¨å­˜å‚¨æœŸå°±æ˜¯åœ¨è¿›å…¥å˜é‡å®šä¹‰æ‰€åœ¨å—çš„æ—¶å€™åˆ†é…å†…å­˜, ç¦»å¼€çš„æ—¶å€™é‡Šæ”¾. åŠ¨æ€åˆ†é…å°±æ˜¯ä½¿ç”¨mallocå’Œfreeæ¥ç”³è¯·å’Œé‡Šæ”¾çš„.</p>
<p>ä½œç”¨åŸŸæ˜¯å†³å®šå“ªä¸€éƒ¨åˆ†å¯ä»¥è®¿é—®è¿™ä¸ªæ•°æ®. æ˜¯æ–‡ä»¶ä½œç”¨åŸŸ, å—ä½œç”¨åŸŸ. åœ¨æ‰€æœ‰å‡½æ•°ä¹‹å¤–å®šä¹‰çš„å˜é‡å…·æœ‰æ–‡ä»¶ä½œç”¨åŸŸ, å—å†…å°±æ˜¯å—ä½œç”¨åŸŸ.</p>
<p>é“¾æ¥æ˜¯ä¸€ä¸ªå˜é‡èƒ½è¢«å¤–éƒ¨æ–‡ä»¶è®¿é—®çš„ç¨‹åº¦, å…·æœ‰å—ä½œç”¨åŸŸçš„å˜é‡ä¸€å®šæ˜¯å±€éƒ¨å˜é‡(ä¸è°ˆæ˜¯å†…éƒ¨é“¾æ¥è¿˜æ˜¯å¤–éƒ¨é“¾æ¥), åªæœ‰æ–‡ä»¶ä½œç”¨åŸŸçš„å˜é‡æ‰æœ‰å¯èƒ½æ˜¯å…·æœ‰å¤–éƒ¨é“¾æ¥(è¿™ä¸ªæ—¶å€™æ‰æœ‰å¯èƒ½æ˜¯å†…éƒ¨é“¾æ¥å’Œå¤–éƒ¨é“¾æ¥).</p>
<h1 id="ç¬¬åä¸‰ç« -æ–‡ä»¶çš„è¾“å…¥è¾“å‡º"><a class="markdownIt-Anchor" href="#ç¬¬åä¸‰ç« -æ–‡ä»¶çš„è¾“å…¥è¾“å‡º"></a> ç¬¬åä¸‰ç«  æ–‡ä»¶çš„è¾“å…¥è¾“å‡º</h1>
<p>é¦–å…ˆCæä¾›ä¸¤ç§æ¨¡å¼, æ–‡æœ¬æ¨¡å¼å’ŒäºŒè¿›åˆ¶æ¨¡å¼. å‰é¢çš„ä¸€äº›åŸºæœ¬çš„çŸ¥è¯†éƒ½çŸ¥é“ä¸è®°äº†.</p>
<p>getcæ¯”getcharæ›´åŠ å®Œå–„, putcä¹Ÿæ¯”putcharæ›´åŠ å®Œå–„, äº‹å®ä¸Šåé¢å¸¦charçš„ä¸¤ä¸ªå‡½æ•°æ˜¯é€šè¿‡å‰é¢çš„å‡½æ•°æ¥å®šä¹‰çš„. è¿™ç« æ„Ÿè§‰å¤ªéš¾å†™ç¬”è®°äº†ä¸å†™äº†.</p>
<h1 id="ç¬¬åäº”ç« -ä½æ“ä½œ"><a class="markdownIt-Anchor" href="#ç¬¬åäº”ç« -ä½æ“ä½œ"></a> ç¬¬åäº”ç«  ä½æ“ä½œ</h1>
<h1 id="cä¸­çš„æŒ‰ä½è¿ç®—ç¬¦"><a class="markdownIt-Anchor" href="#cä¸­çš„æŒ‰ä½è¿ç®—ç¬¦"></a> Cä¸­çš„æŒ‰ä½è¿ç®—ç¬¦</h1>
<p>~: äºŒè¿›åˆ¶åç (è¿™é‡Œè¦æ³¨æ„æ˜¯æŠŠæ“ä½œçš„æ•°å­—è½¬æˆäºŒè¿›åˆ¶äº†ä¹‹åæ‰æœ‰çš„çœ‹.)</p>
<p>&amp;: æŒ‰ä½ä¸</p>
<p>|: æŒ‰ä½æˆ–</p>
<p>^: æŒ‰ä½å¼‚æˆ–</p>
<p>OK cprimerç»“æŸ</p>
]]></content>
      <tags>
        <tag>study</tag>
        <tag>Cå’ŒC++</tag>
      </tags>
  </entry>
  <entry>
    <title>manjarokdeçš„é…ç½®</title>
    <url>/2022/11/10/manjarokde%E7%9A%84%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<p>è¿™æ˜¯ä¸€ç¯‡å…³äºmanjaro-kdeç‰ˆæœ¬çš„é…ç½®ã€‚</p>
<p>å…¶å®ä¸€å¼€å§‹æˆ‘æ˜¯æ‹’ç»ä½¿ç”¨kdeæ¡Œé¢çš„ï¼Œå› ä¸ºä¸Šæ¬¡kdeè£…å¥½äº†ä¹‹åå‘ç°Nå¡é©±åŠ¨å­˜åœ¨ä¸€ç‚¹å°é—®é¢˜ã€‚ç„¶è€Œå°±åœ¨ä»Šå¤©ä¸‹åˆæˆ‘çš„xfceæ¡Œé¢å´©äº†ï¼Œè€Œä¸”ä¹Ÿä¸çŸ¥é“æ˜¯æ€ä¹ˆå›äº‹ã€‚ã€‚ã€‚</p>
<span id="more"></span>
<h1 id="è”ç½‘æ¢æº"><a class="markdownIt-Anchor" href="#è”ç½‘æ¢æº"></a> è”ç½‘æ¢æº</h1>
<p>è¿™ä¸ªæ°¸è¿œéƒ½æ˜¯ç¬¬ä¸€æ­¥ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo pacman-mirrors -i -c China -m rank</span><br></pre></td></tr></table></figure>
<p>è™½ç„¶manjaroæ·»åŠ archlinuxcnçš„æºæœ‰é£é™©ï¼Œä½†æ˜¯è°èƒ½æ‹’ç»æ–°è½¯ä»¶å‘¢ï¼Ÿè¿™é‡Œè¿˜æ˜¯ä½¿ç”¨é˜¿é‡Œå·´å·´çš„å¼€æºé•œåƒç«™ï¼š<a href="https://developer.aliyun.com/mirror/archlinuxcn?spm=a2c6h.13651102.0.0.3e221b111LkGYj">archlinuxcn-alibaba</a></p>
<p>æ³¨æ„å®‰è£…å®Œæˆä¹‹åè¿˜è¦å®‰è£…archlinuxcn-keyringã€‚</p>
<p>ä¸€åˆ‡å®Œæˆä¹‹å<code>sudo pacman -Syyu</code>ã€‚</p>
<h1 id="å®¶ç›®å½•å’Œæ—¶é—´å·®å¼‚çš„é—®é¢˜"><a class="markdownIt-Anchor" href="#å®¶ç›®å½•å’Œæ—¶é—´å·®å¼‚çš„é—®é¢˜"></a> å®¶ç›®å½•å’Œæ—¶é—´å·®å¼‚çš„é—®é¢˜</h1>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo pacman -S xdg-user-dirs-gtk</span><br><span class="line">export LANG=en_US</span><br><span class="line">xdg-user-dirs-gtk-update</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢æ˜¯è§£å†³å®¶ç›®å½•çš„é—®é¢˜ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo timedatectl set-local-rtc 1</span><br></pre></td></tr></table></figure>
<p>è¾“å…¥è¿™ä¸ªæ”¹å¥½æ—¶é—´ï¼Œç„¶åå›windowsçŸ«æ­£å°±å®Œäº‹äº†ã€‚è¿™ä¸ªé—®é¢˜çš„æ ¹æœ¬åŸå› å°±æ˜¯åè°ƒä¸–ç•Œæ—¶çš„é—®é¢˜ã€‚ã€‚</p>
<h1 id="è½¯ä»¶å®‰è£…"><a class="markdownIt-Anchor" href="#è½¯ä»¶å®‰è£…"></a> è½¯ä»¶å®‰è£…</h1>
<ul>
<li>æ€»å‘½ä»¤ï¼š</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo pacman -S yay base-devel nodejs npm</span><br><span class="line">yay -S visual-studio-code-bin google-chrome neovim debtap timeshift neovim wemeet wechat-uos gdb icalingua++ wps-office-mui-zh-cn tlp obsidian gnome-keyring electron-netease-cloud-music qtcreator eclipse fcitx5-im fcitx5-rime rime-cloverpinyin</span><br></pre></td></tr></table></figure>
<p>æœ‰ä¸€è¯´ä¸€æˆ‘æ²¡æƒ³åˆ°å±…ç„¶ä¸é¢„è£…gdbï¼Œæˆ‘æ˜¯æ²¡æƒ³åˆ°ã€‚</p>
<p>eclipseå’Œqtåˆ†åˆ«æ˜¯javaå’ŒQT C++çš„IDEï¼Œè‡³äºä¸ºä»€ä¹ˆä¸ç”¨ideaï¼Œå½“ç„¶æ˜¯å­¦æ ¡çš„ç¤ºèŒƒç¨‹åºç”¨çš„å°±æ˜¯eclipseã€‚ï¼ˆè€Œä¸”IDEå¹¶ä¸å½±å“ç¼–ç¨‹æŠ€æœ¯ï¼‰</p>
<h2 id="å…ˆè§£å†³è¾“å…¥æ³•çš„é—®é¢˜"><a class="markdownIt-Anchor" href="#å…ˆè§£å†³è¾“å…¥æ³•çš„é—®é¢˜"></a> å…ˆè§£å†³è¾“å…¥æ³•çš„é—®é¢˜</h2>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo pacman -S yay base-devel</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢è¯´çš„æ˜¯ä¸€äº›æœ€åŸºæœ¬çš„æ‰“åŒ…å·¥å…·çš„å®‰è£…ï¼Œåœ¨ä»¥åçš„å®‰è£…è½¯ä»¶çš„è¿‡ç¨‹ä¸­å¾ˆæœ‰å¯èƒ½ä¼šéœ€è¦è¿™äº›å·¥å…·ã€‚</p>
<p>åˆšå¼€å§‹æ˜¯ä½¿ç”¨çš„å­¦é•¿çš„æ–¹æ¡ˆï¼Œä½†æ˜¯ç°åœ¨å‘ç°æœç‹—è¾“å…¥æ³•è¿˜æ˜¯æ³°æ‹‰ã€‚ã€‚</p>
<p><a href="https://zhuanlan.zhihu.com/p/114296129">manjarokdeé…ç½®å…¨æ”»ç•¥</a></p>
<p>å¾ˆå¤šæƒ…å†µä¸‹æˆ‘éƒ½æ˜¯å‚è€ƒçš„è¿™ä¸ªé…ç½®æ”»ç•¥ï¼Œä½œè€…ä¸€ç›´åœ¨æ›´æ–°æˆ‘ä¹Ÿå¾ˆå–œæ¬¢ã€‚ç°åœ¨æ˜¯ç”¨rimeè¾“å…¥æ³•ã€‚è¿™ä¸ªè¾“å…¥æ³•æ¯”è¾ƒä¸å¥½çš„åœ°æ–¹æ˜¯ï¼Œå®ƒä¸‹è½½çš„æ—¶å€™å®Œå…¨æ˜¯çœ‹githubçš„å¿ƒæƒ…ã€‚åŸæ¥è¿™é‡Œä½¿ç”¨çš„æ˜¯æœç‹—æ‹¼éŸ³ï¼Œä½†æ˜¯å®é™…ç”¨ä¸‹æ¥æ„Ÿè§‰ä¸æ˜¯å¾ˆå¥½ï¼ˆé¦–å…ˆå°±æ˜¯å“åº”é€Ÿåº¦ä¸Šé¢æ„Ÿè§‰å¾ˆæ…¢ã€‚ã€‚ï¼‰</p>
<p>å…¶å®åˆšåˆšé…ç½®å‡ºæ¥çš„è¿™ä¸ªè¾“å…¥æ³•ä¸æ˜¯å¾ˆå¥½ç”¨ï¼Œå› ä¸ºè¯åº“æ¯”è¾ƒå·®ã€‚ã€‚è¿™ä¸ªä½œè€…ä¹Ÿå†™äº†ä¸€ç¯‡å¸–å­ï¼Œåœ¨åˆšåˆšçš„manjaroé…ç½®å…¨æ”»ç•¥é‡Œé¢ã€‚ä½œè€…ç”šè‡³è¿˜ä¿å­˜äº†ç°æˆçš„è¯åº“æ–‡ä»¶ï¼Œåªéœ€è¦è§£å‹åˆ°æŒ‡å®šä½ç½®å°±èƒ½ç”¨ã€‚</p>
<p>è¿™ä¸ªè¾“å…¥æ³•ä¸€ä¸ªæ¯”è¾ƒéº»çƒ¦çš„ç‚¹å°±æ˜¯é…ç½®æ˜¯é€šè¿‡é…ç½®æ–‡ä»¶è§£å†³çš„ï¼Œä¸è¿‡è¿™å¯¹äºlinuxç”¨æˆ·æ¥è®²ï¼Œä¼°è®¡å·²ç»æ˜¯å®¶å¸¸ä¾¿é¥­äº†ã€‚</p>
<h2 id="å…¶ä»–è½¯ä»¶å’Œè®©äººè§‰å¾—æ›´èˆ’æœçš„é…ç½®"><a class="markdownIt-Anchor" href="#å…¶ä»–è½¯ä»¶å’Œè®©äººè§‰å¾—æ›´èˆ’æœçš„é…ç½®"></a> å…¶ä»–è½¯ä»¶å’Œè®©äººè§‰å¾—æ›´èˆ’æœçš„é…ç½®</h2>
<p>å…¶ä»–è½¯ä»¶å…¶å®ä¹Ÿæ²¡æœ‰ä»€ä¹ˆï¼Œéœ€è¦ä»€ä¹ˆå°±å®‰è£…ä»€ä¹ˆå°±å®Œäº‹äº†ã€‚å°±æ˜¯æœ‰çš„è½¯ä»¶éœ€è¦é…ç½®å€¼å¾—ä¸€è¯´ï¼š</p>
<h3 id="neovim"><a class="markdownIt-Anchor" href="#neovim"></a> neovim</h3>
<p>é…ç½®è¯¦ç»†è§<a href="https://gitee.com/oiaom/my_vim">my_vim</a>ã€‚</p>
<p><s>ç°åœ¨å·²ç»æ²¡æœ‰ç»´æŠ¤äº†</s></p>
<h3 id="vscode"><a class="markdownIt-Anchor" href="#vscode"></a> vscode</h3>
<p>å®‰è£…ä¹‹åï¼ˆå®‰è£…åŒ…çš„åå­—å«åšvisual-studio-code-binï¼‰ï¼Œç›´æ¥è”ç½‘åŒæ­¥æ’ä»¶ã€‚manjarokdeæ¡Œé¢æˆ‘è§‰å¾—æ¯”è¾ƒé€‚åˆç¼–ç¨‹çš„å­—ä½“æ˜¯ä¸€ä¸ªå«åšNoto Monoçš„å­—ä½“ã€‚å…¶å®æ„Ÿè§‰å¾ˆå¤šæ–¹é¢å·²ç»èµ¶å¾—ä¸Šå¾®è½¯é›…é»‘å’Œconsolaçš„æ··åˆå­—ä½“äº†ã€‚è€Œä¸”ç”±äºæ˜¯åŸè£…çš„å­—ä½“ï¼Œå¯¹äºç‰¹æ®Šç¬¦å·åŒ…æ‹¬emojiçš„æ”¯æŒæ˜¾ç¤ºå¥½åƒç¨å¾®è¦å¥½ä¸€äº›ï¼Ÿå½“ç„¶è¿™ä¸ªå­—ä½“è¿˜æ˜¯æœ‰çš„æ—¶å€™ä¸å¦¥å½“ï¼Œæ¯”å¦‚å¤åˆ¶çš„å¤ï¼Œç»™äººä¸€ç§çŸ­ä¸€æˆªçš„æ„Ÿè§‰ã€‚æ‰€ä»¥ä½¿ç”¨æ€æºé»‘ä½“ä¹Ÿæ˜¯å¾ˆå¥½çš„é€‰æ‹©ã€‚</p>
<p>ç„¶åæ˜¯æ²¡æ³•ç™»å½•åŒæ­¥çš„é—®é¢˜ï¼Œè¿™ä¸ªæ˜¯æ²¡æœ‰å®‰è£…gnome-keyringçš„ç¼˜æ•…ã€‚</p>
<h3 id="æ˜¾ç¤ºç¼©æ”¾"><a class="markdownIt-Anchor" href="#æ˜¾ç¤ºç¼©æ”¾"></a> æ˜¾ç¤ºç¼©æ”¾</h3>
<p>è¿™ä¸ªä¸è¦å»æ”¹å­—ä½“ï¼Œè¿™æ ·æ•ˆæœå¾ˆä¸å¥½ã€‚æ­£ç¡®çš„æ‰“å¼€æ–¹å¼åº”è¯¥æ˜¯åœ¨æ˜¾ç¤ºå™¨è®¾ç½®é‡Œé¢è®¾ç½®ç¼©æ”¾ä¸º150è¿˜æ˜¯æ¯”è¾ƒåˆé€‚çš„ã€‚æ³¨æ„æ”¹å®Œä¹‹åä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ªdpiï¼Œä¸è¦åŠ¨å®ƒï¼</p>
<h3 id="ä¸‹è½½å¾®ä¿¡"><a class="markdownIt-Anchor" href="#ä¸‹è½½å¾®ä¿¡"></a> ä¸‹è½½å¾®ä¿¡</h3>
<p>ç°åœ¨AURé‡Œé¢æ¯”è¾ƒå¥½ç”¨çš„å¾®ä¿¡çš„åŒ…çš„åå­—å«åš com.tencent.weixinï¼Œç›®å‰æ¥çœ‹è¿˜æ˜¯æŒºå¥½ç”¨çš„ã€‚</p>
<h3 id="typora"><a class="markdownIt-Anchor" href="#typora"></a> typora</h3>
<p>è¿™ä¸ªè™½ç„¶æœ‰ä¸€ä¸ªæŠ¥å«åštypora-freeä½†æ˜¯å®é™…ä¸Šä¸é­”æ³•ä¸Šç½‘æ ¹æœ¬ä¸è¡Œï¼Œæ‰€ä»¥è¿˜å¥½æˆ‘å­˜äº†ä¸€ä¸ªtyporaçš„debåŒ…ã€‚ç„¶åä½¿ç”¨debtapè¿›è¡Œä¸€ä¸ªå®‰è£…ï¼Œdebtapè¿˜æ˜¯å¥½ç”¨æ»´ï¼</p>
<h3 id="wpsåœ¨150ç¼©æ”¾ä¸‹å­—ä½“å‘è™šé—®é¢˜"><a class="markdownIt-Anchor" href="#wpsåœ¨150ç¼©æ”¾ä¸‹å­—ä½“å‘è™šé—®é¢˜"></a> WPSåœ¨150ç¼©æ”¾ä¸‹å­—ä½“å‘è™šé—®é¢˜</h3>
<p>è¿™ä¸ªå¾ˆç®€å•è§£å†³ã€‚</p>
<p><a href="https://aur.archlinux.org/packages/wps-office-mui-zh-cn">wpsçš„aur</a></p>
<p>é‡Œé¢å¯ä»¥æ‰¾åˆ°è§£å†³åŠæ³•ã€‚ä»–è¿™ä¸ªæ˜¯ç›´æ¥ä¿®æ”¹äº†binæ–‡ä»¶ï¼Œæˆ‘çš„æ–¹æ¡ˆæ˜¯åªæ˜¯æ›´æ”¹å¯åŠ¨å™¨ã€‚å³é”®å·¦ä¸‹è§’çš„å¯åŠ¨å™¨ï¼Œå†æ¯ä¸ªå…³äºwpsçš„å¯åŠ¨é¡¹å‘½ä»¤å‰é¢åŠ ä¸Š<code>env QT_SCREEN_SCALE_FACTORS=1</code>ã€‚æ³¨æ„æ”¹å®Œä¹‹åä¸è¦æœ‰å¤šä½™çš„ç©ºæ ¼ä»€ä¹ˆçš„ï¼Œå°±è¿™å¥è¯åŠ ä¸Šä¸€ä¸ªç©ºæ ¼åŠ ä¸Šåé¢çš„å‘½ä»¤ã€‚</p>
<p>ä¾‹å­wpsæ–‡å­—çš„å¯åŠ¨å‘½ä»¤ï¼š<code>env QT_SCREEN_SCALE_FACTORS=1 /usr/bin/wps %U</code></p>
<p>æˆ‘çš„è¯„ä»·æ˜¯è¦ä¸ç›´æ¥æŠŠwps2019è¿™ä¸ªæ€»çš„åˆ é™¤äº†ï¼Œåƒå¾®è½¯é‚£æ ·ä¹Ÿæ˜¯åˆ†ç€çš„ã€‚</p>
<h3 id="tlpè®°å¾—å¯åŠ¨"><a class="markdownIt-Anchor" href="#tlpè®°å¾—å¯åŠ¨"></a> tlpè®°å¾—å¯åŠ¨</h3>
<p><code>sudo tlp start</code>å°±å®Œäº‹äº†ï¼Œå¦‚æœè¿™ä¸ªå‘½ä»¤ä¸èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œå°±æŒ‰ç…§æç¤ºè¾“å…¥å‘½ä»¤ã€‚</p>
<h1 id="é¢˜å¤–è¯"><a class="markdownIt-Anchor" href="#é¢˜å¤–è¯"></a> é¢˜å¤–è¯</h1>
<p>å’Œxfceç‰ˆæœ¬ç›¸æ¯”ï¼Œkdeæœ‰ä»€ä¹ˆä¸ä¸€æ ·å‘¢ï¼Ÿ</p>
<p>é¦–å…ˆä¸€ç‚¹ï¼Œé‚£å°±æ˜¯ç”±äºlinuxçš„æé«˜çš„å¯é…ç½®æ€§ï¼Œå³ä½¿å½“æ—¶å®‰è£…çš„æ˜¯xfceæ¡Œé¢æƒ³è¦é…æˆkdeæ¡Œé¢ä¹Ÿè¿˜æ˜¯éå¸¸å®¹æ˜“çš„ã€‚æ‰€ä»¥è¿™é‡Œä»…ä»…æ˜¯è®¨è®ºä¸¤ä¸ªæ¡Œé¢çš„é¢„é…ç½®å¦‚ä½•ï¼Œä¸è®¨è®ºè‡ªå·±é…ç½®çš„æƒ…å†µï¼Œæ¯•ç«Ÿè¦æ˜¯çœŸå¿ƒå–œæ¬¢kdeçš„è¯xfceæ¡Œé¢çš„ç‰ˆæœ¬ç…§æ ·å¯ä»¥å®‰è£…kdeæ¡Œé¢è¿™ä¸ªåŒ…ã€‚</p>
<p>é¦–å…ˆæ˜¯å­—ä½“ï¼Œkdeçš„é»˜è®¤å­—ä½“å¯¹äºä¸­æ–‡çš„æ˜¾ç¤ºå°±å·²ç»éå¸¸ä¸é”™äº†ï¼Œæˆ‘åŸæ¥ä½¿ç”¨xfceç‰ˆæœ¬çš„æ—¶å€™ç»å¸¸è¿˜è¦åœ¨ç½‘ä¸Šä½¿ç”¨consolaså’Œé›…é»‘çš„æ··åˆå­—ä½“ï¼Œä½†æ˜¯æ¡Œé¢æ¯•ç«Ÿè¿˜æ˜¯æœ‰ä¸€äº›bugï¼Œæœ‰çš„åœ°æ–¹æ˜¾ç¤ºæ˜¯æˆ‘è®¾ç½®çš„å­—ä½“ï¼Œæœ‰çš„åœ°æ–¹ä¸æ˜¯ã€‚</p>
<p>ä½†æ˜¯kdeæ¡Œé¢çš„é»˜è®¤å­—ä½“ä¸­æ–‡æ˜¾ç¤ºå°±éå¸¸ä¼˜ç§€äº†ã€‚</p>
<p>å†å°±æ˜¯ç¼©æ”¾ï¼Œæˆ‘åœ¨xfceç‰ˆæœ¬æ›´æ”¹ç¼©æ”¾çš„æ—¶å€™æ€»æ„Ÿè§‰ç¼©æ”¾ä¸æ˜¯å¾ˆç»Ÿä¸€ã€‚ï¼ˆè·Ÿä¸ªäººå¤ªèœæœ‰å¾ˆå¤§å…³ç³»ï¼‰æœ‰çš„æ—¶å€™æ›´æ”¹è¿˜æ˜¯è§‰å¾—ç¼©æ”¾ä¸æ˜¯å¾ˆåˆé€‚ã€‚æ„Ÿè§‰å¤§å°æœ‰ä¸€äº›ä¸åè°ƒã€‚åœ¨kdeç‰ˆæœ¬ä¸‹åœ¨æ˜¾ç¤ºå™¨è®¾ç½®é‡Œé¢æ”¹æˆ150ç¼©æ”¾æˆ–è€…è¯´æ˜¯125ç¼©æ”¾ä¸ä»…å­—ä½“æ˜¾ç¤ºä¼šæ›´åŠ æ¸…æ™°ï¼Œè€Œä¸”ç»¼åˆèµ·æ¥è§‚æ„Ÿæ¯”è¾ƒå¥½ï¼Œéå¸¸åè°ƒã€‚</p>
]]></content>
      <tags>
        <tag>study</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»å¤´å¼€å§‹</title>
    <url>/2022/11/10/%E4%BB%8E%E5%A4%B4%E5%BC%80%E5%A7%8B/</url>
    <content><![CDATA[<p>ç”±äºä¸€æ¬¡ä¸å°å¿ƒçš„äº‹æ•…, æ•´ä¸ªè£…æœ‰linuxç³»ç»Ÿçš„ç›˜æ²¡äº†. ç©¶å…¶åŸå› è¿˜æ˜¯æˆ‘å¯¹è¿™ä¸ªå«åšbtrfsçš„æ–‡ä»¶ç³»ç»Ÿè¿˜æœ‰timeshiftçš„å¤‡ä»½é€»è¾‘ä¸æ˜¯ç‰¹åˆ«äº†è§£, è¿™æ¬¡ç¿»è½¦äº†ä¹‹åè‚¯å®šæ²¡æœ‰ä¸‹æ¬¡äº†.</p>
<p>æ­£å¥½, æˆ‘æ—©å°±çœ‹é‚£ä¸ªnextçš„ä¸»é¢˜ä¸çˆ½äº†, ä¸»è¦æ˜¯ç»å¸¸æ’è¡«. <s>å¥½å§hexoä¸»é¢˜å°‘å…¶å®ä¸ç®¡ç”¨ä»€ä¹ˆåŸºæœ¬ä¸Šéƒ½æœ‰å¯èƒ½æ’è¡«â€¦</s></p>
<p>æˆ‘è¿˜æ˜¯å¾ˆå–œæ¬¢yiliaä¸»é¢˜çš„, ä½†æ˜¯å…¶å®æˆ‘ä¸Šæ¬¡åœ¨éƒ¨ç½²çš„æ—¶å€™å¥½åƒé‡åˆ°äº†ä¸€äº›é—®é¢˜, ä½†æ˜¯è¿™æ¬¡æˆ‘æ˜¯å¯¹æˆ‘è‡ªå·±æœ‰è‡ªä¿¡è§£å†³çš„.</p>
]]></content>
      <tags>
        <tag>touchfish</tag>
        <tag>åŸå…ˆç½‘ç«™å´©äº†</tag>
      </tags>
  </entry>
</search>
